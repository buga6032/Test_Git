cscope 15 /home/ls_syscode/src/usb/ARM/libusb-1.0.19               0001188310
	@Xcode/config.h

4 
	#DEFAULT_VISIBILITY


	)

7 
	#ENABLE_LOGGING
 1

	)

10 
	#HAVE_GETTIMEOFDAY
 1

	)

13 
	#HAVE_POLL_H
 1

	)

16 
	#HAVE_SYS_TIME_H
 1

	)

19 
	#OS_DARWIN
 1

	)

22 
	#POLL_NFDS_TYPE
 
nfds_t


	)

25 
	#THREADS_POSIX
 1

	)

28 
	#_GNU_SOURCE
 1

	)

	@android/config.h

24 
	#ENABLE_LOGGING


	)

27 
	#HAVE_DLFCN_H
 1

	)

30 
	#HAVE_GETTIMEOFDAY
 1

	)

33 
	#HAVE_INTTYPES_H
 1

	)

36 
	#OS_LINUX
 1

	)

39 
	#USE_SYSTEM_LOGGING_FACILITY
 1

	)

42 
	#POLL_NFDS_TYPE
 
nfds_t


	)

45 
	#THREADS_POSIX
 1

	)

48 
	#DEFAULT_VISIBILITY
 
	`__©åibuã__
((
	`visibûôy
("deÁu…")))

	)

51 
	#HAVE_MEMORY_H
 1

	)

54 
	#HAVE_POLL_H
 1

	)

57 
	#HAVE_SIGNAL_H
 1

	)

60 
	#HAVE_SYS_STAT_H
 1

	)

63 
	#HAVE_SYS_TIME_H
 1

	)

66 
	#HAVE_SYS_TYPES_H
 1

	)

69 
	#HAVE_UNISTD_H
 1

	)

72 
	#HAVE_LINUX_FILTER_H
 1

	)

75 
	#HAVE_LINUX_NETLINK_H
 1

	)

78 
	#HAVE_ASM_TYPES_H
 1

	)

81 
	#HAVE_SYS_SOCKET_H
 1

	)

	@config.h

5 
	#DEFAULT_VISIBILITY
 
	`__©åibuã__
((
	`visibûôy
("deÁu…")))

	)

11 
	#ENABLE_LOGGING
 1

	)

14 
	#HAVE_ASM_TYPES_H
 1

	)

17 
	#HAVE_DLFCN_H
 1

	)

20 
	#HAVE_GETTIMEOFDAY
 1

	)

23 
	#HAVE_INTTYPES_H
 1

	)

32 
	#HAVE_LINUX_FILTER_H
 1

	)

35 
	#HAVE_LINUX_NETLINK_H
 1

	)

38 
	#HAVE_MEMORY_H
 1

	)

41 
	#HAVE_POLL_H
 1

	)

44 
	#HAVE_SIGNAL_H
 1

	)

47 
	#HAVE_STDINT_H
 1

	)

50 
	#HAVE_STDLIB_H
 1

	)

53 
	#HAVE_STRINGS_H
 1

	)

56 
	#HAVE_STRING_H
 1

	)

59 
	#HAVE_STRUCT_TIMESPEC
 1

	)

62 
	#HAVE_SYSLOG_FUNC
 1

	)

65 
	#HAVE_SYSLOG_H
 1

	)

68 
	#HAVE_SYS_SOCKET_H
 1

	)

71 
	#HAVE_SYS_STAT_H
 1

	)

74 
	#HAVE_SYS_TIME_H
 1

	)

77 
	#HAVE_SYS_TYPES_H
 1

	)

80 
	#HAVE_UNISTD_H
 1

	)

84 
	#LT_OBJDIR
 ".libs/"

	)

90 
	#OS_LINUX
 1

	)

102 
	#PACKAGE
 "libusb"

	)

105 
	#PACKAGE_BUGREPORT
 "libusb-devñ@li°s.sour˚f‹ge.√t"

	)

108 
	#PACKAGE_NAME
 "libusb"

	)

111 
	#PACKAGE_STRING
 "libusb 1.0.19"

	)

114 
	#PACKAGE_TARNAME
 "libusb"

	)

117 
	#PACKAGE_URL
 "hâp://libusb.öfo"

	)

120 
	#PACKAGE_VERSION
 "1.0.19"

	)

123 
	#POLL_NFDS_TYPE
 
nfds_t


	)

126 
	#STDC_HEADERS
 1

	)

129 
	#THREADS_POSIX
 1

	)

132 
	#USBI_TIMERFD_AVAILABLE
 1

	)

141 
	#VERSION
 "1.0.19"

	)

144 
	#_GNU_SOURCE
 1

	)

148 #i‚de‡
__˝lu•lus


	@examples/dpfp.c

24 
	~<î∫o.h
>

25 
	~<sig«l.h
>

26 
	~<°rög.h
>

27 
	~<°dio.h
>

28 
	~<°dlib.h
>

30 
	~"libusb.h
"

32 
	#EP_INTR
 (1 | 
LIBUSB_ENDPOINT_IN
)

	)

33 
	#EP_DATA
 (2 | 
LIBUSB_ENDPOINT_IN
)

	)

34 
	#CTRL_IN
 (
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_ENDPOINT_IN
)

	)

35 
	#CTRL_OUT
 (
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_ENDPOINT_OUT
)

	)

36 
	#USB_RQ
 0x04

	)

37 
	#INTR_LENGTH
 64

	)

40 
	mMODE_INIT
 = 0x00,

41 
	mMODE_AWAIT_FINGER_ON
 = 0x10,

42 
	mMODE_AWAIT_FINGER_OFF
 = 0x12,

43 
	mMODE_CAPTURE
 = 0x20,

44 
	mMODE_SHUT_UP
 = 0x30,

45 
	mMODE_READY
 = 0x80,

48 
√xt_°©e
();

51 
	mSTATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_ON
 = 1,

52 
	mSTATE_AWAIT_IRQ_FINGER_DETECTED
,

53 
	mSTATE_AWAIT_MODE_CHANGE_CAPTURE
,

54 
	mSTATE_AWAIT_IMAGE
,

55 
	mSTATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_OFF
,

56 
	mSTATE_AWAIT_IRQ_FINGER_REMOVED
,

59 
	g°©e
 = 0;

60 
libusb_devi˚_h™dÀ
 *
	gdevh
 = 
NULL
;

61 
	gimgbuf
[0x1b340];

62 
	gúqbuf
[
INTR_LENGTH
];

63 
libusb_å™s„r
 *
	gimg_å™s„r
 = 
NULL
;

64 
libusb_å™s„r
 *
	gúq_å™s„r
 = 
NULL
;

65 
	gimg_idx
 = 0;

66 
	gdo_exô
 = 0;

68 
	$föd_dpÂ_devi˚
()

70 
devh
 = 
	`libusb_›í_devi˚_wôh_vid_pid
(
NULL
, 0x05ba, 0x000a);

71  
devh
 ? 0 : -
EIO
;

72 
	}
}

74 
	$¥öt_f0_d©a
()

76 
d©a
[0x10];

77 
r
;

78 
i
;

80 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_IN
, 
USB_RQ
, 0xf0, 0, 
d©a
,

81 (
d©a
), 0);

82 i‡(
r
 < 0) {

83 
	`Ârötf
(
°dîr
, "F0Éº‹ %d\n", 
r
);

84  
r
;

86 i‡((Ë
r
 < (
d©a
)) {

87 
	`Ârötf
(
°dîr
, "sh‹àªad (%d)\n", 
r
);

91 
	`¥ötf
("F0 data:");

92 
i
 = 0; i < (
d©a
); i++)

93 
	`¥ötf
("%02x ", 
d©a
[
i
]);

94 
	`¥ötf
("\n");

96 
	}
}

98 
	$gë_hw°©
(*
°©us
)

100 
r
;

102 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_IN
, 
USB_RQ
, 0x07, 0, 
°©us
, 1, 0);

103 i‡(
r
 < 0) {

104 
	`Ârötf
(
°dîr
, "ªad hw°©Éº‹ %d\n", 
r
);

105  
r
;

107 i‡((Ë
r
 < 1) {

108 
	`Ârötf
(
°dîr
, "sh‹àªad (%d)\n", 
r
);

112 
	`¥ötf
("hw°©Ñód†%02x\n", *
°©us
);

114 
	}
}

116 
	$£t_hw°©
(
d©a
)

118 
r
;

120 
	`¥ötf
("£àhw°©Åÿ%02x\n", 
d©a
);

121 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_OUT
, 
USB_RQ
, 0x07, 0, &
d©a
, 1, 0);

122 i‡(
r
 < 0) {

123 
	`Ârötf
(
°dîr
, "£àhw°©Éº‹ %d\n", 
r
);

124  
r
;

126 i‡((Ë
r
 < 1) {

127 
	`Ârötf
(
°dîr
, "sh‹àwrôê(%d)", 
r
);

132 
	}
}

134 
	$£t_mode
(
d©a
)

136 
r
;

137 
	`¥ötf
("£àmodê%02x\n", 
d©a
);

139 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_OUT
, 
USB_RQ
, 0x4e, 0, &
d©a
, 1, 0);

140 i‡(
r
 < 0) {

141 
	`Ârötf
(
°dîr
, "£àmodêîr‹ %d\n", 
r
);

142  
r
;

144 i‡((Ë
r
 < 1) {

145 
	`Ârötf
(
°dîr
, "sh‹àwrôê(%d)", 
r
);

150 
	}
}

152 
LIBUSB_CALL
 
	$cb_mode_ch™ged
(
libusb_å™s„r
 *
å™s„r
)

154 i‡(
å™s„r
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

155 
	`Ârötf
(
°dîr
, "mode changeÅransferÇot completed!\n");

156 
do_exô
 = 2;

159 
	`¥ötf
("async cb_mode_changedÜength=%dáctual_length=%d\n",

160 
å™s„r
->
Àngth
,Åøns„r->
a˘uÆ_Àngth
);

161 i‡(
	`√xt_°©e
() < 0)

162 
do_exô
 = 2;

163 
	}
}

165 
	$£t_mode_async
(
d©a
)

167 *
buf
 = (*Ë
	`mÆloc
(
LIBUSB_CONTROL_SETUP_SIZE
 + 1);

168 
libusb_å™s„r
 *
å™s„r
;

170 i‡(!
buf
)

171  -
ENOMEM
;

173 
å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

174 i‡(!
å™s„r
) {

175 
	`‰ì
(
buf
);

176  -
ENOMEM
;

179 
	`¥ötf
("asyn¯£àmodê%02x\n", 
d©a
);

180 
	`libusb_fûl_c⁄åﬁ_£tup
(
buf
, 
CTRL_OUT
, 
USB_RQ
, 0x4e, 0, 1);

181 
buf
[
LIBUSB_CONTROL_SETUP_SIZE
] = 
d©a
;

182 
	`libusb_fûl_c⁄åﬁ_å™s„r
(
å™s„r
, 
devh
, 
buf
, 
cb_mode_ch™ged
, 
NULL
,

185 
å™s„r
->
Êags
 = 
LIBUSB_TRANSFER_SHORT_NOT_OK


186 | 
LIBUSB_TRANSFER_FREE_BUFFER
 | 
LIBUSB_TRANSFER_FREE_TRANSFER
;

187  
	`libusb_submô_å™s„r
(
å™s„r
);

188 
	}
}

190 
	$do_sync_öå
(*
d©a
)

192 
r
;

193 
å™s„ºed
;

195 
r
 = 
	`libusb_öãºu±_å™s„r
(
devh
, 
EP_INTR
, 
d©a
, 
INTR_LENGTH
,

196 &
å™s„ºed
, 1000);

197 i‡(
r
 < 0) {

198 
	`Ârötf
(
°dîr
, "öåÉº‹ %d\n", 
r
);

199  
r
;

201 i‡(
å™s„ºed
 < 
INTR_LENGTH
) {

202 
	`Ârötf
(
°dîr
, "sh‹àªad (%d)\n", 
r
);

206 
	`¥ötf
("ªcv i¡îru± %04x\n", *((
uöt16_t
 *Ë
d©a
));

208 
	}
}

210 
	$sync_öå
(
ty≥
)

212 
r
;

213 
d©a
[
INTR_LENGTH
];

216 
r
 = 
	`do_sync_öå
(
d©a
);

217 i‡(
r
 < 0)

218  
r
;

219 i‡(
d©a
[0] =
ty≥
)

222 
	}
}

224 
	$ßve_to_fûe
(*
d©a
)

226 
FILE
 *
fd
;

227 
fûíame
[64];

229 
	`¢¥ötf
(
fûíame
, (fûíame), "fögî%d.pgm", 
img_idx
++);

230 
fd
 = 
	`f›í
(
fûíame
, "w");

231 i‡(!
fd
)

234 
	`Âuts
("P5 384 289 255 ", 
fd
);

235 (Ë
	`fwrôe
(
d©a
 + 64, 1, 384*289, 
fd
);

236 
	`f˛o£
(
fd
);

237 
	`¥ötf
("ßved imagêtÿ%s\n", 
fûíame
);

239 
	}
}

241 
	$√xt_°©e
()

243 
r
 = 0;

244 
	`¥ötf
("ﬁd sèã: %d\n", 
°©e
);

245 
°©e
) {

246 
STATE_AWAIT_IRQ_FINGER_REMOVED
:

247 
°©e
 = 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_ON
;

248 
r
 = 
	`£t_mode_async
(
MODE_AWAIT_FINGER_ON
);

250 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_ON
:

251 
°©e
 = 
STATE_AWAIT_IRQ_FINGER_DETECTED
;

253 
STATE_AWAIT_IRQ_FINGER_DETECTED
:

254 
°©e
 = 
STATE_AWAIT_MODE_CHANGE_CAPTURE
;

255 
r
 = 
	`£t_mode_async
(
MODE_CAPTURE
);

257 
STATE_AWAIT_MODE_CHANGE_CAPTURE
:

258 
°©e
 = 
STATE_AWAIT_IMAGE
;

260 
STATE_AWAIT_IMAGE
:

261 
°©e
 = 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_OFF
;

262 
r
 = 
	`£t_mode_async
(
MODE_AWAIT_FINGER_OFF
);

264 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_OFF
:

265 
°©e
 = 
STATE_AWAIT_IRQ_FINGER_REMOVED
;

268 
	`¥ötf
("uƒecogni£d sèã %d\n", 
°©e
);

270 i‡(
r
 < 0) {

271 
	`Ârötf
(
°dîr
, "error detected changing state\n");

272  
r
;

275 
	`¥ötf
("√w sèã: %d\n", 
°©e
);

277 
	}
}

279 
LIBUSB_CALL
 
	$cb_úq
(
libusb_å™s„r
 *
å™s„r
)

281 
úqty≥
 = 
å™s„r
->
buf„r
[0];

283 i‡(
å™s„r
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

284 
	`Ârötf
(
°dîr
, "úqÅøns„∏°©u†%d?\n", 
å™s„r
->
°©us
);

285 
do_exô
 = 2;

286 
	`libusb_‰ì_å™s„r
(
å™s„r
);

287 
úq_å™s„r
 = 
NULL
;

291 
	`¥ötf
("IRQ cÆlback %02x\n", 
úqty≥
);

292 
°©e
) {

293 
STATE_AWAIT_IRQ_FINGER_DETECTED
:

294 i‡(
úqty≥
 == 0x01) {

295 i‡(
	`√xt_°©e
() < 0) {

296 
do_exô
 = 2;

300 
	`¥ötf
("finger-on-sensor detected in wrong state!\n");

303 
STATE_AWAIT_IRQ_FINGER_REMOVED
:

304 i‡(
úqty≥
 == 0x02) {

305 i‡(
	`√xt_°©e
() < 0) {

306 
do_exô
 = 2;

310 
	`¥ötf
("finger-on-sensor detected in wrong state!\n");

314 i‡(
	`libusb_submô_å™s„r
(
úq_å™s„r
) < 0)

315 
do_exô
 = 2;

316 
	}
}

318 
LIBUSB_CALL
 
	$cb_img
(
libusb_å™s„r
 *
å™s„r
)

320 i‡(
å™s„r
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

321 
	`Ârötf
(
°dîr
, "imgÅøns„∏°©u†%d?\n", 
å™s„r
->
°©us
);

322 
do_exô
 = 2;

323 
	`libusb_‰ì_å™s„r
(
å™s„r
);

324 
img_å™s„r
 = 
NULL
;

328 
	`¥ötf
("Image callback\n");

329 
	`ßve_to_fûe
(
imgbuf
);

330 i‡(
	`√xt_°©e
() < 0) {

331 
do_exô
 = 2;

334 i‡(
	`libusb_submô_å™s„r
(
img_å™s„r
) < 0)

335 
do_exô
 = 2;

336 
	}
}

338 
	$öô_ˇ±uª
()

340 
r
;

342 
r
 = 
	`libusb_submô_å™s„r
(
úq_å™s„r
);

343 i‡(
r
 < 0)

344  
r
;

346 
r
 = 
	`libusb_submô_å™s„r
(
img_å™s„r
);

347 i‡(
r
 < 0) {

348 
	`libusb_ˇn˚l_å™s„r
(
úq_å™s„r
);

349 
úq_å™s„r
)

350 i‡(
	`libusb_h™dÀ_evíts
(
NULL
) < 0)

352  
r
;

356 
°©e
 = 
STATE_AWAIT_IRQ_FINGER_REMOVED
;

357  
	`√xt_°©e
();

358 
	}
}

360 
	$do_öô
()

362 
°©us
;

363 
r
;

365 
r
 = 
	`gë_hw°©
(&
°©us
);

366 i‡(
r
 < 0)

367  
r
;

369 i‡(!(
°©us
 & 0x80)) {

370 
r
 = 
	`£t_hw°©
(
°©us
 | 0x80);

371 i‡(
r
 < 0)

372  
r
;

373 
r
 = 
	`gë_hw°©
(&
°©us
);

374 i‡(
r
 < 0)

375  
r
;

378 
°©us
 &= ~0x80;

379 
r
 = 
	`£t_hw°©
(
°©us
);

380 i‡(
r
 < 0)

381  
r
;

383 
r
 = 
	`gë_hw°©
(&
°©us
);

384 i‡(
r
 < 0)

385  
r
;

387 
r
 = 
	`sync_öå
(0x56);

388 i‡(
r
 < 0)

389  
r
;

392 
	}
}

394 
	$Æloc_å™s„rs
()

396 
img_å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

397 i‡(!
img_å™s„r
)

398  -
ENOMEM
;

400 
úq_å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

401 i‡(!
úq_å™s„r
)

402  -
ENOMEM
;

404 
	`libusb_fûl_bulk_å™s„r
(
img_å™s„r
, 
devh
, 
EP_DATA
, 
imgbuf
,

405 (
imgbuf
), 
cb_img
, 
NULL
, 0);

406 
	`libusb_fûl_öãºu±_å™s„r
(
úq_å™s„r
, 
devh
, 
EP_INTR
, 
úqbuf
,

407 (
úqbuf
), 
cb_úq
, 
NULL
, 0);

410 
	}
}

412 
	$sigh™dÀr
(
signum
)

414 
do_exô
 = 1;

415 
	}
}

417 
	$maö
()

419 
siga˘i⁄
 
siga˘
;

420 
r
 = 1;

422 
r
 = 
	`libusb_öô
(
NULL
);

423 i‡(
r
 < 0) {

424 
	`Ârötf
(
°dîr
, "failedÅo initialiseÜibusb\n");

425 
	`exô
(1);

428 
r
 = 
	`föd_dpÂ_devi˚
();

429 i‡(
r
 < 0) {

430 
	`Ârötf
(
°dîr
, "CouldÇot find/open device\n");

431 
out
;

434 
r
 = 
	`libusb_˛aim_öãrÁ˚
(
devh
, 0);

435 i‡(
r
 < 0) {

436 
	`Ârötf
(
°dîr
, "usb_˛aim_öãrÁ˚Éº‹ %d\n", 
r
);

437 
out
;

439 
	`¥ötf
("claimed interface\n");

441 
r
 = 
	`¥öt_f0_d©a
();

442 i‡(
r
 < 0)

443 
out_ªÀa£
;

445 
r
 = 
	`do_öô
();

446 i‡(
r
 < 0)

447 
out_deöô
;

451 
r
 = 
	`Æloc_å™s„rs
();

452 i‡(
r
 < 0)

453 
out_deöô
;

455 
r
 = 
	`öô_ˇ±uª
();

456 i‡(
r
 < 0)

457 
out_deöô
;

459 
siga˘
.
ß_h™dÀr
 = 
sigh™dÀr
;

460 
	`sigem±y£t
(&
siga˘
.
ß_mask
);

461 
siga˘
.
ß_Êags
 = 0;

462 
	`siga˘i⁄
(
SIGINT
, &
siga˘
, 
NULL
);

463 
	`siga˘i⁄
(
SIGTERM
, &
siga˘
, 
NULL
);

464 
	`siga˘i⁄
(
SIGQUIT
, &
siga˘
, 
NULL
);

466 !
do_exô
) {

467 
r
 = 
	`libusb_h™dÀ_evíts
(
NULL
);

468 i‡(
r
 < 0)

469 
out_deöô
;

472 
	`¥ötf
("shutting down...\n");

474 i‡(
úq_å™s„r
) {

475 
r
 = 
	`libusb_ˇn˚l_å™s„r
(
úq_å™s„r
);

476 i‡(
r
 < 0)

477 
out_deöô
;

480 i‡(
img_å™s„r
) {

481 
r
 = 
	`libusb_ˇn˚l_å™s„r
(
img_å™s„r
);

482 i‡(
r
 < 0)

483 
out_deöô
;

486 
úq_å™s„r
 || 
img_å™s„r
)

487 i‡(
	`libusb_h™dÀ_evíts
(
NULL
) < 0)

490 i‡(
do_exô
 == 1)

491 
r
 = 0;

493 
r
 = 1;

495 
out_deöô
:

496 
	`libusb_‰ì_å™s„r
(
img_å™s„r
);

497 
	`libusb_‰ì_å™s„r
(
úq_å™s„r
);

498 
	`£t_mode
(0);

499 
	`£t_hw°©
(0x80);

500 
out_ªÀa£
:

501 
	`libusb_ªÀa£_öãrÁ˚
(
devh
, 0);

502 
out
:

503 
	`libusb_˛o£
(
devh
);

504 
	`libusb_exô
(
NULL
);

505  
r
 >= 0 ?Ñ : -r;

506 
	}
}

	@examples/dpfp_threaded.c

24 
	~<î∫o.h
>

25 
	~<±hªad.h
>

26 
	~<sig«l.h
>

27 
	~<°rög.h
>

28 
	~<°dio.h
>

29 
	~<°dlib.h
>

31 
	~"libusb.h
"

33 
	#EP_INTR
 (1 | 
LIBUSB_ENDPOINT_IN
)

	)

34 
	#EP_DATA
 (2 | 
LIBUSB_ENDPOINT_IN
)

	)

35 
	#CTRL_IN
 (
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_ENDPOINT_IN
)

	)

36 
	#CTRL_OUT
 (
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_ENDPOINT_OUT
)

	)

37 
	#USB_RQ
 0x04

	)

38 
	#INTR_LENGTH
 64

	)

41 
	mMODE_INIT
 = 0x00,

42 
	mMODE_AWAIT_FINGER_ON
 = 0x10,

43 
	mMODE_AWAIT_FINGER_OFF
 = 0x12,

44 
	mMODE_CAPTURE
 = 0x20,

45 
	mMODE_SHUT_UP
 = 0x30,

46 
	mMODE_READY
 = 0x80,

49 
√xt_°©e
();

52 
	mSTATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_ON
 = 1,

53 
	mSTATE_AWAIT_IRQ_FINGER_DETECTED
,

54 
	mSTATE_AWAIT_MODE_CHANGE_CAPTURE
,

55 
	mSTATE_AWAIT_IMAGE
,

56 
	mSTATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_OFF
,

57 
	mSTATE_AWAIT_IRQ_FINGER_REMOVED
,

60 
	g°©e
 = 0;

61 
libusb_devi˚_h™dÀ
 *
	gdevh
 = 
NULL
;

62 
	gimgbuf
[0x1b340];

63 
	gúqbuf
[
INTR_LENGTH
];

64 
libusb_å™s„r
 *
	gimg_å™s„r
 = 
NULL
;

65 
libusb_å™s„r
 *
	gúq_å™s„r
 = 
NULL
;

66 
	gimg_idx
 = 0;

67 
	gdo_exô
 = 0;

69 
±hªad_t
 
	gpﬁl_thªad
;

70 
±hªad_c⁄d_t
 
	gexô_c⁄d
 = 
PTHREAD_COND_INITIALIZER
;

71 
±hªad_muãx_t
 
	gexô_c⁄d_lock
 = 
PTHREAD_MUTEX_INITIALIZER
;

73 
	$ªque°_exô
(
code
)

75 
do_exô
 = 
code
;

76 
	`±hªad_c⁄d_sig«l
(&
exô_c⁄d
);

77 
	}
}

79 *
	$pﬁl_thªad_maö
(*
¨g
)

81 
r
 = 0;

82 
	`¥ötf
("pollÅhreadÑunning\n");

84 !
do_exô
) {

85 
timevÆ
 
tv
 = { 1, 0 };

86 
r
 = 
	`libusb_h™dÀ_evíts_timeout
(
NULL
, &
tv
);

87 i‡(
r
 < 0) {

88 
	`ªque°_exô
(2);

93 
	`¥ötf
("pollÅhread shutting down\n");

94  
NULL
;

95 
	}
}

97 
	$föd_dpÂ_devi˚
()

99 
devh
 = 
	`libusb_›í_devi˚_wôh_vid_pid
(
NULL
, 0x05ba, 0x000a);

100  
devh
 ? 0 : -
EIO
;

101 
	}
}

103 
	$¥öt_f0_d©a
()

105 
d©a
[0x10];

106 
r
;

107 
i
;

109 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_IN
, 
USB_RQ
, 0xf0, 0, 
d©a
,

110 (
d©a
), 0);

111 i‡(
r
 < 0) {

112 
	`Ârötf
(
°dîr
, "F0Éº‹ %d\n", 
r
);

113  
r
;

115 i‡((Ë
r
 < (
d©a
)) {

116 
	`Ârötf
(
°dîr
, "sh‹àªad (%d)\n", 
r
);

120 
	`¥ötf
("F0 data:");

121 
i
 = 0; i < (
d©a
); i++)

122 
	`¥ötf
("%02x ", 
d©a
[
i
]);

123 
	`¥ötf
("\n");

125 
	}
}

127 
	$gë_hw°©
(*
°©us
)

129 
r
;

131 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_IN
, 
USB_RQ
, 0x07, 0, 
°©us
, 1, 0);

132 i‡(
r
 < 0) {

133 
	`Ârötf
(
°dîr
, "ªad hw°©Éº‹ %d\n", 
r
);

134  
r
;

136 i‡((Ë
r
 < 1) {

137 
	`Ârötf
(
°dîr
, "sh‹àªad (%d)\n", 
r
);

141 
	`¥ötf
("hw°©Ñód†%02x\n", *
°©us
);

143 
	}
}

145 
	$£t_hw°©
(
d©a
)

147 
r
;

149 
	`¥ötf
("£àhw°©Åÿ%02x\n", 
d©a
);

150 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_OUT
, 
USB_RQ
, 0x07, 0, &
d©a
, 1, 0);

151 i‡(
r
 < 0) {

152 
	`Ârötf
(
°dîr
, "£àhw°©Éº‹ %d\n", 
r
);

153  
r
;

155 i‡((Ë
r
 < 1) {

156 
	`Ârötf
(
°dîr
, "sh‹àwrôê(%d)", 
r
);

161 
	}
}

163 
	$£t_mode
(
d©a
)

165 
r
;

166 
	`¥ötf
("£àmodê%02x\n", 
d©a
);

168 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devh
, 
CTRL_OUT
, 
USB_RQ
, 0x4e, 0, &
d©a
, 1, 0);

169 i‡(
r
 < 0) {

170 
	`Ârötf
(
°dîr
, "£àmodêîr‹ %d\n", 
r
);

171  
r
;

173 i‡((Ë
r
 < 1) {

174 
	`Ârötf
(
°dîr
, "sh‹àwrôê(%d)", 
r
);

179 
	}
}

181 
LIBUSB_CALL
 
	$cb_mode_ch™ged
(
libusb_å™s„r
 *
å™s„r
)

183 i‡(
å™s„r
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

184 
	`Ârötf
(
°dîr
, "mode changeÅransferÇot completed!\n");

185 
	`ªque°_exô
(2);

188 
	`¥ötf
("async cb_mode_changedÜength=%dáctual_length=%d\n",

189 
å™s„r
->
Àngth
,Åøns„r->
a˘uÆ_Àngth
);

190 i‡(
	`√xt_°©e
() < 0)

191 
	`ªque°_exô
(2);

192 
	}
}

194 
	$£t_mode_async
(
d©a
)

196 *
buf
 = (*Ë
	`mÆloc
(
LIBUSB_CONTROL_SETUP_SIZE
 + 1);

197 
libusb_å™s„r
 *
å™s„r
;

199 i‡(!
buf
)

200  -
ENOMEM
;

202 
å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

203 i‡(!
å™s„r
) {

204 
	`‰ì
(
buf
);

205  -
ENOMEM
;

208 
	`¥ötf
("asyn¯£àmodê%02x\n", 
d©a
);

209 
	`libusb_fûl_c⁄åﬁ_£tup
(
buf
, 
CTRL_OUT
, 
USB_RQ
, 0x4e, 0, 1);

210 
buf
[
LIBUSB_CONTROL_SETUP_SIZE
] = 
d©a
;

211 
	`libusb_fûl_c⁄åﬁ_å™s„r
(
å™s„r
, 
devh
, 
buf
, 
cb_mode_ch™ged
, 
NULL
,

214 
å™s„r
->
Êags
 = 
LIBUSB_TRANSFER_SHORT_NOT_OK


215 | 
LIBUSB_TRANSFER_FREE_BUFFER
 | 
LIBUSB_TRANSFER_FREE_TRANSFER
;

216  
	`libusb_submô_å™s„r
(
å™s„r
);

217 
	}
}

219 
	$do_sync_öå
(*
d©a
)

221 
r
;

222 
å™s„ºed
;

224 
r
 = 
	`libusb_öãºu±_å™s„r
(
devh
, 
EP_INTR
, 
d©a
, 
INTR_LENGTH
,

225 &
å™s„ºed
, 1000);

226 i‡(
r
 < 0) {

227 
	`Ârötf
(
°dîr
, "öåÉº‹ %d\n", 
r
);

228  
r
;

230 i‡(
å™s„ºed
 < 
INTR_LENGTH
) {

231 
	`Ârötf
(
°dîr
, "sh‹àªad (%d)\n", 
r
);

235 
	`¥ötf
("ªcv i¡îru± %04x\n", *((
uöt16_t
 *Ë
d©a
));

237 
	}
}

239 
	$sync_öå
(
ty≥
)

241 
r
;

242 
d©a
[
INTR_LENGTH
];

245 
r
 = 
	`do_sync_öå
(
d©a
);

246 i‡(
r
 < 0)

247  
r
;

248 i‡(
d©a
[0] =
ty≥
)

251 
	}
}

253 
	$ßve_to_fûe
(*
d©a
)

255 
FILE
 *
fd
;

256 
fûíame
[64];

258 
	`¢¥ötf
(
fûíame
, (fûíame), "fögî%d.pgm", 
img_idx
++);

259 
fd
 = 
	`f›í
(
fûíame
, "w");

260 i‡(!
fd
)

263 
	`Âuts
("P5 384 289 255 ", 
fd
);

264 (Ë
	`fwrôe
(
d©a
 + 64, 1, 384*289, 
fd
);

265 
	`f˛o£
(
fd
);

266 
	`¥ötf
("ßved imagêtÿ%s\n", 
fûíame
);

268 
	}
}

270 
	$√xt_°©e
()

272 
r
 = 0;

273 
	`¥ötf
("ﬁd sèã: %d\n", 
°©e
);

274 
°©e
) {

275 
STATE_AWAIT_IRQ_FINGER_REMOVED
:

276 
°©e
 = 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_ON
;

277 
r
 = 
	`£t_mode_async
(
MODE_AWAIT_FINGER_ON
);

279 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_ON
:

280 
°©e
 = 
STATE_AWAIT_IRQ_FINGER_DETECTED
;

282 
STATE_AWAIT_IRQ_FINGER_DETECTED
:

283 
°©e
 = 
STATE_AWAIT_MODE_CHANGE_CAPTURE
;

284 
r
 = 
	`£t_mode_async
(
MODE_CAPTURE
);

286 
STATE_AWAIT_MODE_CHANGE_CAPTURE
:

287 
°©e
 = 
STATE_AWAIT_IMAGE
;

289 
STATE_AWAIT_IMAGE
:

290 
°©e
 = 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_OFF
;

291 
r
 = 
	`£t_mode_async
(
MODE_AWAIT_FINGER_OFF
);

293 
STATE_AWAIT_MODE_CHANGE_AWAIT_FINGER_OFF
:

294 
°©e
 = 
STATE_AWAIT_IRQ_FINGER_REMOVED
;

297 
	`¥ötf
("uƒecogni£d sèã %d\n", 
°©e
);

299 i‡(
r
 < 0) {

300 
	`Ârötf
(
°dîr
, "error detected changing state\n");

301  
r
;

304 
	`¥ötf
("√w sèã: %d\n", 
°©e
);

306 
	}
}

308 
LIBUSB_CALL
 
	$cb_úq
(
libusb_å™s„r
 *
å™s„r
)

310 
úqty≥
 = 
å™s„r
->
buf„r
[0];

312 i‡(
å™s„r
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

313 
	`Ârötf
(
°dîr
, "úqÅøns„∏°©u†%d?\n", 
å™s„r
->
°©us
);

314 
úq_å™s„r
 = 
NULL
;

315 
	`ªque°_exô
(2);

319 
	`¥ötf
("IRQ cÆlback %02x\n", 
úqty≥
);

320 
°©e
) {

321 
STATE_AWAIT_IRQ_FINGER_DETECTED
:

322 i‡(
úqty≥
 == 0x01) {

323 i‡(
	`√xt_°©e
() < 0) {

324 
	`ªque°_exô
(2);

328 
	`¥ötf
("finger-on-sensor detected in wrong state!\n");

331 
STATE_AWAIT_IRQ_FINGER_REMOVED
:

332 i‡(
úqty≥
 == 0x02) {

333 i‡(
	`√xt_°©e
() < 0) {

334 
	`ªque°_exô
(2);

338 
	`¥ötf
("finger-on-sensor detected in wrong state!\n");

342 i‡(
	`libusb_submô_å™s„r
(
úq_å™s„r
) < 0)

343 
	`ªque°_exô
(2);

344 
	}
}

346 
LIBUSB_CALL
 
	$cb_img
(
libusb_å™s„r
 *
å™s„r
)

348 i‡(
å™s„r
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

349 
	`Ârötf
(
°dîr
, "imgÅøns„∏°©u†%d?\n", 
å™s„r
->
°©us
);

350 
img_å™s„r
 = 
NULL
;

351 
	`ªque°_exô
(2);

355 
	`¥ötf
("Image callback\n");

356 
	`ßve_to_fûe
(
imgbuf
);

357 i‡(
	`√xt_°©e
() < 0) {

358 
	`ªque°_exô
(2);

361 i‡(
	`libusb_submô_å™s„r
(
img_å™s„r
) < 0)

362 
	`ªque°_exô
(2);

363 
	}
}

365 
	$öô_ˇ±uª
()

367 
r
;

369 
r
 = 
	`libusb_submô_å™s„r
(
úq_å™s„r
);

370 i‡(
r
 < 0)

371  
r
;

373 
r
 = 
	`libusb_submô_å™s„r
(
img_å™s„r
);

374 i‡(
r
 < 0) {

375 
	`libusb_ˇn˚l_å™s„r
(
úq_å™s„r
);

376 
úq_å™s„r
)

377 i‡(
	`libusb_h™dÀ_evíts
(
NULL
) < 0)

379  
r
;

383 
°©e
 = 
STATE_AWAIT_IRQ_FINGER_REMOVED
;

384  
	`√xt_°©e
();

385 
	}
}

387 
	$do_öô
()

389 
°©us
;

390 
r
;

392 
r
 = 
	`gë_hw°©
(&
°©us
);

393 i‡(
r
 < 0)

394  
r
;

396 i‡(!(
°©us
 & 0x80)) {

397 
r
 = 
	`£t_hw°©
(
°©us
 | 0x80);

398 i‡(
r
 < 0)

399  
r
;

400 
r
 = 
	`gë_hw°©
(&
°©us
);

401 i‡(
r
 < 0)

402  
r
;

405 
°©us
 &= ~0x80;

406 
r
 = 
	`£t_hw°©
(
°©us
);

407 i‡(
r
 < 0)

408  
r
;

410 
r
 = 
	`gë_hw°©
(&
°©us
);

411 i‡(
r
 < 0)

412  
r
;

414 
r
 = 
	`sync_öå
(0x56);

415 i‡(
r
 < 0)

416  
r
;

419 
	}
}

421 
	$Æloc_å™s„rs
()

423 
img_å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

424 i‡(!
img_å™s„r
)

425  -
ENOMEM
;

427 
úq_å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

428 i‡(!
úq_å™s„r
)

429  -
ENOMEM
;

431 
	`libusb_fûl_bulk_å™s„r
(
img_å™s„r
, 
devh
, 
EP_DATA
, 
imgbuf
,

432 (
imgbuf
), 
cb_img
, 
NULL
, 0);

433 
	`libusb_fûl_öãºu±_å™s„r
(
úq_å™s„r
, 
devh
, 
EP_INTR
, 
úqbuf
,

434 (
úqbuf
), 
cb_úq
, 
NULL
, 0);

437 
	}
}

439 
	$sigh™dÀr
(
signum
)

441 
	`ªque°_exô
(1);

442 
	}
}

444 
	$maö
()

446 
siga˘i⁄
 
siga˘
;

447 
r
 = 1;

449 
r
 = 
	`libusb_öô
(
NULL
);

450 i‡(
r
 < 0) {

451 
	`Ârötf
(
°dîr
, "failedÅo initialiseÜibusb\n");

452 
	`exô
(1);

455 
r
 = 
	`föd_dpÂ_devi˚
();

456 i‡(
r
 < 0) {

457 
	`Ârötf
(
°dîr
, "CouldÇot find/open device\n");

458 
out
;

461 
r
 = 
	`libusb_˛aim_öãrÁ˚
(
devh
, 0);

462 i‡(
r
 < 0) {

463 
	`Ârötf
(
°dîr
, "usb_˛aim_öãrÁ˚Éº‹ %d %s\n", 
r
, 
	`°ªº‹
(-r));

464 
out
;

466 
	`¥ötf
("claimed interface\n");

468 
r
 = 
	`¥öt_f0_d©a
();

469 i‡(
r
 < 0)

470 
out_ªÀa£
;

472 
r
 = 
	`do_öô
();

473 i‡(
r
 < 0)

474 
out_deöô
;

478 
siga˘
.
ß_h™dÀr
 = 
sigh™dÀr
;

479 
	`sigem±y£t
(&
siga˘
.
ß_mask
);

480 
siga˘
.
ß_Êags
 = 0;

481 
	`siga˘i⁄
(
SIGINT
, &
siga˘
, 
NULL
);

482 
	`siga˘i⁄
(
SIGTERM
, &
siga˘
, 
NULL
);

483 
	`siga˘i⁄
(
SIGQUIT
, &
siga˘
, 
NULL
);

485 
r
 = 
	`±hªad_¸óã
(&
pﬁl_thªad
, 
NULL
, 
pﬁl_thªad_maö
, NULL);

486 i‡(
r
)

487 
out_deöô
;

489 
r
 = 
	`Æloc_å™s„rs
();

490 i‡(
r
 < 0) {

491 
	`ªque°_exô
(1);

492 
	`±hªad_joö
(
pﬁl_thªad
, 
NULL
);

493 
out_deöô
;

496 
r
 = 
	`öô_ˇ±uª
();

497 i‡(
r
 < 0) {

498 
	`ªque°_exô
(1);

499 
	`±hªad_joö
(
pﬁl_thªad
, 
NULL
);

500 
out_deöô
;

503 !
do_exô
) {

504 
	`±hªad_muãx_lock
(&
exô_c⁄d_lock
);

505 
	`±hªad_c⁄d_waô
(&
exô_c⁄d
, &
exô_c⁄d_lock
);

506 
	`±hªad_muãx_u∆ock
(&
exô_c⁄d_lock
);

509 
	`¥ötf
("shutting down...\n");

510 
	`±hªad_joö
(
pﬁl_thªad
, 
NULL
);

512 
r
 = 
	`libusb_ˇn˚l_å™s„r
(
úq_å™s„r
);

513 i‡(
r
 < 0) {

514 
	`ªque°_exô
(1);

515 
out_deöô
;

518 
r
 = 
	`libusb_ˇn˚l_å™s„r
(
img_å™s„r
);

519 i‡(
r
 < 0) {

520 
	`ªque°_exô
(1);

521 
out_deöô
;

524 
img_å™s„r
 || 
úq_å™s„r
)

525 i‡(
	`libusb_h™dÀ_evíts
(
NULL
) < 0)

528 i‡(
do_exô
 == 1)

529 
r
 = 0;

531 
r
 = 1;

533 
out_deöô
:

534 
	`libusb_‰ì_å™s„r
(
img_å™s„r
);

535 
	`libusb_‰ì_å™s„r
(
úq_å™s„r
);

536 
	`£t_mode
(0);

537 
	`£t_hw°©
(0x80);

538 
out_ªÀa£
:

539 
	`libusb_ªÀa£_öãrÁ˚
(
devh
, 0);

540 
out
:

541 
	`libusb_˛o£
(
devh
);

542 
	`libusb_exô
(
NULL
);

543  
r
 >= 0 ?Ñ : -r;

544 
	}
}

	@examples/ezusb.c

23 
	~<°dio.h
>

24 
	~<î∫o.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<°döt.h
>

29 
	~"libusb.h
"

30 
	~"ezusb.h
"

32 
	$logîr‹
(c⁄° *
f‹m©
, ...)

33 
	`__©åibuã__
 ((
	`f‹m©
(
¥ötf
, 1, 2)));

50 
vîbo£
 = 1;

56 
boﬁ
 
	$fx_is_exã∫Æ
(
uöt32_t
 
addr
, 
size_t
 
Àn
)

61 i‡(
addr
 <= 0x1b3f)

62  ((
addr
 + 
Àn
) > 0x1b40);

68  
åue
;

69 
	}
}

75 
boﬁ
 
	$fx2_is_exã∫Æ
(
uöt32_t
 
addr
, 
size_t
 
Àn
)

78 i‡(
addr
 <= 0x1fff)

79  ((
addr
 + 
Àn
) > 0x2000);

82 i‡(
addr
 >= 0xe000 &&áddr <= 0xe1ff)

83  ((
addr
 + 
Àn
) > 0xe200);

87  
åue
;

88 
	}
}

94 
boﬁ
 
	$fx2Õ_is_exã∫Æ
(
uöt32_t
 
addr
, 
size_t
 
Àn
)

97 i‡(
addr
 <= 0x3fff)

98  ((
addr
 + 
Àn
) > 0x4000);

101 i‡(
addr
 >= 0xe000 &&áddr <= 0xe1ff)

102  ((
addr
 + 
Àn
) > 0xe200);

106  
åue
;

107 
	}
}

119 
	#RW_INTERNAL
 0xA0

	)

120 
	#RW_MEMORY
 0xA3

	)

125 
	$ezusb_wrôe
(
libusb_devi˚_h™dÀ
 *
devi˚
, c⁄° *
œbñ
,

126 
uöt8_t
 
›code
, 
uöt32_t
 
addr
, c⁄° *
d©a
, 
size_t
 
Àn
)

128 
°©us
;

130 i‡(
vîbo£
 > 1)

131 
	`logîr‹
("%s,ádd∏0x%08xÜí %4u (0x%04x)\n", 
œbñ
, 
addr
, ()
Àn
, ()len);

132 
°©us
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devi˚
,

133 
LIBUSB_ENDPOINT_OUT
 | 
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_RECIPIENT_DEVICE
,

134 
›code
, 
addr
 & 0xFFFF,áddr >> 16,

135 (*)
d©a
, (
uöt16_t
)
Àn
, 1000);

136 i‡(
°©us
 !
Àn
) {

137 i‡(
°©us
 < 0)

138 
	`logîr‹
("%s: %s\n", 
œbñ
, 
	`libusb_îr‹_«me
(
°©us
));

140 
	`logîr‹
("%†==> %d\n", 
œbñ
, 
°©us
);

142  (
°©us
 < 0Ë? -
EIO
 : 0;

143 
	}
}

148 
	$ezusb_ªad
(
libusb_devi˚_h™dÀ
 *
devi˚
, c⁄° *
œbñ
,

149 
uöt8_t
 
›code
, 
uöt32_t
 
addr
, c⁄° *
d©a
, 
size_t
 
Àn
)

151 
°©us
;

153 i‡(
vîbo£
 > 1)

154 
	`logîr‹
("%s,ádd∏0x%08xÜí %4u (0x%04x)\n", 
œbñ
, 
addr
, ()
Àn
, ()len);

155 
°©us
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devi˚
,

156 
LIBUSB_ENDPOINT_IN
 | 
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_RECIPIENT_DEVICE
,

157 
›code
, 
addr
 & 0xFFFF,áddr >> 16,

158 (*)
d©a
, (
uöt16_t
)
Àn
, 1000);

159 i‡(
°©us
 !
Àn
) {

160 i‡(
°©us
 < 0)

161 
	`logîr‹
("%s: %s\n", 
œbñ
, 
	`libusb_îr‹_«me
(
°©us
));

163 
	`logîr‹
("%†==> %d\n", 
œbñ
, 
°©us
);

165  (
°©us
 < 0Ë? -
EIO
 : 0;

166 
	}
}

172 
boﬁ
 
	$ezusb_˝ucs
(
libusb_devi˚_h™dÀ
 *
devi˚
, 
uöt32_t
 
addr
, 
boﬁ
 
doRun
)

174 
°©us
;

175 
uöt8_t
 
d©a
 = 
doRun
 ? 0x00 : 0x01;

177 i‡(
vîbo£
)

178 
	`logîr‹
("%s\n", 
d©a
 ? "stop CPU" : "reset CPU");

179 
°©us
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devi˚
,

180 
LIBUSB_ENDPOINT_OUT
 | 
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_RECIPIENT_DEVICE
,

181 
RW_INTERNAL
, 
addr
 & 0xFFFF,áddr >> 16,

182 &
d©a
, 1, 1000);

183 i‡((
°©us
 != 1) &&

185 ((!
doRun
Ë|| (
°©us
 !
LIBUSB_ERROR_IO
)))

187 c⁄° *
mesg
 = "can't modify CPUCS";

188 i‡(
°©us
 < 0)

189 
	`logîr‹
("%s: %s\n", 
mesg
, 
	`libusb_îr‹_«me
(
°©us
));

191 
	`logîr‹
("%s\n", 
mesg
);

192  
Ál£
;

194  
åue
;

195 
	}
}

201 
boﬁ
 
	$ezusb_fx3_jump
(
libusb_devi˚_h™dÀ
 *
devi˚
, 
uöt32_t
 
addr
)

203 
°©us
;

205 i‡(
vîbo£
)

206 
	`logîr‹
("å™s„∏executi⁄ÅÿProgøm E¡ryáà0x%08x\n", 
addr
);

207 
°©us
 = 
	`libusb_c⁄åﬁ_å™s„r
(
devi˚
,

208 
LIBUSB_ENDPOINT_OUT
 | 
LIBUSB_REQUEST_TYPE_VENDOR
 | 
LIBUSB_RECIPIENT_DEVICE
,

209 
RW_INTERNAL
, 
addr
 & 0xFFFF,áddr >> 16,

210 
NULL
, 0, 1000);

212 i‡((
°©us
 !0Ë&& (°©u†!
LIBUSB_ERROR_IO
))

214 c⁄° *
mesg
 = "failedÅo send jump command";

215 i‡(
°©us
 < 0)

216 
	`logîr‹
("%s: %s\n", 
mesg
, 
	`libusb_îr‹_«me
(
°©us
));

218 
	`logîr‹
("%s\n", 
mesg
);

219  
Ál£
;

221  
åue
;

222 
	}
}

242 
∑r£_ihex
(
FILE
 *
image
, *
c⁄ãxt
,

243 
	$boﬁ
 (*
is_exã∫Æ
)(
uöt32_t
 
addr
, 
size_t
 
Àn
),

244 (*
poke
Ë(*
c⁄ãxt
, 
uöt32_t
 
addr
, 
boﬁ
 
exã∫Æ
,

245 c⁄° *
d©a
, 
size_t
 
Àn
))

247 
d©a
[1023];

248 
uöt32_t
 
d©a_addr
 = 0;

249 
size_t
 
d©a_Àn
 = 0;

250 
rc
;

251 
fú°_löe
 = 1;

252 
boﬁ
 
exã∫Æ
 = 
Ál£
;

265 
buf
[512], *
˝
;

266 
tmp
, 
ty≥
;

267 
size_t
 
Àn
;

268 
idx
, 
off
;

270 
˝
 = 
	`fgës
(
buf
, (buf), 
image
);

271 i‡(
˝
 =
NULL
) {

272 
	`logîr‹
("EOF without EOFÑecord!\n");

277 i‡(
buf
[0] == '#')

280 i‡(
buf
[0] != ':') {

281 
	`logîr‹
("nŸá¿ihexÑec‹d: %s", 
buf
);

286 
˝
 = 
	`°rchr
(
buf
, '\n');

287 i‡(
˝
)

288 *
˝
 = 0;

290 i‡(
vîbo£
 >= 3)

291 
	`logîr‹
("** LINE: %s\n", 
buf
);

294 
tmp
 = 
buf
[3];

295 
buf
[3] = 0;

296 
Àn
 = 
	`°πoul
(
buf
+1, 
NULL
, 16);

297 
buf
[3] = 
tmp
;

300 
tmp
 = 
buf
[7];

301 
buf
[7] = 0;

302 
off
 = ()
	`°πoul
(
buf
+3, 
NULL
, 16);

303 
buf
[7] = 
tmp
;

306 i‡(
fú°_löe
) {

307 
d©a_addr
 = 
off
;

308 
fú°_löe
 = 0;

312 
tmp
 = 
buf
[9];

313 
buf
[9] = 0;

314 
ty≥
 = ()
	`°πoul
(
buf
+7, 
NULL
, 16);

315 
buf
[9] = 
tmp
;

318 i‡(
ty≥
 == 1) {

319 i‡(
vîbo£
 >= 2)

320 
	`logîr‹
("EOF on hexfile\n");

324 i‡(
ty≥
 != 0) {

325 
	`logîr‹
("unsuµ‹ãdÑec‹dÅy≥: %u\n", 
ty≥
);

329 i‡((
Àn
 * 2Ë+ 11 > 
	`°æí
(
buf
)) {

330 
	`logîr‹
("recordÅoo short?\n");

341 i‡(
d©a_Àn
 != 0

342 && (
off
 !(
d©a_addr
 + 
d©a_Àn
)

344 || (
d©a_Àn
 + 
Àn
Ë> (
d©a
))) {

345 i‡(
is_exã∫Æ
)

346 
exã∫Æ
 = 
	`is_exã∫Æ
(
d©a_addr
, 
d©a_Àn
);

347 
rc
 = 
	`poke
(
c⁄ãxt
, 
d©a_addr
, 
exã∫Æ
, 
d©a
, 
d©a_Àn
);

348 i‡(
rc
 < 0)

350 
d©a_addr
 = 
off
;

351 
d©a_Àn
 = 0;

355 
idx
 = 0, 
˝
 = 
buf
+9 ; idx < 
Àn
 ; idx += 1, cp += 2) {

356 
tmp
 = 
˝
[2];

357 
˝
[2] = 0;

358 
d©a
[
d©a_Àn
 + 
idx
] = (
uöt8_t
)
	`°πoul
(
˝
, 
NULL
, 16);

359 
˝
[2] = 
tmp
;

361 
d©a_Àn
 +
Àn
;

366 i‡(
d©a_Àn
 != 0) {

367 i‡(
is_exã∫Æ
)

368 
exã∫Æ
 = 
	`is_exã∫Æ
(
d©a_addr
, 
d©a_Àn
);

369 
rc
 = 
	`poke
(
c⁄ãxt
, 
d©a_addr
, 
exã∫Æ
, 
d©a
, 
d©a_Àn
);

370 i‡(
rc
 < 0)

374 
	}
}

391 
∑r£_bö
(
FILE
 *
image
, *
c⁄ãxt
,

392 
	$boﬁ
 (*
is_exã∫Æ
)(
uöt32_t
 
addr
, 
size_t
 
Àn
), (*
poke
)(*
c⁄ãxt
,

393 
uöt32_t
 
addr
, 
boﬁ
 
exã∫Æ
, c⁄° *
d©a
, 
size_t
 
Àn
))

395 
d©a
[4096];

396 
uöt32_t
 
d©a_addr
 = 0;

397 
size_t
 
d©a_Àn
 = 0;

398 
rc
;

399 
boﬁ
 
exã∫Æ
 = 
Ál£
;

402 
d©a_Àn
 = 
	`‰ód
(
d©a
, 1, 4096, 
image
);

403 i‡(
d©a_Àn
 == 0)

405 i‡(
is_exã∫Æ
)

406 
exã∫Æ
 = 
	`is_exã∫Æ
(
d©a_addr
, 
d©a_Àn
);

407 
rc
 = 
	`poke
(
c⁄ãxt
, 
d©a_addr
, 
exã∫Æ
, 
d©a
, 
d©a_Àn
);

408 i‡(
rc
 < 0)

410 
d©a_addr
 +(
uöt32_t
)
d©a_Àn
;

412  
	`„of
(
image
)?0:-1;

413 
	}
}

429 
∑r£_iic
(
FILE
 *
image
, *
c⁄ãxt
,

430 
	$boﬁ
 (*
is_exã∫Æ
)(
uöt32_t
 
addr
, 
size_t
 
Àn
),

431 (*
poke
)(*
c⁄ãxt
, 
uöt32_t
 
addr
, 
boﬁ
 
exã∫Æ
, c⁄° *
d©a
, 
size_t
 
Àn
))

433 
d©a
[4096];

434 
uöt32_t
 
d©a_addr
 = 0;

435 
size_t
 
d©a_Àn
 = 0, 
ªad_Àn
;

436 
uöt8_t
 
block_hódî
[4];

437 
rc
;

438 
boﬁ
 
exã∫Æ
 = 
Ál£
;

439 
fûe_size
, 
öôül_pos
;

441 
öôül_pos
 = 
	`·ñl
(
image
);

442 i‡(
öôül_pos
 < 0)

445 i‡(
	`f£ek
(
image
, 0L, 
SEEK_END
) != 0)

447 
fûe_size
 = 
	`·ñl
(
image
);

448 i‡(
	`f£ek
(
image
, 
öôül_pos
, 
SEEK_SET
) != 0)

452 i‡(
	`·ñl
(
image
Ë>(
fûe_size
 - 5))

454 i‡(
	`‰ód
(&
block_hódî
, 1, (block_hódî), 
image
) != 4) {

455 
	`logîr‹
("unableÅoÑead IIC block header\n");

458 
d©a_Àn
 = (
block_hódî
[0] << 8) + block_header[1];

459 
d©a_addr
 = (
block_hódî
[2] << 8) + block_header[3];

460 i‡(
d©a_Àn
 > (
d©a
)) {

462 
	`logîr‹
("IIC data blockÅoo small -ÖleaseÑeportÅhisÉrrorÅoÜibusb.info\n");

465 
ªad_Àn
 = 
	`‰ód
(
d©a
, 1, 
d©a_Àn
, 
image
);

466 i‡(
ªad_Àn
 !
d©a_Àn
) {

467 
	`logîr‹
("readÉrror\n");

470 i‡(
is_exã∫Æ
)

471 
exã∫Æ
 = 
	`is_exã∫Æ
(
d©a_addr
, 
d©a_Àn
);

472 
rc
 = 
	`poke
(
c⁄ãxt
, 
d©a_addr
, 
exã∫Æ
, 
d©a
, 
d©a_Àn
);

473 i‡(
rc
 < 0)

477 
	}
}

480 (*
∑r£
[
IMG_TYPE_MAX
])(
FILE
 *
image
, *
c⁄ãxt
, 
	$boﬁ
 (*
is_exã∫Æ
)(
uöt32_t
 
addr
, 
size_t
 
Àn
),

481 (*
poke
)(*
c⁄ãxt
, 
uöt32_t
 
addr
, 
boﬁ
 
exã∫Æ
, c⁄° *
d©a
, 
size_t
 
Àn
))

482 { 
∑r£_ihex
, 
∑r£_iic
, 
∑r£_bö
 
	}
};

491 
	m_undef
 = 0,

492 
	möã∫Æ_⁄ly
,

493 
	mskù_öã∫Æ
,

494 
	mskù_exã∫Æ


495 } 
	tøm_mode
;

497 
	søm_poke_c⁄ãxt
 {

498 
libusb_devi˚_h™dÀ
 *
	mdevi˚
;

499 
øm_mode
 
	mmode
;

500 
size_t
 
	mtŸÆ
, 
	mcou¡
;

503 
	#RETRY_LIMIT
 5

	)

505 
	$øm_poke
(*
c⁄ãxt
, 
uöt32_t
 
addr
, 
boﬁ
 
exã∫Æ
,

506 c⁄° *
d©a
, 
size_t
 
Àn
)

508 
øm_poke_c⁄ãxt
 *
˘x
 = (øm_poke_c⁄ãxt*)
c⁄ãxt
;

509 
rc
;

510 
ªåy
 = 0;

512 
˘x
->
mode
) {

513 
öã∫Æ_⁄ly
:

514 i‡(
exã∫Æ
) {

515 
	`logîr‹
("can't write %u bytesÉxternal memoryát 0x%08x\n",

516 ()
Àn
, 
addr
);

517  -
EINVAL
;

520 
skù_öã∫Æ
:

521 i‡(!
exã∫Æ
) {

522 i‡(
vîbo£
 >= 2) {

523 
	`logîr‹
("SKIP on-chip RAM, %u bytesát 0x%08x\n",

524 ()
Àn
, 
addr
);

529 
skù_exã∫Æ
:

530 i‡(
exã∫Æ
) {

531 i‡(
vîbo£
 >= 2) {

532 
	`logîr‹
("SKIPÉxternal RAM, %u bytesát 0x%08x\n",

533 ()
Àn
, 
addr
);

538 
_undef
:

540 
	`logîr‹
("bug\n");

541  -
EDOM
;

544 
˘x
->
tŸÆ
 +
Àn
;

545 
˘x
->
cou¡
++;

550 (
rc
 = 
	`ezusb_wrôe
(
˘x
->
devi˚
,

551 
exã∫Æ
 ? "writeÉxternal" : "write on-chip",

552 
exã∫Æ
 ? 
RW_MEMORY
 : 
RW_INTERNAL
,

553 
addr
, 
d©a
, 
Àn
)) < 0

554 && 
ªåy
 < 
RETRY_LIMIT
) {

555 i‡(
rc
 !
LIBUSB_ERROR_TIMEOUT
)

557 
ªåy
 += 1;

559  
rc
;

560 
	}
}

566 
	$fx3_lﬂd_øm
(
libusb_devi˚_h™dÀ
 *
devi˚
, c⁄° *
∑th
)

568 
uöt32_t
 
dCheckSum
, 
dEx≥˘edCheckSum
, 
dAddªss
, 
i
, 
dLí
, 
dLígth
;

569 
uöt32_t
* 
dImageBuf
;

570 *
bBuf
, 
hBuf
[4], 
blBuf
[4], 
rBuf
[4096];

571 
FILE
 *
image
;

572 
ªt
 = 0;

574 
image
 = 
	`f›í
(
∑th
, "rb");

575 i‡(
image
 =
NULL
) {

576 
	`logîr‹
("u«bÀÅÿ›í '%s' f‹ i≈ut\n", 
∑th
);

578 } i‡(
vîbo£
)

579 
	`logîr‹
("›í fúmw¨êimagê%†f‹ RAM u∂ﬂd\n", 
∑th
);

582 i‡(
	`‰ód
(
hBuf
, (), (hBuf), 
image
) != (hBuf)) {

583 
	`logîr‹
("couldÇotÑead image header");

584 
ªt
 = -3;

585 
exô
;

589 i‡((
hBuf
[0] != 'C') || (hBuf[1] != 'Y')) {

590 
	`logîr‹
("image doesn't haveá CYpress signature\n");

591 
ªt
 = -3;

592 
exô
;

596 
hBuf
[3]) {

598 i‡(
vîbo£
)

599 
	`logîr‹
("n‹mÆ FW bö¨y %†imagêwôh checksum\n", (
hBuf
[2]&0x01)?"data":"executable");

602 
	`logîr‹
("security binary image isÇot currently supported\n");

603 
ªt
 = -3;

604 
exô
;

606 
	`logîr‹
("VID:PID image isÇot currently supported\n");

607 
ªt
 = -3;

608 
exô
;

610 
	`logîr‹
("övÆid imagêty≥ 0x%02X\n", 
hBuf
[3]);

611 
ªt
 = -3;

612 
exô
;

616 i‡(
vîbo£
) {

617 i‡((
	`ezusb_ªad
(
devi˚
, "ªad boŸlﬂdî vîsi⁄", 
RW_INTERNAL
, 0xFFFF0020, 
blBuf
, 4) < 0)) {

618 
	`logîr‹
("CouldÇotÑead bootloader version\n");

619 
ªt
 = -8;

620 
exô
;

622 
	`logîr‹
("FX3 boŸlﬂdî vîsi⁄: 0x%02X%02X%02X%02X\n", 
blBuf
[3], blBuf[2], blBuf[1], blBuf[0]);

625 
dCheckSum
 = 0;

626 i‡(
vîbo£
)

627 
	`logîr‹
("writing image...\n");

629 i‡((
	`‰ód
(&
dLígth
, (
uöt32_t
), 1, 
image
) != 1) ||

630 (
	`‰ód
(&
dAddªss
, (
uöt32_t
), 1, 
image
) != 1)) {

631 
	`logîr‹
("couldÇotÑead image");

632 
ªt
 = -3;

633 
exô
;

635 i‡(
dLígth
 == 0)

639 
dImageBuf
 = (
uöt32_t
*)
	`ˇŒoc
(
dLígth
, (uint32_t));

640 i‡(
dImageBuf
 =
NULL
) {

641 
	`logîr‹
("couldÇotállocate buffer for image chunk\n");

642 
ªt
 = -4;

643 
exô
;

647 i‡(
	`‰ód
(
dImageBuf
, (
uöt32_t
), 
dLígth
, 
image
) != dLength) {

648 
	`logîr‹
("couldÇotÑead image");

649 
	`‰ì
(
dImageBuf
);

650 
ªt
 = -3;

651 
exô
;

653 
i
 = 0; i < 
dLígth
; i++)

654 
dCheckSum
 +
dImageBuf
[
i
];

655 
dLígth
 <<= 2;

656 
bBuf
 = (*Ë
dImageBuf
;

658 
dLígth
 > 0) {

659 
dLí
 = 4096;

660 i‡(
dLí
 > 
dLígth
)

661 
dLí
 = 
dLígth
;

662 i‡((
	`ezusb_wrôe
(
devi˚
, "wrôêfúmw¨e", 
RW_INTERNAL
, 
dAddªss
, 
bBuf
, 
dLí
) < 0) ||

663 (
	`ezusb_ªad
(
devi˚
, "ªad fúmw¨e", 
RW_INTERNAL
, 
dAddªss
, 
rBuf
, 
dLí
) < 0)) {

664 
	`logîr‹
("R/WÉrror\n");

665 
	`‰ì
(
dImageBuf
);

666 
ªt
 = -5;

667 
exô
;

670 
i
 = 0; i < 
dLí
; i++) {

671 i‡(
rBuf
[
i
] !
bBuf
[i]) {

672 
	`logîr‹
("verifyÉrror");

673 
	`‰ì
(
dImageBuf
);

674 
ªt
 = -6;

675 
exô
;

679 
dLígth
 -
dLí
;

680 
bBuf
 +
dLí
;

681 
dAddªss
 +
dLí
;

683 
	`‰ì
(
dImageBuf
);

687 i‡((
	`‰ód
(&
dEx≥˘edCheckSum
, (
uöt32_t
), 1, 
image
) != 1) ||

688 (
dCheckSum
 !
dEx≥˘edCheckSum
)) {

689 
	`logîr‹
("checksumÉrror\n");

690 
ªt
 = -7;

691 
exô
;

695 i‡(!
	`ezusb_fx3_jump
(
devi˚
, 
dAddªss
)) {

696 
ªt
 = -6;

699 
exô
:

700 
	`f˛o£
(
image
);

701  
ªt
;

702 
	}
}

718 
	$ezusb_lﬂd_øm
(
libusb_devi˚_h™dÀ
 *
devi˚
, c⁄° *
∑th
, 
fx_ty≥
, 
img_ty≥
, 
°age
)

720 
FILE
 *
image
;

721 
uöt32_t
 
˝ucs_addr
;

722 
	`boﬁ
 (*
is_exã∫Æ
)(
uöt32_t
 
off
, 
size_t
 
Àn
);

723 
øm_poke_c⁄ãxt
 
˘x
;

724 
°©us
;

725 
uöt8_t
 
iic_hódî
[8] = { 0 };

726 
ªt
 = 0;

728 i‡(
fx_ty≥
 =
FX_TYPE_FX3
)

729  
	`fx3_lﬂd_øm
(
devi˚
, 
∑th
);

731 
image
 = 
	`f›í
(
∑th
, "rb");

732 i‡(
image
 =
NULL
) {

733 
	`logîr‹
("%s: u«bÀÅÿ›í f‹ i≈ut.\n", 
∑th
);

735 } i‡(
vîbo£
 > 1)

736 
	`logîr‹
("›í fúmw¨êimagê%†f‹ RAM u∂ﬂd\n", 
∑th
);

738 i‡(
img_ty≥
 =
IMG_TYPE_IIC
) {

739 i‡–(
	`‰ód
(
iic_hódî
, 1, (iic_hódî), 
image
) != (iic_header))

740 || (((
fx_ty≥
 =
FX_TYPE_FX2LP
Ë|| (fx_ty≥ =
FX_TYPE_FX2
)Ë&& (
iic_hódî
[0] != 0xC2))

741 || ((
fx_ty≥
 =
FX_TYPE_AN21
Ë&& (
iic_hódî
[0] != 0xB2))

742 || ((
fx_ty≥
 =
FX_TYPE_FX1
Ë&& (
iic_hódî
[0] != 0xB6)) ) {

743 
	`logîr‹
("IIC image doesÇot containÉxecutable code - cannotÜoadÅo RAM.\n");

744 
ªt
 = -1;

745 
exô
;

750 
fx_ty≥
) {

751 
FX_TYPE_FX2LP
:

752 
˝ucs_addr
 = 0xe600;

753 
is_exã∫Æ
 = 
fx2Õ_is_exã∫Æ
;

755 
FX_TYPE_FX2
:

756 
˝ucs_addr
 = 0xe600;

757 
is_exã∫Æ
 = 
fx2_is_exã∫Æ
;

760 
˝ucs_addr
 = 0x7f92;

761 
is_exã∫Æ
 = 
fx_is_exã∫Æ
;

766 i‡(
°age
 == 0) {

767 
˘x
.
mode
 = 
öã∫Æ_⁄ly
;

770 i‡(
˝ucs_addr
 && !
	`ezusb_˝ucs
(
devi˚
, cpucs_addr, 
Ál£
))

772 
ªt
 = -1;

773 
exô
;

778 
˘x
.
mode
 = 
skù_öã∫Æ
;

781 i‡(
vîbo£
)

782 
	`logîr‹
("2nd stage: writeÉxternal memory\n");

786 
˘x
.
devi˚
 = device;

787 
˘x
.
tŸÆ
 = ctx.
cou¡
 = 0;

788 
°©us
 = 
∑r£
[
img_ty≥
](
image
, &
˘x
, 
is_exã∫Æ
, 
øm_poke
);

789 i‡(
°©us
 < 0) {

790 
	`logîr‹
("u«bÀÅÿu∂ﬂd %s\n", 
∑th
);

791 
ªt
 = 
°©us
;

792 
exô
;

797 i‡(
°age
) {

798 
˘x
.
mode
 = 
skù_exã∫Æ
;

801 i‡(
˝ucs_addr
 && !
	`ezusb_˝ucs
(
devi˚
, cpucs_addr, 
Ál£
))

803 
ªt
 = -1;

804 
exô
;

808 
	`ªwöd
(
image
);

809 i‡(
vîbo£
)

810 
	`logîr‹
("2nd stage: write on-chip memory\n");

811 
°©us
 = 
	`∑r£_ihex
(
image
, &
˘x
, 
is_exã∫Æ
, 
øm_poke
);

812 i‡(
°©us
 < 0) {

813 
	`logîr‹
("u«bÀÅÿcom∂ëñy u∂ﬂd %s\n", 
∑th
);

814 
ªt
 = 
°©us
;

815 
exô
;

819 i‡(
vîbo£
 && (
˘x
.
cou¡
 != 0)) {

820 
	`logîr‹
("... WROTE: %d bytes, %d segments,ávg %d\n",

821 ()
˘x
.
tŸÆ
, ()˘x.
cou¡
, ()(ctx.total/ctx.count));

825 i‡(
˝ucs_addr
 && !
	`ezusb_˝ucs
(
devi˚
, cpucs_addr, 
åue
))

826 
ªt
 = -1;

828 
exô
:

829 
	`f˛o£
(
image
);

830  
ªt
;

831 
	}
}

	@examples/ezusb.h

1 #i‚de‡
__ezusb_H


2 
	#__ezusb_H


	)

23 #i‡!
deföed
(
_MSC_VER
)

24 
	~<°dboﬁ.h
>

26 
	#__©åibuã__
(
x
)

	)

27 #i‡!
deföed
(
boﬁ
)

28 
	#boﬁ
 

	)

30 #i‡!
deföed
(
åue
)

31 
	#åue
 (1 =1)

	)

33 #i‡!
deföed
(
Ál£
)

34 
	#Ál£
 (!
åue
)

	)

36 #i‡
deföed
(
_PREFAST_
)

37 #¥agm®
w¨nög
(
dißbÀ
:28193)

41 
	#FX_TYPE_UNDEFINED
 -1

	)

42 
	#FX_TYPE_AN21
 0

	)

43 
	#FX_TYPE_FX1
 1

	)

44 
	#FX_TYPE_FX2
 2

	)

45 
	#FX_TYPE_FX2LP
 3

	)

46 
	#FX_TYPE_FX3
 4

	)

47 
	#FX_TYPE_MAX
 5

	)

48 
	#FX_TYPE_NAMES
 { "™21", "fx", "fx2", "fx2Õ", "fx3" }

	)

50 
	#IMG_TYPE_UNDEFINED
 -1

	)

51 
	#IMG_TYPE_HEX
 0

	)

52 
	#IMG_TYPE_IIC
 1

	)

53 
	#IMG_TYPE_BIX
 2

	)

54 
	#IMG_TYPE_IMG
 3

	)

55 
	#IMG_TYPE_MAX
 4

	)

56 
	#IMG_TYPE_NAMES
 { "I¡ñ HEX", "Cy¥es†8051 IIC", "Cy¥es†8051 BIX", "Cy¥es†IMG f‹m©" }

	)

58 #ifde‡
__˝lu•lus


67 
uöt16_t
 
vid
;

68 
uöt16_t
 
pid
;

69 
ty≥
;

70 c⁄° * 
desig«ti⁄
;

71 } 
	tfx_known_devi˚
;

73 
	#FX_KNOWN_DEVICES
 { \

74 { 0x0547, 0x2122, 
FX_TYPE_AN21
, "Cypress EZ-USB (2122S)" },\

75 { 0x0547, 0x2125, 
FX_TYPE_AN21
, "Cypress EZ-USB (2121S/2125S)" },\

76 { 0x0547, 0x2126, 
FX_TYPE_AN21
, "Cypress EZ-USB (2126S)" },\

77 { 0x0547, 0x2131, 
FX_TYPE_AN21
, "Cypress EZ-USB (2131Q/2131S/2135S)" },\

78 { 0x0547, 0x2136, 
FX_TYPE_AN21
, "Cypress EZ-USB (2136S)" },\

79 { 0x0547, 0x2225, 
FX_TYPE_AN21
, "Cypress EZ-USB (2225)" },\

80 { 0x0547, 0x2226, 
FX_TYPE_AN21
, "Cypress EZ-USB (2226)" },\

81 { 0x0547, 0x2235, 
FX_TYPE_AN21
, "Cypress EZ-USB (2235)" },\

82 { 0x0547, 0x2236, 
FX_TYPE_AN21
, "Cypress EZ-USB (2236)" },\

83 { 0x04b4, 0x6473, 
FX_TYPE_FX1
, "Cypress EZ-USB FX1" },\

84 { 0x04b4, 0x8613, 
FX_TYPE_FX2LP
, "Cypress EZ-USB FX2LP (68013A/68014A/68015A/68016A)" }, \

85 { 0x04b4, 0x00f3, 
FX_TYPE_FX3
, "Cypress FX3" },\

86 }

	)

96 
ezusb_lﬂd_øm
(
libusb_devi˚_h™dÀ
 *
devi˚
,

97 c⁄° *
∑th
, 
fx_ty≥
, 
img_ty≥
, 
°age
);

110 
ezusb_lﬂd_ì¥om
(
libusb_devi˚_h™dÀ
 *
devi˚
,

111 c⁄° *
∑th
, 
fx_ty≥
, 
img_ty≥
, 
c⁄fig
);

114 
vîbo£
;

116 #ifde‡
__˝lu•lus


	@examples/fxload.c

24 
	~<°dlib.h
>

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<°döt.h
>

28 
	~<°d¨g.h
>

29 
	~<sys/ty≥s.h
>

30 
	~<gë›t.h
>

32 
	~"libusb.h
"

33 
	~"ezusb.h
"

35 #i‡!
deföed
(
_WIN32
Ë|| deföed(
__CYGWIN__
 )

36 
	~<sy¶og.h
>

37 
boﬁ
 
	gdosy¶og
 = 
Ál£
;

38 
	~<°rögs.h
>

39 
	#_°ricmp
 
°rˇ£cmp


	)

42 #i‚de‡
FXLOAD_VERSION


43 
	#FXLOAD_VERSION
 (
__DATE__
 " (libusb)")

	)

46 #i‚de‡
ARRAYSIZE


47 
	#ARRAYSIZE
(
A
Ë((A)/((A)[0]))

	)

50 
	$logîr‹
(c⁄° *
f‹m©
, ...)

51 
	`__©åibuã__
 ((
	`f‹m©
 (
__¥ötf__
, 1, 2)));

53 
	$logîr‹
(c⁄° *
f‹m©
, ...)

55 
va_li°
 
≠
;

56 
	`va_°¨t
(
≠
, 
f‹m©
);

58 #i‡!
	`deföed
(
_WIN32
Ë|| deföed(
__CYGWIN__
 )

59 i‡(
dosy¶og
)

60 
	`vsy¶og
(
LOG_ERR
, 
f‹m©
, 
≠
);

63 
	`vÂrötf
(
°dîr
, 
f‹m©
, 
≠
);

64 
	`va_íd
(
≠
);

65 
	}
}

67 
	$¥öt_ußge
(
îr‹_code
) {

68 
	`Ârötf
(
°dîr
, "\nUsage: fxload [-v] [-V] [-tÅype] [-d vid:pid] [-p bus,addr] -i firmware\n");

69 
	`Ârötf
(
°dîr
, " -i <path> -- FirmwareÅo upload\n");

70 
	`Ârötf
(
°dîr
, " -t <type> -- TargetÅype:án21, fx, fx2, fx2lp, fx3\n");

71 
	`Ârötf
(
°dîr
, " -d <vid:pid> -- Target device,ásán USB VID:PID\n");

72 
	`Ârötf
(
°dîr
, " -p <bus,addr> -- Target device,ásáÜibusb busÇumberánd deviceáddressÖath\n");

73 
	`Ârötf
(
°dîr
, " -v -- Increase verbosity\n");

74 
	`Ârötf
(
°dîr
, " -q -- Decrease verbosity (silent mode)\n");

75 
	`Ârötf
(
°dîr
, " -V -- PrintÖrogram version\n");

76  
îr‹_code
;

77 
	}
}

79 
	#FIRMWARE
 0

	)

80 
	#LOADER
 1

	)

81 
	$maö
(
¨gc
, *
¨gv
[])

83 
fx_known_devi˚
 
known_devi˚
[] = 
FX_KNOWN_DEVICES
;

84 c⁄° *
∑th
[] = { 
NULL
, NULL };

85 c⁄° *
devi˚_id
 = 
NULL
;

86 c⁄° *
devi˚_∑th
 = 
	`gëív
("DEVICE");

87 c⁄° *
ty≥
 = 
NULL
;

88 c⁄° *
fx_«me
[
FX_TYPE_MAX
] = 
FX_TYPE_NAMES
;

89 c⁄° *
ext
, *
img_«me
[] = 
IMG_TYPE_NAMES
;

90 
fx_ty≥
 = 
FX_TYPE_UNDEFINED
, 
img_ty≥
[
	`ARRAYSIZE
(
∑th
)];

91 
i
, 
j
, 
›t
, 
°©us
;

92 
vid
 = 0, 
pid
 = 0;

93 
bu¢um
 = 0, 
devaddr
 = 0, 
_bu¢um
, 
_devaddr
;

94 
libusb_devi˚
 *
dev
, **
devs
;

95 
libusb_devi˚_h™dÀ
 *
devi˚
 = 
NULL
;

96 
libusb_devi˚_des¸ùt‹
 
desc
;

98 (
›t
 = 
	`gë›t
(
¨gc
, 
¨gv
, "qvV?hd:p:i:I:t:")Ë!
EOF
)

99 
›t
) {

102 
devi˚_id
 = 
›èrg
;

103 i‡(
	`ssˇnf
(
devi˚_id
, "%x:%x" , &
vid
, &
pid
) != 2 ) {

104 
	`Âuts
 ("∂ó£ s≥cify VID & PIDá†\"vid:pid\" i¿hexadecimÆ f‹m©\n", 
°dîr
);

110 
devi˚_∑th
 = 
›èrg
;

111 i‡(
	`ssˇnf
(
devi˚_∑th
, "%u,%u", &
bu¢um
, &
devaddr
) != 2 ) {

112 
	`Âuts
 ("∂ó£ s≥cify bu†numbî & devi˚Çumbîá†\"bus,dev\" i¿decimÆ f‹m©\n", 
°dîr
);

119 
∑th
[
FIRMWARE
] = 
›èrg
;

123 
	`puts
(
FXLOAD_VERSION
);

127 
ty≥
 = 
›èrg
;

131 
vîbo£
++;

135 
vîbo£
--;

141  
	`¥öt_ußge
(-1);

145 i‡(
∑th
[
FIRMWARE
] =
NULL
) {

146 
	`logîr‹
("no firmware specified!\n");

147  
	`¥öt_ußge
(-1);

149 i‡((
devi˚_id
 !
NULL
Ë&& (
devi˚_∑th
 != NULL)) {

150 
	`logîr‹
("only one of -d or -p can be specified\n");

151  
	`¥öt_ußge
(-1);

155 i‡(
ty≥
 !
NULL
) {

156 
i
=0; i<
FX_TYPE_MAX
; i++) {

157 i‡(
	`°rcmp
(
ty≥
, 
fx_«me
[
i
]) == 0) {

158 
fx_ty≥
 = 
i
;

162 i‡(
i
 >
FX_TYPE_MAX
) {

163 
	`logîr‹
("ûÀgÆ mi¸oc⁄åﬁÀ∏ty≥: %s\n", 
ty≥
);

164  
	`¥öt_ußge
(-1);

169 
°©us
 = 
	`libusb_öô
(
NULL
);

170 i‡(
°©us
 < 0) {

171 
	`logîr‹
("libusb_öô(ËÁûed: %s\n", 
	`libusb_îr‹_«me
(
°©us
));

174 
	`libusb_£t_debug
(
NULL
, 
vîbo£
);

177 i‡((
ty≥
 =
NULL
Ë|| (
devi˚_id
 =NULLË|| (
devi˚_∑th
 != NULL)) {

178 i‡(
	`libusb_gë_devi˚_li°
(
NULL
, &
devs
) < 0) {

179 
	`logîr‹
("libusb_gë_devi˚_li°(ËÁûed: %s\n", 
	`libusb_îr‹_«me
(
°©us
));

180 
îr
;

182 
i
=0; (
dev
=
devs
[i]Ë!
NULL
; i++) {

183 
_bu¢um
 = 
	`libusb_gë_bus_numbî
(
dev
);

184 
_devaddr
 = 
	`libusb_gë_devi˚_addªss
(
dev
);

185 i‡((
ty≥
 !
NULL
Ë&& (
devi˚_∑th
 != NULL)) {

187 i‡((
	`libusb_gë_bus_numbî
(
dev
Ë=
bu¢um
Ë&& (
	`libusb_gë_devi˚_addªss
(devË=
devaddr
))

190 
°©us
 = 
	`libusb_gë_devi˚_des¸ùt‹
(
dev
, &
desc
);

191 i‡(
°©us
 >= 0) {

192 i‡(
vîbo£
 >= 3) {

193 
	`logîr‹
("examining %04x:%04x (%d,%d)\n",

194 
desc
.
idVíd‹
, desc.
idProdu˘
, 
_bu¢um
, 
_devaddr
);

196 
j
=0; j<
	`ARRAYSIZE
(
known_devi˚
); j++) {

197 i‡((
desc
.
idVíd‹
 =
known_devi˚
[
j
].
vid
)

198 && (
desc
.
idProdu˘
 =
known_devi˚
[
j
].
pid
)) {

200 ((
ty≥
 =
NULL
Ë&& (
devi˚_id
 =NULLË&& (
devi˚_∑th
 == NULL)) ||

202 ((
ty≥
 =
NULL
Ë&& (
devi˚_id
 !NULLË&& (
vid
 =
desc
.
idVíd‹
Ë&& (
pid
 =desc.
idProdu˘
)) ||

204 ((
ty≥
 =
NULL
Ë&& (
devi˚_∑th
 !NULLË&& (
bu¢um
 =
_bu¢um
Ë&& (
devaddr
 =
_devaddr
)) ||

206 ((
ty≥
 !
NULL
Ë&& (
devi˚_id
 =NULLË&& (
devi˚_∑th
 =NULLË&& (
fx_ty≥
 =
known_devi˚
[
j
].type)) ) {

207 
fx_ty≥
 = 
known_devi˚
[
j
].
ty≥
;

208 
vid
 = 
desc
.
idVíd‹
;

209 
pid
 = 
desc
.
idProdu˘
;

210 
bu¢um
 = 
_bu¢um
;

211 
devaddr
 = 
_devaddr
;

216 i‡(
j
 < 
	`ARRAYSIZE
(
known_devi˚
)) {

217 i‡(
vîbo£
)

218 
	`logîr‹
("found device '%s' [%04x:%04x] (%d,%d)\n",

219 
known_devi˚
[
j
].
desig«ti⁄
, 
vid
, 
pid
, 
bu¢um
, 
devaddr
);

225 i‡(
dev
 =
NULL
) {

226 
	`libusb_‰ì_devi˚_li°
(
devs
, 1);

227 
	`logîr‹
("couldÇot findá known device -Ölease specifyÅypeánd/or vid:pidánd/or bus,dev\n");

228  
	`¥öt_ußge
(-1);

230 
°©us
 = 
	`libusb_›í
(
dev
, &
devi˚
);

231 i‡(
°©us
 < 0) {

232 
	`logîr‹
("libusb_›í(ËÁûed: %s\n", 
	`libusb_îr‹_«me
(
°©us
));

233 
îr
;

235 
	`libusb_‰ì_devi˚_li°
(
devs
, 1);

236 } i‡(
devi˚_id
 !
NULL
) {

237 
devi˚
 = 
	`libusb_›í_devi˚_wôh_vid_pid
(
NULL
, (
uöt16_t
)
vid
, (uöt16_t)
pid
);

238 i‡(
devi˚
 =
NULL
) {

239 
	`logîr‹
("libusb_open() failed\n");

240 
îr
;

245 
	`libusb_£t_auto_dëach_kî√l_drivî
(
devi˚
, 1);

246 
°©us
 = 
	`libusb_˛aim_öãrÁ˚
(
devi˚
, 0);

247 i‡(
°©us
 !
LIBUSB_SUCCESS
) {

248 
	`logîr‹
("libusb_˛aim_öãrÁ˚ faûed: %s\n", 
	`libusb_îr‹_«me
(
°©us
));

249 
îr
;

252 i‡(
vîbo£
)

253 
	`logîr‹
("mi¸oc⁄åﬁÀ∏ty≥: %s\n", 
fx_«me
[
fx_ty≥
]);

255 
i
=0; i<
	`ARRAYSIZE
(
∑th
); i++) {

256 i‡(
∑th
[
i
] !
NULL
) {

257 
ext
 = 
∑th
[
i
] + 
	`°æí
(path[i]) - 4;

258 i‡((
	`_°ricmp
(
ext
, ".hex"Ë=0Ë|| (
	`°rcmp
(ext, ".ihx") == 0))

259 
img_ty≥
[
i
] = 
IMG_TYPE_HEX
;

260 i‡(
	`_°ricmp
(
ext
, ".iic") == 0)

261 
img_ty≥
[
i
] = 
IMG_TYPE_IIC
;

262 i‡(
	`_°ricmp
(
ext
, ".bix") == 0)

263 
img_ty≥
[
i
] = 
IMG_TYPE_BIX
;

264 i‡(
	`_°ricmp
(
ext
, ".img") == 0)

265 
img_ty≥
[
i
] = 
IMG_TYPE_IMG
;

267 
	`logîr‹
("%†i†nŸáÑecognized imagêty≥\n", 
∑th
[
i
]);

268 
îr
;

271 i‡(
vîbo£
 && 
∑th
[
i
] !
NULL
)

272 
	`logîr‹
("%s:Åy≥ %s\n", 
∑th
[
i
], 
img_«me
[
img_ty≥
[i]]);

276 i‡(
vîbo£
 > 1)

277 
	`logîr‹
("single stage:Üoad on-chip memory\n");

278 
°©us
 = 
	`ezusb_lﬂd_øm
(
devi˚
, 
∑th
[
FIRMWARE
], 
fx_ty≥
, 
img_ty≥
[FIRMWARE], 0);

280 
	`libusb_ªÀa£_öãrÁ˚
(
devi˚
, 0);

281 
	`libusb_˛o£
(
devi˚
);

282 
	`libusb_exô
(
NULL
);

283  
°©us
;

284 
îr
:

285 
	`libusb_exô
(
NULL
);

287 
	}
}

	@examples/getopt/getopt.c

26 #i‚de‡
_NO_PROTO


27 
	#_NO_PROTO


	)

30 #ifde‡
HAVE_CONFIG_H


31 
	~<c⁄fig.h
>

34 #i‡!
deföed
 
__STDC__
 || !__STDC__

38 c⁄°

	)

42 
	~<°dio.h
>

52 
	#GETOPT_INTERFACE_VERSION
 2

	)

53 #i‡!
deföed
 
_LIBC
 && deföed 
__GLIBC__
 && __GLIBC__ >= 2

54 
	~<gnu-vîsi⁄s.h
>

55 #i‡
_GNU_GETOPT_INTERFACE_VERSION
 =
GETOPT_INTERFACE_VERSION


56 
	#ELIDE_CODE


	)

60 #i‚de‡
ELIDE_CODE


65 #ifdef 
__GNU_LIBRARY__


68 
	~<°dlib.h
>

69 
	~<uni°d.h
>

72 #ifde‡
VMS


73 
	~<unixlib.h
>

74 #i‡
HAVE_STRING_H
 - 0

75 
	~<°rög.h
>

79 #i‚de‡
_


81 #i‡(
HAVE_LIBINTL_H
 && 
ENABLE_NLS
Ë|| 
deföed
 
_LIBC


82 
	~<liböé.h
>

83 #i‚de‡
_


84 
	#_
(
msgid
Ë
	`gëãxt
 (msgid)

	)

87 
	#_
(
msgid
Ë(msgid)

	)

105 
	~"gë›t.h
"

113 *
	g›èrg
;

128 
	g›töd
 = 1;

134 
	g__gë›t_öôülized
;

143 *
	g√xtch¨
;

148 
	g›ãº
 = 1;

154 
	g›t›t
 = '?';

187 
	mREQUIRE_ORDER
, 
	mPERMUTE
, 
	mRETURN_IN_ORDER


188 } 
	g‹dîög
;

191 *
	gposixly_c‹ª˘
;

193 #ifdef 
__GNU_LIBRARY__


198 
	~<°rög.h
>

199 
	#my_ödex
 
°rchr


	)

202 #i‡
HAVE_STRING_H


203 
	~<°rög.h
>

205 
	~<°rögs.h
>

211 #i‚de‡
gëív


212 #ifde‡
_MSC_VER


214 
	~<°dlib.h
>

216 *
gëív
 ();

221 
	$my_ödex
 (
°r
, 
chr
)

222 c⁄° *
°r
;

223 
chr
;

225 *
°r
)

227 i‡(*
°r
 =
chr
)

228  (*Ë
°r
;

229 
°r
++;

232 
	}
}

236 #ifde‡
__GNUC__


239 #i‡(!
deföed
 
__STDC__
 || !__STDC__Ë&& !deföed 
°æí


242 
°æí
 (const *);

254 
	gfú°_n⁄›t
;

255 
	gœ°_n⁄›t
;

257 #ifde‡
_LIBC


261 
__libc_¨gc
;

262 **
__libc_¨gv
;

267 #ifde‡
USE_NONOPTION_FLAGS


269 *
__gë›t_n⁄›ti⁄_Êags
;

271 
	gn⁄›ti⁄_Êags_max_Àn
;

272 
	gn⁄›ti⁄_Êags_Àn
;

275 #ifde‡
USE_NONOPTION_FLAGS


276 
	#SWAP_FLAGS
(
ch1
, 
ch2
) \

277 i‡(
n⁄›ti⁄_Êags_Àn
 > 0) \

279 
__tmp
 = 
__gë›t_n⁄›ti⁄_Êags
[
ch1
]; \

280 
__gë›t_n⁄›ti⁄_Êags
[
ch1
] = __gë›t_n⁄›ti⁄_Êags[
ch2
]; \

281 
__gë›t_n⁄›ti⁄_Êags
[
ch2
] = 
__tmp
; \

282 }

	)

284 
	#SWAP_FLAGS
(
ch1
, 
ch2
)

	)

287 
	#SWAP_FLAGS
(
ch1
, 
ch2
)

	)

299 #i‡
deföed
 
__STDC__
 && __STDC__

300 
exch™ge
 (**);

304 
	$exch™ge
 (
¨gv
)

305 **
¨gv
;

307 
bŸtom
 = 
fú°_n⁄›t
;

308 
middÀ
 = 
œ°_n⁄›t
;

309 
t›
 = 
›töd
;

310 *
ãm
;

317 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


321 i‡(
n⁄›ti⁄_Êags_Àn
 > 0 && 
t›
 >
n⁄›ti⁄_Êags_max_Àn
)

325 *
√w_°r
 = 
	`mÆloc
 (
t›
 + 1);

326 i‡(
√w_°r
 =
NULL
)

327 
n⁄›ti⁄_Êags_Àn
 = 
n⁄›ti⁄_Êags_max_Àn
 = 0;

330 
	`mem£t
 (
	`__memp˝y
 (
√w_°r
, 
__gë›t_n⁄›ti⁄_Êags
,

331 
n⁄›ti⁄_Êags_max_Àn
),

332 '\0', 
t›
 + 1 - 
n⁄›ti⁄_Êags_max_Àn
);

333 
n⁄›ti⁄_Êags_max_Àn
 = 
t›
 + 1;

334 
__gë›t_n⁄›ti⁄_Êags
 = 
√w_°r
;

339 
t›
 > 
middÀ
 && middÀ > 
bŸtom
)

341 i‡(
t›
 - 
middÀ
 > middÀ - 
bŸtom
)

344 
Àn
 = 
middÀ
 - 
bŸtom
;

345 
i
;

348 
i
 = 0; i < 
Àn
; i++)

350 
ãm
 = 
¨gv
[
bŸtom
 + 
i
];

351 
¨gv
[
bŸtom
 + 
i
] =árgv[
t›
 - (
middÀ
 - bottom) + i];

352 
¨gv
[
t›
 - (
middÀ
 - 
bŸtom
Ë+ 
i
] = 
ãm
;

353 
	`SWAP_FLAGS
 (
bŸtom
 + 
i
, 
t›
 - (
middÀ
 - bottom) + i);

356 
t›
 -
Àn
;

361 
Àn
 = 
t›
 - 
middÀ
;

362 
i
;

365 
i
 = 0; i < 
Àn
; i++)

367 
ãm
 = 
¨gv
[
bŸtom
 + 
i
];

368 
¨gv
[
bŸtom
 + 
i
] =árgv[
middÀ
 + i];

369 
¨gv
[
middÀ
 + 
i
] = 
ãm
;

370 
	`SWAP_FLAGS
 (
bŸtom
 + 
i
, 
middÀ
 + i);

373 
bŸtom
 +
Àn
;

379 
fú°_n⁄›t
 +(
›töd
 - 
œ°_n⁄›t
);

380 
œ°_n⁄›t
 = 
›töd
;

381 
	}
}

385 #i‡
deföed
 
__STDC__
 && __STDC__

386 c⁄° *
_gë›t_öôülize
 (, *const *, const *);

389 
	$_gë›t_öôülize
 (
¨gc
, 
¨gv
, 
›t°rög
)

390 
¨gc
;

391 *c⁄° *
¨gv
;

392 c⁄° *
›t°rög
;

398 
fú°_n⁄›t
 = 
œ°_n⁄›t
 = 
›töd
;

400 
√xtch¨
 = 
NULL
;

402 
posixly_c‹ª˘
 = 
	`gëív
 ("POSIXLY_CORRECT");

406 i‡(
›t°rög
[0] == '-')

408 
‹dîög
 = 
RETURN_IN_ORDER
;

409 ++
›t°rög
;

411 i‡(
›t°rög
[0] == '+')

413 
‹dîög
 = 
REQUIRE_ORDER
;

414 ++
›t°rög
;

416 i‡(
posixly_c‹ª˘
 !
NULL
)

417 
‹dîög
 = 
REQUIRE_ORDER
;

419 
‹dîög
 = 
PERMUTE
;

421 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


422 i‡(
posixly_c‹ª˘
 =
NULL


423 && 
¨gc
 =
__libc_¨gc
 && 
¨gv
 =
__libc_¨gv
)

425 i‡(
n⁄›ti⁄_Êags_max_Àn
 == 0)

427 i‡(
__gë›t_n⁄›ti⁄_Êags
 =
NULL


428 || 
__gë›t_n⁄›ti⁄_Êags
[0] == '\0')

429 
n⁄›ti⁄_Êags_max_Àn
 = -1;

432 c⁄° *
‹ig_°r
 = 
__gë›t_n⁄›ti⁄_Êags
;

433 
Àn
 = 
n⁄›ti⁄_Êags_max_Àn
 = 
	`°æí
 (
‹ig_°r
);

434 i‡(
n⁄›ti⁄_Êags_max_Àn
 < 
¨gc
)

435 
n⁄›ti⁄_Êags_max_Àn
 = 
¨gc
;

436 
__gë›t_n⁄›ti⁄_Êags
 =

437 (*Ë
	`mÆloc
 (
n⁄›ti⁄_Êags_max_Àn
);

438 i‡(
__gë›t_n⁄›ti⁄_Êags
 =
NULL
)

439 
n⁄›ti⁄_Êags_max_Àn
 = -1;

441 
	`mem£t
 (
	`__memp˝y
 (
__gë›t_n⁄›ti⁄_Êags
, 
‹ig_°r
, 
Àn
),

442 '\0', 
n⁄›ti⁄_Êags_max_Àn
 - 
Àn
);

445 
n⁄›ti⁄_Êags_Àn
 = 
n⁄›ti⁄_Êags_max_Àn
;

448 
n⁄›ti⁄_Êags_Àn
 = 0;

451  
›t°rög
;

452 
	}
}

511 
	$_gë›t_öã∫Æ
 (
¨gc
, 
¨gv
, 
›t°rög
, 
l⁄g›ts
, 
l⁄göd
, 
l⁄g_⁄ly
)

512 
¨gc
;

513 *c⁄° *
¨gv
;

514 c⁄° *
›t°rög
;

515 c⁄° 
›ti⁄
 *
l⁄g›ts
;

516 *
l⁄göd
;

517 
l⁄g_⁄ly
;

519 
¥öt_îr‹s
 = 
›ãº
;

520 i‡(
›t°rög
[0] == ':')

521 
¥öt_îr‹s
 = 0;

523 i‡(
¨gc
 < 1)

526 
›èrg
 = 
NULL
;

528 i‡(
›töd
 =0 || !
__gë›t_öôülized
)

530 i‡(
›töd
 == 0)

531 
›töd
 = 1;

532 
›t°rög
 = 
	`_gë›t_öôülize
 (
¨gc
, 
¨gv
, optstring);

533 
__gë›t_öôülized
 = 1;

540 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


541 
	#NONOPTION_P
 (
¨gv
[
›töd
][0] != '-' ||árgv[optind][1] == '\0' \

542 || (
›töd
 < 
n⁄›ti⁄_Êags_Àn
 \

543 && 
__gë›t_n⁄›ti⁄_Êags
[
›töd
] ='1'))

	)

545 
	#NONOPTION_P
 (
¨gv
[
›töd
][0] !'-' ||árgv[›töd][1] ='\0')

	)

548 i‡(
√xtch¨
 =
NULL
 || *nextchar == '\0')

554 i‡(
œ°_n⁄›t
 > 
›töd
)

555 
œ°_n⁄›t
 = 
›töd
;

556 i‡(
fú°_n⁄›t
 > 
›töd
)

557 
fú°_n⁄›t
 = 
›töd
;

559 i‡(
‹dîög
 =
PERMUTE
)

564 i‡(
fú°_n⁄›t
 !
œ°_n⁄›t
 &&Üa°_n⁄›à!
›töd
)

565 
	`exch™ge
 ((**Ë
¨gv
);

566 i‡(
œ°_n⁄›t
 !
›töd
)

567 
fú°_n⁄›t
 = 
›töd
;

572 
›töd
 < 
¨gc
 && 
NONOPTION_P
)

573 
›töd
++;

574 
œ°_n⁄›t
 = 
›töd
;

582 i‡(
›töd
 !
¨gc
 && !
	`°rcmp
 (
¨gv
[optind], "--"))

584 
›töd
++;

586 i‡(
fú°_n⁄›t
 !
œ°_n⁄›t
 &&Üa°_n⁄›à!
›töd
)

587 
	`exch™ge
 ((**Ë
¨gv
);

588 i‡(
fú°_n⁄›t
 =
œ°_n⁄›t
)

589 
fú°_n⁄›t
 = 
›töd
;

590 
œ°_n⁄›t
 = 
¨gc
;

592 
›töd
 = 
¨gc
;

598 i‡(
›töd
 =
¨gc
)

602 i‡(
fú°_n⁄›t
 !
œ°_n⁄›t
)

603 
›töd
 = 
fú°_n⁄›t
;

610 i‡(
NONOPTION_P
)

612 i‡(
‹dîög
 =
REQUIRE_ORDER
)

614 
›èrg
 = 
¨gv
[
›töd
++];

621 
√xtch¨
 = (
¨gv
[
›töd
] + 1

622 + (
l⁄g›ts
 !
NULL
 && 
¨gv
[
›töd
][1] == '-'));

640 i‡(
l⁄g›ts
 !
NULL


641 && (
¨gv
[
›töd
][1] == '-'

642 || (
l⁄g_⁄ly
 && (
¨gv
[
›töd
][2] || !
	`my_ödex
 (
›t°rög
,árgv[optind][1])))))

644 *
«mìnd
;

645 c⁄° 
›ti⁄
 *
p
;

646 c⁄° 
›ti⁄
 *
pfound
 = 
NULL
;

647 
exa˘
 = 0;

648 
ambig
 = 0;

649 
ödfound
 = -1;

650 
›ti⁄_ödex
;

652 
«mìnd
 = 
√xtch¨
; *nameend && *nameend != '=';Çameend++)

657 
p
 = 
l⁄g›ts
, 
›ti⁄_ödex
 = 0;Ö->
«me
;Ö++, option_index++)

658 i‡(!
	`°∫cmp
 (
p
->
«me
, 
√xtch¨
, 
«mìnd
 -Çextchar))

660 i‡((Ë(
«mìnd
 - 
√xtch¨
)

661 =(Ë
	`°æí
 (
p
->
«me
))

664 
pfound
 = 
p
;

665 
ödfound
 = 
›ti⁄_ödex
;

666 
exa˘
 = 1;

669 i‡(
pfound
 =
NULL
)

672 
pfound
 = 
p
;

673 
ödfound
 = 
›ti⁄_ödex
;

675 i‡(
l⁄g_⁄ly


676 || 
pfound
->
has_¨g
 !
p
->has_arg

677 || 
pfound
->
Êag
 !
p
->flag

678 || 
pfound
->
vÆ
 !
p
->val)

680 
ambig
 = 1;

683 i‡(
ambig
 && !
exa˘
)

685 i‡(
¥öt_îr‹s
)

686 
	`Ârötf
 (
°dîr
, 
	`_
("%s: option `%s' isámbiguous\n"),

687 
¨gv
[0],árgv[
›töd
]);

688 
√xtch¨
 +
	`°æí
 (nextchar);

689 
›töd
++;

690 
›t›t
 = 0;

694 i‡(
pfound
 !
NULL
)

696 
›ti⁄_ödex
 = 
ödfound
;

697 
›töd
++;

698 i‡(*
«mìnd
)

702 i‡(
pfound
->
has_¨g
)

703 
›èrg
 = 
«mìnd
 + 1;

706 i‡(
¥öt_îr‹s
)

708 i‡(
¨gv
[
›töd
 - 1][1] == '-')

710 
	`Ârötf
 (
°dîr
,

711 
	`_
("%s: option `--%s' doesn'tállowánárgument\n"),

712 
¨gv
[0], 
pfound
->
«me
);

715 
	`Ârötf
 (
°dîr
,

716 
	`_
("%s: option `%c%s' doesn'tállowánárgument\n"),

717 
¨gv
[0],árgv[
›töd
 - 1][0], 
pfound
->
«me
);

720 
√xtch¨
 +
	`°æí
 (nextchar);

722 
›t›t
 = 
pfound
->
vÆ
;

726 i‡(
pfound
->
has_¨g
 == 1)

728 i‡(
›töd
 < 
¨gc
)

729 
›èrg
 = 
¨gv
[
›töd
++];

732 i‡(
¥öt_îr‹s
)

733 
	`Ârötf
 (
°dîr
,

734 
	`_
("%s: option `%s'Ñequiresánárgument\n"),

735 
¨gv
[0],árgv[
›töd
 - 1]);

736 
√xtch¨
 +
	`°æí
 (nextchar);

737 
›t›t
 = 
pfound
->
vÆ
;

738  
›t°rög
[0] == ':' ? ':' : '?';

741 
√xtch¨
 +
	`°æí
 (nextchar);

742 i‡(
l⁄göd
 !
NULL
)

743 *
l⁄göd
 = 
›ti⁄_ödex
;

744 i‡(
pfound
->
Êag
)

746 *(
pfound
->
Êag
Ëpfound->
vÆ
;

749  
pfound
->
vÆ
;

756 i‡(!
l⁄g_⁄ly
 || 
¨gv
[
›töd
][1] == '-'

757 || 
	`my_ödex
 (
›t°rög
, *
√xtch¨
Ë=
NULL
)

759 i‡(
¥öt_îr‹s
)

761 i‡(
¨gv
[
›töd
][1] == '-')

763 
	`Ârötf
 (
°dîr
, 
	`_
("%s: unrecognized option `--%s'\n"),

764 
¨gv
[0], 
√xtch¨
);

767 
	`Ârötf
 (
°dîr
, 
	`_
("%s: unrecognized option `%c%s'\n"),

768 
¨gv
[0],árgv[
›töd
][0], 
√xtch¨
);

770 
√xtch¨
 = (*) "";

771 
›töd
++;

772 
›t›t
 = 0;

780 
c
 = *
√xtch¨
++;

781 *
ãmp
 = 
	`my_ödex
 (
›t°rög
, 
c
);

784 i‡(*
√xtch¨
 == '\0')

785 ++
›töd
;

787 i‡(
ãmp
 =
NULL
 || 
c
 == ':')

789 i‡(
¥öt_îr‹s
)

791 i‡(
posixly_c‹ª˘
)

793 
	`Ârötf
 (
°dîr
, 
	`_
("%s: illegal option -- %c\n"),

794 
¨gv
[0], 
c
);

796 
	`Ârötf
 (
°dîr
, 
	`_
("%s: invalid option -- %c\n"),

797 
¨gv
[0], 
c
);

799 
›t›t
 = 
c
;

803 i‡(
ãmp
[0] == 'W' &&Åemp[1] == ';')

805 *
«mìnd
;

806 c⁄° 
›ti⁄
 *
p
;

807 c⁄° 
›ti⁄
 *
pfound
 = 
NULL
;

808 
exa˘
 = 0;

809 
ambig
 = 0;

810 
ödfound
 = 0;

811 
›ti⁄_ödex
;

814 i‡(*
√xtch¨
 != '\0')

816 
›èrg
 = 
√xtch¨
;

819 
›töd
++;

821 i‡(
›töd
 =
¨gc
)

823 i‡(
¥öt_îr‹s
)

826 
	`Ârötf
 (
°dîr
, 
	`_
("%s: optionÑequiresánárgument -- %c\n"),

827 
¨gv
[0], 
c
);

829 
›t›t
 = 
c
;

830 i‡(
›t°rög
[0] == ':')

831 
c
 = ':';

833 
c
 = '?';

834  
c
;

839 
›èrg
 = 
¨gv
[
›töd
++];

844 
√xtch¨
 = 
«mìnd
 = 
›èrg
; *nameend && *nameend != '=';Çameend++)

849 
p
 = 
l⁄g›ts
, 
›ti⁄_ödex
 = 0;Ö !
NULL
 &&Ö->
«me
;Ö++, option_index++)

850 i‡(!
	`°∫cmp
 (
p
->
«me
, 
√xtch¨
, 
«mìnd
 -Çextchar))

852 i‡((Ë(
«mìnd
 - 
√xtch¨
Ë=
	`°æí
 (
p
->
«me
))

855 
pfound
 = 
p
;

856 
ödfound
 = 
›ti⁄_ödex
;

857 
exa˘
 = 1;

860 i‡(
pfound
 =
NULL
)

863 
pfound
 = 
p
;

864 
ödfound
 = 
›ti⁄_ödex
;

868 
ambig
 = 1;

870 i‡(
ambig
 && !
exa˘
)

872 i‡(
¥öt_îr‹s
)

873 
	`Ârötf
 (
°dîr
, 
	`_
("%s: option `-W %s' isámbiguous\n"),

874 
¨gv
[0],árgv[
›töd
]);

875 
√xtch¨
 +
	`°æí
 (nextchar);

876 
›töd
++;

879 i‡(
pfound
 !
NULL
)

881 
›ti⁄_ödex
 = 
ödfound
;

882 i‡(*
«mìnd
)

886 i‡(
pfound
->
has_¨g
)

887 
›èrg
 = 
«mìnd
 + 1;

890 i‡(
¥öt_îr‹s
)

891 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: option `-W %s' doesn'tállowánárgument\n"),

893 
¨gv
[0], 
pfound
->
«me
);

895 
√xtch¨
 +
	`°æí
 (nextchar);

899 i‡(
pfound
->
has_¨g
 == 1)

901 i‡(
›töd
 < 
¨gc
)

902 
›èrg
 = 
¨gv
[
›töd
++];

905 i‡(
¥öt_îr‹s
)

906 
	`Ârötf
 (
°dîr
,

907 
	`_
("%s: option `%s'Ñequiresánárgument\n"),

908 
¨gv
[0],árgv[
›töd
 - 1]);

909 
√xtch¨
 +
	`°æí
 (nextchar);

910  
›t°rög
[0] == ':' ? ':' : '?';

913 
√xtch¨
 +
	`°æí
 (nextchar);

914 i‡(
l⁄göd
 !
NULL
)

915 *
l⁄göd
 = 
›ti⁄_ödex
;

916 i‡(
pfound
->
Êag
)

918 *(
pfound
->
Êag
Ëpfound->
vÆ
;

921  
pfound
->
vÆ
;

923 
√xtch¨
 = 
NULL
;

926 i‡(
ãmp
[1] == ':')

928 i‡(
ãmp
[2] == ':')

931 i‡(*
√xtch¨
 != '\0')

933 
›èrg
 = 
√xtch¨
;

934 
›töd
++;

937 
›èrg
 = 
NULL
;

938 
√xtch¨
 = 
NULL
;

943 i‡(*
√xtch¨
 != '\0')

945 
›èrg
 = 
√xtch¨
;

948 
›töd
++;

950 i‡(
›töd
 =
¨gc
)

952 i‡(
¥öt_îr‹s
)

955 
	`Ârötf
 (
°dîr
,

956 
	`_
("%s: optionÑequiresánárgument -- %c\n"),

957 
¨gv
[0], 
c
);

959 
›t›t
 = 
c
;

960 i‡(
›t°rög
[0] == ':')

961 
c
 = ':';

963 
c
 = '?';

968 
›èrg
 = 
¨gv
[
›töd
++];

969 
√xtch¨
 = 
NULL
;

972  
c
;

974 
	}
}

977 
	$gë›t
 (
¨gc
, 
¨gv
, 
›t°rög
)

978 
¨gc
;

979 *c⁄° *
¨gv
;

980 c⁄° *
›t°rög
;

982  
	`_gë›t_öã∫Æ
 (
¨gc
, 
¨gv
, 
›t°rög
,

983 (c⁄° 
›ti⁄
 *) 0,

986 
	}
}

990 #ifde‡
TEST


996 
	$maö
 (
¨gc
, 
¨gv
)

997 
¨gc
;

998 **
¨gv
;

1000 
c
;

1001 
digô_›töd
 = 0;

1005 
this_›ti⁄_›töd
 = 
›töd
 ? optind : 1;

1007 
c
 = 
	`gë›t
 (
¨gc
, 
¨gv
, "abc:d:0123456789");

1008 i‡(
c
 == -1)

1011 
c
)

1023 i‡(
digô_›töd
 !0 && digô_›töd !
this_›ti⁄_›töd
)

1024 
	`¥ötf
 ("digits occur inÅwo differentárgv-elements.\n");

1025 
digô_›töd
 = 
this_›ti⁄_›töd
;

1026 
	`¥ötf
 ("›ti⁄ %c\n", 
c
);

1030 
	`¥ötf
 ("optioná\n");

1034 
	`¥ötf
 ("option b\n");

1038 
	`¥ötf
 ("›ti⁄ c wôh vÆuê`%s'\n", 
›èrg
);

1045 
	`¥ötf
 ("?? gë›àªtu∫ed ch¨a˘î codê0%ÿ??\n", 
c
);

1049 i‡(
›töd
 < 
¨gc
)

1051 
	`¥ötf
 ("non-option ARGV-elements: ");

1052 
›töd
 < 
¨gc
)

1053 
	`¥ötf
 ("%†", 
¨gv
[
›töd
++]);

1054 
	`¥ötf
 ("\n");

1057 
	`exô
 (0);

1058 
	}
}

	@examples/getopt/getopt.h

20 #i‚de‡
_GETOPT_H


22 #i‚de‡
__√ed_gë›t


23 
	#_GETOPT_H
 1

	)

33 #i‡!
deföed
 
__GNU_LIBRARY__


34 
	~<˘y≥.h
>

37 #ifdef 
__˝lu•lus


47 *
›èrg
;

61 
›töd
;

66 
›ãº
;

70 
›t›t
;

72 #i‚de‡
__√ed_gë›t


94 
	s›ti⁄


96 #i‡(
deföed
 
__STDC__
 && __STDC__Ë|| deföed 
__˝lu•lus


97 c⁄° *
	g«me
;

99 *
	g«me
;

103 
	ghas_¨g
;

104 *
	gÊag
;

105 
	gvÆ
;

110 
	#no_¨gumít
 0

	)

111 
	#ªquúed_¨gumít
 1

	)

112 
	#›ti⁄Æ_¨gumít
 2

	)

140 #i‡(
deföed
 
__STDC__
 && __STDC__Ë|| deföed 
__˝lu•lus


141 #ifde‡
__GNU_LIBRARY__


145 
gë›t
 (
__¨gc
, *c⁄° *
__¨gv
, c⁄° *
__sh‹t›ts
);

147 
gë›t
 ();

150 #i‚de‡
__√ed_gë›t


151 
gë›t_l⁄g
 (
__¨gc
, *c⁄° *
__¨gv
, c⁄° *
__sh‹t›ts
,

152 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
);

153 
gë›t_l⁄g_⁄ly
 (
__¨gc
, *c⁄° *
__¨gv
,

154 c⁄° *
__sh‹t›ts
,

155 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
);

158 
_gë›t_öã∫Æ
 (
__¨gc
, *c⁄° *
__¨gv
,

159 c⁄° *
__sh‹t›ts
,

160 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
,

161 
__l⁄g_⁄ly
);

164 
gë›t
 ();

165 #i‚de‡
__√ed_gë›t


166 
gë›t_l⁄g
 ();

167 
gë›t_l⁄g_⁄ly
 ();

169 
_gë›t_öã∫Æ
 ();

173 #ifdef 
__˝lu•lus


178 #unde‡
__√ed_gë›t


	@examples/getopt/getopt1.c

21 #ifde‡
HAVE_CONFIG_H


22 
	~<c⁄fig.h
>

25 
	~"gë›t.h
"

27 #i‡!
deföed
 
__STDC__
 || !__STDC__

31 c⁄°

	)

35 
	~<°dio.h
>

45 
	#GETOPT_INTERFACE_VERSION
 2

	)

46 #i‡!
deföed
 
_LIBC
 && deföed 
__GLIBC__
 && __GLIBC__ >= 2

47 
	~<gnu-vîsi⁄s.h
>

48 #i‡
_GNU_GETOPT_INTERFACE_VERSION
 =
GETOPT_INTERFACE_VERSION


49 
	#ELIDE_CODE


	)

53 #i‚de‡
ELIDE_CODE


58 #ifde‡
__GNU_LIBRARY__


59 
	~<°dlib.h
>

62 #i‚def 
NULL


63 
	#NULL
 0

	)

67 
	$gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
, 
›t_ödex
)

68 
¨gc
;

69 *c⁄° *
¨gv
;

70 c⁄° *
›ti⁄s
;

71 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
;

72 *
›t_ödex
;

74  
	`_gë›t_öã∫Æ
 (
¨gc
, 
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
, 
›t_ödex
, 0);

75 
	}
}

83 
	$gë›t_l⁄g_⁄ly
 (
¨gc
, 
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
, 
›t_ödex
)

84 
¨gc
;

85 *c⁄° *
¨gv
;

86 c⁄° *
›ti⁄s
;

87 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
;

88 *
›t_ödex
;

90  
	`_gë›t_öã∫Æ
 (
¨gc
, 
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
, 
›t_ödex
, 1);

91 
	}
}

96 #ifde‡
TEST


98 
	~<°dio.h
>

101 
	$maö
 (
¨gc
, 
¨gv
)

102 
¨gc
;

103 **
¨gv
;

105 
c
;

106 
digô_›töd
 = 0;

110 
this_›ti⁄_›töd
 = 
›töd
 ? optind : 1;

111 
›ti⁄_ödex
 = 0;

112 
›ti⁄
 
l⁄g_›ti⁄s
[] =

123 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "abc:d:0123456789",

124 
l⁄g_›ti⁄s
, &
›ti⁄_ödex
);

125 i‡(
c
 == -1)

128 
c
)

131 
	`¥ötf
 ("›ti⁄ %s", 
l⁄g_›ti⁄s
[
›ti⁄_ödex
].
«me
);

132 i‡(
›èrg
)

133 
	`¥ötf
 (" wôhárg %s", 
›èrg
);

134 
	`¥ötf
 ("\n");

147 i‡(
digô_›töd
 !0 && digô_›töd !
this_›ti⁄_›töd
)

148 
	`¥ötf
 ("digits occur inÅwo differentárgv-elements.\n");

149 
digô_›töd
 = 
this_›ti⁄_›töd
;

150 
	`¥ötf
 ("›ti⁄ %c\n", 
c
);

154 
	`¥ötf
 ("optioná\n");

158 
	`¥ötf
 ("option b\n");

162 
	`¥ötf
 ("›ti⁄ c wôh vÆuê`%s'\n", 
›èrg
);

166 
	`¥ötf
 ("›ti⁄ d wôh vÆuê`%s'\n", 
›èrg
);

173 
	`¥ötf
 ("?? gë›àªtu∫ed ch¨a˘î codê0%ÿ??\n", 
c
);

177 i‡(
›töd
 < 
¨gc
)

179 
	`¥ötf
 ("non-option ARGV-elements: ");

180 
›töd
 < 
¨gc
)

181 
	`¥ötf
 ("%†", 
¨gv
[
›töd
++]);

182 
	`¥ötf
 ("\n");

185 
	`exô
 (0);

186 
	}
}

	@examples/hotplugtest.c

21 
	~<°dlib.h
>

22 
	~<°dio.h
>

24 
	~"libusb.h
"

26 
	gd⁄e
 = 0;

27 
libusb_devi˚_h™dÀ
 *
	gh™dÀ
;

29 
LIBUSB_CALL
 
	$hŸ∂ug_ˇŒback
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_devi˚
 *
dev
, 
libusb_hŸ∂ug_evít
 
evít
, *
u£r_d©a
)

31 
libusb_devi˚_des¸ùt‹
 
desc
;

32 
rc
;

34 
rc
 = 
	`libusb_gë_devi˚_des¸ùt‹
(
dev
, &
desc
);

35 i‡(
LIBUSB_SUCCESS
 !
rc
) {

36 
	`Ârötf
 (
°dîr
, "Error getting device descriptor\n");

39 
	`¥ötf
 ("Devi˚áâached: %04x:%04x\n", 
desc
.
idVíd‹
, desc.
idProdu˘
);

41 
	`libusb_›í
 (
dev
, &
h™dÀ
);

43 
d⁄e
++;

46 
	}
}

48 
LIBUSB_CALL
 
	$hŸ∂ug_ˇŒback_dëach
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_devi˚
 *
dev
, 
libusb_hŸ∂ug_evít
 
evít
, *
u£r_d©a
)

50 
	`¥ötf
 ("Device detached\n");

52 
	`libusb_˛o£
 (
h™dÀ
);

54 
d⁄e
++;

56 
	}
}

58 
	$maö
(
¨gc
, *
¨gv
[])

60 
libusb_hŸ∂ug_ˇŒback_h™dÀ
 
hp
[2];

61 
¥odu˘_id
, 
víd‹_id
, 
˛ass_id
;

62 
rc
;

64 
víd‹_id
 = (
¨gc
 > 1Ë? 
	`°πﬁ
 (
¨gv
[1], 
NULL
, 0) : 0x045a;

65 
¥odu˘_id
 = (
¨gc
 > 2Ë? 
	`°πﬁ
 (
¨gv
[2], 
NULL
, 0) : 0x5005;

66 
˛ass_id
 = (
¨gc
 > 3Ë? 
	`°πﬁ
 (
¨gv
[3], 
NULL
, 0Ë: 
LIBUSB_HOTPLUG_MATCH_ANY
;

68 
rc
 = 
	`libusb_öô
 (
NULL
);

69 i‡(
rc
 < 0)

71 
	`¥ötf
("ÁûedÅÿöôüli£Üibusb: %s\n", 
	`libusb_îr‹_«me
(
rc
));

72  
EXIT_FAILURE
;

75 i‡(!
	`libusb_has_ˇ∑bûôy
 (
LIBUSB_CAP_HAS_HOTPLUG
)) {

76 
	`¥ötf
 ("Hotplug capabilitesáreÇot supported onÅhisÖlatform\n");

77 
	`libusb_exô
 (
NULL
);

78  
EXIT_FAILURE
;

81 
rc
 = 
	`libusb_hŸ∂ug_ªgi°î_ˇŒback
 (
NULL
, 
LIBUSB_HOTPLUG_EVENT_DEVICE_ARRIVED
, 0, 
víd‹_id
,

82 
¥odu˘_id
, 
˛ass_id
, 
hŸ∂ug_ˇŒback
, 
NULL
, &
hp
[0]);

83 i‡(
LIBUSB_SUCCESS
 !
rc
) {

84 
	`Ârötf
 (
°dîr
, "ErrorÑegistering callback 0\n");

85 
	`libusb_exô
 (
NULL
);

86  
EXIT_FAILURE
;

89 
rc
 = 
	`libusb_hŸ∂ug_ªgi°î_ˇŒback
 (
NULL
, 
LIBUSB_HOTPLUG_EVENT_DEVICE_LEFT
, 0, 
víd‹_id
,

90 
¥odu˘_id
,
˛ass_id
, 
hŸ∂ug_ˇŒback_dëach
, 
NULL
, &
hp
[1]);

91 i‡(
LIBUSB_SUCCESS
 !
rc
) {

92 
	`Ârötf
 (
°dîr
, "ErrorÑegistering callback 1\n");

93 
	`libusb_exô
 (
NULL
);

94  
EXIT_FAILURE
;

97 
d⁄e
 < 2) {

98 
rc
 = 
	`libusb_h™dÀ_evíts
 (
NULL
);

99 i‡(
rc
 < 0)

100 
	`¥ötf
("libusb_h™dÀ_evíts(ËÁûed: %s\n", 
	`libusb_îr‹_«me
(
rc
));

103 
	`libusb_exô
 (
NULL
);

104 
	}
}

	@examples/listdevs.c

20 
	~<°dio.h
>

22 
	~"libusb.h
"

24 
	$¥öt_devs
(
libusb_devi˚
 **
devs
)

26 
libusb_devi˚
 *
dev
;

27 
i
 = 0, 
j
 = 0;

28 
uöt8_t
 
∑th
[8];

30 (
dev
 = 
devs
[
i
++]Ë!
NULL
) {

31 
libusb_devi˚_des¸ùt‹
 
desc
;

32 
r
 = 
	`libusb_gë_devi˚_des¸ùt‹
(
dev
, &
desc
);

33 i‡(
r
 < 0) {

34 
	`Ârötf
(
°dîr
, "failedÅo get device descriptor");

38 
	`¥ötf
("%04x:%04x (bus %d, device %d)",

39 
desc
.
idVíd‹
, desc.
idProdu˘
,

40 
	`libusb_gë_bus_numbî
(
dev
), 
	`libusb_gë_devi˚_addªss
(dev));

42 
r
 = 
	`libusb_gë_p‹t_numbîs
(
dev
, 
∑th
, (path));

43 i‡(
r
 > 0) {

44 
	`¥ötf
("Ö©h: %d", 
∑th
[0]);

45 
j
 = 1; j < 
r
; j++)

46 
	`¥ötf
(".%d", 
∑th
[
j
]);

48 
	`¥ötf
("\n");

50 
	}
}

52 
	$maö
()

54 
libusb_devi˚
 **
devs
;

55 
r
;

56 
ssize_t
 
˙t
;

58 
r
 = 
	`libusb_öô
(
NULL
);

59 i‡(
r
 < 0)

60  
r
;

62 
˙t
 = 
	`libusb_gë_devi˚_li°
(
NULL
, &
devs
);

63 i‡(
˙t
 < 0)

64  (Ë
˙t
;

66 
	`¥öt_devs
(
devs
);

67 
	`libusb_‰ì_devi˚_li°
(
devs
, 1);

69 
	`libusb_exô
(
NULL
);

71 
	}
}

	@examples/sam3u_benchmark.c

25 
	~<uni°d.h
>

26 
	~<°dlib.h
>

27 
	~<°dio.h
>

28 
	~<î∫o.h
>

29 
	~<sig«l.h
>

31 
	~<libusb.h
>

34 
	#EP_DATA_IN
 0x82

	)

35 
	#EP_ISO_IN
 0x86

	)

37 
	gdo_exô
 = 0;

38 
libusb_devi˚_h™dÀ
 *
	gdevh
 = 
NULL
;

40 
	gnum_byãs
 = 0, 
	gnum_x„r
 = 0;

41 
timevÆ
 
	gtv_°¨t
;

43 
LIBUSB_CALL
 
	$cb_x‰
(
libusb_å™s„r
 *
x‰
)

45 
i
;

47 i‡(
x‰
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

48 
	`Ârötf
(
°dîr
, "å™s„∏°©u†%d\n", 
x‰
->
°©us
);

49 
	`libusb_‰ì_å™s„r
(
x‰
);

50 
	`exô
(3);

53 i‡(
x‰
->
ty≥
 =
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
) {

54 
i
 = 0; i < 
x‰
->
num_iso_∑ckës
; i++) {

55 
libusb_iso_∑ckë_des¸ùt‹
 *
∑ck
 = &
x‰
->
iso_∑ckë_desc
[
i
];

57 i‡(
∑ck
->
°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

58 
	`Ârötf
(
°dîr
, "Eº‹:Öack %u sètu†%d\n", 
i
, 
∑ck
->
°©us
);

59 
	`exô
(5);

62 
	`¥ötf
("∑ck%uÜígth:%u,á˘uÆ_Àngth:%u\n", 
i
, 
∑ck
->
Àngth
,Öack->
a˘uÆ_Àngth
);

66 
	`¥ötf
("Àngth:%u,á˘uÆ_Àngth:%u\n", 
x‰
->
Àngth
, x‰->
a˘uÆ_Àngth
);

67 
i
 = 0; i < 
x‰
->
a˘uÆ_Àngth
; i++) {

68 
	`¥ötf
("%02x", 
x‰
->
buf„r
[
i
]);

69 i‡(
i
 % 16)

70 
	`¥ötf
("\n");

71 i‡(
i
 % 8)

72 
	`¥ötf
(" ");

74 
	`¥ötf
(" ");

76 
num_byãs
 +
x‰
->
a˘uÆ_Àngth
;

77 
num_x„r
++;

79 i‡(
	`libusb_submô_å™s„r
(
x‰
) < 0) {

80 
	`Ârötf
(
°dîr
, "errorÑe-submitting URB\n");

81 
	`exô
(1);

83 
	}
}

85 
	$bíchm¨k_ö
(
uöt8_t
 
ï
)

87 
uöt8_t
 
buf
[2048];

88 
libusb_å™s„r
 *
x‰
;

89 
num_iso_∑ck
 = 0;

91 i‡(
ï
 =
EP_ISO_IN
)

92 
num_iso_∑ck
 = 16;

94 
x‰
 = 
	`libusb_Æloc_å™s„r
(
num_iso_∑ck
);

95 i‡(!
x‰
)

96  -
ENOMEM
;

98 i‡(
ï
 =
EP_ISO_IN
) {

99 
	`libusb_fûl_iso_å™s„r
(
x‰
, 
devh
, 
ï
, 
buf
,

100 (
buf
), 
num_iso_∑ck
, 
cb_x‰
, 
NULL
, 0);

101 
	`libusb_£t_iso_∑ckë_Àngths
(
x‰
, (
buf
)/
num_iso_∑ck
);

103 
	`libusb_fûl_bulk_å™s„r
(
x‰
, 
devh
, 
ï
, 
buf
,

104 (
buf
), 
cb_x‰
, 
NULL
, 0);

106 
	`gëtimeofday
(&
tv_°¨t
, 
NULL
);

122  
	`libusb_submô_å™s„r
(
x‰
);

123 
	}
}

125 
	$mósuª
()

127 
timevÆ
 
tv_°›
;

128 
diff_m£c
;

130 
	`gëtimeofday
(&
tv_°›
, 
NULL
);

132 
diff_m£c
 = (
tv_°›
.
tv_£c
 - 
tv_°¨t
.tv_sec)*1000;

133 
diff_m£c
 +(
tv_°›
.
tv_u£c
 - 
tv_°¨t
.tv_usec)/1000;

135 
	`¥ötf
("%luÅransfers (total %lu bytes) in %u miliseconds => %lu bytes/sec\n",

136 
num_x„r
, 
num_byãs
, 
diff_m£c
, (num_bytes*1000)/diff_msec);

137 
	}
}

139 
	$sig_hdÃ
(
signum
)

141 
signum
) {

142 
SIGINT
:

143 
	`mósuª
();

144 
do_exô
 = 1;

147 
	}
}

149 
	$maö
(
¨gc
, **
¨gv
)

151 
rc
;

152 
siga˘i⁄
 
siga˘
;

154 
siga˘
.
ß_h™dÀr
 = 
sig_hdÃ
;

155 
	`sigem±y£t
(&
siga˘
.
ß_mask
);

156 
siga˘
.
ß_Êags
 = 0;

157 
	`siga˘i⁄
(
SIGINT
, &
siga˘
, 
NULL
);

159 
rc
 = 
	`libusb_öô
(
NULL
);

160 i‡(
rc
 < 0) {

161 
	`Ârötf
(
°dîr
, "Eº‹ inôülizögÜibusb: %s\n", 
	`libusb_îr‹_«me
(
rc
));

162 
	`exô
(1);

165 
devh
 = 
	`libusb_›í_devi˚_wôh_vid_pid
(
NULL
, 0x16c0, 0x0763);

166 i‡(!
devh
) {

167 
	`Ârötf
(
°dîr
, "Error finding USB device\n");

168 
out
;

171 
rc
 = 
	`libusb_˛aim_öãrÁ˚
(
devh
, 2);

172 i‡(
rc
 < 0) {

173 
	`Ârötf
(
°dîr
, "Eº‹ cœimög i¡îÁ˚: %s\n", 
	`libusb_îr‹_«me
(
rc
));

174 
out
;

177 
	`bíchm¨k_ö
(
EP_ISO_IN
);

179 !
do_exô
) {

180 
rc
 = 
	`libusb_h™dÀ_evíts
(
NULL
);

181 i‡(
rc
 !
LIBUSB_SUCCESS
)

187 
	`libusb_ªÀa£_öãrÁ˚
(
devh
, 0);

188 
out
:

189 i‡(
devh
)

190 
	`libusb_˛o£
(
devh
);

191 
	`libusb_exô
(
NULL
);

192  
rc
;

193 
	}
}

	@examples/xusb.c

21 
	~<°dio.h
>

22 
	~<°döt.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

25 
	~<°d¨g.h
>

27 
	~"libusb.h
"

29 #i‡
deföed
(
_WIN32
)

30 
	#m¶ìp
(
m£cs
Ë
	`SÀï
(m£cs)

	)

32 
	~<uni°d.h
>

33 
	#m¶ìp
(
m£cs
Ë
	`u¶ìp
(1000*m£cs)

	)

36 #i‡
deföed
(
_MSC_VER
)

37 
	#¢¥ötf
 
_¢¥ötf


	)

38 
	#puãnv
 
_puãnv


	)

41 #i‡!
deföed
(
boﬁ
)

42 
	#boﬁ
 

	)

44 #i‡!
deföed
(
åue
)

45 
	#åue
 (1 =1)

	)

47 #i‡!
deföed
(
Ál£
)

48 
	#Ál£
 (!
åue
)

	)

53 
	#usb_öãrÁ˚
 
öãrÁ˚


	)

56 
boﬁ
 
	gbö¨y_dump
 = 
Ál£
;

57 
boﬁ
 
	gexåa_öfo
 = 
Ál£
;

58 
boﬁ
 
	gf‹˚_devi˚_ªque°
 = 
Ál£
;

59 c⁄° * 
	gbö¨y_«me
 = 
NULL
;

61 
	$≥º
(c⁄° *
f‹m©
, ...)

63 
va_li°
 
¨gs
;

64 
r
;

66 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

67 
r
 = 
	`vÂrötf
(
°dîr
, 
f‹m©
, 
¨gs
);

68 
	`va_íd
(
¨gs
);

70  
r
;

71 
	}
}

73 
	#ERR_EXIT
(
îrcode
Ëdÿ{ 
	`≥º
(" %s\n", 
	`libusb_°ªº‹
((
libusb_îr‹
Îºcode));  -1; } 0)

	)

74 
	#CALL_CHECK
(
fˇŒ
Ëdÿ{ 
r
=fˇŒ; i‡‘ < 0Ë
	`ERR_EXIT
‘); } 0);

	)

75 
	#B
(
x
Ë(((x)!=0)?1:0)

	)

76 
	#be_to_öt32
(
buf
Ë(((buf)[0]<<24)|((buf)[1]<<16)|((buf)[2]<<8)|(buf)[3])

	)

78 
	#RETRY_MAX
 5

	)

79 
	#REQUEST_SENSE_LENGTH
 0x12

	)

80 
	#INQUIRY_LENGTH
 0x24

	)

81 
	#READ_CAPACITY_LENGTH
 0x08

	)

84 
	#HID_GET_REPORT
 0x01

	)

85 
	#HID_GET_IDLE
 0x02

	)

86 
	#HID_GET_PROTOCOL
 0x03

	)

87 
	#HID_SET_REPORT
 0x09

	)

88 
	#HID_SET_IDLE
 0x0A

	)

89 
	#HID_SET_PROTOCOL
 0x0B

	)

90 
	#HID_REPORT_TYPE_INPUT
 0x01

	)

91 
	#HID_REPORT_TYPE_OUTPUT
 0x02

	)

92 
	#HID_REPORT_TYPE_FEATURE
 0x03

	)

95 
	#BOMS_RESET
 0xFF

	)

96 
	#BOMS_GET_MAX_LUN
 0xFE

	)

99 
	scomm™d_block_wøµî
 {

100 
uöt8_t
 
	mdCBWSig«tuª
[4];

101 
uöt32_t
 
	mdCBWTag
;

102 
uöt32_t
 
	mdCBWD©aTøns„rLígth
;

103 
uöt8_t
 
	mbmCBWFœgs
;

104 
uöt8_t
 
	mbCBWLUN
;

105 
uöt8_t
 
	mbCBWCBLígth
;

106 
uöt8_t
 
	mCBWCB
[16];

110 
	scomm™d_°©us_wøµî
 {

111 
uöt8_t
 
	mdCSWSig«tuª
[4];

112 
uöt32_t
 
	mdCSWTag
;

113 
uöt32_t
 
	mdCSWD©aResidue
;

114 
uöt8_t
 
	mbCSWSètus
;

117 
uöt8_t
 
	gcdb_Àngth
[256] = {

137 
	eã°_ty≥
 {

138 
	mUSE_GENERIC
,

139 
	mUSE_PS3
,

140 
	mUSE_XBOX
,

141 
	mUSE_SCSI
,

142 
	mUSE_HID
,

143 } 
	gã°_mode
;

144 
uöt16_t
 
	gVID
, 
	gPID
;

146 
	$di•œy_buf„r_hex
(*
buf„r
, 
size
)

148 
i
, 
j
, 
k
;

150 
i
=0; i<
size
; i+=16) {

151 
	`¥ötf
("\¿ %08x ", 
i
);

152 
j
=0,
k
=0; k<16; j++,k++) {

153 i‡(
i
+
j
 < 
size
) {

154 
	`¥ötf
("%02x", 
buf„r
[
i
+
j
]);

156 
	`¥ötf
(" ");

158 
	`¥ötf
(" ");

160 
	`¥ötf
(" ");

161 
j
=0,
k
=0; k<16; j++,k++) {

162 i‡(
i
+
j
 < 
size
) {

163 i‡((
buf„r
[
i
+
j
] < 32) || (buffer[i+j] > 126)) {

164 
	`¥ötf
(".");

166 
	`¥ötf
("%c", 
buf„r
[
i
+
j
]);

171 
	`¥ötf
("\n" );

172 
	}
}

174 * 
	$uuid_to_°rög
(c⁄° 
uöt8_t
* 
uuid
)

176 
uuid_°rög
[40];

177 i‡(
uuid
 =
NULL
)  NULL;

178 
	`•rötf
(
uuid_°rög
, "{%02x%02x%02x%02x-%02x%02x-%02x%02x-%02x%02x-%02x%02x%02x%02x%02x%02x}",

179 
uuid
[0], uuid[1], uuid[2], uuid[3], uuid[4], uuid[5], uuid[6], uuid[7],

180 
uuid
[8], uuid[9], uuid[10], uuid[11], uuid[12], uuid[13], uuid[14], uuid[15]);

181  
uuid_°rög
;

182 
	}
}

186 
	$di•œy_ps3_°©us
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

188 
r
;

189 
uöt8_t
 
öput_ªp‹t
[49];

190 
uöt8_t
 
ma°î_bt_addªss
[8];

191 
uöt8_t
 
devi˚_bt_addªss
[18];

194 
	`CALL_CHECK
(
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

195 
HID_GET_REPORT
, 0x03f5, 0, 
ma°î_bt_addªss
, (master_bt_address), 100));

196 
	`¥ötf
("\nMa°î'†bluëoŸháddªss: %02X:%02X:%02X:%02X:%02X:%02X\n", 
ma°î_bt_addªss
[2], master_bt_address[3],

197 
ma°î_bt_addªss
[4], master_bt_address[5], master_bt_address[6], master_bt_address[7]);

200 
	`CALL_CHECK
(
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

201 
HID_GET_REPORT
, 0x03f2, 0, 
devi˚_bt_addªss
, (device_bt_address), 100));

202 
	`¥ötf
("\nMa°î'†bluëoŸháddªss: %02X:%02X:%02X:%02X:%02X:%02X\n", 
devi˚_bt_addªss
[4], device_bt_address[5],

203 
devi˚_bt_addªss
[6], device_bt_address[7], device_bt_address[8], device_bt_address[9]);

206 
	`¥ötf
("\nReading PS3 Input Report...\n");

207 
	`CALL_CHECK
(
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

208 
HID_GET_REPORT
, (
HID_REPORT_TYPE_INPUT
<<8)|0x01, 0, 
öput_ªp‹t
, (input_report), 1000));

209 
öput_ªp‹t
[2]){

211 
	`¥ötf
("\tSELECTÖressed\n");

214 
	`¥ötf
("\tLEFT 3Öressed\n");

217 
	`¥ötf
("\tRIGHT 3Öressed\n");

220 
	`¥ötf
("\tSTARTÖresed\n");

223 
	`¥ötf
("\tUPÖressed\n");

226 
	`¥ötf
("\tRIGHTÖressed\n");

229 
	`¥ötf
("\tDOWNÖressed\n");

232 
	`¥ötf
("\tLEFTÖressed\n");

235 
öput_ªp‹t
[3]){

237 
	`¥ötf
("\tLEFT 2Öressed\n");

240 
	`¥ötf
("\tRIGHT 2Öressed\n");

243 
	`¥ötf
("\tLEFT 1Öressed\n");

246 
	`¥ötf
("\tRIGHT 1Öresed\n");

249 
	`¥ötf
("\tTRIANGLEÖressed\n");

252 
	`¥ötf
("\tCIRCLEÖressed\n");

255 
	`¥ötf
("\tCROSSÖressed\n");

258 
	`¥ötf
("\tSQUAREÖressed\n");

261 
	`¥ötf
("\tPS buâ⁄: %d\n", 
öput_ªp‹t
[4]);

262 
	`¥ötf
("\tLe· A«log (X,Y): (%d,%d)\n", 
öput_ªp‹t
[6], input_report[7]);

263 
	`¥ötf
("\tRighàA«log (X,Y): (%d,%d)\n", 
öput_ªp‹t
[8], input_report[9]);

264 
	`¥ötf
("\tL2 VÆue: %d\tR2 VÆue: %d\n", 
öput_ªp‹t
[18], input_report[19]);

265 
	`¥ötf
("\tL1 VÆue: %d\tR1 VÆue: %d\n", 
öput_ªp‹t
[20], input_report[21]);

266 
	`¥ötf
("\tRoll (xáxis): %d Yaw (yáxis): %d Pitch (záxis) %d\n",

268 (
öt8_t
)(
öput_ªp‹t
[42]),

269 (
öt8_t
)(
öput_ªp‹t
[44]),

270 (
öt8_t
)(
öput_ªp‹t
[46]));

271 
	`¥ötf
("\tAc˚Àøti⁄: %d\n\n", (
öt8_t
)(
öput_ªp‹t
[48]));

273 
	}
}

277 
	$di•œy_xbox_°©us
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

279 
r
;

280 
uöt8_t
 
öput_ªp‹t
[20];

281 
	`¥ötf
("\nReading XBox Input Report...\n");

282 
	`CALL_CHECK
(
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

283 
HID_GET_REPORT
, (
HID_REPORT_TYPE_INPUT
<<8)|0x00, 0, 
öput_ªp‹t
, 20, 1000));

284 
	`¥ötf
(" D-∑d: %02X\n", 
öput_ªp‹t
[2]&0x0F);

285 
	`¥ötf
(" Sèπ:%d, Back:%d, Le· Stick Pªss:%d, RighàStick Pªss:%d\n", 
	`B
(
öput_ªp‹t
[2]&0x10), B(input_report[2]&0x20),

286 
	`B
(
öput_ªp‹t
[2]&0x40), B(input_report[2]&0x80));

288 
	`¥ötf
(" A:%d, B:%d, X:%d, Y:%d, Whôe:%d, Bœck:%d\n", 
öput_ªp‹t
[4], input_report[5],

289 
öput_ªp‹t
[6], input_report[7], input_report[9], input_report[8]);

290 
	`¥ötf
(" Le· Triggî: %d, RighàTriggî: %d\n", 
öput_ªp‹t
[10], input_report[11]);

291 
	`¥ötf
(" Le· A«log (X,Y): (%d,%d)\n", (
öt16_t
)((
öput_ªp‹t
[13]<<8)|input_report[12]),

292 (
öt16_t
)((
öput_ªp‹t
[15]<<8)|input_report[14]));

293 
	`¥ötf
(" RighàA«log (X,Y): (%d,%d)\n", (
öt16_t
)((
öput_ªp‹t
[17]<<8)|input_report[16]),

294 (
öt16_t
)((
öput_ªp‹t
[19]<<8)|input_report[18]));

296 
	}
}

298 
	$£t_xbox_a˘u©‹s
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
À·
, uöt8_à
right
)

300 
r
;

301 
uöt8_t
 
ouçut_ªp‹t
[6];

303 
	`¥ötf
("\nWriting XBox Controller Output Report...\n");

305 
	`mem£t
(
ouçut_ªp‹t
, 0, (output_report));

306 
ouçut_ªp‹t
[1] = (output_report);

307 
ouçut_ªp‹t
[3] = 
À·
;

308 
ouçut_ªp‹t
[5] = 
right
;

310 
	`CALL_CHECK
(
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_OUT
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

311 
HID_SET_REPORT
, (
HID_REPORT_TYPE_OUTPUT
<<8)|0x00, 0, 
ouçut_ªp‹t
, 06, 1000));

313 
	}
}

315 
	$£nd_mass_°‹age_comm™d
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
ídpoöt
, uöt8_à
lun
,

316 
uöt8_t
 *
cdb
, uöt8_à
dúe˘i⁄
, 
d©a_Àngth
, 
uöt32_t
 *
ªt_èg
)

318 
uöt32_t
 
èg
 = 1;

319 
uöt8_t
 
cdb_Àn
;

320 
i
, 
r
, 
size
;

321 
comm™d_block_wøµî
 
cbw
;

323 i‡(
cdb
 =
NULL
) {

327 i‡(
ídpoöt
 & 
LIBUSB_ENDPOINT_IN
) {

328 
	`≥º
("send_mass_storage_command: cannot send command on INÉndpoint\n");

332 
cdb_Àn
 = 
cdb_Àngth
[
cdb
[0]];

333 i‡((
cdb_Àn
 =0Ë|| (cdb_À¿> (
cbw
.
CBWCB
))) {

334 
	`≥º
("send_mass_storage_command: don't know howÅo handleÅhis command (%02X,Üength %d)\n",

335 
cdb
[0], 
cdb_Àn
);

339 
	`mem£t
(&
cbw
, 0, (cbw));

340 
cbw
.
dCBWSig«tuª
[0] = 'U';

341 
cbw
.
dCBWSig«tuª
[1] = 'S';

342 
cbw
.
dCBWSig«tuª
[2] = 'B';

343 
cbw
.
dCBWSig«tuª
[3] = 'C';

344 *
ªt_èg
 = 
èg
;

345 
cbw
.
dCBWTag
 = 
èg
++;

346 
cbw
.
dCBWD©aTøns„rLígth
 = 
d©a_Àngth
;

347 
cbw
.
bmCBWFœgs
 = 
dúe˘i⁄
;

348 
cbw
.
bCBWLUN
 = 
lun
;

350 
cbw
.
bCBWCBLígth
 = 
cdb_Àn
;

351 
	`mem˝y
(
cbw
.
CBWCB
, 
cdb
, 
cdb_Àn
);

353 
i
 = 0;

356 
r
 = 
	`libusb_bulk_å™s„r
(
h™dÀ
, 
ídpoöt
, (*)&
cbw
, 31, &
size
, 1000);

357 i‡(
r
 =
LIBUSB_ERROR_PIPE
) {

358 
	`libusb_˛ór_hÆt
(
h™dÀ
, 
ídpoöt
);

360 
i
++;

361 } (
r
 =
LIBUSB_ERROR_PIPE
Ë&& (
i
<
RETRY_MAX
));

362 i‡(
r
 !
LIBUSB_SUCCESS
) {

363 
	`≥º
(" síd_mass_°‹age_comm™d: %s\n", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

367 
	`¥ötf
(" síà%d CDB byãs\n", 
cdb_Àn
);

369 
	}
}

371 
	$gë_mass_°‹age_°©us
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
ídpoöt
, 
uöt32_t
 
ex≥˘ed_èg
)

373 
i
, 
r
, 
size
;

374 
comm™d_°©us_wøµî
 
csw
;

378 
i
 = 0;

380 
r
 = 
	`libusb_bulk_å™s„r
(
h™dÀ
, 
ídpoöt
, (*)&
csw
, 13, &
size
, 1000);

381 i‡(
r
 =
LIBUSB_ERROR_PIPE
) {

382 
	`libusb_˛ór_hÆt
(
h™dÀ
, 
ídpoöt
);

384 
i
++;

385 } (
r
 =
LIBUSB_ERROR_PIPE
Ë&& (
i
<
RETRY_MAX
));

386 i‡(
r
 !
LIBUSB_SUCCESS
) {

387 
	`≥º
(" gë_mass_°‹age_°©us: %s\n", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

390 i‡(
size
 != 13) {

391 
	`≥º
(" gë_mass_°‹age_°©us:Ñe˚ived %d byã†”x≥˘ed 13)\n", 
size
);

394 i‡(
csw
.
dCSWTag
 !
ex≥˘ed_èg
) {

395 
	`≥º
(" get_mass_storage_status: mismatchedÅags (expected %08X,Ñeceived %08X)\n",

396 
ex≥˘ed_èg
, 
csw
.
dCSWTag
);

400 
	`¥ötf
(" Mas†St‹agêSètus: %02X (%s)\n", 
csw
.
bCSWSètus
, csw.bCSWStatus?"FAILED":"Success");

401 i‡(
csw
.
dCSWTag
 !
ex≥˘ed_èg
)

403 i‡(
csw
.
bCSWSètus
) {

407 i‡(
csw
.
bCSWSètus
 == 1)

416 
	}
}

418 
	$gë_£n£
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
ídpoöt_ö
, uöt8_à
ídpoöt_out
)

420 
uöt8_t
 
cdb
[16];

421 
uöt8_t
 
£n£
[18];

422 
uöt32_t
 
ex≥˘ed_èg
;

423 
size
;

424 
rc
;

427 
	`¥ötf
("Request Sense:\n");

428 
	`mem£t
(
£n£
, 0, (sense));

429 
	`mem£t
(
cdb
, 0, (cdb));

430 
cdb
[0] = 0x03;

431 
cdb
[4] = 
REQUEST_SENSE_LENGTH
;

433 
	`£nd_mass_°‹age_comm™d
(
h™dÀ
, 
ídpoöt_out
, 0, 
cdb
, 
LIBUSB_ENDPOINT_IN
, 
REQUEST_SENSE_LENGTH
, &
ex≥˘ed_èg
);

434 
rc
 = 
	`libusb_bulk_å™s„r
(
h™dÀ
, 
ídpoöt_ö
, (*)&
£n£
, 
REQUEST_SENSE_LENGTH
, &
size
, 1000);

435 i‡(
rc
 < 0)

437 
	`¥ötf
("libusb_bulk_å™s„∏Áûed: %s\n", 
	`libusb_îr‹_«me
(
rc
));

440 
	`¥ötf
("Ñe˚ived %d byãs\n", 
size
);

442 i‡((
£n£
[0] != 0x70) && (sense[0] != 0x71)) {

443 
	`≥º
(" ERROR No sense data\n");

445 
	`≥º
(" ERROR Sí£: %02X %02X %02X\n", 
£n£
[2]&0x0F, sense[12], sense[13]);

450 
	`gë_mass_°‹age_°©us
(
h™dÀ
, 
ídpoöt_ö
, 
ex≥˘ed_èg
);

451 
	}
}

454 
	$ã°_mass_°‹age
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
ídpoöt_ö
, uöt8_à
ídpoöt_out
)

456 
r
, 
size
;

457 
uöt8_t
 
lun
;

458 
uöt32_t
 
ex≥˘ed_èg
;

459 
uöt32_t
 
i
, 
max_lba
, 
block_size
;

460 
devi˚_size
;

461 
uöt8_t
 
cdb
[16];

462 
uöt8_t
 
buf„r
[64];

463 
vid
[9], 
pid
[9], 
ªv
[5];

464 *
d©a
;

465 
FILE
 *
fd
;

467 
	`¥ötf
("Reading Max LUN:\n");

468 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

469 
BOMS_GET_MAX_LUN
, 0, 0, &
lun
, 1, 1000);

472 i‡(
r
 == 0) {

473 
lun
 = 0;

474 } i‡(
r
 < 0) {

475 
	`≥º
(" Faûed: %s", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

477 
	`¥ötf
(" Max LUN = %d\n", 
lun
);

480 
	`¥ötf
("Sending Inquiry:\n");

481 
	`mem£t
(
buf„r
, 0, (buffer));

482 
	`mem£t
(
cdb
, 0, (cdb));

483 
cdb
[0] = 0x12;

484 
cdb
[4] = 
INQUIRY_LENGTH
;

486 
	`£nd_mass_°‹age_comm™d
(
h™dÀ
, 
ídpoöt_out
, 
lun
, 
cdb
, 
LIBUSB_ENDPOINT_IN
, 
INQUIRY_LENGTH
, &
ex≥˘ed_èg
);

487 
	`CALL_CHECK
(
	`libusb_bulk_å™s„r
(
h™dÀ
, 
ídpoöt_ö
, (*)&
buf„r
, 
INQUIRY_LENGTH
, &
size
, 1000));

488 
	`¥ötf
("Ñe˚ived %d byãs\n", 
size
);

490 
i
=0; i<8; i++) {

491 
vid
[
i
] = 
buf„r
[8+i];

492 
pid
[
i
] = 
buf„r
[16+i];

493 
ªv
[
i
/2] = 
buf„r
[32+i/2];

495 
vid
[8] = 0;

496 
pid
[8] = 0;

497 
ªv
[4] = 0;

498 
	`¥ötf
(" VID:PID:REV \"%8s\":\"%8s\":\"%4s\"\n", 
vid
, 
pid
, 
ªv
);

499 i‡(
	`gë_mass_°‹age_°©us
(
h™dÀ
, 
ídpoöt_ö
, 
ex≥˘ed_èg
) == -2) {

500 
	`gë_£n£
(
h™dÀ
, 
ídpoöt_ö
, 
ídpoöt_out
);

504 
	`¥ötf
("Reading Capacity:\n");

505 
	`mem£t
(
buf„r
, 0, (buffer));

506 
	`mem£t
(
cdb
, 0, (cdb));

507 
cdb
[0] = 0x25;

509 
	`£nd_mass_°‹age_comm™d
(
h™dÀ
, 
ídpoöt_out
, 
lun
, 
cdb
, 
LIBUSB_ENDPOINT_IN
, 
READ_CAPACITY_LENGTH
, &
ex≥˘ed_èg
);

510 
	`CALL_CHECK
(
	`libusb_bulk_å™s„r
(
h™dÀ
, 
ídpoöt_ö
, (*)&
buf„r
, 
READ_CAPACITY_LENGTH
, &
size
, 1000));

511 
	`¥ötf
("Ñe˚ived %d byãs\n", 
size
);

512 
max_lba
 = 
	`be_to_öt32
(&
buf„r
[0]);

513 
block_size
 = 
	`be_to_öt32
(&
buf„r
[4]);

514 
devi˚_size
 = (()(
max_lba
+1))*
block_size
/(1024*1024*1024);

515 
	`¥ötf
(" Max LBA: %08X, Block Size: %08X (%.2‡GB)\n", 
max_lba
, 
block_size
, 
devi˚_size
);

516 i‡(
	`gë_mass_°‹age_°©us
(
h™dÀ
, 
ídpoöt_ö
, 
ex≥˘ed_èg
) == -2) {

517 
	`gë_£n£
(
h™dÀ
, 
ídpoöt_ö
, 
ídpoöt_out
);

521 
d©a
 = (*Ë
	`ˇŒoc
(1, 
block_size
);

522 i‡(
d©a
 =
NULL
) {

523 
	`≥º
(" unableÅoállocate data buffer\n");

528 
	`¥ötf
("Aâem±ögÅÿªad %d byãs:\n", 
block_size
);

529 
	`mem£t
(
cdb
, 0, (cdb));

531 
cdb
[0] = 0x28;

532 
cdb
[8] = 0x01;

534 
	`£nd_mass_°‹age_comm™d
(
h™dÀ
, 
ídpoöt_out
, 
lun
, 
cdb
, 
LIBUSB_ENDPOINT_IN
, 
block_size
, &
ex≥˘ed_èg
);

535 
	`libusb_bulk_å™s„r
(
h™dÀ
, 
ídpoöt_ö
, 
d©a
, 
block_size
, &
size
, 5000);

536 
	`¥ötf
(" READ:Ñe˚ived %d byãs\n", 
size
);

537 i‡(
	`gë_mass_°‹age_°©us
(
h™dÀ
, 
ídpoöt_ö
, 
ex≥˘ed_èg
) == -2) {

538 
	`gë_£n£
(
h™dÀ
, 
ídpoöt_ö
, 
ídpoöt_out
);

540 
	`di•œy_buf„r_hex
(
d©a
, 
size
);

541 i‡((
bö¨y_dump
Ë&& ((
fd
 = 
	`f›í
(
bö¨y_«me
, "w")Ë!
NULL
)) {

542 i‡(
	`fwrôe
(
d©a
, 1, (
size_t
)
size
, 
fd
) != ()size) {

543 
	`≥º
(" unableÅo write binary data\n");

545 
	`f˛o£
(
fd
);

548 
	`‰ì
(
d©a
);

551 
	}
}

554 
	$gë_hid_ªc‹d_size
(
uöt8_t
 *
hid_ªp‹t_des¸ùt‹
, 
size
, 
ty≥
)

556 
uöt8_t
 
i
, 
j
 = 0;

557 
uöt8_t
 
off£t
;

558 
ªc‹d_size
[3] = {0, 0, 0};

559 
nb_bôs
 = 0, 
nb_ôems
 = 0;

560 
boﬁ
 
found_ªc‹d_m¨kî
;

562 
found_ªc‹d_m¨kî
 = 
Ál£
;

563 
i
 = 
hid_ªp‹t_des¸ùt‹
[0]+1; i < 
size
; i +
off£t
) {

564 
off£t
 = (
hid_ªp‹t_des¸ùt‹
[
i
]&0x03) + 1;

565 i‡(
off£t
 == 4)

566 
off£t
 = 5;

567 
hid_ªp‹t_des¸ùt‹
[
i
] & 0xFC) {

569 
nb_bôs
 = 
hid_ªp‹t_des¸ùt‹
[
i
+1];

572 
nb_ôems
 = 0;

573 
j
=1; j<
off£t
; j++) {

574 
nb_ôems
 = ((
uöt32_t
)
hid_ªp‹t_des¸ùt‹
[
i
+
j
]) << (8*(j-1));

578 
found_ªc‹d_m¨kî
 = 
åue
;

579 
j
 = 0;

582 
found_ªc‹d_m¨kî
 = 
åue
;

583 
j
 = 1;

586 
found_ªc‹d_m¨kî
 = 
åue
;

587 
j
 = 2;

590 
nb_ôems
 = 0;

591 
nb_bôs
 = 0;

596 i‡(
found_ªc‹d_m¨kî
) {

597 
found_ªc‹d_m¨kî
 = 
Ál£
;

598 
ªc‹d_size
[
j
] +
nb_ôems
*
nb_bôs
;

601 i‡((
ty≥
 < 
HID_REPORT_TYPE_INPUT
Ë|| (ty≥ > 
HID_REPORT_TYPE_FEATURE
)) {

604  (
ªc‹d_size
[
ty≥
 - 
HID_REPORT_TYPE_INPUT
]+7)/8;

606 
	}
}

608 
	$ã°_hid
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
ídpoöt_ö
)

610 
r
, 
size
, 
des¸ùt‹_size
;

611 
uöt8_t
 
hid_ªp‹t_des¸ùt‹
[256];

612 
uöt8_t
 *
ªp‹t_buf„r
;

613 
FILE
 *
fd
;

615 
	`¥ötf
("\nReading HID Report Descriptors:\n");

616 
des¸ùt‹_size
 = 
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_STANDARD
|
LIBUSB_RECIPIENT_INTERFACE
,

617 
LIBUSB_REQUEST_GET_DESCRIPTOR
, 
LIBUSB_DT_REPORT
<<8, 0, 
hid_ªp‹t_des¸ùt‹
, (hid_report_descriptor), 1000);

618 i‡(
des¸ùt‹_size
 < 0) {

619 
	`¥ötf
(" Failed\n");

622 
	`di•œy_buf„r_hex
(
hid_ªp‹t_des¸ùt‹
, 
des¸ùt‹_size
);

623 i‡((
bö¨y_dump
Ë&& ((
fd
 = 
	`f›í
(
bö¨y_«me
, "w")Ë!
NULL
)) {

624 i‡(
	`fwrôe
(
hid_ªp‹t_des¸ùt‹
, 1, 
des¸ùt‹_size
, 
fd
) != descriptor_size) {

625 
	`¥ötf
(" Error writing descriptorÅo file\n");

627 
	`f˛o£
(
fd
);

630 
size
 = 
	`gë_hid_ªc‹d_size
(
hid_ªp‹t_des¸ùt‹
, 
des¸ùt‹_size
, 
HID_REPORT_TYPE_FEATURE
);

631 i‡(
size
 <= 0) {

632 
	`¥ötf
("\nSkipping Feature ReportÑeadout (None detected)\n");

634 
ªp‹t_buf„r
 = (
uöt8_t
*Ë
	`ˇŒoc
(
size
, 1);

635 i‡(
ªp‹t_buf„r
 =
NULL
) {

639 
	`¥ötf
("\nRódög Fótuª Rï‹à÷ígth %d)...\n", 
size
);

640 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

641 
HID_GET_REPORT
, (
HID_REPORT_TYPE_FEATURE
<<8)|0, 0, 
ªp‹t_buf„r
, (
uöt16_t
)
size
, 5000);

642 i‡(
r
 >= 0) {

643 
	`di•œy_buf„r_hex
(
ªp‹t_buf„r
, 
size
);

645 
r
) {

646 
LIBUSB_ERROR_NOT_FOUND
:

647 
	`¥ötf
(" No Feature Reportávailable forÅhis device\n");

649 
LIBUSB_ERROR_PIPE
:

650 
	`¥ötf
(" Detected stall -ÑesettingÖipe...\n");

651 
	`libusb_˛ór_hÆt
(
h™dÀ
, 0);

654 
	`¥ötf
(" Eº‹: %s\n", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

658 
	`‰ì
(
ªp‹t_buf„r
);

661 
size
 = 
	`gë_hid_ªc‹d_size
(
hid_ªp‹t_des¸ùt‹
, 
des¸ùt‹_size
, 
HID_REPORT_TYPE_INPUT
);

662 i‡(
size
 <= 0) {

663 
	`¥ötf
("\nSkipping Input ReportÑeadout (None detected)\n");

665 
ªp‹t_buf„r
 = (
uöt8_t
*Ë
	`ˇŒoc
(
size
, 1);

666 i‡(
ªp‹t_buf„r
 =
NULL
) {

670 
	`¥ötf
("\nRódög I≈uàRï‹à÷ígth %d)...\n", 
size
);

671 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
,

672 
HID_GET_REPORT
, (
HID_REPORT_TYPE_INPUT
<<8)|0x00, 0, 
ªp‹t_buf„r
, (
uöt16_t
)
size
, 5000);

673 i‡(
r
 >= 0) {

674 
	`di•œy_buf„r_hex
(
ªp‹t_buf„r
, 
size
);

676 
r
) {

677 
LIBUSB_ERROR_TIMEOUT
:

678 
	`¥ötf
(" Timeout! Please make sure youáct onÅhe device withinÅhe 5 secondsállocated...\n");

680 
LIBUSB_ERROR_PIPE
:

681 
	`¥ötf
(" Detected stall -ÑesettingÖipe...\n");

682 
	`libusb_˛ór_hÆt
(
h™dÀ
, 0);

685 
	`¥ötf
(" Eº‹: %s\n", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

691 
	`¥ötf
("\nTe°ög i¡îru±Ñód usögÉndpoöà%02X...\n", 
ídpoöt_ö
);

692 
r
 = 
	`libusb_öãºu±_å™s„r
(
h™dÀ
, 
ídpoöt_ö
, 
ªp‹t_buf„r
, 
size
, &size, 5000);

693 i‡(
r
 >= 0) {

694 
	`di•œy_buf„r_hex
(
ªp‹t_buf„r
, 
size
);

696 
	`¥ötf
(" %s\n", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

699 
	`‰ì
(
ªp‹t_buf„r
);

702 
	}
}

705 
	$ªad_ms_wösub_„©uª_des¸ùt‹s
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
uöt8_t
 
bReque°
, 
iÁ˚_numbî
)

707 
	#MAX_OS_FD_LENGTH
 256

	)

708 
i
, 
r
;

709 
uöt8_t
 
os_desc
[
MAX_OS_FD_LENGTH
];

710 
uöt32_t
 
Àngth
;

711 * 
À_ty≥_pu¬ög_IS_föe
;

713 c⁄° * 
desc
;

714 
uöt8_t
 
ªcùõ¡
;

715 
uöt16_t
 
ödex
;

716 
uöt16_t
 
hódî_size
;

717 } 
os_fd
[2] = {

718 {"Exãnded Com∑àID", 
LIBUSB_RECIPIENT_DEVICE
, 0x0004, 0x10},

719 {"Exãnded Pr›îtõs", 
LIBUSB_RECIPIENT_INTERFACE
, 0x0005, 0x0A}

722 i‡(
iÁ˚_numbî
 < 0) ;

726 i‡(
f‹˚_devi˚_ªque°
)

727 
os_fd
[1].
ªcùõ¡
 = 
LIBUSB_RECIPIENT_DEVICE
;

729 
i
=0; i<2; i++) {

730 
	`¥ötf
("\nRódög %†OS Fótuª Des¸ùt‹ (wIndex = 0x%04d):\n", 
os_fd
[
i
].
desc
, os_fd[i].
ödex
);

733 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, (
uöt8_t
)(
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_VENDOR
|
os_fd
[
i
].
ªcùõ¡
),

734 
bReque°
, (
uöt16_t
)(((
iÁ˚_numbî
)<< 8)|0x00), 
os_fd
[
i
].
ödex
, 
os_desc
, os_fd[i].
hódî_size
, 1000);

735 i‡(
r
 < 
os_fd
[
i
].
hódî_size
) {

736 
	`≥º
(" Faûed: %s", (
r
<0)?
	`libusb_°ªº‹
((
libusb_îr‹
)r):"header size isÅoo small");

739 
À_ty≥_pu¬ög_IS_föe
 = (*)
os_desc
;

740 
Àngth
 = *((
uöt32_t
*)
À_ty≥_pu¬ög_IS_föe
);

741 i‡(
Àngth
 > 
MAX_OS_FD_LENGTH
) {

742 
Àngth
 = 
MAX_OS_FD_LENGTH
;

746 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, (
uöt8_t
)(
LIBUSB_ENDPOINT_IN
|
LIBUSB_REQUEST_TYPE_VENDOR
|
os_fd
[
i
].
ªcùõ¡
),

747 
bReque°
, (
uöt16_t
)(((
iÁ˚_numbî
)<< 8)|0x00), 
os_fd
[
i
].
ödex
, 
os_desc
, (uöt16_t)
Àngth
, 1000);

748 i‡(
r
 < 0) {

749 
	`≥º
(" Faûed: %s", 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

752 
	`di•œy_buf„r_hex
(
os_desc
, 
r
);

755 
	}
}

757 
	$¥öt_devi˚_ˇp
(
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
)

759 
dev_ˇp
->
bDevC≠abûôyTy≥
) {

760 
LIBUSB_BT_USB_2_0_EXTENSION
: {

761 
libusb_usb_2_0_exãnsi⁄_des¸ùt‹
 *
usb_2_0_ext
 = 
NULL
;

762 
	`libusb_gë_usb_2_0_exãnsi⁄_des¸ùt‹
(
NULL
, 
dev_ˇp
, &
usb_2_0_ext
);

763 i‡(
usb_2_0_ext
) {

764 
	`¥ötf
(" USB 2.0Éxtension:\n");

765 
	`¥ötf
("áâribuã† : %02X\n", 
usb_2_0_ext
->
bmAâribuãs
);

766 
	`libusb_‰ì_usb_2_0_exãnsi⁄_des¸ùt‹
(
usb_2_0_ext
);

770 
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY
: {

771 
libusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 *
ss_usb_devi˚_ˇp
 = 
NULL
;

772 
	`libusb_gë_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
(
NULL
, 
dev_ˇp
, &
ss_usb_devi˚_ˇp
);

773 i‡(
ss_usb_devi˚_ˇp
) {

774 
	`¥ötf
(" USB 3.0 capabilities:\n");

775 
	`¥ötf
("áâribuã† : %02X\n", 
ss_usb_devi˚_ˇp
->
bmAâribuãs
);

776 
	`¥ötf
(" suµ‹ãd s≥ed† : %04X\n", 
ss_usb_devi˚_ˇp
->
wS≥edSuµ‹ãd
);

777 
	`¥ötf
(" suµ‹ãd fun˘i⁄Æôy: %02X\n", 
ss_usb_devi˚_ˇp
->
bFun˘i⁄ÆôySuµ‹t
);

778 
	`libusb_‰ì_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
(
ss_usb_devi˚_ˇp
);

782 
LIBUSB_BT_CONTAINER_ID
: {

783 
libusb_c⁄èöî_id_des¸ùt‹
 *
c⁄èöî_id
 = 
NULL
;

784 
	`libusb_gë_c⁄èöî_id_des¸ùt‹
(
NULL
, 
dev_ˇp
, &
c⁄èöî_id
);

785 i‡(
c⁄èöî_id
) {

786 
	`¥ötf
(" C⁄èöî ID:\¿ %s\n", 
	`uuid_to_°rög
(
c⁄èöî_id
->
C⁄èöîID
));

787 
	`libusb_‰ì_c⁄èöî_id_des¸ùt‹
(
c⁄èöî_id
);

792 
	`¥ötf
(" Unknow¿BOS devi˚ c≠abûôy %02x:\n", 
dev_ˇp
->
bDevC≠abûôyTy≥
);

794 
	}
}

796 
	$ã°_devi˚
(
uöt16_t
 
vid
, uöt16_à
pid
)

798 
libusb_devi˚_h™dÀ
 *
h™dÀ
;

799 
libusb_devi˚
 *
dev
;

800 
uöt8_t
 
bus
, 
p‹t_∑th
[8];

801 
libusb_bos_des¸ùt‹
 *
bos_desc
;

802 
libusb_c⁄fig_des¸ùt‹
 *
c⁄f_desc
;

803 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
;

804 
i
, 
j
, 
k
, 
r
;

805 
iÁ˚
, 
nb_iÁ˚s
, 
fú°_iÁ˚
 = -1;

806 
libusb_devi˚_des¸ùt‹
 
dev_desc
;

807 c⁄° * 
•ìd_«me
[5] = { "Unknown", "1.5 Mbit/s (USB LowSpeed)", "12 Mbit/s (USB FullSpeed)",

809 
°rög
[128];

810 
uöt8_t
 
°rög_ödex
[3];

811 
uöt8_t
 
ídpoöt_ö
 = 0, 
ídpoöt_out
 = 0;

813 
	`¥ötf
("O≥nög devi˚ %04X:%04X...\n", 
vid
, 
pid
);

814 
h™dÀ
 = 
	`libusb_›í_devi˚_wôh_vid_pid
(
NULL
, 
vid
, 
pid
);

816 i‡(
h™dÀ
 =
NULL
) {

817 
	`≥º
(" Failed.\n");

821 
dev
 = 
	`libusb_gë_devi˚
(
h™dÀ
);

822 
bus
 = 
	`libusb_gë_bus_numbî
(
dev
);

823 i‡(
exåa_öfo
) {

824 
r
 = 
	`libusb_gë_p‹t_numbîs
(
dev
, 
p‹t_∑th
, (port_path));

825 i‡(
r
 > 0) {

826 
	`¥ötf
("\nDeviceÖroperties:\n");

827 
	`¥ötf
(" bu†numbî: %d\n", 
bus
);

828 
	`¥ötf
("Ö‹à∑th: %d", 
p‹t_∑th
[0]);

829 
i
=1; i<
r
; i++) {

830 
	`¥ötf
("->%d", 
p‹t_∑th
[
i
]);

832 
	`¥ötf
(" (fromÑoot hub)\n");

834 
r
 = 
	`libusb_gë_devi˚_•ìd
(
dev
);

835 i‡((
r
<0) || (r>4))Ñ=0;

836 
	`¥ötf
(" s≥ed: %s\n", 
•ìd_«me
[
r
]);

839 
	`¥ötf
("\nReading device descriptor:\n");

840 
	`CALL_CHECK
(
	`libusb_gë_devi˚_des¸ùt‹
(
dev
, &
dev_desc
));

841 
	`¥ötf
("Üígth: %d\n", 
dev_desc
.
bLígth
);

842 
	`¥ötf
(" devi˚ cœss: %d\n", 
dev_desc
.
bDevi˚Cœss
);

843 
	`¥ötf
(" S/N: %d\n", 
dev_desc
.
iSîülNumbî
);

844 
	`¥ötf
(" VID:PID: %04X:%04X\n", 
dev_desc
.
idVíd‹
, dev_desc.
idProdu˘
);

845 
	`¥ötf
(" bcdDevi˚: %04X\n", 
dev_desc
.
bcdDevi˚
);

846 
	`¥ötf
(" iM™:iProd:iSî: %d:%d:%d\n", 
dev_desc
.
iM™uÁ˘uªr
, dev_desc.
iProdu˘
, dev_desc.
iSîülNumbî
);

847 
	`¥ötf
("Çb c⁄fs: %d\n", 
dev_desc
.
bNumC⁄figuøti⁄s
);

849 
°rög_ödex
[0] = 
dev_desc
.
iM™uÁ˘uªr
;

850 
°rög_ödex
[1] = 
dev_desc
.
iProdu˘
;

851 
°rög_ödex
[2] = 
dev_desc
.
iSîülNumbî
;

853 
	`¥ötf
("\nReading BOS descriptor: ");

854 i‡(
	`libusb_gë_bos_des¸ùt‹
(
h™dÀ
, &
bos_desc
Ë=
LIBUSB_SUCCESS
) {

855 
	`¥ötf
("%d c≠s\n", 
bos_desc
->
bNumDevi˚C≠s
);

856 
i
 = 0; i < 
bos_desc
->
bNumDevi˚C≠s
; i++)

857 
	`¥öt_devi˚_ˇp
(
bos_desc
->
dev_ˇ∑bûôy
[
i
]);

858 
	`libusb_‰ì_bos_des¸ùt‹
(
bos_desc
);

860 
	`¥ötf
("no descriptor\n");

863 
	`¥ötf
("\nReading first configuration descriptor:\n");

864 
	`CALL_CHECK
(
	`libusb_gë_c⁄fig_des¸ùt‹
(
dev
, 0, &
c⁄f_desc
));

865 
nb_iÁ˚s
 = 
c⁄f_desc
->
bNumI¡îÁ˚s
;

866 
	`¥ötf
("Çb i¡îÁ˚s: %d\n", 
nb_iÁ˚s
);

867 i‡(
nb_iÁ˚s
 > 0)

868 
fú°_iÁ˚
 = 
c⁄f_desc
->
usb_öãrÁ˚
[0].
Æt£âög
[0].
bI¡îÁ˚Numbî
;

869 
i
=0; i<
nb_iÁ˚s
; i++) {

870 
	`¥ötf
(" i¡îÁ˚[%d]: id = %d\n", 
i
,

871 
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[0].
bI¡îÁ˚Numbî
);

872 
j
=0; j<
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
num_Æt£âög
; j++) {

873 
	`¥ötf
("interface[%d].altsetting[%d]:ÇumÉndpoints = %d\n",

874 
i
, 
j
, 
c⁄f_desc
->
usb_öãrÁ˚
[i].
Æt£âög
[j].
bNumEndpoöts
);

875 
	`¥ötf
(" Class.SubClass.Protocol: %02X.%02X.%02X\n",

876 
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚Cœss
,

877 
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚SubCœss
,

878 
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚PrŸocﬁ
);

879 i‡–(
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚Cœss
 =
LIBUSB_CLASS_MASS_STORAGE
)

880 && ( (
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚SubCœss
 == 0x01)

881 || (
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚SubCœss
 == 0x06) )

882 && (
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bI¡îÁ˚PrŸocﬁ
 == 0x50) ) {

884 
ã°_mode
 = 
USE_SCSI
;

886 
k
=0; k<
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].
bNumEndpoöts
; k++) {

887 
libusb_ss_ídpoöt_com∑ni⁄_des¸ùt‹
 *
ï_comp
 = 
NULL
;

888 
ídpoöt
 = &
c⁄f_desc
->
usb_öãrÁ˚
[
i
].
Æt£âög
[
j
].ídpoöt[
k
];

889 
	`¥ötf
("Éndpoöt[%d].addªss: %02X\n", 
k
, 
ídpoöt
->
bEndpoötAddªss
);

891 i‡((
ídpoöt
->
bmAâribuãs
 & 
LIBUSB_TRANSFER_TYPE_MASK
Ë& (
LIBUSB_TRANSFER_TYPE_BULK
 | 
LIBUSB_TRANSFER_TYPE_INTERRUPT
)) {

892 i‡(
ídpoöt
->
bEndpoötAddªss
 & 
LIBUSB_ENDPOINT_IN
) {

893 i‡(!
ídpoöt_ö
)

894 
ídpoöt_ö
 = 
ídpoöt
->
bEndpoötAddªss
;

896 i‡(!
ídpoöt_out
)

897 
ídpoöt_out
 = 
ídpoöt
->
bEndpoötAddªss
;

900 
	`¥ötf
(" maxÖackë size: %04X\n", 
ídpoöt
->
wMaxPackëSize
);

901 
	`¥ötf
("Öﬁlög i¡îvÆ: %02X\n", 
ídpoöt
->
bI¡îvÆ
);

902 
	`libusb_gë_ss_ídpoöt_com∑ni⁄_des¸ùt‹
(
NULL
, 
ídpoöt
, &
ï_comp
);

903 i‡(
ï_comp
) {

904 
	`¥ötf
(" max bur°: %02X (USB 3.0)\n", 
ï_comp
->
bMaxBur°
);

905 
	`¥ötf
(" byã†≥∏öãrvÆ: %04X (USB 3.0)\n", 
ï_comp
->
wByãsPîI¡îvÆ
);

906 
	`libusb_‰ì_ss_ídpoöt_com∑ni⁄_des¸ùt‹
(
ï_comp
);

911 
	`libusb_‰ì_c⁄fig_des¸ùt‹
(
c⁄f_desc
);

913 
	`libusb_£t_auto_dëach_kî√l_drivî
(
h™dÀ
, 1);

914 
iÁ˚
 = 0; iÁ˚ < 
nb_iÁ˚s
; iface++)

916 
	`¥ötf
("\nCœimög i¡îÁ˚ %d...\n", 
iÁ˚
);

917 
r
 = 
	`libusb_˛aim_öãrÁ˚
(
h™dÀ
, 
iÁ˚
);

918 i‡(
r
 !
LIBUSB_SUCCESS
) {

919 
	`≥º
(" Failed.\n");

923 
	`¥ötf
("\nReading string descriptors:\n");

924 
i
=0; i<3; i++) {

925 i‡(
°rög_ödex
[
i
] == 0) {

928 i‡(
	`libusb_gë_°rög_des¸ùt‹_ascii
(
h™dÀ
, 
°rög_ödex
[
i
], (*)
°rög
, 128) >= 0) {

929 
	`¥ötf
(" Såög (0x%02X): \"%s\"\n", 
°rög_ödex
[
i
], 
°rög
);

933 i‡(
	`libusb_gë_°rög_des¸ùt‹_ascii
(
h™dÀ
, 0xEE, (*)
°rög
, 128) >= 0) {

934 
	`¥ötf
(" Såög (0x%02X): \"%s\"\n", 0xEE, 
°rög
);

937 i‡(
	`°∫cmp
(
°rög
, "MSFT100", 7) == 0)

938 
	`ªad_ms_wösub_„©uª_des¸ùt‹s
(
h™dÀ
, 
°rög
[7], 
fú°_iÁ˚
);

941 
ã°_mode
) {

942 
USE_PS3
:

943 
	`CALL_CHECK
(
	`di•œy_ps3_°©us
(
h™dÀ
));

945 
USE_XBOX
:

946 
	`CALL_CHECK
(
	`di•œy_xbox_°©us
(
h™dÀ
));

947 
	`CALL_CHECK
(
	`£t_xbox_a˘u©‹s
(
h™dÀ
, 128, 222));

948 
	`m¶ìp
(2000);

949 
	`CALL_CHECK
(
	`£t_xbox_a˘u©‹s
(
h™dÀ
, 0, 0));

951 
USE_HID
:

952 
	`ã°_hid
(
h™dÀ
, 
ídpoöt_ö
);

954 
USE_SCSI
:

955 
	`CALL_CHECK
(
	`ã°_mass_°‹age
(
h™dÀ
, 
ídpoöt_ö
, 
ídpoöt_out
));

956 
USE_GENERIC
:

960 
	`¥ötf
("\n");

961 
iÁ˚
 = 0; iÁ˚<
nb_iÁ˚s
; iface++) {

962 
	`¥ötf
("Rñósög i¡îÁ˚ %d...\n", 
iÁ˚
);

963 
	`libusb_ªÀa£_öãrÁ˚
(
h™dÀ
, 
iÁ˚
);

966 
	`¥ötf
("Closing device...\n");

967 
	`libusb_˛o£
(
h™dÀ
);

970 
	}
}

972 
	$maö
(
¨gc
, ** 
¨gv
)

974 
boﬁ
 
show_hñp
 = 
Ál£
;

975 
boﬁ
 
debug_mode
 = 
Ál£
;

976 c⁄° 
libusb_vîsi⁄
* 
vîsi⁄
;

977 
j
, 
r
;

978 
size_t
 
i
, 
¨gÀn
;

979 
tmp_vid
, 
tmp_pid
;

980 
uöt16_t
 
ídün_ã°
 = 0xBE00;

981 *
îr‹_œng
 = 
NULL
, *
ﬁd_dbg_°r
 = NULL, 
°r
[256];

984 
VID
 = 0;

985 
PID
 = 0;

986 
ã°_mode
 = 
USE_GENERIC
;

988 i‡(((
uöt8_t
*)&
ídün_ã°
)[0] == 0xBE) {

989 
	`¥ötf
("DespiteÅheirÇatural superiority forÉnd users, bigÉndian\n"

994 i‡(
¨gc
 >= 2) {

995 
j
 = 1; j<
¨gc
; j++) {

996 
¨gÀn
 = 
	`°æí
(
¨gv
[
j
]);

997 i‡–((
¨gv
[
j
][0] == '-') || (argv[j][0] == '/'))

998 && (
¨gÀn
 >= 2) ) {

999 
¨gv
[
j
][1]) {

1001 
debug_mode
 = 
åue
;

1004 
exåa_öfo
 = 
åue
;

1007 
f‹˚_devi˚_ªque°
 = 
åue
;

1010 i‡((
j
+1 >
¨gc
Ë|| (
¨gv
[j+1][0] == '-') || (argv[j+1][0] == '/')) {

1011 
	`¥ötf
(" Option -bÑequiresá fileÇame\n");

1014 
bö¨y_«me
 = 
¨gv
[++
j
];

1015 
bö¨y_dump
 = 
åue
;

1018 i‡((
j
+1 >
¨gc
Ë|| (
¨gv
[j+1][0] == '-') || (argv[j+1][0] == '/')) {

1019 
	`¥ötf
(" Option -lÑequiresán ISO 639-1ÜanguageÖarameter\n");

1022 
îr‹_œng
 = 
¨gv
[++
j
];

1026 i‡(!
VID
 && !
PID
) {

1027 
VID
 = 0x15BA;

1028 
PID
 = 0x0004;

1033 i‡(!
VID
 && !
PID
) {

1034 
VID
 = 0x0204;

1035 
PID
 = 0x6025;

1041 
VID
 = 0x054C;

1042 
PID
 = 0x0268;

1043 
ã°_mode
 = 
USE_PS3
;

1047 
VID
 = 0x045E;

1048 
PID
 = 0x0008;

1049 
ã°_mode
 = 
USE_HID
;

1053 
VID
 = 0x045E;

1054 
PID
 = 0x0289;

1055 
ã°_mode
 = 
USE_XBOX
;

1058 
show_hñp
 = 
åue
;

1062 
i
=0; i<
¨gÀn
; i++) {

1063 i‡(
¨gv
[
j
][
i
] == ':')

1066 i‡(
i
 !
¨gÀn
) {

1067 i‡(
	`ssˇnf
(
¨gv
[
j
], "%x:%x" , &
tmp_vid
, &
tmp_pid
) != 2) {

1068 
	`¥ötf
(" Please specify VID & PIDás \"vid:pid\" in hexadecimal format\n");

1071 
VID
 = (
uöt16_t
)
tmp_vid
;

1072 
PID
 = (
uöt16_t
)
tmp_pid
;

1074 
show_hñp
 = 
åue
;

1080 i‡((
show_hñp
Ë|| (
¨gc
 == 1) || (argc > 7)) {

1081 
	`¥ötf
("ußge: %†[-h] [-d] [-i] [-k] [-b fûe] [-»œng] [-j] [-x] [-s] [-p] [-w] [vid:pid]\n", 
¨gv
[0]);

1082 
	`¥ötf
(" -h : display usage\n");

1083 
	`¥ötf
(" -d :Énable debug output\n");

1084 
	`¥ötf
(" -i :ÖrintÅopologyánd speed info\n");

1085 
	`¥ötf
(" -j :Åest composite FTDI based JTAG device\n");

1086 
	`¥ötf
(" -k :Åest Mass Storage device\n");

1087 
	`¥ötf
(" -b file : dump Mass Storage dataÅo file 'file'\n");

1088 
	`¥ötf
(" -p :Åest Sony PS3 SixAxis controller\n");

1089 
	`¥ötf
(" -s :Åest Microsoft Sidewinder Precision Pro (HID)\n");

1090 
	`¥ötf
(" -x :Åest Microsoft XBox Controller Type S\n");

1091 
	`¥ötf
(" -lÜang :ÜanguageÅoÑeportÉrrors in (ISO 639-1)\n");

1092 
	`¥ötf
(" -w : forceÅhe use of deviceÑequests when querying WCID descriptors\n");

1093 
	`¥ötf
("If onlyÅhe vid:pid isÖrovided, xusbáttemptsÅoÑunÅhe mostáppropriateÅest\n");

1099 
ﬁd_dbg_°r
 = 
	`gëív
("LIBUSB_DEBUG");

1100 i‡(
debug_mode
) {

1101 
	`puãnv
("LIBUSB_DEBUG=4");

1104 
vîsi⁄
 = 
	`libusb_gë_vîsi⁄
();

1105 
	`¥ötf
("UsögÜibusb v%d.%d.%d.%d\n\n", 
vîsi⁄
->
maj‹
, vîsi⁄->
mö‹
, vîsi⁄->
mi¸o
, vîsi⁄->
«no
);

1106 
r
 = 
	`libusb_öô
(
NULL
);

1107 i‡(
r
 < 0)

1108  
r
;

1111 i‡((
ﬁd_dbg_°r
 =
NULL
Ë&& (!
debug_mode
))

1112 
	`libusb_£t_debug
(
NULL
, 
LIBUSB_LOG_LEVEL_INFO
);

1113 i‡(
îr‹_œng
 !
NULL
) {

1114 
r
 = 
	`libusb_£éoˇÀ
(
îr‹_œng
);

1115 i‡(
r
 < 0)

1116 
	`¥ötf
("InvÆid o∏unsuµ‹ãdÜoˇÀ '%s': %s\n", 
îr‹_œng
, 
	`libusb_°ªº‹
((
libusb_îr‹
)
r
));

1119 
	`ã°_devi˚
(
VID
, 
PID
);

1121 
	`libusb_exô
(
NULL
);

1123 i‡(
debug_mode
) {

1124 
	`¢¥ötf
(
°r
, (°r), "LIBUSB_DEBUG=%s", (
ﬁd_dbg_°r
 =
NULL
)?"":old_dbg_str);

1125 
°r
[(str) - 1] = 0;

1129 
	}
}

	@libusb/core.c

23 
	~"c⁄fig.h
"

25 
	~<î∫o.h
>

26 
	~<°d¨g.h
>

27 
	~<°dio.h
>

28 
	~<°dlib.h
>

29 
	~<°rög.h
>

30 #ifde‡
HAVE_SYS_TYPES_H


31 
	~<sys/ty≥s.h
>

33 #ifde‡
HAVE_SYS_TIME_H


34 
	~<sys/time.h
>

36 #ifde‡
HAVE_SYSLOG_H


37 
	~<sy¶og.h
>

40 #ifde‡
__ANDROID__


41 
	~<™droid/log.h
>

44 
	~"libusbi.h
"

45 
	~"hŸ∂ug.h
"

47 #i‡
deföed
(
OS_LINUX
)

48 c⁄° 
usbi_os_backíd
 * c⁄° 
	gusbi_backíd
 = &
löux_usbfs_backíd
;

49 #ñi‡
deföed
(
OS_DARWIN
)

50 c⁄° 
usbi_os_backíd
 * c⁄° 
	gusbi_backíd
 = &
d¨wö_backíd
;

51 #ñi‡
deföed
(
OS_OPENBSD
)

52 c⁄° 
usbi_os_backíd
 * c⁄° 
	gusbi_backíd
 = &
›íbsd_backíd
;

53 #ñi‡
deföed
(
OS_NETBSD
)

54 c⁄° 
usbi_os_backíd
 * c⁄° 
	gusbi_backíd
 = &
√tbsd_backíd
;

55 #ñi‡
deföed
(
OS_WINDOWS
)

56 c⁄° 
usbi_os_backíd
 * c⁄° 
	gusbi_backíd
 = &
wödows_backíd
;

57 #ñi‡
deföed
(
OS_WINCE
)

58 c⁄° 
usbi_os_backíd
 * c⁄° 
	gusbi_backíd
 = &
wö˚_backíd
;

63 
libusb_c⁄ãxt
 *
	gusbi_deÁu…_c⁄ãxt
 = 
NULL
;

64 c⁄° 
libusb_vîsi⁄
 
	glibusb_vîsi⁄_öã∫Æ
 =

65 { 
LIBUSB_MAJOR
, 
LIBUSB_MINOR
, 
LIBUSB_MICRO
, 
LIBUSB_NANO
,

66 
LIBUSB_RC
, "http://libusb.info" };

67 
	gdeÁu…_c⁄ãxt_ªf˙t
 = 0;

68 
usbi_muãx_°©ic_t
 
	gdeÁu…_c⁄ãxt_lock
 = 
USBI_MUTEX_INITIALIZER
;

69 
timevÆ
 
	gtime°amp_‹igö
 = { 0, 0 };

71 
usbi_muãx_°©ic_t
 
	ga˘ive_c⁄ãxts_lock
 = 
USBI_MUTEX_INITIALIZER
;

72 
li°_hód
 
	ga˘ive_c⁄ãxts_li°
;

74 #ifde‡
YS_PRINT_API


75 (*
usb¥öt
)(c⁄° *
fmt
, ...Ë
¥ötf
;

455 
	#DISCOVERED_DEVICES_SIZE_STEP
 8

	)

457 
discovîed_devs
 *
	$discovîed_devs_Æloc
()

459 
discovîed_devs
 *
ªt
 =

460 
	`mÆloc
((*
ªt
Ë+ ((*Ë* 
DISCOVERED_DEVICES_SIZE_STEP
));

462 i‡(
ªt
) {

463 
ªt
->
Àn
 = 0;

464 
ªt
->
ˇ∑côy
 = 
DISCOVERED_DEVICES_SIZE_STEP
;

466  
ªt
;

467 
	}
}

471 
discovîed_devs
 *
	$discovîed_devs_≠≥nd
(

472 
discovîed_devs
 *
discdevs
, 
libusb_devi˚
 *
dev
)

474 
size_t
 
Àn
 = 
discdevs
->len;

475 
size_t
 
ˇ∑côy
;

478 i‡(
Àn
 < 
discdevs
->
ˇ∑côy
) {

479 
discdevs
->
devi˚s
[
Àn
] = 
	`libusb_ªf_devi˚
(
dev
);

480 
discdevs
->
Àn
++;

481  
discdevs
;

485 
	`usbi_dbg
("needÅo increase capacity");

486 
ˇ∑côy
 = 
discdevs
->ˇ∑côy + 
DISCOVERED_DEVICES_SIZE_STEP
;

487 
discdevs
 = 
	`usbi_ªÆlocf
(discdevs,

488 (*
discdevs
Ë+ ((*Ë* 
ˇ∑côy
));

489 i‡(
discdevs
) {

490 
discdevs
->
ˇ∑côy
 = capacity;

491 
discdevs
->
devi˚s
[
Àn
] = 
	`libusb_ªf_devi˚
(
dev
);

492 
discdevs
->
Àn
++;

495  
discdevs
;

496 
	}
}

498 
	$discovîed_devs_‰ì
(
discovîed_devs
 *
discdevs
)

500 
size_t
 
i
;

502 
i
 = 0; i < 
discdevs
->
Àn
; i++)

503 
	`libusb_uƒef_devi˚
(
discdevs
->
devi˚s
[
i
]);

505 
	`‰ì
(
discdevs
);

506 
	}
}

510 
libusb_devi˚
 *
	$usbi_Æloc_devi˚
(
libusb_c⁄ãxt
 *
˘x
,

511 
£ssi⁄_id
)

513 
size_t
 
¥iv_size
 = 
usbi_backíd
->
devi˚_¥iv_size
;

514 
libusb_devi˚
 *
dev
 = 
	`ˇŒoc
(1, (*devË+ 
¥iv_size
);

515 
r
;

517 i‡(!
dev
)

518  
NULL
;

520 
r
 = 
	`usbi_muãx_öô
(&
dev
->
lock
, 
NULL
);

521 i‡(
r
) {

522 
	`‰ì
(
dev
);

523  
NULL
;

526 
dev
->
˘x
 = ctx;

527 
dev
->
ªf˙t
 = 1;

528 
dev
->
£ssi⁄_d©a
 = 
£ssi⁄_id
;

529 
dev
->
•ìd
 = 
LIBUSB_SPEED_UNKNOWN
;

531 i‡(!
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
)) {

532 
	`usbi_c⁄√˘_devi˚
 (
dev
);

535  
dev
;

536 
	}
}

538 
	$usbi_c⁄√˘_devi˚
(
libusb_devi˚
 *
dev
)

540 
libusb_hŸ∂ug_mesßge
 
mesßge
;

541 
ssize_t
 
ªt
;

543 
	`mem£t
(&
mesßge
, 0, (message));

544 
mesßge
.
evít
 = 
LIBUSB_HOTPLUG_EVENT_DEVICE_ARRIVED
;

545 
mesßge
.
devi˚
 = 
dev
;

546 
dev
->
©èched
 = 1;

548 
	`usbi_muãx_lock
(&
dev
->
˘x
->
usb_devs_lock
);

549 
	`li°_add
(&
dev
->
li°
, &dev->
˘x
->
usb_devs
);

550 
	`usbi_muãx_u∆ock
(&
dev
->
˘x
->
usb_devs_lock
);

555 i‡(
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
Ë&& 
dev
->
˘x
->
hŸ∂ug_pùe
[1] > 0) {

556 
ªt
 = 
	`usbi_wrôe
(
dev
->
˘x
->
hŸ∂ug_pùe
[1], &
mesßge
, (message));

557 i‡( (
mesßge
Ë!
ªt
) {

558 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
), "error writing hotplug message");

561 
	}
}

563 
	$usbi_disc⁄√˘_devi˚
(
libusb_devi˚
 *
dev
)

565 
libusb_hŸ∂ug_mesßge
 
mesßge
;

566 
libusb_c⁄ãxt
 *
˘x
 = 
dev
->ctx;

567 
ssize_t
 
ªt
;

569 
	`mem£t
(&
mesßge
, 0, (message));

570 
mesßge
.
evít
 = 
LIBUSB_HOTPLUG_EVENT_DEVICE_LEFT
;

571 
mesßge
.
devi˚
 = 
dev
;

572 
	`usbi_muãx_lock
(&
dev
->
lock
);

573 
dev
->
©èched
 = 0;

574 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

576 
	`usbi_muãx_lock
(&
˘x
->
usb_devs_lock
);

577 
	`li°_dñ
(&
dev
->
li°
);

578 
	`usbi_muãx_u∆ock
(&
˘x
->
usb_devs_lock
);

584 i‡(
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
Ë&& 
dev
->
˘x
->
hŸ∂ug_pùe
[1] > 0) {

585 
ªt
 = 
	`usbi_wrôe
(
dev
->
˘x
->
hŸ∂ug_pùe
[1], &
mesßge
, (message));

586 i‡((
mesßge
Ë!
ªt
) {

587 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
), "error writing hotplug message");

590 
	}
}

595 
	$usbi_ßnôize_devi˚
(
libusb_devi˚
 *
dev
)

597 
r
;

598 
uöt8_t
 
num_c⁄figuøti⁄s
;

600 
r
 = 
	`usbi_devi˚_ˇche_des¸ùt‹
(
dev
);

601 i‡(
r
 < 0)

602  
r
;

604 
num_c⁄figuøti⁄s
 = 
dev
->
devi˚_des¸ùt‹
.
bNumC⁄figuøti⁄s
;

605 i‡(
num_c⁄figuøti⁄s
 > 
USB_MAXCONFIG
) {

606 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
), "too many configurations");

607  
LIBUSB_ERROR_IO
;

608 } i‡(0 =
num_c⁄figuøti⁄s
)

609 
	`usbi_dbg
("zero configurations, maybeán unauthorized device");

611 
dev
->
num_c⁄figuøti⁄s
 =Çum_configurations;

613 
	}
}

618 
libusb_devi˚
 *
	$usbi_gë_devi˚_by_£ssi⁄_id
(
libusb_c⁄ãxt
 *
˘x
,

619 
£ssi⁄_id
)

621 
libusb_devi˚
 *
dev
;

622 
libusb_devi˚
 *
ªt
 = 
NULL
;

624 
	`usbi_muãx_lock
(&
˘x
->
usb_devs_lock
);

625 
	`li°_f‹_óch_íåy
(
dev
, &
˘x
->
usb_devs
, 
li°
, 
libusb_devi˚
)

626 i‡(
dev
->
£ssi⁄_d©a
 =
£ssi⁄_id
) {

627 
ªt
 = 
	`libusb_ªf_devi˚
(
dev
);

630 
	`usbi_muãx_u∆ock
(&
˘x
->
usb_devs_lock
);

632  
ªt
;

633 
	}
}

655 
ssize_t
 
API_EXPORTED
 
	$libusb_gë_devi˚_li°
(
libusb_c⁄ãxt
 *
˘x
,

656 
libusb_devi˚
 ***
li°
)

658 
discovîed_devs
 *
discdevs
 = 
	`discovîed_devs_Æloc
();

659 
libusb_devi˚
 **
ªt
;

660 
r
 = 0;

661 
ssize_t
 
i
, 
Àn
;

662 
	`USBI_GET_CONTEXT
(
˘x
);

663 
	`usbi_dbg
("");

665 i‡(!
discdevs
)

666  
LIBUSB_ERROR_NO_MEM
;

668 i‡(
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
)) {

670 
libusb_devi˚
 *
dev
;

672 i‡(
usbi_backíd
->
hŸ∂ug_pﬁl
)

673 
usbi_backíd
->
	`hŸ∂ug_pﬁl
();

675 
	`usbi_muãx_lock
(&
˘x
->
usb_devs_lock
);

676 
	`li°_f‹_óch_íåy
(
dev
, &
˘x
->
usb_devs
, 
li°
, 
libusb_devi˚
) {

677 
discdevs
 = 
	`discovîed_devs_≠≥nd
(discdevs, 
dev
);

679 i‡(!
discdevs
) {

680 
r
 = 
LIBUSB_ERROR_NO_MEM
;

684 
	`usbi_muãx_u∆ock
(&
˘x
->
usb_devs_lock
);

687 
r
 = 
usbi_backíd
->
	`gë_devi˚_li°
(
˘x
, &
discdevs
);

690 i‡(
r
 < 0) {

691 
Àn
 = 
r
;

692 
out
;

696 
Àn
 = 
discdevs
->len;

697 
ªt
 = 
	`ˇŒoc
(
Àn
 + 1, (
libusb_devi˚
 *));

698 i‡(!
ªt
) {

699 
Àn
 = 
LIBUSB_ERROR_NO_MEM
;

700 
out
;

703 
ªt
[
Àn
] = 
NULL
;

704 
i
 = 0; i < 
Àn
; i++) {

705 
libusb_devi˚
 *
dev
 = 
discdevs
->
devi˚s
[
i
];

706 
ªt
[
i
] = 
	`libusb_ªf_devi˚
(
dev
);

708 *
li°
 = 
ªt
;

710 
out
:

711 
	`discovîed_devs_‰ì
(
discdevs
);

712  
Àn
;

713 
	}
}

722 
API_EXPORTED
 
	$libusb_‰ì_devi˚_li°
(
libusb_devi˚
 **
li°
,

723 
uƒef_devi˚s
)

725 i‡(!
li°
)

728 i‡(
uƒef_devi˚s
) {

729 
i
 = 0;

730 
libusb_devi˚
 *
dev
;

732 (
dev
 = 
li°
[
i
++]Ë!
NULL
)

733 
	`libusb_uƒef_devi˚
(
dev
);

735 
	`‰ì
(
li°
);

736 
	}
}

743 
uöt8_t
 
API_EXPORTED
 
	$libusb_gë_bus_numbî
(
libusb_devi˚
 *
dev
)

745  
dev
->
bus_numbî
;

746 
	}
}

762 
uöt8_t
 
API_EXPORTED
 
	$libusb_gë_p‹t_numbî
(
libusb_devi˚
 *
dev
)

764  
dev
->
p‹t_numbî
;

765 
	}
}

778 
API_EXPORTED
 
	$libusb_gë_p‹t_numbîs
(
libusb_devi˚
 *
dev
,

779 
uöt8_t
* 
p‹t_numbîs
, 
p‹t_numbîs_Àn
)

781 
i
 = 
p‹t_numbîs_Àn
;

782 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

784 i‡(
p‹t_numbîs_Àn
 <= 0)

785  
LIBUSB_ERROR_INVALID_PARAM
;

788 (
dev
Ë&& (dev->
p‹t_numbî
 != 0)) {

789 i‡(--
i
 < 0) {

790 
	`usbi_w¨n
(
˘x
, "portÇumbersárray isÅoo small");

791  
LIBUSB_ERROR_OVERFLOW
;

793 
p‹t_numbîs
[
i
] = 
dev
->
p‹t_numbî
;

794 
dev
 = dev->
∑ª¡_dev
;

796 i‡(
i
 < 
p‹t_numbîs_Àn
)

797 
	`memmove
(
p‹t_numbîs
, &p‹t_numbîs[
i
], 
p‹t_numbîs_Àn
 - i);

798  
p‹t_numbîs_Àn
 - 
i
;

799 
	}
}

804 
API_EXPORTED
 
	$libusb_gë_p‹t_∑th
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_devi˚
 *
dev
,

805 
uöt8_t
* 
p‹t_numbîs
, uöt8_à
p‹t_numbîs_Àn
)

807 
	`UNUSED
(
˘x
);

809  
	`libusb_gë_p‹t_numbîs
(
dev
, 
p‹t_numbîs
, 
p‹t_numbîs_Àn
);

810 
	}
}

823 
DEFAULT_VISIBILITY


824 
libusb_devi˚
 * 
LIBUSB_CALL
 
	$libusb_gë_∑ª¡
(
libusb_devi˚
 *
dev
)

826  
dev
->
∑ª¡_dev
;

827 
	}
}

834 
uöt8_t
 
API_EXPORTED
 
	$libusb_gë_devi˚_addªss
(
libusb_devi˚
 *
dev
)

836  
dev
->
devi˚_addªss
;

837 
	}
}

845 
API_EXPORTED
 
	$libusb_gë_devi˚_•ìd
(
libusb_devi˚
 *
dev
)

847  
dev
->
•ìd
;

848 
	}
}

850 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
	$föd_ídpoöt
(

851 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
, 
ídpoöt
)

853 
iÁ˚_idx
;

854 
iÁ˚_idx
 = 0; iÁ˚_idx < 
c⁄fig
->
bNumI¡îÁ˚s
; iface_idx++) {

855 c⁄° 
libusb_öãrÁ˚
 *
iÁ˚
 = &
c⁄fig
->
öãrÁ˚
[
iÁ˚_idx
];

856 
Æt£âög_idx
;

858 
Æt£âög_idx
 = 0;á…£âög_idx < 
iÁ˚
->
num_Æt£âög
;

859 
Æt£âög_idx
++) {

860 c⁄° 
libusb_öãrÁ˚_des¸ùt‹
 *
Æt£âög


861 &
iÁ˚
->
Æt£âög
[
Æt£âög_idx
];

862 
ï_idx
;

864 
ï_idx
 = 0;Ép_idx < 
Æt£âög
->
bNumEndpoöts
;Ép_idx++) {

865 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ï
 =

866 &
Æt£âög
->
ídpoöt
[
ï_idx
];

867 i‡(
ï
->
bEndpoötAddªss
 =
ídpoöt
)

868  
ï
;

872  
NULL
;

873 
	}
}

891 
API_EXPORTED
 
	$libusb_gë_max_∑ckë_size
(
libusb_devi˚
 *
dev
,

892 
ídpoöt
)

894 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
;

895 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ï
;

896 
r
;

898 
r
 = 
	`libusb_gë_a˘ive_c⁄fig_des¸ùt‹
(
dev
, &
c⁄fig
);

899 i‡(
r
 < 0) {

900 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
),

902  
LIBUSB_ERROR_OTHER
;

905 
ï
 = 
	`föd_ídpoöt
(
c⁄fig
, 
ídpoöt
);

906 i‡(!
ï
) {

907 
r
 = 
LIBUSB_ERROR_NOT_FOUND
;

908 
out
;

911 
r
 = 
ï
->
wMaxPackëSize
;

913 
out
:

914 
	`libusb_‰ì_c⁄fig_des¸ùt‹
(
c⁄fig
);

915  
r
;

916 
	}
}

944 
API_EXPORTED
 
	$libusb_gë_max_iso_∑ckë_size
(
libusb_devi˚
 *
dev
,

945 
ídpoöt
)

947 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
;

948 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ï
;

949 
libusb_å™s„r_ty≥
 
ï_ty≥
;

950 
uöt16_t
 
vÆ
;

951 
r
;

953 
r
 = 
	`libusb_gë_a˘ive_c⁄fig_des¸ùt‹
(
dev
, &
c⁄fig
);

954 i‡(
r
 < 0) {

955 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
),

957  
LIBUSB_ERROR_OTHER
;

960 
ï
 = 
	`föd_ídpoöt
(
c⁄fig
, 
ídpoöt
);

961 i‡(!
ï
) {

962 
r
 = 
LIBUSB_ERROR_NOT_FOUND
;

963 
out
;

966 
vÆ
 = 
ï
->
wMaxPackëSize
;

967 
ï_ty≥
 = (
libusb_å™s„r_ty≥
Ë(
ï
->
bmAâribuãs
 & 0x3);

969 
r
 = 
vÆ
 & 0x07ff;

970 i‡(
ï_ty≥
 =
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS


971 || 
ï_ty≥
 =
LIBUSB_TRANSFER_TYPE_INTERRUPT
)

972 
r
 *(1 + ((
vÆ
 >> 11) & 3));

974 
out
:

975 
	`libusb_‰ì_c⁄fig_des¸ùt‹
(
c⁄fig
);

976  
r
;

977 
	}
}

984 
DEFAULT_VISIBILITY


985 
libusb_devi˚
 * 
LIBUSB_CALL
 
	$libusb_ªf_devi˚
(
libusb_devi˚
 *
dev
)

987 
	`usbi_muãx_lock
(&
dev
->
lock
);

988 
dev
->
ªf˙t
++;

989 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

990  
dev
;

991 
	}
}

998 
API_EXPORTED
 
	$libusb_uƒef_devi˚
(
libusb_devi˚
 *
dev
)

1000 
ªf˙t
;

1002 i‡(!
dev
)

1005 
	`usbi_muãx_lock
(&
dev
->
lock
);

1006 
ªf˙t
 = --
dev
->refcnt;

1007 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

1009 i‡(
ªf˙t
 == 0) {

1010 
	`usbi_dbg
("de°roy devi˚ %d.%d", 
dev
->
bus_numbî
, dev->
devi˚_addªss
);

1012 
	`libusb_uƒef_devi˚
(
dev
->
∑ª¡_dev
);

1014 i‡(
usbi_backíd
->
de°roy_devi˚
)

1015 
usbi_backíd
->
	`de°roy_devi˚
(
dev
);

1017 i‡(!
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
)) {

1019 
	`usbi_disc⁄√˘_devi˚
(
dev
);

1022 
	`usbi_muãx_de°roy
(&
dev
->
lock
);

1023 
	`‰ì
(
dev
);

1025 
	}
}

1031 
	$usbi_fd_nŸifiˇti⁄
(
libusb_c⁄ãxt
 *
˘x
)

1033 
dummy
 = 1;

1034 
ssize_t
 
r
;

1036 i‡(
˘x
 =
NULL
)

1040 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1041 
˘x
->
pﬁlfd_modify
++;

1042 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1045 
r
 = 
	`usbi_wrôe
(
˘x
->
˘æ_pùe
[1], &
dummy
, (dummy));

1046 i‡(
r
 <= 0) {

1047 
	`usbi_w¨n
(
˘x
, "internal signalling write failed");

1048 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1049 
˘x
->
pﬁlfd_modify
--;

1050 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1055 
	`libusb_lock_evíts
(
˘x
);

1058 
r
 = 
	`usbi_ªad
(
˘x
->
˘æ_pùe
[0], &
dummy
, (dummy));

1059 i‡(
r
 <= 0)

1060 
	`usbi_w¨n
(
˘x
, "internal signallingÑead failed");

1063 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1064 
˘x
->
pﬁlfd_modify
--;

1065 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1068 
	`libusb_u∆ock_evíts
(
˘x
);

1069 
	}
}

1090 
API_EXPORTED
 
	$libusb_›í
(
libusb_devi˚
 *
dev
,

1091 
libusb_devi˚_h™dÀ
 **
h™dÀ
)

1093 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

1094 
libusb_devi˚_h™dÀ
 *
_h™dÀ
;

1095 
size_t
 
¥iv_size
 = 
usbi_backíd
->
devi˚_h™dÀ_¥iv_size
;

1096 
r
;

1097 
	`usbi_dbg
("›í %d.%d", 
dev
->
bus_numbî
, dev->
devi˚_addªss
);

1099 i‡(!
dev
->
©èched
) {

1100 #ifde‡
YS_PRINT_API


1101 
	`YSPRINT
("%s:%d %s: o≥¿%d.%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
dev
->
bus_numbî
, dev->
devi˚_addªss
);

1103  
LIBUSB_ERROR_NO_DEVICE
;

1106 
_h™dÀ
 = 
	`mÆloc
((*_h™dÀË+ 
¥iv_size
);

1107 i‡(!
_h™dÀ
)

1108  
LIBUSB_ERROR_NO_MEM
;

1110 
r
 = 
	`usbi_muãx_öô
(&
_h™dÀ
->
lock
, 
NULL
);

1111 i‡(
r
) {

1112 
	`‰ì
(
_h™dÀ
);

1113  
LIBUSB_ERROR_OTHER
;

1116 
_h™dÀ
->
dev
 = 
	`libusb_ªf_devi˚
(dev);

1117 
_h™dÀ
->
auto_dëach_kî√l_drivî
 = 0;

1118 
_h™dÀ
->
˛aimed_öãrÁ˚s
 = 0;

1119 
	`mem£t
(&
_h™dÀ
->
os_¥iv
, 0, 
¥iv_size
);

1121 
r
 = 
usbi_backíd
->
	`›í
(
_h™dÀ
);

1122 i‡(
r
 < 0) {

1123 
	`usbi_dbg
("›í %d.%dÑëu∫†%d", 
dev
->
bus_numbî
, dev->
devi˚_addªss
, 
r
);

1124 
	`libusb_uƒef_devi˚
(
dev
);

1125 
	`usbi_muãx_de°roy
(&
_h™dÀ
->
lock
);

1126 
	`‰ì
(
_h™dÀ
);

1127  
r
;

1130 
	`usbi_muãx_lock
(&
˘x
->
›í_devs_lock
);

1131 
	`li°_add
(&
_h™dÀ
->
li°
, &
˘x
->
›í_devs
);

1132 
	`usbi_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

1133 *
h™dÀ
 = 
_h™dÀ
;

1141 
	`usbi_fd_nŸifiˇti⁄
(
˘x
);

1144 
	}
}

1162 
DEFAULT_VISIBILITY


1163 
libusb_devi˚_h™dÀ
 * 
LIBUSB_CALL
 
	$libusb_›í_devi˚_wôh_vid_pid
(

1164 
libusb_c⁄ãxt
 *
˘x
, 
uöt16_t
 
víd‹_id
, uöt16_à
¥odu˘_id
)

1166 
libusb_devi˚
 **
devs
;

1167 
libusb_devi˚
 *
found
 = 
NULL
;

1168 
libusb_devi˚
 *
dev
;

1169 
libusb_devi˚_h™dÀ
 *
h™dÀ
 = 
NULL
;

1170 
size_t
 
i
 = 0;

1171 
r
;

1173 i‡(
	`libusb_gë_devi˚_li°
(
˘x
, &
devs
) < 0)

1174  
NULL
;

1176 (
dev
 = 
devs
[
i
++]Ë!
NULL
) {

1177 
libusb_devi˚_des¸ùt‹
 
desc
;

1178 
r
 = 
	`libusb_gë_devi˚_des¸ùt‹
(
dev
, &
desc
);

1179 i‡(
r
 < 0)

1180 
out
;

1181 i‡(
desc
.
idVíd‹
 =
víd‹_id
 && desc.
idProdu˘
 =
¥odu˘_id
) {

1182 
found
 = 
dev
;

1187 i‡(
found
) {

1188 
r
 = 
	`libusb_›í
(
found
, &
h™dÀ
);

1189 i‡(
r
 < 0)

1190 
h™dÀ
 = 
NULL
;

1193 
out
:

1194 
	`libusb_‰ì_devi˚_li°
(
devs
, 1);

1195  
h™dÀ
;

1196 
	}
}

1198 
	$do_˛o£
(
libusb_c⁄ãxt
 *
˘x
,

1199 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

1201 
usbi_å™s„r
 *
ôøns„r
;

1202 
usbi_å™s„r
 *
tmp
;

1204 
	`libusb_lock_evíts
(
˘x
);

1207 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

1210 
	`li°_f‹_óch_íåy_ß„
(
ôøns„r
, 
tmp
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

1211 
libusb_å™s„r
 *
å™s„r
 =

1212 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1214 i‡(
å™s„r
->
dev_h™dÀ
 != dev_handle)

1217 i‡(!(
ôøns„r
->
Êags
 & 
USBI_TRANSFER_DEVICE_DISAPPEARED
)) {

1218 
	`usbi_îr
(
˘x
, "Device handle closed whileÅransfer was still beingÖrocessed, butÅhe device is still connectedás farás we know");

1220 i‡(
ôøns„r
->
Êags
 & 
USBI_TRANSFER_CANCELLING
)

1221 
	`usbi_w¨n
(
˘x
, "A cancellation forán in-flightÅransfer hasn't completed but closingÅhe device handle");

1223 
	`usbi_îr
(
˘x
, "A cancellation hasn'tÉven been scheduled onÅheÅransfer for whichÅhe device is closing");

1230 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

1231 
	`li°_dñ
(&
ôøns„r
->
li°
);

1232 
å™s„r
->
dev_h™dÀ
 = 
NULL
;

1233 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

1239 
	`usbi_dbg
("RemovedÅransfer %p fromÅhe in-flightÜist because device handle %p closed",

1240 
å™s„r
, 
dev_h™dÀ
);

1242 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

1244 
	`libusb_u∆ock_evíts
(
˘x
);

1246 
	`usbi_muãx_lock
(&
˘x
->
›í_devs_lock
);

1247 
	`li°_dñ
(&
dev_h™dÀ
->
li°
);

1248 
	`usbi_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

1250 
usbi_backíd
->
	`˛o£
(
dev_h™dÀ
);

1251 
	`libusb_uƒef_devi˚
(
dev_h™dÀ
->
dev
);

1252 
	`usbi_muãx_de°roy
(&
dev_h™dÀ
->
lock
);

1253 
	`‰ì
(
dev_h™dÀ
);

1254 
	}
}

1267 
API_EXPORTED
 
	$libusb_˛o£
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

1269 
libusb_c⁄ãxt
 *
˘x
;

1270 
dummy
 = 1;

1271 
ssize_t
 
r
;

1273 i‡(!
dev_h™dÀ
)

1275 
	`usbi_dbg
("");

1277 
˘x
 = 
	`HANDLE_CTX
(
dev_h™dÀ
);

1286 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1287 
˘x
->
pﬁlfd_modify
++;

1288 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1291 
r
 = 
	`usbi_wrôe
(
˘x
->
˘æ_pùe
[1], &
dummy
, (dummy));

1292 i‡(
r
 <= 0) {

1293 
	`usbi_w¨n
(
˘x
, "internal signalling write failed, closingányway");

1294 
	`do_˛o£
(
˘x
, 
dev_h™dÀ
);

1295 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1296 
˘x
->
pﬁlfd_modify
--;

1297 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1302 
	`libusb_lock_evíts
(
˘x
);

1305 
r
 = 
	`usbi_ªad
(
˘x
->
˘æ_pùe
[0], &
dummy
, (dummy));

1306 i‡(
r
 <= 0)

1307 
	`usbi_w¨n
(
˘x
, "internal signallingÑead failed, closingányway");

1310 
	`do_˛o£
(
˘x
, 
dev_h™dÀ
);

1313 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1314 
˘x
->
pﬁlfd_modify
--;

1315 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1318 
	`libusb_u∆ock_evíts
(
˘x
);

1319 
	}
}

1328 
DEFAULT_VISIBILITY


1329 
libusb_devi˚
 * 
LIBUSB_CALL
 
	$libusb_gë_devi˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

1331  
dev_h™dÀ
->
dev
;

1332 
	}
}

1354 
API_EXPORTED
 
	$libusb_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev
,

1355 *
c⁄fig
)

1357 
r
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

1359 
	`usbi_dbg
("");

1360 i‡(
usbi_backíd
->
gë_c⁄figuøti⁄
)

1361 
r
 = 
usbi_backíd
->
	`gë_c⁄figuøti⁄
(
dev
, 
c⁄fig
);

1363 i‡(
r
 =
LIBUSB_ERROR_NOT_SUPPORTED
) {

1364 
uöt8_t
 
tmp
 = 0;

1365 
	`usbi_dbg
("falling backÅo control message");

1366 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
dev
, 
LIBUSB_ENDPOINT_IN
,

1367 
LIBUSB_REQUEST_GET_CONFIGURATION
, 0, 0, &
tmp
, 1, 1000);

1368 i‡(
r
 == 0) {

1369 
	`usbi_îr
(
	`HANDLE_CTX
(
dev
), "zero bytesÑeturned in ctrlÅransfer?");

1370 
r
 = 
LIBUSB_ERROR_IO
;

1371 } i‡(
r
 == 1) {

1372 
r
 = 0;

1373 *
c⁄fig
 = 
tmp
;

1375 
	`usbi_dbg
("c⁄åﬁ faûed,Éº‹ %d", 
r
);

1379 i‡(
r
 == 0)

1380 
	`usbi_dbg
("a˘ivêc⁄fig %d", *
c⁄fig
);

1382  
r
;

1383 
	}
}

1431 
API_EXPORTED
 
	$libusb_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev
,

1432 
c⁄figuøti⁄
)

1434 
	`usbi_dbg
("c⁄figuøti⁄ %d", 
c⁄figuøti⁄
);

1435  
usbi_backíd
->
	`£t_c⁄figuøti⁄
(
dev
, 
c⁄figuøti⁄
);

1436 
	}
}

1466 
API_EXPORTED
 
	$libusb_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev
,

1467 
öãrÁ˚_numbî
)

1469 
r
 = 0;

1471 
	`usbi_dbg
("öãrÁ˚ %d", 
öãrÁ˚_numbî
);

1472 i‡(
öãrÁ˚_numbî
 >
USB_MAXINTERFACES
)

1473  
LIBUSB_ERROR_INVALID_PARAM
;

1475 i‡(!
dev
->dev->
©èched
) {

1476 #ifde‡
YS_PRINT_API


1477 
	`YSPRINT
("%s:%d %s: i¡îÁ˚ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
öãrÁ˚_numbî
);

1479  
LIBUSB_ERROR_NO_DEVICE
;

1482 
	`usbi_muãx_lock
(&
dev
->
lock
);

1483 i‡(
dev
->
˛aimed_öãrÁ˚s
 & (1 << 
öãrÁ˚_numbî
))

1484 
out
;

1486 
r
 = 
usbi_backíd
->
	`˛aim_öãrÁ˚
(
dev
, 
öãrÁ˚_numbî
);

1487 i‡(
r
 == 0)

1488 
dev
->
˛aimed_öãrÁ˚s
 |1 << 
öãrÁ˚_numbî
;

1490 
out
:

1491 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

1492  
r
;

1493 
	}
}

1514 
API_EXPORTED
 
	$libusb_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev
,

1515 
öãrÁ˚_numbî
)

1517 
r
;

1519 
	`usbi_dbg
("öãrÁ˚ %d", 
öãrÁ˚_numbî
);

1520 i‡(
öãrÁ˚_numbî
 >
USB_MAXINTERFACES
)

1521  
LIBUSB_ERROR_INVALID_PARAM
;

1523 
	`usbi_muãx_lock
(&
dev
->
lock
);

1524 i‡(!(
dev
->
˛aimed_öãrÁ˚s
 & (1 << 
öãrÁ˚_numbî
))) {

1525 
r
 = 
LIBUSB_ERROR_NOT_FOUND
;

1526 
out
;

1529 
r
 = 
usbi_backíd
->
	`ªÀa£_öãrÁ˚
(
dev
, 
öãrÁ˚_numbî
);

1530 i‡(
r
 == 0)

1531 
dev
->
˛aimed_öãrÁ˚s
 &~(1 << 
öãrÁ˚_numbî
);

1533 
out
:

1534 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

1535  
r
;

1536 
	}
}

1559 
API_EXPORTED
 
	$libusb_£t_öãrÁ˚_Æt_£âög
(
libusb_devi˚_h™dÀ
 *
dev
,

1560 
öãrÁ˚_numbî
, 
Æã∫©e_£âög
)

1562 
	`usbi_dbg
("interface %dáltsetting %d",

1563 
öãrÁ˚_numbî
, 
Æã∫©e_£âög
);

1564 i‡(
öãrÁ˚_numbî
 >
USB_MAXINTERFACES
)

1565  
LIBUSB_ERROR_INVALID_PARAM
;

1567 
	`usbi_muãx_lock
(&
dev
->
lock
);

1568 i‡(!
dev
->dev->
©èched
) {

1569 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

1570 #ifde‡
YS_PRINT_API


1571 
	`YSPRINT
("%s:%d %s: i¡îÁ˚ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
öãrÁ˚_numbî
);

1573  
LIBUSB_ERROR_NO_DEVICE
;

1576 i‡(!(
dev
->
˛aimed_öãrÁ˚s
 & (1 << 
öãrÁ˚_numbî
))) {

1577 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

1578  
LIBUSB_ERROR_NOT_FOUND
;

1580 
	`usbi_muãx_u∆ock
(&
dev
->
lock
);

1582  
usbi_backíd
->
	`£t_öãrÁ˚_Æt£âög
(
dev
, 
öãrÁ˚_numbî
,

1583 
Æã∫©e_£âög
);

1584 
	}
}

1602 
API_EXPORTED
 
	$libusb_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
dev
,

1603 
ídpoöt
)

1605 
	`usbi_dbg
("ídpoöà%x", 
ídpoöt
);

1606 i‡(!
dev
->dev->
©èched
) {

1607 #ifde‡
YS_PRINT_API


1608 
	`YSPRINT
("%s:%d %s:Éndpoöà%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
ídpoöt
);

1610  
LIBUSB_ERROR_NO_DEVICE
;

1613  
usbi_backíd
->
	`˛ór_hÆt
(
dev
, 
ídpoöt
);

1614 
	}
}

1635 
API_EXPORTED
 
	$libusb_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
dev
)

1637 
	`usbi_dbg
("");

1638 i‡(!
dev
->dev->
©èched
) {

1639 #ifde‡
YS_PRINT_API


1640 
	`YSPRINT
("%s:%d %s: \n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

1642  
LIBUSB_ERROR_NO_DEVICE
;

1645  
usbi_backíd
->
	`ª£t_devi˚
(
dev
);

1646 
	}
}

1669 
API_EXPORTED
 
	$libusb_Æloc_°ªams
(
libusb_devi˚_h™dÀ
 *
dev
,

1670 
uöt32_t
 
num_°ªams
, *
ídpoöts
, 
num_ídpoöts
)

1672 
	`usbi_dbg
("°ªam†%uÉp†%d", (Ë
num_°ªams
, 
num_ídpoöts
);

1674 i‡(!
dev
->dev->
©èched
) {

1675 #ifde‡
YS_PRINT_API


1676 
	`YSPRINT
("%s:%d %s: såóm†%uÉp†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
,(Ë
num_°ªams
, 
num_ídpoöts
);

1678  
LIBUSB_ERROR_NO_DEVICE
;

1681 i‡(
usbi_backíd
->
Æloc_°ªams
)

1682  
usbi_backíd
->
	`Æloc_°ªams
(
dev
, 
num_°ªams
, 
ídpoöts
,

1683 
num_ídpoöts
);

1685  
LIBUSB_ERROR_NOT_SUPPORTED
;

1686 
	}
}

1700 
API_EXPORTED
 
	$libusb_‰ì_°ªams
(
libusb_devi˚_h™dÀ
 *
dev
,

1701 *
ídpoöts
, 
num_ídpoöts
)

1703 
	`usbi_dbg
("ï†%d", 
num_ídpoöts
);

1705 i‡(!
dev
->dev->
©èched
) {

1706 #ifde‡
YS_PRINT_API


1707 
	`YSPRINT
("%s:%d %s:Ép†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
num_ídpoöts
);

1709  
LIBUSB_ERROR_NO_DEVICE
;

1712 i‡(
usbi_backíd
->
‰ì_°ªams
)

1713  
usbi_backíd
->
	`‰ì_°ªams
(
dev
, 
ídpoöts
,

1714 
num_ídpoöts
);

1716  
LIBUSB_ERROR_NOT_SUPPORTED
;

1717 
	}
}

1736 
API_EXPORTED
 
	$libusb_kî√l_drivî_a˘ive
(
libusb_devi˚_h™dÀ
 *
dev
,

1737 
öãrÁ˚_numbî
)

1739 
	`usbi_dbg
("öãrÁ˚ %d", 
öãrÁ˚_numbî
);

1741 i‡(!
dev
->dev->
©èched
) {

1742 #ifde‡
YS_PRINT_API


1743 
	`YSPRINT
("%s:%d %s: i¡îÁ˚ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
öãrÁ˚_numbî
);

1745  
LIBUSB_ERROR_NO_DEVICE
;

1748 i‡(
usbi_backíd
->
kî√l_drivî_a˘ive
)

1749  
usbi_backíd
->
	`kî√l_drivî_a˘ive
(
dev
, 
öãrÁ˚_numbî
);

1751  
LIBUSB_ERROR_NOT_SUPPORTED
;

1752 
	}
}

1775 
API_EXPORTED
 
	$libusb_dëach_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
dev
,

1776 
öãrÁ˚_numbî
)

1778 
	`usbi_dbg
("öãrÁ˚ %d", 
öãrÁ˚_numbî
);

1780 i‡(!
dev
->dev->
©èched
) {

1781 #ifde‡
YS_PRINT_API


1782 
	`YSPRINT
("%s:%d %s: i¡îÁ˚ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
öãrÁ˚_numbî
);

1784  
LIBUSB_ERROR_NO_DEVICE
;

1787 i‡(
usbi_backíd
->
dëach_kî√l_drivî
)

1788  
usbi_backíd
->
	`dëach_kî√l_drivî
(
dev
, 
öãrÁ˚_numbî
);

1790  
LIBUSB_ERROR_NOT_SUPPORTED
;

1791 
	}
}

1813 
API_EXPORTED
 
	$libusb_©èch_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
dev
,

1814 
öãrÁ˚_numbî
)

1816 
	`usbi_dbg
("öãrÁ˚ %d", 
öãrÁ˚_numbî
);

1818 i‡(!
dev
->dev->
©èched
) {

1819 #ifde‡
YS_PRINT_API


1820 
	`YSPRINT
("%s:%d %s: i¡îÁ˚ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
öãrÁ˚_numbî
);

1822  
LIBUSB_ERROR_NO_DEVICE
;

1825 i‡(
usbi_backíd
->
©èch_kî√l_drivî
)

1826  
usbi_backíd
->
	`©èch_kî√l_drivî
(
dev
, 
öãrÁ˚_numbî
);

1828  
LIBUSB_ERROR_NOT_SUPPORTED
;

1829 
	}
}

1853 
API_EXPORTED
 
	$libusb_£t_auto_dëach_kî√l_drivî
(

1854 
libusb_devi˚_h™dÀ
 *
dev
, 
íabÀ
)

1856 i‡(!(
usbi_backíd
->
ˇps
 & 
USBI_CAP_SUPPORTS_DETACH_KERNEL_DRIVER
))

1857  
LIBUSB_ERROR_NOT_SUPPORTED
;

1859 
dev
->
auto_dëach_kî√l_drivî
 = 
íabÀ
;

1860  
LIBUSB_SUCCESS
;

1861 
	}
}

1888 
API_EXPORTED
 
	$libusb_£t_debug
(
libusb_c⁄ãxt
 *
˘x
, 
Àvñ
)

1890 
	`USBI_GET_CONTEXT
(
˘x
);

1891 i‡(!
˘x
->
debug_fixed
)

1892 
˘x
->
debug
 = 
Àvñ
;

1893 
	}
}

1895 #ifde‡
YS_PRINT_API


1896 
API_EXPORTED
 
libusb_£t_¥öt_fun˝
((*
func
)(c⁄° *
fmt
, ...))

1898 i‡(!
func
)

1901 
usb¥öt
 = 
func
;

1904 
	}
}

1920 
API_EXPORTED
 
	$libusb_öô
(
libusb_c⁄ãxt
 **
c⁄ãxt
)

1922 
libusb_devi˚
 *
dev
, *
√xt
;

1923 *
dbg
 = 
	`gëív
("LIBUSB_DEBUG");

1924 
libusb_c⁄ãxt
 *
˘x
;

1925 
fú°_öô
 = 1;

1926 
r
 = 0;

1932 
	`usbi_muãx_°©ic_lock
(&
deÁu…_c⁄ãxt_lock
);

1934 i‡(!
time°amp_‹igö
.
tv_£c
) {

1935 
	`usbi_gëtimeofday
(&
time°amp_‹igö
, 
NULL
);

1938 i‡(!
c⁄ãxt
 && 
usbi_deÁu…_c⁄ãxt
) {

1939 
	`usbi_dbg
("reusing default context");

1940 
deÁu…_c⁄ãxt_ªf˙t
++;

1941 
	`usbi_muãx_°©ic_u∆ock
(&
deÁu…_c⁄ãxt_lock
);

1945 
˘x
 = 
	`ˇŒoc
(1, (*ctx));

1946 i‡(!
˘x
) {

1947 
r
 = 
LIBUSB_ERROR_NO_MEM
;

1948 
îr_u∆ock
;

1951 #ifde‡
ENABLE_DEBUG_LOGGING


1952 
˘x
->
debug
 = 
LIBUSB_LOG_LEVEL_DEBUG
;

1955 i‡(
dbg
) {

1956 
˘x
->
debug
 = 
	`©oi
(
dbg
);

1957 i‡(
˘x
->
debug
)

1958 
˘x
->
debug_fixed
 = 1;

1962 i‡(!
usbi_deÁu…_c⁄ãxt
) {

1963 
usbi_deÁu…_c⁄ãxt
 = 
˘x
;

1964 
deÁu…_c⁄ãxt_ªf˙t
++;

1965 
	`usbi_dbg
("created default context");

1968 
	`usbi_dbg
("libusb v%d.%d.%d.%d", 
libusb_vîsi⁄_öã∫Æ
.
maj‹
,Üibusb_vîsi⁄_öã∫Æ.
mö‹
,

1969 
libusb_vîsi⁄_öã∫Æ
.
mi¸o
,Üibusb_vîsi⁄_öã∫Æ.
«no
);

1971 
	`usbi_muãx_öô
(&
˘x
->
usb_devs_lock
, 
NULL
);

1972 
	`usbi_muãx_öô
(&
˘x
->
›í_devs_lock
, 
NULL
);

1973 
	`usbi_muãx_öô
(&
˘x
->
hŸ∂ug_cbs_lock
, 
NULL
);

1974 
	`li°_öô
(&
˘x
->
usb_devs
);

1975 
	`li°_öô
(&
˘x
->
›í_devs
);

1976 
	`li°_öô
(&
˘x
->
hŸ∂ug_cbs
);

1978 
	`usbi_muãx_°©ic_lock
(&
a˘ive_c⁄ãxts_lock
);

1979 i‡(
fú°_öô
) {

1980 
fú°_öô
 = 0;

1981 
	`li°_öô
 (&
a˘ive_c⁄ãxts_li°
);

1983 
	`li°_add
 (&
˘x
->
li°
, &
a˘ive_c⁄ãxts_li°
);

1984 
	`usbi_muãx_°©ic_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

1986 i‡(
usbi_backíd
->
öô
) {

1987 
r
 = 
usbi_backíd
->
	`öô
(
˘x
);

1988 i‡(
r
)

1989 
îr_‰ì_˘x
;

1992 
r
 = 
	`usbi_io_öô
(
˘x
);

1993 i‡(
r
 < 0)

1994 
îr_backíd_exô
;

1996 
	`usbi_muãx_°©ic_u∆ock
(&
deÁu…_c⁄ãxt_lock
);

1998 i‡(
c⁄ãxt
)

1999 *
c⁄ãxt
 = 
˘x
;

2003 
îr_backíd_exô
:

2004 i‡(
usbi_backíd
->
exô
)

2005 
usbi_backíd
->
	`exô
();

2006 
îr_‰ì_˘x
:

2007 i‡(
˘x
 =
usbi_deÁu…_c⁄ãxt
)

2008 
usbi_deÁu…_c⁄ãxt
 = 
NULL
;

2010 
	`usbi_muãx_°©ic_lock
(&
a˘ive_c⁄ãxts_lock
);

2011 
	`li°_dñ
 (&
˘x
->
li°
);

2012 
	`usbi_muãx_°©ic_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

2014 
	`usbi_muãx_lock
(&
˘x
->
usb_devs_lock
);

2015 
	`li°_f‹_óch_íåy_ß„
(
dev
, 
√xt
, &
˘x
->
usb_devs
, 
li°
, 
libusb_devi˚
) {

2016 
	`li°_dñ
(&
dev
->
li°
);

2017 
	`libusb_uƒef_devi˚
(
dev
);

2019 
	`usbi_muãx_u∆ock
(&
˘x
->
usb_devs_lock
);

2021 
	`usbi_muãx_de°roy
(&
˘x
->
›í_devs_lock
);

2022 
	`usbi_muãx_de°roy
(&
˘x
->
usb_devs_lock
);

2023 
	`usbi_muãx_de°roy
(&
˘x
->
hŸ∂ug_cbs_lock
);

2025 
	`‰ì
(
˘x
);

2026 
îr_u∆ock
:

2027 
	`usbi_muãx_°©ic_u∆ock
(&
deÁu…_c⁄ãxt_lock
);

2028  
r
;

2029 
	}
}

2036 
API_EXPORTED
 
	$libusb_exô
(
libusb_c⁄ãxt
 *
˘x
)

2038 
libusb_devi˚
 *
dev
, *
√xt
;

2039 
timevÆ
 
tv
 = { 0, 0 };

2041 
	`usbi_dbg
("");

2042 
	`USBI_GET_CONTEXT
(
˘x
);

2046 
	`usbi_muãx_°©ic_lock
(&
deÁu…_c⁄ãxt_lock
);

2047 i‡(
˘x
 =
usbi_deÁu…_c⁄ãxt
) {

2048 i‡(--
deÁu…_c⁄ãxt_ªf˙t
 > 0) {

2049 
	`usbi_dbg
("not destroying default context");

2050 
	`usbi_muãx_°©ic_u∆ock
(&
deÁu…_c⁄ãxt_lock
);

2053 
	`usbi_dbg
("destroying default context");

2054 
usbi_deÁu…_c⁄ãxt
 = 
NULL
;

2056 
	`usbi_muãx_°©ic_u∆ock
(&
deÁu…_c⁄ãxt_lock
);

2058 
	`usbi_muãx_°©ic_lock
(&
a˘ive_c⁄ãxts_lock
);

2059 
	`li°_dñ
 (&
˘x
->
li°
);

2060 
	`usbi_muãx_°©ic_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

2062 i‡(
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
)) {

2063 
	`usbi_hŸ∂ug_dîegi°î_Æl
(
˘x
);

2074 i‡(
	`li°_em±y
(&
˘x
->
›í_devs
))

2075 
	`libusb_h™dÀ_evíts_timeout
(
˘x
, &
tv
);

2077 
	`usbi_muãx_lock
(&
˘x
->
usb_devs_lock
);

2078 
	`li°_f‹_óch_íåy_ß„
(
dev
, 
√xt
, &
˘x
->
usb_devs
, 
li°
, 
libusb_devi˚
) {

2079 
	`li°_dñ
(&
dev
->
li°
);

2080 
	`libusb_uƒef_devi˚
(
dev
);

2082 
	`usbi_muãx_u∆ock
(&
˘x
->
usb_devs_lock
);

2087 i‡(!
	`li°_em±y
(&
˘x
->
usb_devs
))

2088 
	`usbi_w¨n
(
˘x
, "someÜibusb_devices wereÜeaked");

2089 i‡(!
	`li°_em±y
(&
˘x
->
›í_devs
))

2090 
	`usbi_w¨n
(
˘x
, "applicationÜeft some devices open");

2092 
	`usbi_io_exô
(
˘x
);

2093 i‡(
usbi_backíd
->
exô
)

2094 
usbi_backíd
->
	`exô
();

2096 
	`usbi_muãx_de°roy
(&
˘x
->
›í_devs_lock
);

2097 
	`usbi_muãx_de°roy
(&
˘x
->
usb_devs_lock
);

2098 
	`usbi_muãx_de°roy
(&
˘x
->
hŸ∂ug_cbs_lock
);

2099 
	`‰ì
(
˘x
);

2100 
	}
}

2110 
API_EXPORTED
 
	$libusb_has_ˇ∑bûôy
(
uöt32_t
 
ˇ∑bûôy
)

2112 
ˇ∑bûôy
) {

2113 
LIBUSB_CAP_HAS_CAPABILITY
:

2115 
LIBUSB_CAP_HAS_HOTPLUG
:

2116  !(
usbi_backíd
->
gë_devi˚_li°
);

2117 
LIBUSB_CAP_HAS_HID_ACCESS
:

2118  (
usbi_backíd
->
ˇps
 & 
USBI_CAP_HAS_HID_ACCESS
);

2119 
LIBUSB_CAP_SUPPORTS_DETACH_KERNEL_DRIVER
:

2120  (
usbi_backíd
->
ˇps
 & 
USBI_CAP_SUPPORTS_DETACH_KERNEL_DRIVER
);

2123 
	}
}

2126 #ifde‡
LIBUSB_GETTIMEOFDAY_WIN32


2150 
	#_W32_FT_OFFSET
 (116444736000000000)

	)

2152 
	$usbi_gëtimeofday
(
timevÆ
 *
ç
, *
tzp
)

2155 
__öt64
 
ns100
;

2156 
FILETIME
 
·
;

2157 } 
_now
;

2158 
	`UNUSED
(
tzp
);

2160 if(
ç
) {

2161 #i‡
	`deföed
(
OS_WINCE
)

2162 
SYSTEMTIME
 
°
;

2163 
	`GëSy°emTime
(&
°
);

2164 
	`Sy°emTimeToFûeTime
(&
°
, &
_now
.
·
);

2166 
	`GëSy°emTimeAsFûeTime
 (&
_now
.
·
);

2168 
ç
->
tv_u£c
=()((
_now
.
ns100
 / 10) % 1000000 );

2169 
ç
->
tv_£c
()((
_now
.
ns100
 - 
_W32_FT_OFFSET
) / 10000000);

2174 
	}
}

2177 
	$usbi_log_°r
(
libusb_c⁄ãxt
 *
˘x
,

2178 
libusb_log_Àvñ
 
Àvñ
, c⁄° * 
°r
)

2180 #i‡
	`deföed
(
USE_SYSTEM_LOGGING_FACILITY
)

2181 #i‡
	`deföed
(
OS_WINDOWS
Ë|| deföed(
OS_WINCE
)

2183 
WCHAR
 
wbuf
[
USBI_MAX_LOG_LEN
];

2184 
	`Mu…iByãToWideCh¨
(
CP_UTF8
, 0, 
°r
, -1, 
wbuf
, (wbuf));

2185 
	`OuçutDebugSåögW
(
wbuf
);

2186 #ñi‡
	`deföed
(
__ANDROID__
)

2187 
¥i‹ôy
 = 
ANDROID_LOG_UNKNOWN
;

2188 
Àvñ
) {

2189 
LIBUSB_LOG_LEVEL_INFO
: 
¥i‹ôy
 = 
ANDROID_LOG_INFO
; ;

2190 
LIBUSB_LOG_LEVEL_WARNING
: 
¥i‹ôy
 = 
ANDROID_LOG_WARN
; ;

2191 
LIBUSB_LOG_LEVEL_ERROR
: 
¥i‹ôy
 = 
ANDROID_LOG_ERROR
; ;

2192 
LIBUSB_LOG_LEVEL_DEBUG
: 
¥i‹ôy
 = 
ANDROID_LOG_DEBUG
; ;

2194 
	`__™droid_log_wrôe
(
¥i‹ôy
, "libusb", 
°r
);

2195 #ñi‡
	`deföed
(
HAVE_SYSLOG_FUNC
)

2196 
sy¶og_Àvñ
 = 
LOG_INFO
;

2197 
Àvñ
) {

2198 
LIBUSB_LOG_LEVEL_INFO
: 
sy¶og_Àvñ
 = 
LOG_INFO
; ;

2199 
LIBUSB_LOG_LEVEL_WARNING
: 
sy¶og_Àvñ
 = 
LOG_WARNING
; ;

2200 
LIBUSB_LOG_LEVEL_ERROR
: 
sy¶og_Àvñ
 = 
LOG_ERR
; ;

2201 
LIBUSB_LOG_LEVEL_DEBUG
: 
sy¶og_Àvñ
 = 
LOG_DEBUG
; ;

2203 
	`sy¶og
(
sy¶og_Àvñ
, "%s", 
°r
);

2205 #w¨nög 
Sy°em
 
loggög
 
is
 
nŸ
 
suµ‹ãd
 
⁄
 
this
 
∂©f‹m
. 
Loggög
 
to
 
°dîr
 
wûl
 
be
 
u£d
 
ö°ód
.

2206 
	`Âuts
(
°r
, 
°dîr
);

2209 
	`Âuts
(
°r
, 
°dîr
);

2211 
	`UNUSED
(
˘x
);

2212 
	`UNUSED
(
Àvñ
);

2213 
	}
}

2215 
	$usbi_log_v
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_log_Àvñ
 
Àvñ
,

2216 c⁄° *
fun˘i⁄
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

2218 c⁄° *
¥efix
 = "";

2219 
buf
[
USBI_MAX_LOG_LEN
];

2220 
timevÆ
 
now
;

2221 
globÆ_debug
, 
hódî_Àn
, 
ãxt_Àn
;

2222 
has_debug_hódî_bìn_di•œyed
 = 0;

2224 #ifde‡
ENABLE_DEBUG_LOGGING


2225 
globÆ_debug
 = 1;

2226 
	`UNUSED
(
˘x
);

2228 
˘x_Àvñ
 = 0;

2230 
	`USBI_GET_CONTEXT
(
˘x
);

2231 i‡(
˘x
) {

2232 
˘x_Àvñ
 = 
˘x
->
debug
;

2234 *
dbg
 = 
	`gëív
("LIBUSB_DEBUG");

2235 i‡(
dbg
)

2236 
˘x_Àvñ
 = 
	`©oi
(
dbg
);

2238 
globÆ_debug
 = (
˘x_Àvñ
 =
LIBUSB_LOG_LEVEL_DEBUG
);

2239 i‡(!
˘x_Àvñ
)

2241 i‡(
Àvñ
 =
LIBUSB_LOG_LEVEL_WARNING
 && 
˘x_Àvñ
 < LIBUSB_LOG_LEVEL_WARNING)

2243 i‡(
Àvñ
 =
LIBUSB_LOG_LEVEL_INFO
 && 
˘x_Àvñ
 < LIBUSB_LOG_LEVEL_INFO)

2245 i‡(
Àvñ
 =
LIBUSB_LOG_LEVEL_DEBUG
 && 
˘x_Àvñ
 < LIBUSB_LOG_LEVEL_DEBUG)

2249 
	`usbi_gëtimeofday
(&
now
, 
NULL
);

2250 i‡((
globÆ_debug
Ë&& (!
has_debug_hódî_bìn_di•œyed
)) {

2251 
has_debug_hódî_bìn_di•œyed
 = 1;

2252 
	`usbi_log_°r
(
˘x
, 
LIBUSB_LOG_LEVEL_DEBUG
, "[timestamp] [threadID] facilityÜevel [function call] <message>\n");

2253 
	`usbi_log_°r
(
˘x
, 
LIBUSB_LOG_LEVEL_DEBUG
, "--------------------------------------------------------------------------------\n");

2255 i‡(
now
.
tv_u£c
 < 
time°amp_‹igö
.tv_usec) {

2256 
now
.
tv_£c
--;

2257 
now
.
tv_u£c
 += 1000000;

2259 
now
.
tv_£c
 -
time°amp_‹igö
.tv_sec;

2260 
now
.
tv_u£c
 -
time°amp_‹igö
.tv_usec;

2262 
Àvñ
) {

2263 
LIBUSB_LOG_LEVEL_INFO
:

2264 
¥efix
 = "info";

2266 
LIBUSB_LOG_LEVEL_WARNING
:

2267 
¥efix
 = "warning";

2269 
LIBUSB_LOG_LEVEL_ERROR
:

2270 
¥efix
 = "error";

2272 
LIBUSB_LOG_LEVEL_DEBUG
:

2273 
¥efix
 = "debug";

2275 
LIBUSB_LOG_LEVEL_NONE
:

2278 
¥efix
 = "unknown";

2282 i‡(
globÆ_debug
) {

2283 
hódî_Àn
 = 
	`¢¥ötf
(
buf
, (buf),

2285 ()
now
.
tv_£c
, (Íow.
tv_u£c
, 
	`usbi_gë_tid
(), 
¥efix
, 
fun˘i⁄
);

2287 
hódî_Àn
 = 
	`¢¥ötf
(
buf
, (buf),

2288 "libusb: %†[%s] ", 
¥efix
, 
fun˘i⁄
);

2291 i‡(
hódî_Àn
 < 0 || hódî_À¿>(
buf
)) {

2294 
hódî_Àn
 = 0;

2297 
buf
[
hódî_Àn
] = '\0';

2298 
ãxt_Àn
 = 
	`v¢¥ötf
(
buf
 + 
hódî_Àn
, (buf) - header_len,

2299 
f‹m©
, 
¨gs
);

2300 i‡(
ãxt_Àn
 < 0 ||Åext_À¿+ 
hódî_Àn
 >(
buf
)) {

2303 
ãxt_Àn
 = (
buf
Ë- 
hódî_Àn
;

2305 i‡(
hódî_Àn
 + 
ãxt_Àn
 + (
USBI_LOG_LINE_END
Ë>(
buf
)) {

2307 
ãxt_Àn
 -(
hódî_Àn
 +Åext_À¿+ (
USBI_LOG_LINE_END
)Ë- (
buf
);

2309 
	`°r˝y
(
buf
 + 
hódî_Àn
 + 
ãxt_Àn
, 
USBI_LOG_LINE_END
);

2311 
	`usbi_log_°r
(
˘x
, 
Àvñ
, 
buf
);

2312 
	}
}

2314 
	$usbi_log
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_log_Àvñ
 
Àvñ
,

2315 c⁄° *
fun˘i⁄
, c⁄° *
f‹m©
, ...)

2317 
va_li°
 
¨gs
;

2319 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

2320 
	`usbi_log_v
(
˘x
, 
Àvñ
, 
fun˘i⁄
, 
f‹m©
, 
¨gs
);

2321 
	`va_íd
 (
¨gs
);

2322 
	}
}

2334 
DEFAULT_VISIBILITY
 c⁄° * 
LIBUSB_CALL
 
	$libusb_îr‹_«me
(
îr‹_code
)

2336 
îr‹_code
) {

2337 
LIBUSB_ERROR_IO
:

2339 
LIBUSB_ERROR_INVALID_PARAM
:

2341 
LIBUSB_ERROR_ACCESS
:

2343 
LIBUSB_ERROR_NO_DEVICE
:

2345 
LIBUSB_ERROR_NOT_FOUND
:

2347 
LIBUSB_ERROR_BUSY
:

2349 
LIBUSB_ERROR_TIMEOUT
:

2351 
LIBUSB_ERROR_OVERFLOW
:

2353 
LIBUSB_ERROR_PIPE
:

2355 
LIBUSB_ERROR_INTERRUPTED
:

2357 
LIBUSB_ERROR_NO_MEM
:

2359 
LIBUSB_ERROR_NOT_SUPPORTED
:

2361 
LIBUSB_ERROR_OTHER
:

2363 
LIBUSB_TRANSFER_ERROR
:

2365 
LIBUSB_TRANSFER_TIMED_OUT
:

2367 
LIBUSB_TRANSFER_CANCELLED
:

2369 
LIBUSB_TRANSFER_STALL
:

2371 
LIBUSB_TRANSFER_NO_DEVICE
:

2373 
LIBUSB_TRANSFER_OVERFLOW
:

2380 
	}
}

2386 
DEFAULT_VISIBILITY


2387 c⁄° 
libusb_vîsi⁄
 * 
LIBUSB_CALL
 
	$libusb_gë_vîsi⁄
()

2389  &
libusb_vîsi⁄_öã∫Æ
;

2390 
	}
}

	@libusb/descriptor.c

22 
	~<î∫o.h
>

23 
	~<°döt.h
>

24 
	~<°dlib.h
>

25 
	~<°rög.h
>

27 
	~"libusbi.h
"

29 
	#DESC_HEADER_LENGTH
 2

	)

30 
	#DEVICE_DESC_LENGTH
 18

	)

31 
	#CONFIG_DESC_LENGTH
 9

	)

32 
	#INTERFACE_DESC_LENGTH
 9

	)

33 
	#ENDPOINT_DESC_LENGTH
 7

	)

34 
	#ENDPOINT_AUDIO_DESC_LENGTH
 9

	)

43 
	$usbi_∑r£_des¸ùt‹
(c⁄° *
sour˚
, c⁄° *
des¸ùt‹
,

44 *
de°
, 
ho°_ídün
)

46 c⁄° *
•
 = 
sour˚
;

47 *
dp
 = 
de°
;

48 
uöt16_t
 
w
;

49 c⁄° *
˝
;

50 
uöt32_t
 
d
;

52 
˝
 = 
des¸ùt‹
; *cp; cp++) {

53 *
˝
) {

55 *
dp
++ = *
•
++;

58 
dp
 +((
uöçå_t
)dp & 1);

60 i‡(
ho°_ídün
) {

61 
	`mem˝y
(
dp
, 
•
, 2);

63 
w
 = (
•
[1] << 8) | sp[0];

64 *((
uöt16_t
 *)
dp
Ë
w
;

66 
•
 += 2;

67 
dp
 += 2;

70 
dp
 +((
uöçå_t
)dp & 1);

72 i‡(
ho°_ídün
) {

73 
	`mem˝y
(
dp
, 
•
, 4);

75 
d
 = (
•
[3] << 24) | (sp[2] << 16) |

76 (
•
[1] << 8) | sp[0];

77 *((
uöt32_t
 *)
dp
Ë
d
;

79 
•
 += 4;

80 
dp
 += 4;

83 
	`mem˝y
(
dp
, 
•
, 16);

84 
•
 += 16;

85 
dp
 += 16;

90  (Ë(
•
 - 
sour˚
);

91 
	}
}

93 
	$˛ór_ídpoöt
(
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
)

95 i‡(
ídpoöt
->
exåa
)

96 
	`‰ì
((*Ë
ídpoöt
->
exåa
);

97 
	}
}

99 
	$∑r£_ídpoöt
(
libusb_c⁄ãxt
 *
˘x
,

100 
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
, *
buf„r
,

101 
size
, 
ho°_ídün
)

103 
usb_des¸ùt‹_hódî
 
hódî
;

104 *
exåa
;

105 *
begö
;

106 
∑r£d
 = 0;

107 
Àn
;

109 i‡(
size
 < 
DESC_HEADER_LENGTH
) {

110 
	`usbi_îr
(
˘x
, "shortÉndpoint descriptorÑead %d/%d",

111 
size
, 
DESC_HEADER_LENGTH
);

112  
LIBUSB_ERROR_IO
;

115 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bb", &
hódî
, 0);

116 i‡(
hódî
.
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_ENDPOINT
) {

117 
	`usbi_îr
(
˘x
, "unexpected descriptor %x (expected %x)",

118 
hódî
.
bDes¸ùt‹Ty≥
, 
LIBUSB_DT_ENDPOINT
);

119  
∑r£d
;

121 i‡(
hódî
.
bLígth
 > 
size
) {

122 
	`usbi_w¨n
(
˘x
, "shortÉndpoint descriptorÑead %d/%d",

123 
size
, 
hódî
.
bLígth
);

124  
∑r£d
;

126 i‡(
hódî
.
bLígth
 >
ENDPOINT_AUDIO_DESC_LENGTH
)

127 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbbbwbbb", 
ídpoöt
, 
ho°_ídün
);

128 i‡(
hódî
.
bLígth
 >
ENDPOINT_DESC_LENGTH
)

129 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbbbwb", 
ídpoöt
, 
ho°_ídün
);

131 
	`usbi_îr
(
˘x
, "övÆidÉndpoöàbLígth (%d)", 
hódî
.
bLígth
);

132  
LIBUSB_ERROR_IO
;

135 
buf„r
 +
hódî
.
bLígth
;

136 
size
 -
hódî
.
bLígth
;

137 
∑r£d
 +
hódî
.
bLígth
;

141 
begö
 = 
buf„r
;

142 
size
 >
DESC_HEADER_LENGTH
) {

143 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bb", &
hódî
, 0);

144 i‡(
hódî
.
bLígth
 < 
DESC_HEADER_LENGTH
) {

145 
	`usbi_îr
(
˘x
, "invalidÉxtraÉp descÜen (%d)",

146 
hódî
.
bLígth
);

147  
LIBUSB_ERROR_IO
;

148 } i‡(
hódî
.
bLígth
 > 
size
) {

149 
	`usbi_w¨n
(
˘x
, "shortÉxtraÉp descÑead %d/%d",

150 
size
, 
hódî
.
bLígth
);

151  
∑r£d
;

155 i‡((
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_ENDPOINT
) ||

156 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_INTERFACE
) ||

157 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_CONFIG
) ||

158 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_DEVICE
))

161 
	`usbi_dbg
("skùpög des¸ùt‹ %x", 
hódî
.
bDes¸ùt‹Ty≥
);

162 
buf„r
 +
hódî
.
bLígth
;

163 
size
 -
hódî
.
bLígth
;

164 
∑r£d
 +
hódî
.
bLígth
;

169 
Àn
 = ()(
buf„r
 - 
begö
);

170 i‡(!
Àn
) {

171 
ídpoöt
->
exåa
 = 
NULL
;

172 
ídpoöt
->
exåa_Àngth
 = 0;

173  
∑r£d
;

176 
exåa
 = 
	`mÆloc
(
Àn
);

177 
ídpoöt
->
exåa
 =Éxtra;

178 i‡(!
exåa
) {

179 
ídpoöt
->
exåa_Àngth
 = 0;

180  
LIBUSB_ERROR_NO_MEM
;

183 
	`mem˝y
(
exåa
, 
begö
, 
Àn
);

184 
ídpoöt
->
exåa_Àngth
 = 
Àn
;

186  
∑r£d
;

187 
	}
}

189 
	$˛ór_öãrÁ˚
(
libusb_öãrÁ˚
 *
usb_öãrÁ˚
)

191 
i
;

192 
j
;

194 i‡(
usb_öãrÁ˚
->
Æt£âög
) {

195 
i
 = 0; i < 
usb_öãrÁ˚
->
num_Æt£âög
; i++) {

196 
libusb_öãrÁ˚_des¸ùt‹
 *
iÂ
 =

197 (
libusb_öãrÁ˚_des¸ùt‹
 *)

198 
usb_öãrÁ˚
->
Æt£âög
 + 
i
;

199 i‡(
iÂ
->
exåa
)

200 
	`‰ì
((*Ë
iÂ
->
exåa
);

201 i‡(
iÂ
->
ídpoöt
) {

202 
j
 = 0; j < 
iÂ
->
bNumEndpoöts
; j++)

203 
	`˛ór_ídpoöt
((
libusb_ídpoöt_des¸ùt‹
 *)

204 
iÂ
->
ídpoöt
 + 
j
);

205 
	`‰ì
((*Ë
iÂ
->
ídpoöt
);

208 
	`‰ì
((*Ë
usb_öãrÁ˚
->
Æt£âög
);

209 
usb_öãrÁ˚
->
Æt£âög
 = 
NULL
;

212 
	}
}

214 
	$∑r£_öãrÁ˚
(
libusb_c⁄ãxt
 *
˘x
,

215 
libusb_öãrÁ˚
 *
usb_öãrÁ˚
, *
buf„r
, 
size
,

216 
ho°_ídün
)

218 
i
;

219 
Àn
;

220 
r
;

221 
∑r£d
 = 0;

222 
öãrÁ˚_numbî
 = -1;

223 
size_t
 
tmp
;

224 
usb_des¸ùt‹_hódî
 
hódî
;

225 
libusb_öãrÁ˚_des¸ùt‹
 *
iÂ
;

226 *
begö
;

228 
usb_öãrÁ˚
->
num_Æt£âög
 = 0;

230 
size
 >
INTERFACE_DESC_LENGTH
) {

231 
libusb_öãrÁ˚_des¸ùt‹
 *
Æt£âög
 =

232 (
libusb_öãrÁ˚_des¸ùt‹
 *Ë
usb_öãrÁ˚
->
Æt£âög
;

233 
Æt£âög
 = 
	`usbi_ªÆlocf
(altsetting,

234 (
libusb_öãrÁ˚_des¸ùt‹
) *

235 (
usb_öãrÁ˚
->
num_Æt£âög
 + 1));

236 i‡(!
Æt£âög
) {

237 
r
 = 
LIBUSB_ERROR_NO_MEM
;

238 
îr
;

240 
usb_öãrÁ˚
->
Æt£âög
 =áltsetting;

242 
iÂ
 = 
Æt£âög
 + 
usb_öãrÁ˚
->
num_Æt£âög
;

243 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbbbbbbbb", 
iÂ
, 0);

244 i‡(
iÂ
->
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_INTERFACE
) {

245 
	`usbi_îr
(
˘x
, "unexpected descriptor %x (expected %x)",

246 
iÂ
->
bDes¸ùt‹Ty≥
, 
LIBUSB_DT_INTERFACE
);

247  
∑r£d
;

249 i‡(
iÂ
->
bLígth
 < 
INTERFACE_DESC_LENGTH
) {

250 
	`usbi_îr
(
˘x
, "invalid interface bLength (%d)",

251 
iÂ
->
bLígth
);

252 
r
 = 
LIBUSB_ERROR_IO
;

253 
îr
;

255 i‡(
iÂ
->
bLígth
 > 
size
) {

256 
	`usbi_w¨n
(
˘x
, "short intf descriptorÑead %d/%d",

257 
size
, 
iÂ
->
bLígth
);

258  
∑r£d
;

260 i‡(
iÂ
->
bNumEndpoöts
 > 
USB_MAXENDPOINTS
) {

261 
	`usbi_îr
(
˘x
, "toÿm™yÉndpoöt†(%d)", 
iÂ
->
bNumEndpoöts
);

262 
r
 = 
LIBUSB_ERROR_IO
;

263 
îr
;

266 
usb_öãrÁ˚
->
num_Æt£âög
++;

267 
iÂ
->
exåa
 = 
NULL
;

268 
iÂ
->
exåa_Àngth
 = 0;

269 
iÂ
->
ídpoöt
 = 
NULL
;

271 i‡(
öãrÁ˚_numbî
 == -1)

272 
öãrÁ˚_numbî
 = 
iÂ
->
bI¡îÁ˚Numbî
;

275 
buf„r
 +
iÂ
->
bLígth
;

276 
∑r£d
 +
iÂ
->
bLígth
;

277 
size
 -
iÂ
->
bLígth
;

279 
begö
 = 
buf„r
;

282 
size
 >
DESC_HEADER_LENGTH
) {

283 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bb", &
hódî
, 0);

284 i‡(
hódî
.
bLígth
 < 
DESC_HEADER_LENGTH
) {

285 
	`usbi_îr
(
˘x
,

287 
hódî
.
bLígth
);

288 
r
 = 
LIBUSB_ERROR_IO
;

289 
îr
;

290 } i‡(
hódî
.
bLígth
 > 
size
) {

291 
	`usbi_w¨n
(
˘x
,

293 
size
, 
hódî
.
bLígth
);

294  
∑r£d
;

298 i‡((
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_INTERFACE
) ||

299 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_ENDPOINT
) ||

300 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_CONFIG
) ||

301 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_DEVICE
))

304 
buf„r
 +
hódî
.
bLígth
;

305 
∑r£d
 +
hódî
.
bLígth
;

306 
size
 -
hódî
.
bLígth
;

311 
Àn
 = ()(
buf„r
 - 
begö
);

312 i‡(
Àn
) {

313 
iÂ
->
exåa
 = 
	`mÆloc
(
Àn
);

314 i‡(!
iÂ
->
exåa
) {

315 
r
 = 
LIBUSB_ERROR_NO_MEM
;

316 
îr
;

318 
	`mem˝y
((*Ë
iÂ
->
exåa
, 
begö
, 
Àn
);

319 
iÂ
->
exåa_Àngth
 = 
Àn
;

322 i‡(
iÂ
->
bNumEndpoöts
 > 0) {

323 
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
;

324 
tmp
 = 
iÂ
->
bNumEndpoöts
 * (
libusb_ídpoöt_des¸ùt‹
);

325 
ídpoöt
 = 
	`mÆloc
(
tmp
);

326 
iÂ
->
ídpoöt
 =Éndpoint;

327 i‡(!
ídpoöt
) {

328 
r
 = 
LIBUSB_ERROR_NO_MEM
;

329 
îr
;

332 
	`mem£t
(
ídpoöt
, 0, 
tmp
);

333 
i
 = 0; i < 
iÂ
->
bNumEndpoöts
; i++) {

334 
r
 = 
	`∑r£_ídpoöt
(
˘x
, 
ídpoöt
 + 
i
, 
buf„r
, 
size
,

335 
ho°_ídün
);

336 i‡(
r
 < 0)

337 
îr
;

338 i‡(
r
 == 0) {

339 
iÂ
->
bNumEndpoöts
 = (
uöt8_t
)
i
;

343 
buf„r
 +
r
;

344 
∑r£d
 +
r
;

345 
size
 -
r
;

350 
iÂ
 = (
libusb_öãrÁ˚_des¸ùt‹
 *Ë
buf„r
;

351 i‡(
size
 < 
LIBUSB_DT_INTERFACE_SIZE
 ||

352 
iÂ
->
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_INTERFACE
 ||

353 
iÂ
->
bI¡îÁ˚Numbî
 !
öãrÁ˚_numbî
)

354  
∑r£d
;

357  
∑r£d
;

358 
îr
:

359 
	`˛ór_öãrÁ˚
(
usb_öãrÁ˚
);

360  
r
;

361 
	}
}

363 
	$˛ór_c⁄figuøti⁄
(
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
)

365 i‡(
c⁄fig
->
öãrÁ˚
) {

366 
i
;

367 
i
 = 0; i < 
c⁄fig
->
bNumI¡îÁ˚s
; i++)

368 
	`˛ór_öãrÁ˚
((
libusb_öãrÁ˚
 *)

369 
c⁄fig
->
öãrÁ˚
 + 
i
);

370 
	`‰ì
((*Ë
c⁄fig
->
öãrÁ˚
);

372 i‡(
c⁄fig
->
exåa
)

373 
	`‰ì
((*Ë
c⁄fig
->
exåa
);

374 
	}
}

376 
	$∑r£_c⁄figuøti⁄
(
libusb_c⁄ãxt
 *
˘x
,

377 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
, *
buf„r
,

378 
size
, 
ho°_ídün
)

380 
i
;

381 
r
;

382 
size_t
 
tmp
;

383 
usb_des¸ùt‹_hódî
 
hódî
;

384 
libusb_öãrÁ˚
 *
usb_öãrÁ˚
;

386 i‡(
size
 < 
LIBUSB_DT_CONFIG_SIZE
) {

387 
	`usbi_îr
(
˘x
, "short config descriptorÑead %d/%d",

388 
size
, 
LIBUSB_DT_CONFIG_SIZE
);

389  
LIBUSB_ERROR_IO
;

392 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbwbbbbb", 
c⁄fig
, 
ho°_ídün
);

393 i‡(
c⁄fig
->
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_CONFIG
) {

394 
	`usbi_îr
(
˘x
, "unexpected descriptor %x (expected %x)",

395 
c⁄fig
->
bDes¸ùt‹Ty≥
, 
LIBUSB_DT_CONFIG
);

396  
LIBUSB_ERROR_IO
;

398 i‡(
c⁄fig
->
bLígth
 < 
LIBUSB_DT_CONFIG_SIZE
) {

399 
	`usbi_îr
(
˘x
, "övÆid c⁄fig bLígth (%d)", 
c⁄fig
->
bLígth
);

400  
LIBUSB_ERROR_IO
;

402 i‡(
c⁄fig
->
bLígth
 > 
size
) {

403 
	`usbi_îr
(
˘x
, "short config descriptorÑead %d/%d",

404 
size
, 
c⁄fig
->
bLígth
);

405  
LIBUSB_ERROR_IO
;

407 i‡(
c⁄fig
->
bNumI¡îÁ˚s
 > 
USB_MAXINTERFACES
) {

408 
	`usbi_îr
(
˘x
, "toÿm™y i¡îÁ˚†(%d)", 
c⁄fig
->
bNumI¡îÁ˚s
);

409  
LIBUSB_ERROR_IO
;

412 
tmp
 = 
c⁄fig
->
bNumI¡îÁ˚s
 * (
libusb_öãrÁ˚
);

413 
usb_öãrÁ˚
 = 
	`mÆloc
(
tmp
);

414 
c⁄fig
->
öãrÁ˚
 = 
usb_öãrÁ˚
;

415 i‡(!
c⁄fig
->
öãrÁ˚
)

416  
LIBUSB_ERROR_NO_MEM
;

418 
	`mem£t
(
usb_öãrÁ˚
, 0, 
tmp
);

419 
buf„r
 +
c⁄fig
->
bLígth
;

420 
size
 -
c⁄fig
->
bLígth
;

422 
c⁄fig
->
exåa
 = 
NULL
;

423 
c⁄fig
->
exåa_Àngth
 = 0;

425 
i
 = 0; i < 
c⁄fig
->
bNumI¡îÁ˚s
; i++) {

426 
Àn
;

427 *
begö
;

431 
begö
 = 
buf„r
;

432 
size
 >
DESC_HEADER_LENGTH
) {

433 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bb", &
hódî
, 0);

435 i‡(
hódî
.
bLígth
 < 
DESC_HEADER_LENGTH
) {

436 
	`usbi_îr
(
˘x
,

438 
hódî
.
bLígth
);

439 
r
 = 
LIBUSB_ERROR_IO
;

440 
îr
;

441 } i‡(
hódî
.
bLígth
 > 
size
) {

442 
	`usbi_w¨n
(
˘x
,

444 
size
, 
hódî
.
bLígth
);

445 
c⁄fig
->
bNumI¡îÁ˚s
 = (
uöt8_t
)
i
;

446  
size
;

450 i‡((
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_ENDPOINT
) ||

451 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_INTERFACE
) ||

452 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_CONFIG
) ||

453 (
hódî
.
bDes¸ùt‹Ty≥
 =
LIBUSB_DT_DEVICE
))

456 
	`usbi_dbg
("skùpög des¸ùt‹ 0x%x\n", 
hódî
.
bDes¸ùt‹Ty≥
);

457 
buf„r
 +
hódî
.
bLígth
;

458 
size
 -
hódî
.
bLígth
;

463 
Àn
 = ()(
buf„r
 - 
begö
);

464 i‡(
Àn
) {

466 i‡(!
c⁄fig
->
exåa_Àngth
) {

467 
c⁄fig
->
exåa
 = 
	`mÆloc
(
Àn
);

468 i‡(!
c⁄fig
->
exåa
) {

469 
r
 = 
LIBUSB_ERROR_NO_MEM
;

470 
îr
;

473 
	`mem˝y
((*Ë
c⁄fig
->
exåa
, 
begö
, 
Àn
);

474 
c⁄fig
->
exåa_Àngth
 = 
Àn
;

478 
r
 = 
	`∑r£_öãrÁ˚
(
˘x
, 
usb_öãrÁ˚
 + 
i
, 
buf„r
, 
size
, 
ho°_ídün
);

479 i‡(
r
 < 0)

480 
îr
;

481 i‡(
r
 == 0) {

482 
c⁄fig
->
bNumI¡îÁ˚s
 = (
uöt8_t
)
i
;

486 
buf„r
 +
r
;

487 
size
 -
r
;

490  
size
;

492 
îr
:

493 
	`˛ór_c⁄figuøti⁄
(
c⁄fig
);

494  
r
;

495 
	}
}

497 
	$øw_desc_to_c⁄fig
(
libusb_c⁄ãxt
 *
˘x
,

498 *
buf
, 
size
, 
ho°_ídün
,

499 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
)

501 
libusb_c⁄fig_des¸ùt‹
 *
_c⁄fig
 = 
	`mÆloc
((*_config));

502 
r
;

504 i‡(!
_c⁄fig
)

505  
LIBUSB_ERROR_NO_MEM
;

507 
r
 = 
	`∑r£_c⁄figuøti⁄
(
˘x
, 
_c⁄fig
, 
buf
, 
size
, 
ho°_ídün
);

508 i‡(
r
 < 0) {

509 
	`usbi_îr
(
˘x
, "∑r£_c⁄figuøti⁄ faûed wôhÉº‹ %d", 
r
);

510 
	`‰ì
(
_c⁄fig
);

511  
r
;

512 } i‡(
r
 > 0) {

513 
	`usbi_w¨n
(
˘x
, "°û»%d byã†o‡des¸ùt‹ d©®À·", 
r
);

516 *
c⁄fig
 = 
_c⁄fig
;

517  
LIBUSB_SUCCESS
;

518 
	}
}

520 
	$usbi_devi˚_ˇche_des¸ùt‹
(
libusb_devi˚
 *
dev
)

522 
r
, 
ho°_ídün
 = 0;

524 
r
 = 
usbi_backíd
->
	`gë_devi˚_des¸ùt‹
(
dev
, (*Ë&dev->
devi˚_des¸ùt‹
,

525 &
ho°_ídün
);

526 i‡(
r
 < 0)

527  
r
;

529 i‡(!
ho°_ídün
) {

530 
dev
->
devi˚_des¸ùt‹
.
bcdUSB
 = 
	`libusb_À16_to_˝u
(dev->device_descriptor.bcdUSB);

531 
dev
->
devi˚_des¸ùt‹
.
idVíd‹
 = 
	`libusb_À16_to_˝u
(dev->device_descriptor.idVendor);

532 
dev
->
devi˚_des¸ùt‹
.
idProdu˘
 = 
	`libusb_À16_to_˝u
(dev->device_descriptor.idProduct);

533 
dev
->
devi˚_des¸ùt‹
.
bcdDevi˚
 = 
	`libusb_À16_to_˝u
(dev->device_descriptor.bcdDevice);

536  
LIBUSB_SUCCESS
;

537 
	}
}

551 
API_EXPORTED
 
	$libusb_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
,

552 
libusb_devi˚_des¸ùt‹
 *
desc
)

554 
	`usbi_dbg
("");

555 
	`mem˝y
((*Ë
desc
, (*Ë&
dev
->
devi˚_des¸ùt‹
,

556  (
dev
->
devi˚_des¸ùt‹
));

558 
	}
}

574 
API_EXPORTED
 
	$libusb_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

575 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
)

577 
libusb_c⁄fig_des¸ùt‹
 
_c⁄fig
;

578 
tmp
[
LIBUSB_DT_CONFIG_SIZE
];

579 *
buf
 = 
NULL
;

580 
ho°_ídün
 = 0;

581 
r
;

583 
r
 = 
usbi_backíd
->
	`gë_a˘ive_c⁄fig_des¸ùt‹
(
dev
, 
tmp
,

584 
LIBUSB_DT_CONFIG_SIZE
, &
ho°_ídün
);

585 i‡(
r
 < 0)

586  
r
;

587 i‡(
r
 < 
LIBUSB_DT_CONFIG_SIZE
) {

588 
	`usbi_îr
(
dev
->
˘x
, "short config descriptorÑead %d/%d",

589 
r
, 
LIBUSB_DT_CONFIG_SIZE
);

590  
LIBUSB_ERROR_IO
;

593 
	`usbi_∑r£_des¸ùt‹
(
tmp
, "bbw", &
_c⁄fig
, 
ho°_ídün
);

594 
buf
 = 
	`mÆloc
(
_c⁄fig
.
wTŸÆLígth
);

595 i‡(!
buf
)

596  
LIBUSB_ERROR_NO_MEM
;

598 
r
 = 
usbi_backíd
->
	`gë_a˘ive_c⁄fig_des¸ùt‹
(
dev
, 
buf
,

599 
_c⁄fig
.
wTŸÆLígth
, &
ho°_ídün
);

600 i‡(
r
 >= 0)

601 
r
 = 
	`øw_desc_to_c⁄fig
(
dev
->
˘x
, 
buf
,Ñ, 
ho°_ídün
, 
c⁄fig
);

603 
	`‰ì
(
buf
);

604  
r
;

605 
	}
}

623 
API_EXPORTED
 
	$libusb_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

624 
uöt8_t
 
c⁄fig_ödex
, 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
)

626 
libusb_c⁄fig_des¸ùt‹
 
_c⁄fig
;

627 
tmp
[
LIBUSB_DT_CONFIG_SIZE
];

628 *
buf
 = 
NULL
;

629 
ho°_ídün
 = 0;

630 
r
;

632 
	`usbi_dbg
("ödex %d", 
c⁄fig_ödex
);

633 i‡(
c⁄fig_ödex
 >
dev
->
num_c⁄figuøti⁄s
)

634  
LIBUSB_ERROR_NOT_FOUND
;

636 
r
 = 
usbi_backíd
->
	`gë_c⁄fig_des¸ùt‹
(
dev
, 
c⁄fig_ödex
, 
tmp
,

637 
LIBUSB_DT_CONFIG_SIZE
, &
ho°_ídün
);

638 i‡(
r
 < 0)

639  
r
;

640 i‡(
r
 < 
LIBUSB_DT_CONFIG_SIZE
) {

641 
	`usbi_îr
(
dev
->
˘x
, "short config descriptorÑead %d/%d",

642 
r
, 
LIBUSB_DT_CONFIG_SIZE
);

643  
LIBUSB_ERROR_IO
;

646 
	`usbi_∑r£_des¸ùt‹
(
tmp
, "bbw", &
_c⁄fig
, 
ho°_ídün
);

647 
buf
 = 
	`mÆloc
(
_c⁄fig
.
wTŸÆLígth
);

648 i‡(!
buf
)

649  
LIBUSB_ERROR_NO_MEM
;

651 
r
 = 
usbi_backíd
->
	`gë_c⁄fig_des¸ùt‹
(
dev
, 
c⁄fig_ödex
, 
buf
,

652 
_c⁄fig
.
wTŸÆLígth
, &
ho°_ídün
);

653 i‡(
r
 >= 0)

654 
r
 = 
	`øw_desc_to_c⁄fig
(
dev
->
˘x
, 
buf
,Ñ, 
ho°_ídün
, 
c⁄fig
);

656 
	`‰ì
(
buf
);

657  
r
;

658 
	}
}

665 
	$usbi_gë_c⁄fig_ödex_by_vÆue
(
libusb_devi˚
 *
dev
,

666 
uöt8_t
 
bC⁄figuøti⁄VÆue
, *
idx
)

668 
uöt8_t
 
i
;

670 
	`usbi_dbg
("vÆuê%d", 
bC⁄figuøti⁄VÆue
);

671 
i
 = 0; i < 
dev
->
num_c⁄figuøti⁄s
; i++) {

672 
tmp
[6];

673 
ho°_ídün
;

674 
r
 = 
usbi_backíd
->
	`gë_c⁄fig_des¸ùt‹
(
dev
, 
i
, 
tmp
, (tmp),

675 &
ho°_ídün
);

676 i‡(
r
 < 0) {

677 *
idx
 = -1;

678  
r
;

680 i‡(
tmp
[5] =
bC⁄figuøti⁄VÆue
) {

681 *
idx
 = 
i
;

686 *
idx
 = -1;

688 
	}
}

707 
API_EXPORTED
 
	$libusb_gë_c⁄fig_des¸ùt‹_by_vÆue
(
libusb_devi˚
 *
dev
,

708 
uöt8_t
 
bC⁄figuøti⁄VÆue
, 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
)

710 
r
, 
idx
, 
ho°_ídün
;

711 *
buf
 = 
NULL
;

713 i‡(
usbi_backíd
->
gë_c⁄fig_des¸ùt‹_by_vÆue
) {

714 
r
 = 
usbi_backíd
->
	`gë_c⁄fig_des¸ùt‹_by_vÆue
(
dev
,

715 
bC⁄figuøti⁄VÆue
, &
buf
, &
ho°_ídün
);

716 i‡(
r
 < 0)

717  
r
;

718  
	`øw_desc_to_c⁄fig
(
dev
->
˘x
, 
buf
, 
r
, 
ho°_ídün
, 
c⁄fig
);

721 
r
 = 
	`usbi_gë_c⁄fig_ödex_by_vÆue
(
dev
, 
bC⁄figuøti⁄VÆue
, &
idx
);

722 i‡(
r
 < 0)

723  
r
;

724 i‡(
idx
 == -1)

725  
LIBUSB_ERROR_NOT_FOUND
;

727  
	`libusb_gë_c⁄fig_des¸ùt‹
(
dev
, (
uöt8_t
Ë
idx
, 
c⁄fig
);

728 
	}
}

738 
API_EXPORTED
 
	$libusb_‰ì_c⁄fig_des¸ùt‹
(

739 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
)

741 i‡(!
c⁄fig
)

744 
	`˛ór_c⁄figuøti⁄
(
c⁄fig
);

745 
	`‰ì
(
c⁄fig
);

746 
	}
}

761 
API_EXPORTED
 
	$libusb_gë_ss_ídpoöt_com∑ni⁄_des¸ùt‹
(

762 
libusb_c⁄ãxt
 *
˘x
,

763 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
,

764 
libusb_ss_ídpoöt_com∑ni⁄_des¸ùt‹
 **
ï_comp
)

766 
usb_des¸ùt‹_hódî
 
hódî
;

767 
size
 = 
ídpoöt
->
exåa_Àngth
;

768 c⁄° *
buf„r
 = 
ídpoöt
->
exåa
;

770 *
ï_comp
 = 
NULL
;

772 
size
 >
DESC_HEADER_LENGTH
) {

773 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bb", &
hódî
, 0);

774 i‡(
hódî
.
bLígth
 < 2 || hódî.bLígth > 
size
) {

775 
	`usbi_îr
(
˘x
, "invalid descriptorÜength %d",

776 
hódî
.
bLígth
);

777  
LIBUSB_ERROR_IO
;

779 i‡(
hódî
.
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_SS_ENDPOINT_COMPANION
) {

780 
buf„r
 +
hódî
.
bLígth
;

781 
size
 -
hódî
.
bLígth
;

784 i‡(
hódî
.
bLígth
 < 
LIBUSB_DT_SS_ENDPOINT_COMPANION_SIZE
) {

785 
	`usbi_îr
(
˘x
, "invalid ss-ep-comp-descÜength %d",

786 
hódî
.
bLígth
);

787  
LIBUSB_ERROR_IO
;

789 *
ï_comp
 = 
	`mÆloc
((**ep_comp));

790 i‡(*
ï_comp
 =
NULL
)

791  
LIBUSB_ERROR_NO_MEM
;

792 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbbbw", *
ï_comp
, 0);

793  
LIBUSB_SUCCESS
;

795  
LIBUSB_ERROR_NOT_FOUND
;

796 
	}
}

806 
API_EXPORTED
 
	$libusb_‰ì_ss_ídpoöt_com∑ni⁄_des¸ùt‹
(

807 
libusb_ss_ídpoöt_com∑ni⁄_des¸ùt‹
 *
ï_comp
)

809 
	`‰ì
(
ï_comp
);

810 
	}
}

812 
	$∑r£_bos
(
libusb_c⁄ãxt
 *
˘x
,

813 
libusb_bos_des¸ùt‹
 **
bos
,

814 *
buf„r
, 
size
, 
ho°_ídün
)

816 
libusb_bos_des¸ùt‹
 
bos_hódî
, *
_bos
;

817 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 
dev_ˇp
;

818 
i
;

820 i‡(
size
 < 
LIBUSB_DT_BOS_SIZE
) {

821 
	`usbi_îr
(
˘x
, "short bos descriptorÑead %d/%d",

822 
size
, 
LIBUSB_DT_BOS_SIZE
);

823  
LIBUSB_ERROR_IO
;

826 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbwb", &
bos_hódî
, 
ho°_ídün
);

827 i‡(
bos_hódî
.
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_BOS
) {

828 
	`usbi_îr
(
˘x
, "unexpected descriptor %x (expected %x)",

829 
bos_hódî
.
bDes¸ùt‹Ty≥
, 
LIBUSB_DT_BOS
);

830  
LIBUSB_ERROR_IO
;

832 i‡(
bos_hódî
.
bLígth
 < 
LIBUSB_DT_BOS_SIZE
) {

833 
	`usbi_îr
(
˘x
, "övÆid bo†bLígth (%d)", 
bos_hódî
.
bLígth
);

834  
LIBUSB_ERROR_IO
;

836 i‡(
bos_hódî
.
bLígth
 > 
size
) {

837 
	`usbi_îr
(
˘x
, "short bos descriptorÑead %d/%d",

838 
size
, 
bos_hódî
.
bLígth
);

839  
LIBUSB_ERROR_IO
;

842 
_bos
 = 
	`ˇŒoc
 (1,

843 (*
_bos
Ë+ 
bos_hódî
.
bNumDevi˚C≠s
 * (*));

844 i‡(!
_bos
)

845  
LIBUSB_ERROR_NO_MEM
;

847 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbwb", 
_bos
, 
ho°_ídün
);

848 
buf„r
 +
bos_hódî
.
bLígth
;

849 
size
 -
bos_hódî
.
bLígth
;

852 
i
 = 0; i < 
bos_hódî
.
bNumDevi˚C≠s
; i++) {

853 i‡(
size
 < 
LIBUSB_DT_DEVICE_CAPABILITY_SIZE
) {

854 
	`usbi_w¨n
(
˘x
, "short dev-cap descriptorÑead %d/%d",

855 
size
, 
LIBUSB_DT_DEVICE_CAPABILITY_SIZE
);

858 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbb", &
dev_ˇp
, 
ho°_ídün
);

859 i‡(
dev_ˇp
.
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_DEVICE_CAPABILITY
) {

860 
	`usbi_w¨n
(
˘x
, "unexpected descriptor %x (expected %x)",

861 
dev_ˇp
.
bDes¸ùt‹Ty≥
, 
LIBUSB_DT_DEVICE_CAPABILITY
);

864 i‡(
dev_ˇp
.
bLígth
 < 
LIBUSB_DT_DEVICE_CAPABILITY_SIZE
) {

865 
	`usbi_îr
(
˘x
, "invalid dev-cap bLength (%d)",

866 
dev_ˇp
.
bLígth
);

867 
	`libusb_‰ì_bos_des¸ùt‹
(
_bos
);

868  
LIBUSB_ERROR_IO
;

870 i‡(
dev_ˇp
.
bLígth
 > 
size
) {

871 
	`usbi_w¨n
(
˘x
, "short dev-cap descriptorÑead %d/%d",

872 
size
, 
dev_ˇp
.
bLígth
);

876 
_bos
->
dev_ˇ∑bûôy
[
i
] = 
	`mÆloc
(
dev_ˇp
.
bLígth
);

877 i‡(!
_bos
->
dev_ˇ∑bûôy
[
i
]) {

878 
	`libusb_‰ì_bos_des¸ùt‹
(
_bos
);

879  
LIBUSB_ERROR_NO_MEM
;

881 
	`mem˝y
(
_bos
->
dev_ˇ∑bûôy
[
i
], 
buf„r
, 
dev_ˇp
.
bLígth
);

882 
buf„r
 +
dev_ˇp
.
bLígth
;

883 
size
 -
dev_ˇp
.
bLígth
;

885 
_bos
->
bNumDevi˚C≠s
 = (
uöt8_t
)
i
;

886 *
bos
 = 
_bos
;

888  
LIBUSB_SUCCESS
;

889 
	}
}

902 
API_EXPORTED
 
	$libusb_gë_bos_des¸ùt‹
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

903 
libusb_bos_des¸ùt‹
 **
bos
)

905 
libusb_bos_des¸ùt‹
 
_bos
;

906 
uöt8_t
 
bos_hódî
[
LIBUSB_DT_BOS_SIZE
] = {0};

907 *
bos_d©a
 = 
NULL
;

908 c⁄° 
ho°_ídün
 = 0;

909 
r
;

913 
r
 = 
	`libusb_gë_des¸ùt‹
(
h™dÀ
, 
LIBUSB_DT_BOS
, 0, 
bos_hódî
,

914 
LIBUSB_DT_BOS_SIZE
);

915 i‡(
r
 < 0) {

916 i‡(
r
 !
LIBUSB_ERROR_PIPE
)

917 
	`usbi_îr
(
h™dÀ
->
dev
->
˘x
, "ÁûedÅÿªad BOS (%d)", 
r
);

918  
r
;

920 i‡(
r
 < 
LIBUSB_DT_BOS_SIZE
) {

921 
	`usbi_îr
(
h™dÀ
->
dev
->
˘x
, "short BOSÑead %d/%d",

922 
r
, 
LIBUSB_DT_BOS_SIZE
);

923  
LIBUSB_ERROR_IO
;

926 
	`usbi_∑r£_des¸ùt‹
(
bos_hódî
, "bbwb", &
_bos
, 
ho°_ídün
);

927 
	`usbi_dbg
("found BOS descriptor: size %d bytes, %d capabilities",

928 
_bos
.
wTŸÆLígth
, _bos.
bNumDevi˚C≠s
);

929 
bos_d©a
 = 
	`ˇŒoc
(
_bos
.
wTŸÆLígth
, 1);

930 i‡(
bos_d©a
 =
NULL
)

931  
LIBUSB_ERROR_NO_MEM
;

933 
r
 = 
	`libusb_gë_des¸ùt‹
(
h™dÀ
, 
LIBUSB_DT_BOS
, 0, 
bos_d©a
,

934 
_bos
.
wTŸÆLígth
);

935 i‡(
r
 >= 0)

936 
r
 = 
	`∑r£_bos
(
h™dÀ
->
dev
->
˘x
, 
bos
, 
bos_d©a
,Ñ, 
ho°_ídün
);

938 
	`usbi_îr
(
h™dÀ
->
dev
->
˘x
, "ÁûedÅÿªad BOS (%d)", 
r
);

940 
	`‰ì
(
bos_d©a
);

941  
r
;

942 
	}
}

951 
API_EXPORTED
 
	$libusb_‰ì_bos_des¸ùt‹
(
libusb_bos_des¸ùt‹
 *
bos
)

953 
i
;

955 i‡(!
bos
)

958 
i
 = 0; i < 
bos
->
bNumDevi˚C≠s
; i++)

959 
	`‰ì
(
bos
->
dev_ˇ∑bûôy
[
i
]);

960 
	`‰ì
(
bos
);

961 
	}
}

976 
API_EXPORTED
 
	$libusb_gë_usb_2_0_exãnsi⁄_des¸ùt‹
(

977 
libusb_c⁄ãxt
 *
˘x
,

978 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
,

979 
libusb_usb_2_0_exãnsi⁄_des¸ùt‹
 **
usb_2_0_exãnsi⁄
)

981 
libusb_usb_2_0_exãnsi⁄_des¸ùt‹
 *
_usb_2_0_exãnsi⁄
;

982 c⁄° 
ho°_ídün
 = 0;

984 i‡(
dev_ˇp
->
bDevC≠abûôyTy≥
 !
LIBUSB_BT_USB_2_0_EXTENSION
) {

985 
	`usbi_îr
(
˘x
, "unexpected bDevCapabilityType %x (expected %x)",

986 
dev_ˇp
->
bDevC≠abûôyTy≥
,

987 
LIBUSB_BT_USB_2_0_EXTENSION
);

988  
LIBUSB_ERROR_INVALID_PARAM
;

990 i‡(
dev_ˇp
->
bLígth
 < 
LIBUSB_BT_USB_2_0_EXTENSION_SIZE
) {

991 
	`usbi_îr
(
˘x
, "short dev-cap descriptorÑead %d/%d",

992 
dev_ˇp
->
bLígth
, 
LIBUSB_BT_USB_2_0_EXTENSION_SIZE
);

993  
LIBUSB_ERROR_IO
;

996 
_usb_2_0_exãnsi⁄
 = 
	`mÆloc
((*_usb_2_0_extension));

997 i‡(!
_usb_2_0_exãnsi⁄
)

998  
LIBUSB_ERROR_NO_MEM
;

1000 
	`usbi_∑r£_des¸ùt‹
((*)
dev_ˇp
, "bbbd",

1001 
_usb_2_0_exãnsi⁄
, 
ho°_ídün
);

1003 *
usb_2_0_exãnsi⁄
 = 
_usb_2_0_exãnsi⁄
;

1004  
LIBUSB_SUCCESS
;

1005 
	}
}

1015 
API_EXPORTED
 
	$libusb_‰ì_usb_2_0_exãnsi⁄_des¸ùt‹
(

1016 
libusb_usb_2_0_exãnsi⁄_des¸ùt‹
 *
usb_2_0_exãnsi⁄
)

1018 
	`‰ì
(
usb_2_0_exãnsi⁄
);

1019 
	}
}

1034 
API_EXPORTED
 
	$libusb_gë_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
(

1035 
libusb_c⁄ãxt
 *
˘x
,

1036 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
,

1037 
libusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 **
ss_usb_devi˚_ˇp
)

1039 
libusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 *
_ss_usb_devi˚_ˇp
;

1040 c⁄° 
ho°_ídün
 = 0;

1042 i‡(
dev_ˇp
->
bDevC≠abûôyTy≥
 !
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY
) {

1043 
	`usbi_îr
(
˘x
, "unexpected bDevCapabilityType %x (expected %x)",

1044 
dev_ˇp
->
bDevC≠abûôyTy≥
,

1045 
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY
);

1046  
LIBUSB_ERROR_INVALID_PARAM
;

1048 i‡(
dev_ˇp
->
bLígth
 < 
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY_SIZE
) {

1049 
	`usbi_îr
(
˘x
, "short dev-cap descriptorÑead %d/%d",

1050 
dev_ˇp
->
bLígth
, 
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY_SIZE
);

1051  
LIBUSB_ERROR_IO
;

1054 
_ss_usb_devi˚_ˇp
 = 
	`mÆloc
((*_ss_usb_device_cap));

1055 i‡(!
_ss_usb_devi˚_ˇp
)

1056  
LIBUSB_ERROR_NO_MEM
;

1058 
	`usbi_∑r£_des¸ùt‹
((*)
dev_ˇp
, "bbbbwbbw",

1059 
_ss_usb_devi˚_ˇp
, 
ho°_ídün
);

1061 *
ss_usb_devi˚_ˇp
 = 
_ss_usb_devi˚_ˇp
;

1062  
LIBUSB_SUCCESS
;

1063 
	}
}

1073 
API_EXPORTED
 
	$libusb_‰ì_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
(

1074 
libusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 *
ss_usb_devi˚_ˇp
)

1076 
	`‰ì
(
ss_usb_devi˚_ˇp
);

1077 
	}
}

1092 
API_EXPORTED
 
	$libusb_gë_c⁄èöî_id_des¸ùt‹
(
libusb_c⁄ãxt
 *
˘x
,

1093 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
,

1094 
libusb_c⁄èöî_id_des¸ùt‹
 **
c⁄èöî_id
)

1096 
libusb_c⁄èöî_id_des¸ùt‹
 *
_c⁄èöî_id
;

1097 c⁄° 
ho°_ídün
 = 0;

1099 i‡(
dev_ˇp
->
bDevC≠abûôyTy≥
 !
LIBUSB_BT_CONTAINER_ID
) {

1100 
	`usbi_îr
(
˘x
, "unexpected bDevCapabilityType %x (expected %x)",

1101 
dev_ˇp
->
bDevC≠abûôyTy≥
,

1102 
LIBUSB_BT_CONTAINER_ID
);

1103  
LIBUSB_ERROR_INVALID_PARAM
;

1105 i‡(
dev_ˇp
->
bLígth
 < 
LIBUSB_BT_CONTAINER_ID_SIZE
) {

1106 
	`usbi_îr
(
˘x
, "short dev-cap descriptorÑead %d/%d",

1107 
dev_ˇp
->
bLígth
, 
LIBUSB_BT_CONTAINER_ID_SIZE
);

1108  
LIBUSB_ERROR_IO
;

1111 
_c⁄èöî_id
 = 
	`mÆloc
((*_container_id));

1112 i‡(!
_c⁄èöî_id
)

1113  
LIBUSB_ERROR_NO_MEM
;

1115 
	`usbi_∑r£_des¸ùt‹
((*)
dev_ˇp
, "bbbbu",

1116 
_c⁄èöî_id
, 
ho°_ídün
);

1118 *
c⁄èöî_id
 = 
_c⁄èöî_id
;

1119  
LIBUSB_SUCCESS
;

1120 
	}
}

1130 
API_EXPORTED
 
	$libusb_‰ì_c⁄èöî_id_des¸ùt‹
(

1131 
libusb_c⁄èöî_id_des¸ùt‹
 *
c⁄èöî_id
)

1133 
	`‰ì
(
c⁄èöî_id
);

1134 
	}
}

1148 
API_EXPORTED
 
	$libusb_gë_°rög_des¸ùt‹_ascii
(
libusb_devi˚_h™dÀ
 *
dev
,

1149 
uöt8_t
 
desc_ödex
, *
d©a
, 
Àngth
)

1151 
tbuf
[255];

1152 
r
, 
si
, 
di
;

1153 
uöt16_t
 
œngid
;

1164 i‡(
desc_ödex
 == 0)

1165  
LIBUSB_ERROR_INVALID_PARAM
;

1167 
r
 = 
	`libusb_gë_°rög_des¸ùt‹
(
dev
, 0, 0, 
tbuf
, (tbuf));

1168 i‡(
r
 < 0)

1169  
r
;

1171 i‡(
r
 < 4)

1172  
LIBUSB_ERROR_IO
;

1174 
œngid
 = 
tbuf
[2] | (tbuf[3] << 8);

1176 
r
 = 
	`libusb_gë_°rög_des¸ùt‹
(
dev
, 
desc_ödex
, 
œngid
, 
tbuf
,

1177 (
tbuf
));

1178 i‡(
r
 < 0)

1179  
r
;

1181 i‡(
tbuf
[1] !
LIBUSB_DT_STRING
)

1182  
LIBUSB_ERROR_IO
;

1184 i‡(
tbuf
[0] > 
r
)

1185  
LIBUSB_ERROR_IO
;

1187 
di
 = 0, 
si
 = 2; sò< 
tbuf
[0]; si += 2) {

1188 i‡(
di
 >(
Àngth
 - 1))

1191 i‡((
tbuf
[
si
] & 0x80) || (tbuf[si + 1]))

1192 
d©a
[
di
++] = '?';

1194 
d©a
[
di
++] = 
tbuf
[
si
];

1197 
d©a
[
di
] = 0;

1198  
di
;

1199 
	}
}

	@libusb/hotplug.c

22 
	~<c⁄fig.h
>

24 
	~<î∫o.h
>

25 
	~<°dio.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 #ifde‡
HAVE_SYS_TYPES_H


29 
	~<sys/ty≥s.h
>

31 
	~<as£π.h
>

33 
	~"libusbi.h
"

34 
	~"hŸ∂ug.h
"

150 
	$usbi_hŸ∂ug_m©ch_cb
 (
libusb_c⁄ãxt
 *
˘x
,

151 
libusb_devi˚
 *
dev
, 
libusb_hŸ∂ug_evít
 
evít
,

152 
libusb_hŸ∂ug_ˇŒback
 *
hŸ∂ug_cb
)

155 i‡(
hŸ∂ug_cb
->
√eds_‰ì
) {

160 i‡(!(
hŸ∂ug_cb
->
evíts
 & 
evít
)) {

164 i‡(
LIBUSB_HOTPLUG_MATCH_ANY
 !
hŸ∂ug_cb
->
víd‹_id
 &&

165 
hŸ∂ug_cb
->
víd‹_id
 !
dev
->
devi˚_des¸ùt‹
.
idVíd‹
) {

169 i‡(
LIBUSB_HOTPLUG_MATCH_ANY
 !
hŸ∂ug_cb
->
¥odu˘_id
 &&

170 
hŸ∂ug_cb
->
¥odu˘_id
 !
dev
->
devi˚_des¸ùt‹
.
idProdu˘
) {

174 i‡(
LIBUSB_HOTPLUG_MATCH_ANY
 !
hŸ∂ug_cb
->
dev_˛ass
 &&

175 
hŸ∂ug_cb
->
dev_˛ass
 !
dev
->
devi˚_des¸ùt‹
.
bDevi˚Cœss
) {

179  
hŸ∂ug_cb
->
	`cb
 (
˘x
, 
dev
, 
evít
, hŸ∂ug_cb->
u£r_d©a
);

180 
	}
}

182 
	$usbi_hŸ∂ug_m©ch
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_devi˚
 *
dev
,

183 
libusb_hŸ∂ug_evít
 
evít
)

185 
libusb_hŸ∂ug_ˇŒback
 *
hŸ∂ug_cb
, *
√xt
;

186 
ªt
;

188 
	`usbi_muãx_lock
(&
˘x
->
hŸ∂ug_cbs_lock
);

190 
	`li°_f‹_óch_íåy_ß„
(
hŸ∂ug_cb
, 
√xt
, &
˘x
->
hŸ∂ug_cbs
, 
li°
, 
libusb_hŸ∂ug_ˇŒback
) {

191 
	`usbi_muãx_u∆ock
(&
˘x
->
hŸ∂ug_cbs_lock
);

192 
ªt
 = 
	`usbi_hŸ∂ug_m©ch_cb
 (
˘x
, 
dev
, 
evít
, 
hŸ∂ug_cb
);

193 
	`usbi_muãx_lock
(&
˘x
->
hŸ∂ug_cbs_lock
);

195 i‡(
ªt
) {

196 
	`li°_dñ
(&
hŸ∂ug_cb
->
li°
);

197 
	`‰ì
(
hŸ∂ug_cb
);

201 
	`usbi_muãx_u∆ock
(&
˘x
->
hŸ∂ug_cbs_lock
);

204 
	}
}

206 
API_EXPORTED
 
	$libusb_hŸ∂ug_ªgi°î_ˇŒback
(
libusb_c⁄ãxt
 *
˘x
,

207 
libusb_hŸ∂ug_evít
 
evíts
, 
libusb_hŸ∂ug_Êag
 
Êags
,

208 
víd‹_id
, 
¥odu˘_id
, 
dev_˛ass
,

209 
libusb_hŸ∂ug_ˇŒback_‚
 
cb_‚
, *
u£r_d©a
,

210 
libusb_hŸ∂ug_ˇŒback_h™dÀ
 *
h™dÀ
)

212 
libusb_hŸ∂ug_ˇŒback
 *
√w_ˇŒback
;

213 
h™dÀ_id
 = 1;

216 i‡(!
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
)) {

217  
LIBUSB_ERROR_NOT_SUPPORTED
;

221 i‡((
LIBUSB_HOTPLUG_MATCH_ANY
 !
víd‹_id
 && (~0xffff & vendor_id)) ||

222 (
LIBUSB_HOTPLUG_MATCH_ANY
 !
¥odu˘_id
 && (~0xffff &Öroduct_id)) ||

223 (
LIBUSB_HOTPLUG_MATCH_ANY
 !
dev_˛ass
 && (~0xff & dev_class)) ||

224 !
cb_‚
) {

225  
LIBUSB_ERROR_INVALID_PARAM
;

228 
	`USBI_GET_CONTEXT
(
˘x
);

230 
√w_ˇŒback
 = (
libusb_hŸ∂ug_ˇŒback
 *)
	`ˇŒoc
(1,  (*new_callback));

231 i‡(!
√w_ˇŒback
) {

232  
LIBUSB_ERROR_NO_MEM
;

235 
√w_ˇŒback
->
˘x
 = ctx;

236 
√w_ˇŒback
->
víd‹_id
 = vendor_id;

237 
√w_ˇŒback
->
¥odu˘_id
 =Öroduct_id;

238 
√w_ˇŒback
->
dev_˛ass
 = dev_class;

239 
√w_ˇŒback
->
Êags
 = flags;

240 
√w_ˇŒback
->
evíts
 =Évents;

241 
√w_ˇŒback
->
cb
 = 
cb_‚
;

242 
√w_ˇŒback
->
u£r_d©a
 = user_data;

243 
√w_ˇŒback
->
√eds_‰ì
 = 0;

245 
	`usbi_muãx_lock
(&
˘x
->
hŸ∂ug_cbs_lock
);

249 
√w_ˇŒback
->
h™dÀ
 = 
h™dÀ_id
++;

251 
	`li°_add
(&
√w_ˇŒback
->
li°
, &
˘x
->
hŸ∂ug_cbs
);

253 
	`usbi_muãx_u∆ock
(&
˘x
->
hŸ∂ug_cbs_lock
);

256 i‡(
Êags
 & 
LIBUSB_HOTPLUG_ENUMERATE
) {

257 
i
, 
Àn
;

258 
libusb_devi˚
 **
devs
;

260 
Àn
 = (Ë
	`libusb_gë_devi˚_li°
(
˘x
, &
devs
);

261 i‡(
Àn
 < 0) {

262 
	`libusb_hŸ∂ug_dîegi°î_ˇŒback
(
˘x
,

263 
√w_ˇŒback
->
h™dÀ
);

264  
Àn
;

267 
i
 = 0; i < 
Àn
; i++) {

268 
	`usbi_hŸ∂ug_m©ch_cb
(
˘x
, 
devs
[
i
],

269 
LIBUSB_HOTPLUG_EVENT_DEVICE_ARRIVED
,

270 
√w_ˇŒback
);

273 
	`libusb_‰ì_devi˚_li°
(
devs
, 1);

277 i‡(
h™dÀ
) {

278 *
h™dÀ
 = 
√w_ˇŒback
->handle;

281  
LIBUSB_SUCCESS
;

282 
	}
}

284 
API_EXPORTED
 
	$libusb_hŸ∂ug_dîegi°î_ˇŒback
 (
libusb_c⁄ãxt
 *
˘x
,

285 
libusb_hŸ∂ug_ˇŒback_h™dÀ
 
h™dÀ
)

287 
libusb_hŸ∂ug_ˇŒback
 *
hŸ∂ug_cb
;

288 
libusb_hŸ∂ug_mesßge
 
mesßge
;

289 
ssize_t
 
ªt
;

292 i‡(!
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
)) {

296 
	`USBI_GET_CONTEXT
(
˘x
);

298 
	`usbi_muãx_lock
(&
˘x
->
hŸ∂ug_cbs_lock
);

299 
	`li°_f‹_óch_íåy
(
hŸ∂ug_cb
, &
˘x
->
hŸ∂ug_cbs
, 
li°
,

300 
libusb_hŸ∂ug_ˇŒback
) {

301 i‡(
h™dÀ
 =
hŸ∂ug_cb
->handle) {

303 
hŸ∂ug_cb
->
√eds_‰ì
 = 1;

306 
	`usbi_muãx_u∆ock
(&
˘x
->
hŸ∂ug_cbs_lock
);

309 
	`mem£t
(&
mesßge
, 0, (message));

310 
ªt
 = 
	`usbi_wrôe
(
˘x
->
hŸ∂ug_pùe
[1], &
mesßge
, (message));

311 i‡((
mesßge
Ë!
ªt
) {

312 
	`usbi_îr
(
˘x
, "error writing hotplug message");

314 
	}
}

316 
	$usbi_hŸ∂ug_dîegi°î_Æl
(
libusb_c⁄ãxt
 *
˘x
) {

317 
libusb_hŸ∂ug_ˇŒback
 *
hŸ∂ug_cb
, *
√xt
;

319 
	`usbi_muãx_lock
(&
˘x
->
hŸ∂ug_cbs_lock
);

320 
	`li°_f‹_óch_íåy_ß„
(
hŸ∂ug_cb
, 
√xt
, &
˘x
->
hŸ∂ug_cbs
, 
li°
,

321 
libusb_hŸ∂ug_ˇŒback
) {

322 
	`li°_dñ
(&
hŸ∂ug_cb
->
li°
);

323 
	`‰ì
(
hŸ∂ug_cb
);

326 
	`usbi_muãx_u∆ock
(&
˘x
->
hŸ∂ug_cbs_lock
);

327 
	}
}

	@libusb/hotplug.h

22 #i‡!
deföed
(
USBI_HOTPLUG_H
)

23 
	#USBI_HOTPLUG_H


	)

25 #i‚de‡
LIBUSBI_H


26 
	~"libusbi.h
"

34 
	slibusb_hŸ∂ug_ˇŒback
 {

36 
libusb_c⁄ãxt
 *
	m˘x
;

39 
	mvíd‹_id
;

42 
	m¥odu˘_id
;

45 
	mdev_˛ass
;

48 
libusb_hŸ∂ug_Êag
 
	mÊags
;

51 
libusb_hŸ∂ug_evít
 
	mevíts
;

54 
libusb_hŸ∂ug_ˇŒback_‚
 
	mcb
;

57 
libusb_hŸ∂ug_ˇŒback_h™dÀ
 
	mh™dÀ
;

60 *
	mu£r_d©a
;

63 
	m√eds_‰ì
;

66 
li°_hód
 
	mli°
;

69 
libusb_hŸ∂ug_ˇŒback
 
	tlibusb_hŸ∂ug_ˇŒback
;

71 
	slibusb_hŸ∂ug_mesßge
 {

72 
libusb_hŸ∂ug_evít
 
	mevít
;

73 
libusb_devi˚
 *
	mdevi˚
;

76 
libusb_hŸ∂ug_mesßge
 
	tlibusb_hŸ∂ug_mesßge
;

78 
usbi_hŸ∂ug_dîegi°î_Æl
(
libusb_c⁄ãxt
 *
˘x
);

79 
usbi_hŸ∂ug_m©ch
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_devi˚
 *
dev
,

80 
libusb_hŸ∂ug_evít
 
evít
);

	@libusb/io.c

22 
	~"c⁄fig.h
"

23 
	~<î∫o.h
>

24 
	~<°döt.h
>

25 
	~<°dio.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<time.h
>

29 #ifde‡
HAVE_SIGNAL_H


30 
	~<sig«l.h
>

32 #ifde‡
HAVE_SYS_TIME_H


33 
	~<sys/time.h
>

35 #ifde‡
USBI_TIMERFD_AVAILABLE


36 
	~<sys/timîfd.h
>

39 
	~"libusbi.h
"

40 
	~"hŸ∂ug.h
"

1108 
	$usbi_io_öô
(
libusb_c⁄ãxt
 *
˘x
)

1110 
r
;

1112 
	`usbi_muãx_öô
(&
˘x
->
Êyög_å™s„rs_lock
, 
NULL
);

1113 
	`usbi_muãx_öô
(&
˘x
->
pﬁlfds_lock
, 
NULL
);

1114 
	`usbi_muãx_öô
(&
˘x
->
pﬁlfd_modify_lock
, 
NULL
);

1115 
	`usbi_muãx_öô_ªcursive
(&
˘x
->
evíts_lock
, 
NULL
);

1116 
	`usbi_muãx_öô
(&
˘x
->
evít_waôîs_lock
, 
NULL
);

1117 
	`usbi_c⁄d_öô
(&
˘x
->
evít_waôîs_c⁄d
, 
NULL
);

1118 
	`li°_öô
(&
˘x
->
Êyög_å™s„rs
);

1119 
	`li°_öô
(&
˘x
->
pﬁlfds
);

1122 
r
 = 
	`usbi_pùe
(
˘x
->
˘æ_pùe
);

1123 i‡(
r
 < 0) {

1124 
r
 = 
LIBUSB_ERROR_OTHER
;

1125 
îr
;

1128 
r
 = 
	`usbi_add_pﬁlfd
(
˘x
, ctx->
˘æ_pùe
[0], 
POLLIN
);

1129 i‡(
r
 < 0)

1130 
îr_˛o£_pùe
;

1133 
r
 = 
	`usbi_pùe
(
˘x
->
hŸ∂ug_pùe
);

1134 i‡(
r
 < 0) {

1135 
r
 = 
LIBUSB_ERROR_OTHER
;

1136 
îr
;

1139 
r
 = 
	`usbi_add_pﬁlfd
(
˘x
, ctx->
hŸ∂ug_pùe
[0], 
POLLIN
);

1140 i‡(
r
 < 0)

1141 
îr_˛o£_hp_pùe
;

1143 #ifde‡
USBI_TIMERFD_AVAILABLE


1144 
˘x
->
timîfd
 = 
	`timîfd_¸óã
(
usbi_backíd
->
	`gë_timîfd_˛ockid
(),

1145 
TFD_NONBLOCK
);

1146 i‡(
˘x
->
timîfd
 >= 0) {

1147 
	`usbi_dbg
("usingÅimerfd forÅimeouts");

1148 
r
 = 
	`usbi_add_pﬁlfd
(
˘x
, ctx->
timîfd
, 
POLLIN
);

1149 i‡(
r
 < 0) {

1150 
	`usbi_ªmove_pﬁlfd
(
˘x
, ctx->
˘æ_pùe
[0]);

1151 
	`˛o£
(
˘x
->
timîfd
);

1152 
îr_˛o£_hp_pùe
;

1155 
	`usbi_dbg
("timîfdÇŸávaûabÀ (codê%dÉº‹ %d)", 
˘x
->
timîfd
, 
î∫o
);

1156 
˘x
->
timîfd
 = -1;

1162 
îr_˛o£_hp_pùe
:

1163 
	`usbi_˛o£
(
˘x
->
hŸ∂ug_pùe
[0]);

1164 
	`usbi_˛o£
(
˘x
->
hŸ∂ug_pùe
[1]);

1165 
îr_˛o£_pùe
:

1166 
	`usbi_˛o£
(
˘x
->
˘æ_pùe
[0]);

1167 
	`usbi_˛o£
(
˘x
->
˘æ_pùe
[1]);

1168 
îr
:

1169 
	`usbi_muãx_de°roy
(&
˘x
->
Êyög_å™s„rs_lock
);

1170 
	`usbi_muãx_de°roy
(&
˘x
->
pﬁlfds_lock
);

1171 
	`usbi_muãx_de°roy
(&
˘x
->
pﬁlfd_modify_lock
);

1172 
	`usbi_muãx_de°roy
(&
˘x
->
evíts_lock
);

1173 
	`usbi_muãx_de°roy
(&
˘x
->
evít_waôîs_lock
);

1174 
	`usbi_c⁄d_de°roy
(&
˘x
->
evít_waôîs_c⁄d
);

1175  
r
;

1176 
	}
}

1178 
	$usbi_io_exô
(
libusb_c⁄ãxt
 *
˘x
)

1180 
	`usbi_ªmove_pﬁlfd
(
˘x
, ctx->
˘æ_pùe
[0]);

1181 
	`usbi_˛o£
(
˘x
->
˘æ_pùe
[0]);

1182 
	`usbi_˛o£
(
˘x
->
˘æ_pùe
[1]);

1183 
	`usbi_ªmove_pﬁlfd
(
˘x
, ctx->
hŸ∂ug_pùe
[0]);

1184 
	`usbi_˛o£
(
˘x
->
hŸ∂ug_pùe
[0]);

1185 
	`usbi_˛o£
(
˘x
->
hŸ∂ug_pùe
[1]);

1186 #ifde‡
USBI_TIMERFD_AVAILABLE


1187 i‡(
	`usbi_usög_timîfd
(
˘x
)) {

1188 
	`usbi_ªmove_pﬁlfd
(
˘x
, ctx->
timîfd
);

1189 
	`˛o£
(
˘x
->
timîfd
);

1192 
	`usbi_muãx_de°roy
(&
˘x
->
Êyög_å™s„rs_lock
);

1193 
	`usbi_muãx_de°roy
(&
˘x
->
pﬁlfds_lock
);

1194 
	`usbi_muãx_de°roy
(&
˘x
->
pﬁlfd_modify_lock
);

1195 
	`usbi_muãx_de°roy
(&
˘x
->
evíts_lock
);

1196 
	`usbi_muãx_de°roy
(&
˘x
->
evít_waôîs_lock
);

1197 
	`usbi_c⁄d_de°roy
(&
˘x
->
evít_waôîs_c⁄d
);

1198 
	}
}

1200 
	$ˇlcuœã_timeout
(
usbi_å™s„r
 *
å™s„r
)

1202 
r
;

1203 
time•ec
 
cuºít_time
;

1204 
timeout
 =

1205 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
å™s„r
)->
timeout
;

1207 i‡(!
timeout
)

1210 
r
 = 
usbi_backíd
->
	`˛ock_gëtime
(
USBI_CLOCK_MONOTONIC
, &
cuºít_time
);

1211 i‡(
r
 < 0) {

1212 
	`usbi_îr
(
	`ITRANSFER_CTX
(
å™s„r
),

1213 "ÁûedÅÿªad m⁄Ÿ⁄i¯˛ock,Éºno=%d", 
î∫o
);

1214  
r
;

1217 
cuºít_time
.
tv_£c
 +
timeout
 / 1000;

1218 
cuºít_time
.
tv_n£c
 +(
timeout
 % 1000) * 1000000;

1220 
cuºít_time
.
tv_n£c
 >= 1000000000) {

1221 
cuºít_time
.
tv_n£c
 -= 1000000000;

1222 
cuºít_time
.
tv_£c
++;

1225 
	`TIMESPEC_TO_TIMEVAL
(&
å™s„r
->
timeout
, &
cuºít_time
);

1227 
	}
}

1234 
	$add_to_Êyög_li°
(
usbi_å™s„r
 *
å™s„r
)

1236 
usbi_å™s„r
 *
cur
;

1237 
timevÆ
 *
timeout
 = &
å™s„r
->timeout;

1238 
libusb_c⁄ãxt
 *
˘x
 = 
	`ITRANSFER_CTX
(
å™s„r
);

1239 
r
 = 0;

1240 
fú°
 = 1;

1243 i‡(
	`li°_em±y
(&
˘x
->
Êyög_å™s„rs
)) {

1244 
	`li°_add
(&
å™s„r
->
li°
, &
˘x
->
Êyög_å™s„rs
);

1245 
out
;

1249 i‡(!
	`timîis£t
(
timeout
)) {

1250 
	`li°_add_èû
(&
å™s„r
->
li°
, &
˘x
->
Êyög_å™s„rs
);

1252 
out
;

1256 
	`li°_f‹_óch_íåy
(
cur
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

1258 
timevÆ
 *
cur_tv
 = &
cur
->
timeout
;

1260 i‡(!
	`timîis£t
(
cur_tv
Ë|| (cur_tv->
tv_£c
 > 
timeout
->tv_sec) ||

1261 (
cur_tv
->
tv_£c
 =
timeout
->tv_sec &&

1262 
cur_tv
->
tv_u£c
 > 
timeout
->tv_usec)) {

1263 
	`li°_add_èû
(&
å™s„r
->
li°
, &
cur
->list);

1264 
out
;

1266 
fú°
 = 0;

1271 
	`li°_add_èû
(&
å™s„r
->
li°
, &
˘x
->
Êyög_å™s„rs
);

1272 
out
:

1273 #ifde‡
USBI_TIMERFD_AVAILABLE


1274 i‡(
fú°
 && 
	`usbi_usög_timîfd
(
˘x
Ë&& 
	`timîis£t
(
timeout
)) {

1277 c⁄° 
ôimî•ec
 
ô
 = { {0, 0},

1278 { 
timeout
->
tv_£c
,Åimeout->
tv_u£c
 * 1000 } };

1279 
	`usbi_dbg
("armÅimerfd forÅimeout in %dms (first inÜine)",

1280 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
å™s„r
)->
timeout
);

1281 
r
 = 
	`timîfd_£âime
(
˘x
->
timîfd
, 
TFD_TIMER_ABSTIME
, &
ô
, 
NULL
);

1282 i‡(
r
 < 0) {

1283 
	`usbi_w¨n
(
˘x
, "ÁûedÅÿ¨m fú°Åimîfd (î∫ÿ%d)", 
î∫o
);

1284 
r
 = 
LIBUSB_ERROR_OTHER
;

1288 
	`UNUSED
(
fú°
);

1291  
r
;

1292 
	}
}

1317 
DEFAULT_VISIBILITY


1318 
libusb_å™s„r
 * 
LIBUSB_CALL
 
	$libusb_Æloc_å™s„r
(

1319 
iso_∑ckës
)

1321 
size_t
 
os_Æloc_size
 = 
usbi_backíd
->
å™s„r_¥iv_size


1322 + (
usbi_backíd
->
add_iso_∑ckë_size
 * 
iso_∑ckës
);

1323 
size_t
 
Æloc_size
 = (
usbi_å™s„r
)

1324 + (
libusb_å™s„r
)

1325 + ((
libusb_iso_∑ckë_des¸ùt‹
Ë* 
iso_∑ckës
)

1326 + 
os_Æloc_size
;

1327 
usbi_å™s„r
 *
ôøns„r
 = 
	`ˇŒoc
(1, 
Æloc_size
);

1328 i‡(!
ôøns„r
)

1329  
NULL
;

1331 
ôøns„r
->
num_iso_∑ckës
 = 
iso_∑ckës
;

1332 
	`usbi_muãx_öô
(&
ôøns„r
->
lock
, 
NULL
);

1333  
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1334 
	}
}

1353 
API_EXPORTED
 
	$libusb_‰ì_å™s„r
(
libusb_å™s„r
 *
å™s„r
)

1355 
usbi_å™s„r
 *
ôøns„r
;

1356 i‡(!
å™s„r
)

1359 i‡(
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_FREE_BUFFER
 &&Åøns„r->
buf„r
)

1360 
	`‰ì
(
å™s„r
->
buf„r
);

1362 
ôøns„r
 = 
	`LIBUSB_TRANSFER_TO_USBI_TRANSFER
(
å™s„r
);

1363 
	`usbi_muãx_de°roy
(&
ôøns„r
->
lock
);

1364 
	`‰ì
(
ôøns„r
);

1365 
	}
}

1367 #ifde‡
USBI_TIMERFD_AVAILABLE


1368 
	$dißrm_timîfd
(
libusb_c⁄ãxt
 *
˘x
)

1370 c⁄° 
ôimî•ec
 
dißrm_timî
 = { { 0, 0 }, { 0, 0 } };

1371 
r
;

1373 
	`usbi_dbg
("");

1374 
r
 = 
	`timîfd_£âime
(
˘x
->
timîfd
, 0, &
dißrm_timî
, 
NULL
);

1375 i‡(
r
 < 0)

1376  
LIBUSB_ERROR_OTHER
;

1379 
	}
}

1387 
	$¨m_timîfd_f‹_√xt_timeout
(
libusb_c⁄ãxt
 *
˘x
)

1389 
usbi_å™s„r
 *
å™s„r
;

1391 
	`li°_f‹_óch_íåy
(
å™s„r
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

1392 
timevÆ
 *
cur_tv
 = &
å™s„r
->
timeout
;

1396 i‡(!
	`timîis£t
(
cur_tv
))

1397 
dißrm
;

1400 i‡(!(
å™s„r
->
Êags
 & 
USBI_TRANSFER_TIMED_OUT
)) {

1401 
r
;

1402 c⁄° 
ôimî•ec
 
ô
 = { {0, 0},

1403 { 
cur_tv
->
tv_£c
, cur_tv->
tv_u£c
 * 1000 } };

1404 
	`usbi_dbg
("√xàtimeouà‹igöÆly %dms", 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
å™s„r
)->
timeout
);

1405 
r
 = 
	`timîfd_£âime
(
˘x
->
timîfd
, 
TFD_TIMER_ABSTIME
, &
ô
, 
NULL
);

1406 i‡(
r
 < 0)

1407  
LIBUSB_ERROR_OTHER
;

1412 
dißrm
:

1413  
	`dißrm_timîfd
(
˘x
);

1414 
	}
}

1416 
	$¨m_timîfd_f‹_√xt_timeout
(
libusb_c⁄ãxt
 *
˘x
)

1418 ()
˘x
;

1420 
	}
}

1435 
API_EXPORTED
 
	$libusb_submô_å™s„r
(
libusb_å™s„r
 *
å™s„r
)

1437 
libusb_c⁄ãxt
 *
˘x
 = 
	`TRANSFER_CTX
(
å™s„r
);

1438 
usbi_å™s„r
 *
ôøns„r
 =

1439 
	`LIBUSB_TRANSFER_TO_USBI_TRANSFER
(
å™s„r
);

1440 
r
;

1441 
upd©ed_fds
;

1443 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

1444 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

1445 
ôøns„r
->
å™s„ºed
 = 0;

1446 
ôøns„r
->
Êags
 = 0;

1447 
r
 = 
	`ˇlcuœã_timeout
(
ôøns„r
);

1448 i‡(
r
 < 0) {

1449 
r
 = 
LIBUSB_ERROR_OTHER
;

1450 
out
;

1453 
r
 = 
	`add_to_Êyög_li°
(
ôøns„r
);

1454 i‡(
r
 =
LIBUSB_SUCCESS
) {

1455 
r
 = 
usbi_backíd
->
	`submô_å™s„r
(
ôøns„r
);

1457 i‡(
r
 !
LIBUSB_SUCCESS
) {

1458 
	`li°_dñ
(&
ôøns„r
->
li°
);

1459 
	`¨m_timîfd_f‹_√xt_timeout
(
˘x
);

1462 
	`libusb_ªf_devi˚
(
å™s„r
->
dev_h™dÀ
->
dev
);

1464 
out
:

1465 
upd©ed_fds
 = (
ôøns„r
->
Êags
 & 
USBI_TRANSFER_UPDATED_FDS
);

1466 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

1467 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

1468 i‡(
upd©ed_fds
)

1469 
	`usbi_fd_nŸifiˇti⁄
(
˘x
);

1470  
r
;

1471 
	}
}

1487 
API_EXPORTED
 
	$libusb_ˇn˚l_å™s„r
(
libusb_å™s„r
 *
å™s„r
)

1489 
usbi_å™s„r
 *
ôøns„r
 =

1490 
	`LIBUSB_TRANSFER_TO_USBI_TRANSFER
(
å™s„r
);

1491 
r
;

1493 
	`usbi_dbg
("");

1494 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

1495 
r
 = 
usbi_backíd
->
	`ˇn˚l_å™s„r
(
ôøns„r
);

1496 i‡(
r
 < 0) {

1497 i‡(
r
 !
LIBUSB_ERROR_NOT_FOUND
 &&

1498 
r
 !
LIBUSB_ERROR_NO_DEVICE
)

1499 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

1500 "ˇn˚»å™s„∏ÁûedÉº‹ %d", 
r
);

1502 
	`usbi_dbg
("ˇn˚»å™s„∏ÁûedÉº‹ %d", 
r
);

1504 i‡(
r
 =
LIBUSB_ERROR_NO_DEVICE
)

1505 
ôøns„r
->
Êags
 |
USBI_TRANSFER_DEVICE_DISAPPEARED
;

1508 
ôøns„r
->
Êags
 |
USBI_TRANSFER_CANCELLING
;

1510 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

1511  
r
;

1512 
	}
}

1525 
API_EXPORTED
 
	$libusb_å™s„r_£t_°ªam_id
(

1526 
libusb_å™s„r
 *
å™s„r
, 
uöt32_t
 
°ªam_id
)

1528 
usbi_å™s„r
 *
ôøns„r
 =

1529 
	`LIBUSB_TRANSFER_TO_USBI_TRANSFER
(
å™s„r
);

1531 
ôøns„r
->
°ªam_id
 = stream_id;

1532 
	}
}

1542 
uöt32_t
 
API_EXPORTED
 
	$libusb_å™s„r_gë_°ªam_id
(

1543 
libusb_å™s„r
 *
å™s„r
)

1545 
usbi_å™s„r
 *
ôøns„r
 =

1546 
	`LIBUSB_TRANSFER_TO_USBI_TRANSFER
(
å™s„r
);

1548  
ôøns„r
->
°ªam_id
;

1549 
	}
}

1559 
	$usbi_h™dÀ_å™s„r_com∂ëi⁄
(
usbi_å™s„r
 *
ôøns„r
,

1560 
libusb_å™s„r_°©us
 
°©us
)

1562 
libusb_å™s„r
 *
å™s„r
 =

1563 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1564 
libusb_c⁄ãxt
 *
˘x
 = 
	`TRANSFER_CTX
(
å™s„r
);

1565 
libusb_devi˚_h™dÀ
 *
h™dÀ
 = 
å™s„r
->
dev_h™dÀ
;

1566 
uöt8_t
 
Êags
;

1567 
r
 = 0;

1574 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

1575 
	`li°_dñ
(&
ôøns„r
->
li°
);

1576 i‡(
	`usbi_usög_timîfd
(
˘x
))

1577 
r
 = 
	`¨m_timîfd_f‹_√xt_timeout
(
˘x
);

1578 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

1579 i‡(
	`usbi_usög_timîfd
(
˘x
Ë&& (
r
 < 0))

1580  
r
;

1582 i‡(
°©us
 =
LIBUSB_TRANSFER_COMPLETED


1583 && 
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_SHORT_NOT_OK
) {

1584 
rqÀn
 = 
å™s„r
->
Àngth
;

1585 i‡(
å™s„r
->
ty≥
 =
LIBUSB_TRANSFER_TYPE_CONTROL
)

1586 
rqÀn
 -
LIBUSB_CONTROL_SETUP_SIZE
;

1587 i‡(
rqÀn
 !
ôøns„r
->
å™s„ºed
) {

1588 
	`usbi_dbg
("interpreting shortÅransferásÉrror");

1589 
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

1593 
Êags
 = 
å™s„r
->flags;

1594 
å™s„r
->
°©us
 = status;

1595 
å™s„r
->
a˘uÆ_Àngth
 = 
ôøns„r
->
å™s„ºed
;

1596 
	`usbi_dbg
("å™s„∏%∞ha†ˇŒback %p", 
å™s„r
,Åøns„r->
ˇŒback
);

1597 i‡(
å™s„r
->
ˇŒback
)

1598 
å™s„r
->
	`ˇŒback
(transfer);

1601 i‡(
Êags
 & 
LIBUSB_TRANSFER_FREE_TRANSFER
)

1602 
	`libusb_‰ì_å™s„r
(
å™s„r
);

1603 
	`usbi_muãx_lock
(&
˘x
->
evít_waôîs_lock
);

1604 
	`usbi_c⁄d_brﬂdˇ°
(&
˘x
->
evít_waôîs_c⁄d
);

1605 
	`usbi_muãx_u∆ock
(&
˘x
->
evít_waôîs_lock
);

1606 
	`libusb_uƒef_devi˚
(
h™dÀ
->
dev
);

1608 
	}
}

1616 
	$usbi_h™dÀ_å™s„r_ˇn˚Œ©i⁄
(
usbi_å™s„r
 *
å™s„r
)

1619 i‡(
å™s„r
->
Êags
 & 
USBI_TRANSFER_TIMED_OUT
) {

1620 
	`usbi_dbg
("detectedÅimeout cancellation");

1621  
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
å™s„r
, 
LIBUSB_TRANSFER_TIMED_OUT
);

1625  
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
å™s„r
, 
LIBUSB_TRANSFER_CANCELLED
);

1626 
	}
}

1647 
API_EXPORTED
 
	$libusb_åy_lock_evíts
(
libusb_c⁄ãxt
 *
˘x
)

1649 
r
;

1650 
ru
;

1651 
	`USBI_GET_CONTEXT
(
˘x
);

1655 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1656 
ru
 = 
˘x
->
pﬁlfd_modify
;

1657 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1658 i‡(
ru
) {

1659 
	`usbi_dbg
("someoneÉlse is modifyingÖoll fds");

1663 
r
 = 
	`usbi_muãx_åylock
(&
˘x
->
evíts_lock
);

1664 i‡(
r
)

1667 
˘x
->
evít_h™dÀr_a˘ive
 = 1;

1669 
	}
}

1689 
API_EXPORTED
 
	$libusb_lock_evíts
(
libusb_c⁄ãxt
 *
˘x
)

1691 
	`USBI_GET_CONTEXT
(
˘x
);

1692 
	`usbi_muãx_lock
(&
˘x
->
evíts_lock
);

1693 
˘x
->
evít_h™dÀr_a˘ive
 = 1;

1694 
	}
}

1704 
API_EXPORTED
 
	$libusb_u∆ock_evíts
(
libusb_c⁄ãxt
 *
˘x
)

1706 
	`USBI_GET_CONTEXT
(
˘x
);

1707 
˘x
->
evít_h™dÀr_a˘ive
 = 0;

1708 
	`usbi_muãx_u∆ock
(&
˘x
->
evíts_lock
);

1713 
	`usbi_muãx_lock
(&
˘x
->
evít_waôîs_lock
);

1714 
	`usbi_c⁄d_brﬂdˇ°
(&
˘x
->
evít_waôîs_c⁄d
);

1715 
	`usbi_muãx_u∆ock
(&
˘x
->
evít_waôîs_lock
);

1716 
	}
}

1739 
API_EXPORTED
 
	$libusb_evít_h™dlög_ok
(
libusb_c⁄ãxt
 *
˘x
)

1741 
r
;

1742 
	`USBI_GET_CONTEXT
(
˘x
);

1746 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1747 
r
 = 
˘x
->
pﬁlfd_modify
;

1748 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1749 i‡(
r
) {

1750 
	`usbi_dbg
("someoneÉlse is modifyingÖoll fds");

1755 
	}
}

1767 
API_EXPORTED
 
	$libusb_evít_h™dÀr_a˘ive
(
libusb_c⁄ãxt
 *
˘x
)

1769 
r
;

1770 
	`USBI_GET_CONTEXT
(
˘x
);

1774 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfd_modify_lock
);

1775 
r
 = 
˘x
->
pﬁlfd_modify
;

1776 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfd_modify_lock
);

1777 i‡(
r
) {

1778 
	`usbi_dbg
("someoneÉlse is modifyingÖoll fds");

1782  
˘x
->
evít_h™dÀr_a˘ive
;

1783 
	}
}

1804 
API_EXPORTED
 
	$libusb_lock_evít_waôîs
(
libusb_c⁄ãxt
 *
˘x
)

1806 
	`USBI_GET_CONTEXT
(
˘x
);

1807 
	`usbi_muãx_lock
(&
˘x
->
evít_waôîs_lock
);

1808 
	}
}

1815 
API_EXPORTED
 
	$libusb_u∆ock_evít_waôîs
(
libusb_c⁄ãxt
 *
˘x
)

1817 
	`USBI_GET_CONTEXT
(
˘x
);

1818 
	`usbi_muãx_u∆ock
(&
˘x
->
evít_waôîs_lock
);

1819 
	}
}

1846 
API_EXPORTED
 
	$libusb_waô_f‹_evít
(
libusb_c⁄ãxt
 *
˘x
, 
timevÆ
 *
tv
)

1848 
time•ec
 
timeout
;

1849 
r
;

1851 
	`USBI_GET_CONTEXT
(
˘x
);

1852 i‡(
tv
 =
NULL
) {

1853 
	`usbi_c⁄d_waô
(&
˘x
->
evít_waôîs_c⁄d
, &˘x->
evít_waôîs_lock
);

1857 
r
 = 
usbi_backíd
->
	`˛ock_gëtime
(
USBI_CLOCK_REALTIME
, &
timeout
);

1858 i‡(
r
 < 0) {

1859 
	`usbi_îr
(
˘x
, "ÁûedÅÿªadÑó…imê˛ock,Éº‹ %d", 
î∫o
);

1860  
LIBUSB_ERROR_OTHER
;

1863 
timeout
.
tv_£c
 +
tv
->tv_sec;

1864 
timeout
.
tv_n£c
 +
tv
->
tv_u£c
 * 1000;

1865 
timeout
.
tv_n£c
 >= 1000000000) {

1866 
timeout
.
tv_n£c
 -= 1000000000;

1867 
timeout
.
tv_£c
++;

1870 
r
 = 
	`usbi_c⁄d_timedwaô
(&
˘x
->
evít_waôîs_c⁄d
,

1871 &
˘x
->
evít_waôîs_lock
, &
timeout
);

1872  (
r
 =
ETIMEDOUT
);

1873 
	}
}

1875 
	$h™dÀ_timeout
(
usbi_å™s„r
 *
ôøns„r
)

1877 
libusb_å™s„r
 *
å™s„r
 =

1878 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1879 
r
;

1881 
ôøns„r
->
Êags
 |
USBI_TRANSFER_TIMED_OUT
;

1882 
r
 = 
	`libusb_ˇn˚l_å™s„r
(
å™s„r
);

1883 i‡(
r
 < 0)

1884 
	`usbi_w¨n
(
	`TRANSFER_CTX
(
å™s„r
),

1885 "asyn¯ˇn˚»Áûed %dÉºno=%d", 
r
, 
î∫o
);

1886 
	}
}

1888 
	$h™dÀ_timeouts_locked
(
libusb_c⁄ãxt
 *
˘x
)

1890 
r
;

1891 
time•ec
 
sy°ime_ts
;

1892 
timevÆ
 
sy°ime
;

1893 
usbi_å™s„r
 *
å™s„r
;

1895 i‡(
	`li°_em±y
(&
˘x
->
Êyög_å™s„rs
))

1899 
r
 = 
usbi_backíd
->
	`˛ock_gëtime
(
USBI_CLOCK_MONOTONIC
, &
sy°ime_ts
);

1900 i‡(
r
 < 0)

1901  
r
;

1903 
	`TIMESPEC_TO_TIMEVAL
(&
sy°ime
, &
sy°ime_ts
);

1907 
	`li°_f‹_óch_íåy
(
å™s„r
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

1908 
timevÆ
 *
cur_tv
 = &
å™s„r
->
timeout
;

1911 i‡(!
	`timîis£t
(
cur_tv
))

1915 i‡(
å™s„r
->
Êags
 & (
USBI_TRANSFER_TIMED_OUT
 | 
USBI_TRANSFER_OS_HANDLES_TIMEOUT
))

1919 i‡((
cur_tv
->
tv_£c
 > 
sy°ime
.tv_sec) ||

1920 (
cur_tv
->
tv_£c
 =
sy°ime
.tv_sec &&

1921 
cur_tv
->
tv_u£c
 > 
sy°ime
.tv_usec))

1925 
	`h™dÀ_timeout
(
å™s„r
);

1928 
	}
}

1930 
	$h™dÀ_timeouts
(
libusb_c⁄ãxt
 *
˘x
)

1932 
r
;

1933 
	`USBI_GET_CONTEXT
(
˘x
);

1934 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

1935 
r
 = 
	`h™dÀ_timeouts_locked
(
˘x
);

1936 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

1937  
r
;

1938 
	}
}

1940 #ifde‡
USBI_TIMERFD_AVAILABLE


1941 
	$h™dÀ_timîfd_åiggî
(
libusb_c⁄ãxt
 *
˘x
)

1943 
r
;

1945 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

1948 
r
 = 
	`h™dÀ_timeouts_locked
(
˘x
);

1949 i‡(
r
 < 0)

1950 
out
;

1953 
r
 = 
	`¨m_timîfd_f‹_√xt_timeout
(
˘x
);

1955 
out
:

1956 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

1957  
r
;

1958 
	}
}

1963 
	$h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
timevÆ
 *
tv
)

1965 
r
;

1966 
usbi_pﬁlfd
 *
ùﬁlfd
;

1967 
POLL_NFDS_TYPE
 
nfds
 = 0;

1968 
pﬁlfd
 *
fds
 = 
NULL
;

1969 
i
 = -1;

1970 
timeout_ms
;

1971 
•ecül_evít
;

1973 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfds_lock
);

1974 
	`li°_f‹_óch_íåy
(
ùﬁlfd
, &
˘x
->
pﬁlfds
, 
li°
, 
usbi_pﬁlfd
)

1975 
nfds
++;

1978 i‡(
nfds
 != 0)

1979 
fds
 = 
	`mÆloc
((*fdsË* 
nfds
);

1980 i‡(!
fds
) {

1981 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfds_lock
);

1982  
LIBUSB_ERROR_NO_MEM
;

1985 
	`li°_f‹_óch_íåy
(
ùﬁlfd
, &
˘x
->
pﬁlfds
, 
li°
, 
usbi_pﬁlfd
) {

1986 
libusb_pﬁlfd
 *
pﬁlfd
 = &
ùﬁlfd
->pollfd;

1987 
fd
 = 
pﬁlfd
->fd;

1988 
i
++;

1989 
fds
[
i
].
fd
 = fd;

1990 
fds
[
i
].
evíts
 = 
pﬁlfd
->events;

1991 
fds
[
i
].
ªvíts
 = 0;

1993 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfds_lock
);

1995 
timeout_ms
 = ()(
tv
->
tv_£c
 * 1000Ë+ (tv->
tv_u£c
 / 1000);

1998 i‡(
tv
->
tv_u£c
 % 1000)

1999 
timeout_ms
++;

2001 
ªdo_pﬁl
:

2002 
	`usbi_dbg
("pﬁl(Ë%d fd†wôhÅimeouàö %dms", 
nfds
, 
timeout_ms
);

2003 
r
 = 
	`usbi_pﬁl
(
fds
, 
nfds
, 
timeout_ms
);

2004 
	`usbi_dbg
("pﬁl(Ëªtu∫ed %d", 
r
);

2005 i‡(
r
 == 0) {

2006 
	`‰ì
(
fds
);

2007  
	`h™dÀ_timeouts
(
˘x
);

2008 } i‡(
r
 =-1 && 
î∫o
 =
EINTR
) {

2009 
	`‰ì
(
fds
);

2010  
LIBUSB_ERROR_INTERRUPTED
;

2011 } i‡(
r
 < 0) {

2012 
	`‰ì
(
fds
);

2013 
	`usbi_îr
(
˘x
, "pﬁ»Áûed %dÉº=%d\n", 
r
, 
î∫o
);

2014  
LIBUSB_ERROR_IO
;

2017 
•ecül_evít
 = 0;

2020 i‡(
fds
[0].
ªvíts
) {

2024 
	`usbi_dbg
("caughtá fish onÅhe controlÖipe");

2026 i‡(
r
 == 1) {

2027 
r
 = 0;

2028 
h™dÀd
;

2031 
fds
[0].
ªvíts
 = 0;

2032 
r
--;

2037 i‡(
	`libusb_has_ˇ∑bûôy
(
LIBUSB_CAP_HAS_HOTPLUG
Ë&& 
fds
[1].
ªvíts
) {

2038 
libusb_hŸ∂ug_mesßge
 
mesßge
;

2039 
ssize_t
 
ªt
;

2041 
	`usbi_dbg
("caughtá fish onÅhe hotplugÖipe");

2042 
•ecül_evít
 = 1;

2045 
ªt
 = 
	`usbi_ªad
(
˘x
->
hŸ∂ug_pùe
[0], &
mesßge
,  (message));

2046 i‡(
ªt
 !(
mesßge
)) {

2047 
	`usbi_îr
(
˘x
, "hotplugÖipeÑeadÉrror %d != %u",

2048 
ªt
, (
mesßge
));

2049 
r
 = 
LIBUSB_ERROR_OTHER
;

2050 
h™dÀd
;

2053 
	`usbi_hŸ∂ug_m©ch
(
˘x
, 
mesßge
.
devi˚
, mesßge.
evít
);

2056 i‡(
LIBUSB_HOTPLUG_EVENT_DEVICE_LEFT
 =
mesßge
.
evít
)

2057 
	`libusb_uƒef_devi˚
(
mesßge
.
devi˚
);

2059 
fds
[1].
ªvíts
 = 0;

2060 i‡(1 =
r
--)

2061 
h™dÀd
;

2064 #ifde‡
USBI_TIMERFD_AVAILABLE


2066 i‡(
	`usbi_usög_timîfd
(
˘x
Ë&& 
fds
[2].
ªvíts
) {

2068 
ªt
;

2069 
	`usbi_dbg
("timerfdÅriggered");

2070 
•ecül_evít
 = 1;

2072 
ªt
 = 
	`h™dÀ_timîfd_åiggî
(
˘x
);

2073 i‡(
ªt
 < 0) {

2075 
r
 = 
ªt
;

2076 
h™dÀd
;

2077 } i‡(
r
 == 1) {

2079 
r
 = 0;

2080 
h™dÀd
;

2084 
fds
[2].
ªvíts
 = 0;

2085 
r
--;

2090 
r
 = 
usbi_backíd
->
	`h™dÀ_evíts
(
˘x
, 
fds
, 
nfds
,Ñ);

2091 i‡(
r
)

2092 
	`usbi_îr
(
˘x
, "backíd h™dÀ_evít†Áûed wôhÉº‹ %d", 
r
);

2094 
h™dÀd
:

2095 i‡(
r
 =0 && 
•ecül_evít
) {

2096 
timeout_ms
 = 0;

2097 
ªdo_pﬁl
;

2100 
	`‰ì
(
fds
);

2101  
r
;

2102 
	}
}

2110 
	$gë_√xt_timeout
(
libusb_c⁄ãxt
 *
˘x
, 
timevÆ
 *
tv
,

2111 
timevÆ
 *
out
)

2113 
timevÆ
 
timeout
;

2114 
r
 = 
	`libusb_gë_√xt_timeout
(
˘x
, &
timeout
);

2115 i‡(
r
) {

2117 i‡(!
	`timîis£t
(&
timeout
))

2121 i‡(
	`timîcmp
(&
timeout
, 
tv
, <))

2122 *
out
 = 
timeout
;

2124 *
out
 = *
tv
;

2126 *
out
 = *
tv
;

2129 
	}
}

2157 
API_EXPORTED
 
	$libusb_h™dÀ_evíts_timeout_com∂ëed
(
libusb_c⁄ãxt
 *
˘x
,

2158 
timevÆ
 *
tv
, *
com∂ëed
)

2160 
r
;

2161 
timevÆ
 
pﬁl_timeout
;

2163 
	`USBI_GET_CONTEXT
(
˘x
);

2164 
r
 = 
	`gë_√xt_timeout
(
˘x
, 
tv
, &
pﬁl_timeout
);

2165 i‡(
r
) {

2167  
	`h™dÀ_timeouts
(
˘x
);

2170 
ªåy
:

2171 i‡(
	`libusb_åy_lock_evíts
(
˘x
) == 0) {

2172 i‡(
com∂ëed
 =
NULL
 || !*completed) {

2174 
	`usbi_dbg
("doing our ownÉvent handling");

2175 
r
 = 
	`h™dÀ_evíts
(
˘x
, &
pﬁl_timeout
);

2177 
	`libusb_u∆ock_evíts
(
˘x
);

2178  
r
;

2183 
	`libusb_lock_evít_waôîs
(
˘x
);

2185 i‡(
com∂ëed
 && *completed)

2186 
Æªady_d⁄e
;

2188 i‡(!
	`libusb_evít_h™dÀr_a˘ive
(
˘x
)) {

2191 
	`libusb_u∆ock_evít_waôîs
(
˘x
);

2192 
	`usbi_dbg
("event handler wasáctive but wentáway,Ñetrying");

2193 
ªåy
;

2196 
	`usbi_dbg
("anotherÅhread is doingÉvent handling");

2197 
r
 = 
	`libusb_waô_f‹_evít
(
˘x
, &
pﬁl_timeout
);

2199 
Æªady_d⁄e
:

2200 
	`libusb_u∆ock_evít_waôîs
(
˘x
);

2202 i‡(
r
 < 0)

2203  
r
;

2204 i‡(
r
 == 1)

2205  
	`h™dÀ_timeouts
(
˘x
);

2208 
	}
}

2226 
API_EXPORTED
 
	$libusb_h™dÀ_evíts_timeout
(
libusb_c⁄ãxt
 *
˘x
,

2227 
timevÆ
 *
tv
)

2229  
	`libusb_h™dÀ_evíts_timeout_com∂ëed
(
˘x
, 
tv
, 
NULL
);

2230 
	}
}

2246 
API_EXPORTED
 
	$libusb_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
)

2248 
timevÆ
 
tv
;

2249 
tv
.
tv_£c
 = 60;

2250 
tv
.
tv_u£c
 = 0;

2251  
	`libusb_h™dÀ_evíts_timeout_com∂ëed
(
˘x
, &
tv
, 
NULL
);

2252 
	}
}

2268 
API_EXPORTED
 
	$libusb_h™dÀ_evíts_com∂ëed
(
libusb_c⁄ãxt
 *
˘x
,

2269 *
com∂ëed
)

2271 
timevÆ
 
tv
;

2272 
tv
.
tv_£c
 = 60;

2273 
tv
.
tv_u£c
 = 0;

2274  
	`libusb_h™dÀ_evíts_timeout_com∂ëed
(
˘x
, &
tv
, 
com∂ëed
);

2275 
	}
}

2294 
API_EXPORTED
 
	$libusb_h™dÀ_evíts_locked
(
libusb_c⁄ãxt
 *
˘x
,

2295 
timevÆ
 *
tv
)

2297 
r
;

2298 
timevÆ
 
pﬁl_timeout
;

2300 
	`USBI_GET_CONTEXT
(
˘x
);

2301 
r
 = 
	`gë_√xt_timeout
(
˘x
, 
tv
, &
pﬁl_timeout
);

2302 i‡(
r
) {

2304  
	`h™dÀ_timeouts
(
˘x
);

2307  
	`h™dÀ_evíts
(
˘x
, &
pﬁl_timeout
);

2308 
	}
}

2338 
API_EXPORTED
 
	$libusb_pﬁlfds_h™dÀ_timeouts
(
libusb_c⁄ãxt
 *
˘x
)

2340 #i‡
	`deföed
(
USBI_TIMERFD_AVAILABLE
)

2341 
	`USBI_GET_CONTEXT
(
˘x
);

2342  
	`usbi_usög_timîfd
(
˘x
);

2344 ()
˘x
;

2347 
	}
}

2377 
API_EXPORTED
 
	$libusb_gë_√xt_timeout
(
libusb_c⁄ãxt
 *
˘x
,

2378 
timevÆ
 *
tv
)

2380 
usbi_å™s„r
 *
å™s„r
;

2381 
time•ec
 
cur_ts
;

2382 
timevÆ
 
cur_tv
;

2383 
timevÆ
 *
√xt_timeout
;

2384 
r
;

2385 
found
 = 0;

2387 
	`USBI_GET_CONTEXT
(
˘x
);

2388 i‡(
	`usbi_usög_timîfd
(
˘x
))

2391 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

2392 i‡(
	`li°_em±y
(&
˘x
->
Êyög_å™s„rs
)) {

2393 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

2394 
	`usbi_dbg
("no URBs,ÇoÅimeout!");

2399 
	`li°_f‹_óch_íåy
(
å™s„r
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

2400 i‡(
å™s„r
->
Êags
 & (
USBI_TRANSFER_TIMED_OUT
 | 
USBI_TRANSFER_OS_HANDLES_TIMEOUT
))

2404 i‡(!
	`timîis£t
(&
å™s„r
->
timeout
))

2407 
found
 = 1;

2410 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

2412 i‡(!
found
) {

2413 
	`usbi_dbg
("no URB withÅimeout oráll handled by OS;ÇoÅimeout!");

2417 
√xt_timeout
 = &
å™s„r
->
timeout
;

2419 
r
 = 
usbi_backíd
->
	`˛ock_gëtime
(
USBI_CLOCK_MONOTONIC
, &
cur_ts
);

2420 i‡(
r
 < 0) {

2421 
	`usbi_îr
(
˘x
, "ÁûedÅÿªad m⁄Ÿ⁄i¯˛ock,Éºno=%d", 
î∫o
);

2424 
	`TIMESPEC_TO_TIMEVAL
(&
cur_tv
, &
cur_ts
);

2426 i‡(!
	`timîcmp
(&
cur_tv
, 
√xt_timeout
, <)) {

2427 
	`usbi_dbg
("firstÅimeoutálreadyÉxpired");

2428 
	`timî˛ór
(
tv
);

2430 
	`timîsub
(
√xt_timeout
, &
cur_tv
, 
tv
);

2431 
	`usbi_dbg
("√xàtimeouàö %d.%06ds", 
tv
->
tv_£c
,Åv->
tv_u£c
);

2435 
	}
}

2458 
API_EXPORTED
 
	$libusb_£t_pﬁlfd_nŸifõrs
(
libusb_c⁄ãxt
 *
˘x
,

2459 
libusb_pﬁlfd_added_cb
 
added_cb
, 
libusb_pﬁlfd_ªmoved_cb
 
ªmoved_cb
,

2460 *
u£r_d©a
)

2462 
	`USBI_GET_CONTEXT
(
˘x
);

2463 
˘x
->
fd_added_cb
 = 
added_cb
;

2464 
˘x
->
fd_ªmoved_cb
 = 
ªmoved_cb
;

2465 
˘x
->
fd_cb_u£r_d©a
 = 
u£r_d©a
;

2466 
	}
}

2471 
	$usbi_add_pﬁlfd
(
libusb_c⁄ãxt
 *
˘x
, 
fd
, 
evíts
)

2473 
usbi_pﬁlfd
 *
ùﬁlfd
 = 
	`mÆloc
((*ipollfd));

2474 i‡(!
ùﬁlfd
)

2475  
LIBUSB_ERROR_NO_MEM
;

2477 
	`usbi_dbg
("add fd %dÉvít†%d", 
fd
, 
evíts
);

2478 
ùﬁlfd
->
pﬁlfd
.
fd
 = fd;

2479 
ùﬁlfd
->
pﬁlfd
.
evíts
 =Évents;

2480 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfds_lock
);

2481 
	`li°_add_èû
(&
ùﬁlfd
->
li°
, &
˘x
->
pﬁlfds
);

2482 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfds_lock
);

2484 i‡(
˘x
->
fd_added_cb
)

2485 
˘x
->
	`fd_added_cb
(
fd
, 
evíts
, ctx->
fd_cb_u£r_d©a
);

2487 
	}
}

2490 
	$usbi_ªmove_pﬁlfd
(
libusb_c⁄ãxt
 *
˘x
, 
fd
)

2492 
usbi_pﬁlfd
 *
ùﬁlfd
;

2493 
found
 = 0;

2495 
	`usbi_dbg
("ªmovêfd %d", 
fd
);

2496 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfds_lock
);

2497 
	`li°_f‹_óch_íåy
(
ùﬁlfd
, &
˘x
->
pﬁlfds
, 
li°
, 
usbi_pﬁlfd
)

2498 i‡(
ùﬁlfd
->
pﬁlfd
.
fd
 == fd) {

2499 
found
 = 1;

2503 i‡(!
found
) {

2504 
	`usbi_dbg
("couldn'àföd fd %dÅÿªmove", 
fd
);

2505 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfds_lock
);

2509 
	`li°_dñ
(&
ùﬁlfd
->
li°
);

2510 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfds_lock
);

2511 
	`‰ì
(
ùﬁlfd
);

2512 i‡(
˘x
->
fd_ªmoved_cb
)

2513 
˘x
->
	`fd_ªmoved_cb
(
fd
, ctx->
fd_cb_u£r_d©a
);

2514 
	}
}

2531 
DEFAULT_VISIBILITY


2532 c⁄° 
libusb_pﬁlfd
 ** 
LIBUSB_CALL
 
	$libusb_gë_pﬁlfds
(

2533 
libusb_c⁄ãxt
 *
˘x
)

2535 #i‚de‡
OS_WINDOWS


2536 
libusb_pﬁlfd
 **
ªt
 = 
NULL
;

2537 
usbi_pﬁlfd
 *
ùﬁlfd
;

2538 
size_t
 
i
 = 0;

2539 
size_t
 
˙t
 = 0;

2540 
	`USBI_GET_CONTEXT
(
˘x
);

2542 
	`usbi_muãx_lock
(&
˘x
->
pﬁlfds_lock
);

2543 
	`li°_f‹_óch_íåy
(
ùﬁlfd
, &
˘x
->
pﬁlfds
, 
li°
, 
usbi_pﬁlfd
)

2544 
˙t
++;

2546 
ªt
 = 
	`ˇŒoc
(
˙t
 + 1, (
libusb_pﬁlfd
 *));

2547 i‡(!
ªt
)

2548 
out
;

2550 
	`li°_f‹_óch_íåy
(
ùﬁlfd
, &
˘x
->
pﬁlfds
, 
li°
, 
usbi_pﬁlfd
)

2551 
ªt
[
i
++] = (
libusb_pﬁlfd
 *Ë
ùﬁlfd
;

2552 
ªt
[
˙t
] = 
NULL
;

2554 
out
:

2555 
	`usbi_muãx_u∆ock
(&
˘x
->
pﬁlfds_lock
);

2556  (c⁄° 
libusb_pﬁlfd
 **Ë
ªt
;

2558 
	`usbi_îr
(
˘x
, "externalÖolling ofÜibusb's internal descriptors "\

2560  
NULL
;

2562 
	}
}

2568 
	$usbi_h™dÀ_disc⁄√˘
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

2570 
usbi_å™s„r
 *
cur
;

2571 
usbi_å™s„r
 *
to_ˇn˚l
;

2573 
	`usbi_dbg
("device %d.%d",

2574 
h™dÀ
->
dev
->
bus_numbî
, h™dÀ->dev->
devi˚_addªss
);

2600 
	`usbi_muãx_lock
(&
	`HANDLE_CTX
(
h™dÀ
)->
Êyög_å™s„rs_lock
);

2601 
to_ˇn˚l
 = 
NULL
;

2602 
	`li°_f‹_óch_íåy
(
cur
, &
	`HANDLE_CTX
(
h™dÀ
)->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
)

2603 i‡(
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
cur
)->
dev_h™dÀ
 =
h™dÀ
) {

2604 
to_ˇn˚l
 = 
cur
;

2607 
	`usbi_muãx_u∆ock
(&
	`HANDLE_CTX
(
h™dÀ
)->
Êyög_å™s„rs_lock
);

2609 i‡(!
to_ˇn˚l
)

2612 
	`usbi_dbg
("cancellingÅransfer %p from disconnect",

2613 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
to_ˇn˚l
));

2615 
usbi_backíd
->
	`˛ór_å™s„r_¥iv
(
to_ˇn˚l
);

2616 #ifde‡
YS_PRINT_API


2617 
	`YSPRINT
("%s:%d %s: devi˚Ñemoved\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2619 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
to_ˇn˚l
, 
LIBUSB_TRANSFER_NO_DEVICE
);

2622 
	}
}

	@libusb/libusb.h

24 #i‚de‡
LIBUSB_H


25 
	#LIBUSB_H


	)

27 #ifde‡
_MSC_VER


29 #i‡!
deföed
(
__˝lu•lus
)

30 
	#ölöe
 
__ölöe


	)

33 #i‚de‡
_SSIZE_T_DEFINED


34 
	#_SSIZE_T_DEFINED


	)

35 #unde‡
ssize_t


36 #ifde‡
_WIN64


37 
__öt64
 
	tssize_t
;

39 
	tssize_t
;

45 #i‡
deföed
(
_MSC_VER
Ë&& (_MSC_VER < 1600Ë&& (!deföed(
_STDINT
)Ë&& (!deföed(
_STDINT_H
))

46 
	t__öt8
 
	tuöt8_t
;

47 
	t__öt16
 
	tuöt16_t
;

48 
	t__öt32
 
	tuöt32_t
;

50 
	~<°döt.h
>

53 #i‡!
deföed
(
_WIN32_WCE
)

54 
	~<sys/ty≥s.h
>

57 #i‡
deföed
(
__löux
Ë|| deföed(
__APPLE__
Ë|| deföed(
__CYGWIN__
)

58 
	~<sys/time.h
>

61 
	~<time.h
>

62 
	~<limôs.h
>

69 #i‡
deföed
(
_WIN32
Ë|| deföed(
__CYGWIN__
Ë|| deföed(
_WIN32_WCE
)

70 
	~<wödows.h
>

71 #i‡
deföed
(
öãrÁ˚
)

72 #unde‡
öãrÁ˚


74 #i‡!
deföed
(
__CYGWIN__
)

75 
	~<wösock.h
>

79 #i‡
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 5)

80 
	#LIBUSB_DEPRECATED_FOR
(
f
) \

81 
	`__©åibuã__
((
	`dïªˇãd
("U£ " #‡" in°ód")))

	)

83 
	#LIBUSB_DEPRECATED_FOR
(
f
)

	)

118 #i‡
deföed
(
_WIN32
Ë|| deföed(
__CYGWIN__
Ë|| deföed(
_WIN32_WCE
)

119 
	#LIBUSB_CALL
 
WINAPI


	)

121 
	#LIBUSB_CALL


	)

147 
	#LIBUSB_API_VERSION
 0x01000103

	)

150 
	#LIBUSBX_API_VERSION
 
LIBUSB_API_VERSION


	)

153 #i‚de‡
YS_PRINT_API


154 
	#YS_PRINT_API


	)

157 #ifde‡
__˝lu•lus


169 
ölöe
 
uöt16_t
 
libusb_˝u_to_À16
(c⁄° uöt16_à
x
)

172 
uöt8_t
 
b8
[2];

173 
uöt16_t
 
b16
;

174 } 
_tmp
;

175 
_tmp
.
b8
[1] = (
uöt8_t
Ë(
x
 >> 8);

176 
_tmp
.
b8
[0] = (
uöt8_t
Ë(
x
 & 0xff);

177  
_tmp
.
b16
;

188 
	#libusb_À16_to_˝u
 
libusb_˝u_to_À16


	)

194 
	elibusb_˛ass_code
 {

199 
LIBUSB_CLASS_PER_INTERFACE
 = 0,

202 
LIBUSB_CLASS_AUDIO
 = 1,

205 
LIBUSB_CLASS_COMM
 = 2,

208 
LIBUSB_CLASS_HID
 = 3,

211 
LIBUSB_CLASS_PHYSICAL
 = 5,

214 
LIBUSB_CLASS_PRINTER
 = 7,

217 
LIBUSB_CLASS_PTP
 = 6,

218 
LIBUSB_CLASS_IMAGE
 = 6,

221 
LIBUSB_CLASS_MASS_STORAGE
 = 8,

224 
LIBUSB_CLASS_HUB
 = 9,

227 
LIBUSB_CLASS_DATA
 = 10,

230 
LIBUSB_CLASS_SMART_CARD
 = 0x0b,

233 
LIBUSB_CLASS_CONTENT_SECURITY
 = 0x0d,

236 
LIBUSB_CLASS_VIDEO
 = 0x0e,

239 
LIBUSB_CLASS_PERSONAL_HEALTHCARE
 = 0x0f,

242 
LIBUSB_CLASS_DIAGNOSTIC_DEVICE
 = 0xdc,

245 
LIBUSB_CLASS_WIRELESS
 = 0xe0,

248 
LIBUSB_CLASS_APPLICATION
 = 0xfe,

251 
LIBUSB_CLASS_VENDOR_SPEC
 = 0xff

256 
	elibusb_des¸ùt‹_ty≥
 {

258 
LIBUSB_DT_DEVICE
 = 0x01,

261 
LIBUSB_DT_CONFIG
 = 0x02,

264 
LIBUSB_DT_STRING
 = 0x03,

267 
LIBUSB_DT_INTERFACE
 = 0x04,

270 
LIBUSB_DT_ENDPOINT
 = 0x05,

273 
LIBUSB_DT_BOS
 = 0x0f,

276 
LIBUSB_DT_DEVICE_CAPABILITY
 = 0x10,

279 
LIBUSB_DT_HID
 = 0x21,

282 
LIBUSB_DT_REPORT
 = 0x22,

285 
LIBUSB_DT_PHYSICAL
 = 0x23,

288 
LIBUSB_DT_HUB
 = 0x29,

291 
LIBUSB_DT_SUPERSPEED_HUB
 = 0x2a,

294 
LIBUSB_DT_SS_ENDPOINT_COMPANION
 = 0x30

298 
	#LIBUSB_DT_DEVICE_SIZE
 18

	)

299 
	#LIBUSB_DT_CONFIG_SIZE
 9

	)

300 
	#LIBUSB_DT_INTERFACE_SIZE
 9

	)

301 
	#LIBUSB_DT_ENDPOINT_SIZE
 7

	)

302 
	#LIBUSB_DT_ENDPOINT_AUDIO_SIZE
 9

	)

303 
	#LIBUSB_DT_HUB_NONVAR_SIZE
 7

	)

304 
	#LIBUSB_DT_SS_ENDPOINT_COMPANION_SIZE
 6

	)

305 
	#LIBUSB_DT_BOS_SIZE
 5

	)

306 
	#LIBUSB_DT_DEVICE_CAPABILITY_SIZE
 3

	)

309 
	#LIBUSB_BT_USB_2_0_EXTENSION_SIZE
 7

	)

310 
	#LIBUSB_BT_SS_USB_DEVICE_CAPABILITY_SIZE
 10

	)

311 
	#LIBUSB_BT_CONTAINER_ID_SIZE
 20

	)

314 
	#LIBUSB_DT_BOS_MAX_SIZE
 ((
LIBUSB_DT_BOS_SIZE
) +\

315 (
LIBUSB_BT_USB_2_0_EXTENSION_SIZE
) +\

316 (
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY_SIZE
) +\

317 (
LIBUSB_BT_CONTAINER_ID_SIZE
))

	)

319 
	#LIBUSB_ENDPOINT_ADDRESS_MASK
 0x0‡

	)

320 
	#LIBUSB_ENDPOINT_DIR_MASK
 0x80

	)

326 
	elibusb_ídpoöt_dúe˘i⁄
 {

328 
LIBUSB_ENDPOINT_IN
 = 0x80,

331 
LIBUSB_ENDPOINT_OUT
 = 0x00

334 
	#LIBUSB_TRANSFER_TYPE_MASK
 0x03

	)

340 
	elibusb_å™s„r_ty≥
 {

342 
LIBUSB_TRANSFER_TYPE_CONTROL
 = 0,

345 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
 = 1,

348 
LIBUSB_TRANSFER_TYPE_BULK
 = 2,

351 
LIBUSB_TRANSFER_TYPE_INTERRUPT
 = 3,

354 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
 = 4,

359 
	elibusb_°™d¨d_ªque°
 {

361 
LIBUSB_REQUEST_GET_STATUS
 = 0x00,

364 
LIBUSB_REQUEST_CLEAR_FEATURE
 = 0x01,

369 
LIBUSB_REQUEST_SET_FEATURE
 = 0x03,

374 
LIBUSB_REQUEST_SET_ADDRESS
 = 0x05,

377 
LIBUSB_REQUEST_GET_DESCRIPTOR
 = 0x06,

380 
LIBUSB_REQUEST_SET_DESCRIPTOR
 = 0x07,

383 
LIBUSB_REQUEST_GET_CONFIGURATION
 = 0x08,

386 
LIBUSB_REQUEST_SET_CONFIGURATION
 = 0x09,

389 
LIBUSB_REQUEST_GET_INTERFACE
 = 0x0A,

392 
LIBUSB_REQUEST_SET_INTERFACE
 = 0x0B,

395 
LIBUSB_REQUEST_SYNCH_FRAME
 = 0x0C,

398 
LIBUSB_REQUEST_SET_SEL
 = 0x30,

402 
LIBUSB_SET_ISOCH_DELAY
 = 0x31,

409 
	elibusb_ªque°_ty≥
 {

411 
LIBUSB_REQUEST_TYPE_STANDARD
 = (0x00 << 5),

414 
LIBUSB_REQUEST_TYPE_CLASS
 = (0x01 << 5),

417 
LIBUSB_REQUEST_TYPE_VENDOR
 = (0x02 << 5),

420 
LIBUSB_REQUEST_TYPE_RESERVED
 = (0x03 << 5)

427 
	elibusb_ªque°_ªcùõ¡
 {

429 
LIBUSB_RECIPIENT_DEVICE
 = 0x00,

432 
LIBUSB_RECIPIENT_INTERFACE
 = 0x01,

435 
LIBUSB_RECIPIENT_ENDPOINT
 = 0x02,

438 
LIBUSB_RECIPIENT_OTHER
 = 0x03,

441 
	#LIBUSB_ISO_SYNC_TYPE_MASK
 0x0C

	)

448 
	elibusb_iso_sync_ty≥
 {

450 
LIBUSB_ISO_SYNC_TYPE_NONE
 = 0,

453 
LIBUSB_ISO_SYNC_TYPE_ASYNC
 = 1,

456 
LIBUSB_ISO_SYNC_TYPE_ADAPTIVE
 = 2,

459 
LIBUSB_ISO_SYNC_TYPE_SYNC
 = 3

462 
	#LIBUSB_ISO_USAGE_TYPE_MASK
 0x30

	)

469 
	elibusb_iso_ußge_ty≥
 {

471 
LIBUSB_ISO_USAGE_TYPE_DATA
 = 0,

474 
LIBUSB_ISO_USAGE_TYPE_FEEDBACK
 = 1,

477 
LIBUSB_ISO_USAGE_TYPE_IMPLICIT
 = 2,

485 
	slibusb_devi˚_des¸ùt‹
 {

487 
uöt8_t
 
bLígth
;

492 
uöt8_t
 
bDes¸ùt‹Ty≥
;

496 
uöt16_t
 
bcdUSB
;

499 
uöt8_t
 
bDevi˚Cœss
;

503 
uöt8_t
 
bDevi˚SubCœss
;

507 
uöt8_t
 
bDevi˚PrŸocﬁ
;

510 
uöt8_t
 
bMaxPackëSize0
;

513 
uöt16_t
 
idVíd‹
;

516 
uöt16_t
 
idProdu˘
;

519 
uöt16_t
 
bcdDevi˚
;

522 
uöt8_t
 
iM™uÁ˘uªr
;

525 
uöt8_t
 
iProdu˘
;

528 
uöt8_t
 
iSîülNumbî
;

531 
uöt8_t
 
bNumC⁄figuøti⁄s
;

539 
	slibusb_ídpoöt_des¸ùt‹
 {

541 
uöt8_t
 
bLígth
;

546 
uöt8_t
 
bDes¸ùt‹Ty≥
;

552 
uöt8_t
 
bEndpoötAddªss
;

561 
uöt8_t
 
bmAâribuãs
;

564 
uöt16_t
 
wMaxPackëSize
;

567 
uöt8_t
 
bI¡îvÆ
;

571 
uöt8_t
 
bRe‰esh
;

574 
uöt8_t
 
bSynchAddªss
;

578 c⁄° *
exåa
;

581 
exåa_Àngth
;

589 
	slibusb_öãrÁ˚_des¸ùt‹
 {

591 
uöt8_t
 
bLígth
;

596 
uöt8_t
 
bDes¸ùt‹Ty≥
;

599 
uöt8_t
 
bI¡îÁ˚Numbî
;

602 
uöt8_t
 
bA…î«ãSëtög
;

606 
uöt8_t
 
bNumEndpoöts
;

609 
uöt8_t
 
bI¡îÁ˚Cœss
;

613 
uöt8_t
 
bI¡îÁ˚SubCœss
;

617 
uöt8_t
 
bI¡îÁ˚PrŸocﬁ
;

620 
uöt8_t
 
iI¡îÁ˚
;

624 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
;

628 c⁄° *
exåa
;

631 
exåa_Àngth
;

637 
	slibusb_öãrÁ˚
 {

640 c⁄° 
libusb_öãrÁ˚_des¸ùt‹
 *
Æt£âög
;

643 
num_Æt£âög
;

651 
	slibusb_c⁄fig_des¸ùt‹
 {

653 
uöt8_t
 
bLígth
;

658 
uöt8_t
 
bDes¸ùt‹Ty≥
;

661 
uöt16_t
 
wTŸÆLígth
;

664 
uöt8_t
 
bNumI¡îÁ˚s
;

667 
uöt8_t
 
bC⁄figuøti⁄VÆue
;

670 
uöt8_t
 
iC⁄figuøti⁄
;

673 
uöt8_t
 
bmAâribuãs
;

678 
uöt8_t
 
MaxPowî
;

682 c⁄° 
libusb_öãrÁ˚
 *
öãrÁ˚
;

686 c⁄° *
exåa
;

689 
exåa_Àngth
;

698 
	slibusb_ss_ídpoöt_com∑ni⁄_des¸ùt‹
 {

701 
uöt8_t
 
bLígth
;

706 
uöt8_t
 
bDes¸ùt‹Ty≥
;

711 
uöt8_t
 
bMaxBur°
;

717 
uöt8_t
 
bmAâribuãs
;

721 
uöt16_t
 
wByãsPîI¡îvÆ
;

729 
	slibusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 {

731 
uöt8_t
 
bLígth
;

735 
uöt8_t
 
bDes¸ùt‹Ty≥
;

737 
uöt8_t
 
bDevC≠abûôyTy≥
;

739 
uöt8_t
 
dev_ˇ∑bûôy_d©a


740 #i‡
deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ >= 199901L)

753 
	slibusb_bos_des¸ùt‹
 {

755 
uöt8_t
 
bLígth
;

760 
uöt8_t
 
bDes¸ùt‹Ty≥
;

763 
uöt16_t
 
wTŸÆLígth
;

767 
uöt8_t
 
bNumDevi˚C≠s
;

770 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇ∑bûôy


771 #i‡
deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ >= 199901L)

784 
	slibusb_usb_2_0_exãnsi⁄_des¸ùt‹
 {

786 
uöt8_t
 
bLígth
;

791 
uöt8_t
 
bDes¸ùt‹Ty≥
;

796 
uöt8_t
 
bDevC≠abûôyTy≥
;

802 
uöt32_t
 
bmAâribuãs
;

810 
	slibusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 {

812 
uöt8_t
 
bLígth
;

817 
uöt8_t
 
bDes¸ùt‹Ty≥
;

822 
uöt8_t
 
bDevC≠abûôyTy≥
;

828 
uöt8_t
 
bmAâribuãs
;

832 
uöt16_t
 
wS≥edSuµ‹ãd
;

838 
uöt8_t
 
bFun˘i⁄ÆôySuµ‹t
;

841 
uöt8_t
 
bU1DevExôL©
;

844 
uöt16_t
 
bU2DevExôL©
;

852 
	slibusb_c⁄èöî_id_des¸ùt‹
 {

854 
uöt8_t
 
bLígth
;

859 
uöt8_t
 
bDes¸ùt‹Ty≥
;

864 
uöt8_t
 
bDevC≠abûôyTy≥
;

867 
uöt8_t
 
bRe£rved
;

870 
uöt8_t
 
C⁄èöîID
[16];

875 
	slibusb_c⁄åﬁ_£tup
 {

881 
uöt8_t
 
bmReque°Ty≥
;

888 
uöt8_t
 
bReque°
;

891 
uöt16_t
 
wVÆue
;

895 
uöt16_t
 
wIndex
;

898 
uöt16_t
 
wLígth
;

901 
	#LIBUSB_CONTROL_SETUP_SIZE
 ((
libusb_c⁄åﬁ_£tup
))

	)

905 
libusb_c⁄ãxt
;

906 
libusb_devi˚
;

907 
libusb_devi˚_h™dÀ
;

908 
libusb_hŸ∂ug_ˇŒback
;

913 
	slibusb_vîsi⁄
 {

915 c⁄° 
uöt16_t
 
maj‹
;

918 c⁄° 
uöt16_t
 
mö‹
;

921 c⁄° 
uöt16_t
 
mi¸o
;

924 c⁄° 
uöt16_t
 
«no
;

927 c⁄° *
rc
;

930 c⁄° * 
des¸ibe
;

950 
libusb_c⁄ãxt
 
	tlibusb_c⁄ãxt
;

967 
libusb_devi˚
 
	tlibusb_devi˚
;

978 
libusb_devi˚_h™dÀ
 
	tlibusb_devi˚_h™dÀ
;

983 
	elibusb_•ìd
 {

985 
LIBUSB_SPEED_UNKNOWN
 = 0,

988 
LIBUSB_SPEED_LOW
 = 1,

991 
LIBUSB_SPEED_FULL
 = 2,

994 
LIBUSB_SPEED_HIGH
 = 3,

997 
LIBUSB_SPEED_SUPER
 = 4,

1004 
	elibusb_suµ‹ãd_•ìd
 {

1006 
LIBUSB_LOW_SPEED_OPERATION
 = 1,

1009 
LIBUSB_FULL_SPEED_OPERATION
 = 2,

1012 
LIBUSB_HIGH_SPEED_OPERATION
 = 4,

1015 
LIBUSB_SUPER_SPEED_OPERATION
 = 8,

1023 
	elibusb_usb_2_0_exãnsi⁄_©åibuãs
 {

1025 
LIBUSB_BM_LPM_SUPPORT
 = 2,

1033 
	elibusb_ss_usb_devi˚_ˇ∑bûôy_©åibuãs
 {

1035 
LIBUSB_BM_LTM_SUPPORT
 = 2,

1041 
	elibusb_bos_ty≥
 {

1043 
LIBUSB_BT_WIRELESS_USB_DEVICE_CAPABILITY
 = 1,

1046 
LIBUSB_BT_USB_2_0_EXTENSION
 = 2,

1049 
LIBUSB_BT_SS_USB_DEVICE_CAPABILITY
 = 3,

1052 
LIBUSB_BT_CONTAINER_ID
 = 4,

1062 
	elibusb_îr‹
 {

1064 
LIBUSB_SUCCESS
 = 0,

1067 
LIBUSB_ERROR_IO
 = -1,

1070 
LIBUSB_ERROR_INVALID_PARAM
 = -2,

1073 
LIBUSB_ERROR_ACCESS
 = -3,

1076 
LIBUSB_ERROR_NO_DEVICE
 = -4,

1079 
LIBUSB_ERROR_NOT_FOUND
 = -5,

1082 
LIBUSB_ERROR_BUSY
 = -6,

1085 
LIBUSB_ERROR_TIMEOUT
 = -7,

1088 
LIBUSB_ERROR_OVERFLOW
 = -8,

1091 
LIBUSB_ERROR_PIPE
 = -9,

1094 
LIBUSB_ERROR_INTERRUPTED
 = -10,

1097 
LIBUSB_ERROR_NO_MEM
 = -11,

1100 
LIBUSB_ERROR_NOT_SUPPORTED
 = -12,

1106 
LIBUSB_ERROR_OTHER
 = -99,

1110 
	#LIBUSB_ERROR_COUNT
 14

	)

1114 
	elibusb_å™s„r_°©us
 {

1117 
LIBUSB_TRANSFER_COMPLETED
,

1120 
LIBUSB_TRANSFER_ERROR
,

1123 
LIBUSB_TRANSFER_TIMED_OUT
,

1126 
LIBUSB_TRANSFER_CANCELLED
,

1130 
LIBUSB_TRANSFER_STALL
,

1133 
LIBUSB_TRANSFER_NO_DEVICE
,

1136 
LIBUSB_TRANSFER_OVERFLOW
,

1144 
	elibusb_å™s„r_Êags
 {

1146 
LIBUSB_TRANSFER_SHORT_NOT_OK
 = 1<<0,

1149 
LIBUSB_TRANSFER_FREE_BUFFER
 = 1<<1,

1155 
LIBUSB_TRANSFER_FREE_TRANSFER
 = 1<<2,

1180 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
 = 1 << 3,

1185 
	slibusb_iso_∑ckë_des¸ùt‹
 {

1187 
Àngth
;

1190 
a˘uÆ_Àngth
;

1193 
libusb_å™s„r_°©us
 
°©us
;

1196 
libusb_å™s„r
;

1207 (
LIBUSB_CALL
 *
	tlibusb_å™s„r_cb_‚
)(
	tlibusb_å™s„r
 *
	tå™s„r
);

1215 
	slibusb_å™s„r
 {

1217 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
;

1220 
uöt8_t
 
Êags
;

1223 
ídpoöt
;

1226 
ty≥
;

1230 
timeout
;

1239 
libusb_å™s„r_°©us
 
°©us
;

1242 
Àngth
;

1247 
a˘uÆ_Àngth
;

1251 
libusb_å™s„r_cb_‚
 
ˇŒback
;

1254 *
u£r_d©a
;

1257 *
buf„r
;

1261 
num_iso_∑ckës
;

1264 
libusb_iso_∑ckë_des¸ùt‹
 
iso_∑ckë_desc


1265 #i‡
deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ >= 199901L)

1278 
	elibusb_ˇ∑bûôy
 {

1280 
LIBUSB_CAP_HAS_CAPABILITY
 = 0x0000,

1282 
LIBUSB_CAP_HAS_HOTPLUG
 = 0x0001,

1287 
LIBUSB_CAP_HAS_HID_ACCESS
 = 0x0100,

1290 
LIBUSB_CAP_SUPPORTS_DETACH_KERNEL_DRIVER
 = 0x0101

1303 
	elibusb_log_Àvñ
 {

1304 
LIBUSB_LOG_LEVEL_NONE
 = 0,

1305 
LIBUSB_LOG_LEVEL_ERROR
,

1306 
LIBUSB_LOG_LEVEL_WARNING
,

1307 
LIBUSB_LOG_LEVEL_INFO
,

1308 
LIBUSB_LOG_LEVEL_DEBUG
,

1311 
LIBUSB_CALL
 
libusb_öô
(
libusb_c⁄ãxt
 **
˘x
);

1312 
LIBUSB_CALL
 
libusb_exô
(
libusb_c⁄ãxt
 *
˘x
);

1313 
LIBUSB_CALL
 
libusb_£t_debug
(
libusb_c⁄ãxt
 *
˘x
, 
Àvñ
);

1314 c⁄° 
libusb_vîsi⁄
 * 
LIBUSB_CALL
 
libusb_gë_vîsi⁄
();

1315 
LIBUSB_CALL
 
libusb_has_ˇ∑bûôy
(
uöt32_t
 
ˇ∑bûôy
);

1316 c⁄° * 
LIBUSB_CALL
 
libusb_îr‹_«me
(
îrcode
);

1317 
LIBUSB_CALL
 
libusb_£éoˇÀ
(c⁄° *
loˇÀ
);

1318 c⁄° * 
LIBUSB_CALL
 
libusb_°ªº‹
(
libusb_îr‹
 
îrcode
);

1320 
ssize_t
 
LIBUSB_CALL
 
libusb_gë_devi˚_li°
(
libusb_c⁄ãxt
 *
˘x
,

1321 
libusb_devi˚
 ***
li°
);

1322 
LIBUSB_CALL
 
libusb_‰ì_devi˚_li°
(
libusb_devi˚
 **
li°
,

1323 
uƒef_devi˚s
);

1324 
libusb_devi˚
 * 
LIBUSB_CALL
 
libusb_ªf_devi˚
÷ibusb_devi˚ *
dev
);

1325 
LIBUSB_CALL
 
libusb_uƒef_devi˚
(
libusb_devi˚
 *
dev
);

1327 
LIBUSB_CALL
 
libusb_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev
,

1328 *
c⁄fig
);

1329 
LIBUSB_CALL
 
libusb_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
,

1330 
libusb_devi˚_des¸ùt‹
 *
desc
);

1331 
LIBUSB_CALL
 
libusb_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

1332 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
);

1333 
LIBUSB_CALL
 
libusb_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

1334 
uöt8_t
 
c⁄fig_ödex
, 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
);

1335 
LIBUSB_CALL
 
libusb_gë_c⁄fig_des¸ùt‹_by_vÆue
(
libusb_devi˚
 *
dev
,

1336 
uöt8_t
 
bC⁄figuøti⁄VÆue
, 
libusb_c⁄fig_des¸ùt‹
 **
c⁄fig
);

1337 
LIBUSB_CALL
 
libusb_‰ì_c⁄fig_des¸ùt‹
(

1338 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
);

1339 
LIBUSB_CALL
 
libusb_gë_ss_ídpoöt_com∑ni⁄_des¸ùt‹
(

1340 
libusb_c⁄ãxt
 *
˘x
,

1341 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ídpoöt
,

1342 
libusb_ss_ídpoöt_com∑ni⁄_des¸ùt‹
 **
ï_comp
);

1343 
LIBUSB_CALL
 
libusb_‰ì_ss_ídpoöt_com∑ni⁄_des¸ùt‹
(

1344 
libusb_ss_ídpoöt_com∑ni⁄_des¸ùt‹
 *
ï_comp
);

1345 
LIBUSB_CALL
 
libusb_gë_bos_des¸ùt‹
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1346 
libusb_bos_des¸ùt‹
 **
bos
);

1347 
LIBUSB_CALL
 
libusb_‰ì_bos_des¸ùt‹
(
libusb_bos_des¸ùt‹
 *
bos
);

1348 
LIBUSB_CALL
 
libusb_gë_usb_2_0_exãnsi⁄_des¸ùt‹
(

1349 
libusb_c⁄ãxt
 *
˘x
,

1350 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
,

1351 
libusb_usb_2_0_exãnsi⁄_des¸ùt‹
 **
usb_2_0_exãnsi⁄
);

1352 
LIBUSB_CALL
 
libusb_‰ì_usb_2_0_exãnsi⁄_des¸ùt‹
(

1353 
libusb_usb_2_0_exãnsi⁄_des¸ùt‹
 *
usb_2_0_exãnsi⁄
);

1354 
LIBUSB_CALL
 
libusb_gë_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
(

1355 
libusb_c⁄ãxt
 *
˘x
,

1356 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
,

1357 
libusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 **
ss_usb_devi˚_ˇp
);

1358 
LIBUSB_CALL
 
libusb_‰ì_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
(

1359 
libusb_ss_usb_devi˚_ˇ∑bûôy_des¸ùt‹
 *
ss_usb_devi˚_ˇp
);

1360 
LIBUSB_CALL
 
libusb_gë_c⁄èöî_id_des¸ùt‹
(
libusb_c⁄ãxt
 *
˘x
,

1361 
libusb_bos_dev_ˇ∑bûôy_des¸ùt‹
 *
dev_ˇp
,

1362 
libusb_c⁄èöî_id_des¸ùt‹
 **
c⁄èöî_id
);

1363 
LIBUSB_CALL
 
libusb_‰ì_c⁄èöî_id_des¸ùt‹
(

1364 
libusb_c⁄èöî_id_des¸ùt‹
 *
c⁄èöî_id
);

1365 
uöt8_t
 
LIBUSB_CALL
 
libusb_gë_bus_numbî
(
libusb_devi˚
 *
dev
);

1366 
uöt8_t
 
LIBUSB_CALL
 
libusb_gë_p‹t_numbî
(
libusb_devi˚
 *
dev
);

1367 
LIBUSB_CALL
 
libusb_gë_p‹t_numbîs
(
libusb_devi˚
 *
dev
, 
uöt8_t
* 
p‹t_numbîs
, 
p‹t_numbîs_Àn
);

1368 
LIBUSB_DEPRECATED_FOR
(
libusb_gë_p‹t_numbîs
)

1369 
LIBUSB_CALL
 
libusb_gë_p‹t_∑th
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_devi˚
 *
dev
, 
uöt8_t
* 
∑th
, uöt8_à
∑th_Àngth
);

1370 
libusb_devi˚
 * 
LIBUSB_CALL
 
libusb_gë_∑ª¡
÷ibusb_devi˚ *
dev
);

1371 
uöt8_t
 
LIBUSB_CALL
 
libusb_gë_devi˚_addªss
(
libusb_devi˚
 *
dev
);

1372 
LIBUSB_CALL
 
libusb_gë_devi˚_•ìd
(
libusb_devi˚
 *
dev
);

1373 
LIBUSB_CALL
 
libusb_gë_max_∑ckë_size
(
libusb_devi˚
 *
dev
,

1374 
ídpoöt
);

1375 
LIBUSB_CALL
 
libusb_gë_max_iso_∑ckë_size
(
libusb_devi˚
 *
dev
,

1376 
ídpoöt
);

1378 
LIBUSB_CALL
 
libusb_›í
(
libusb_devi˚
 *
dev
, 
libusb_devi˚_h™dÀ
 **
h™dÀ
);

1379 
LIBUSB_CALL
 
libusb_˛o£
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

1380 
libusb_devi˚
 * 
LIBUSB_CALL
 
libusb_gë_devi˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

1382 
LIBUSB_CALL
 
libusb_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev
,

1383 
c⁄figuøti⁄
);

1384 
LIBUSB_CALL
 
libusb_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev
,

1385 
öãrÁ˚_numbî
);

1386 
LIBUSB_CALL
 
libusb_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev
,

1387 
öãrÁ˚_numbî
);

1389 
libusb_devi˚_h™dÀ
 * 
LIBUSB_CALL
 
libusb_›í_devi˚_wôh_vid_pid
(

1390 
libusb_c⁄ãxt
 *
˘x
, 
uöt16_t
 
víd‹_id
, uöt16_à
¥odu˘_id
);

1392 
LIBUSB_CALL
 
libusb_£t_öãrÁ˚_Æt_£âög
(
libusb_devi˚_h™dÀ
 *
dev
,

1393 
öãrÁ˚_numbî
, 
Æã∫©e_£âög
);

1394 
LIBUSB_CALL
 
libusb_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
dev
,

1395 
ídpoöt
);

1396 
LIBUSB_CALL
 
libusb_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
dev
);

1398 
LIBUSB_CALL
 
libusb_Æloc_°ªams
(
libusb_devi˚_h™dÀ
 *
dev
,

1399 
uöt32_t
 
num_°ªams
, *
ídpoöts
, 
num_ídpoöts
);

1400 
LIBUSB_CALL
 
libusb_‰ì_°ªams
(
libusb_devi˚_h™dÀ
 *
dev
,

1401 *
ídpoöts
, 
num_ídpoöts
);

1403 
LIBUSB_CALL
 
libusb_kî√l_drivî_a˘ive
(
libusb_devi˚_h™dÀ
 *
dev
,

1404 
öãrÁ˚_numbî
);

1405 
LIBUSB_CALL
 
libusb_dëach_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
dev
,

1406 
öãrÁ˚_numbî
);

1407 
LIBUSB_CALL
 
libusb_©èch_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
dev
,

1408 
öãrÁ˚_numbî
);

1409 
LIBUSB_CALL
 
libusb_£t_auto_dëach_kî√l_drivî
(

1410 
libusb_devi˚_h™dÀ
 *
dev
, 
íabÀ
);

1412 #ifde‡
YS_PRINT_API


1414 
	#YSPRINT
 
usb¥öt


	)

1416 (*
usb¥öt
)(c⁄° *
fmt
, ...);

1417 
LIBUSB_CALL
 
libusb_£t_¥öt_fun˝
((*
func
)(c⁄° *
fmt
, ...));

1435 
ölöe
 *
libusb_c⁄åﬁ_å™s„r_gë_d©a
(

1436 
libusb_å™s„r
 *
å™s„r
)

1438  
	gå™s„r
->
	gbuf„r
 + 
	gLIBUSB_CONTROL_SETUP_SIZE
;

1453 
ölöe
 
libusb_c⁄åﬁ_£tup
 *
libusb_c⁄åﬁ_å™s„r_gë_£tup
(

1454 
libusb_å™s„r
 *
å™s„r
)

1456  (
	glibusb_c⁄åﬁ_£tup
 *)(*Ë
	gå™s„r
->
	gbuf„r
;

1482 
ölöe
 
libusb_fûl_c⁄åﬁ_£tup
(*
buf„r
,

1483 
uöt8_t
 
bmReque°Ty≥
, uöt8_à
bReque°
, 
uöt16_t
 
wVÆue
, uöt16_à
wIndex
,

1484 
uöt16_t
 
wLígth
)

1486 
libusb_c⁄åﬁ_£tup
 *
	g£tup
 = (libusb_c⁄åﬁ_£tu∞*)(*Ë
buf„r
;

1487 
	g£tup
->
	gbmReque°Ty≥
 = 
bmReque°Ty≥
;

1488 
	g£tup
->
	gbReque°
 = 
bReque°
;

1489 
	g£tup
->
	gwVÆue
 = 
libusb_˝u_to_À16
(
wVÆue
);

1490 
	g£tup
->
	gwIndex
 = 
libusb_˝u_to_À16
(
wIndex
);

1491 
	g£tup
->
	gwLígth
 = 
libusb_˝u_to_À16
(
wLígth
);

1494 
libusb_å™s„r
 * 
LIBUSB_CALL
 
libusb_Æloc_å™s„r
(
iso_∑ckës
);

1495 
LIBUSB_CALL
 
libusb_submô_å™s„r
(
libusb_å™s„r
 *
å™s„r
);

1496 
LIBUSB_CALL
 
libusb_ˇn˚l_å™s„r
(
libusb_å™s„r
 *
å™s„r
);

1497 
LIBUSB_CALL
 
libusb_‰ì_å™s„r
(
libusb_å™s„r
 *
å™s„r
);

1498 
LIBUSB_CALL
 
libusb_å™s„r_£t_°ªam_id
(

1499 
libusb_å™s„r
 *
å™s„r
, 
uöt32_t
 
°ªam_id
);

1500 
uöt32_t
 
LIBUSB_CALL
 
libusb_å™s„r_gë_°ªam_id
(

1501 
libusb_å™s„r
 *
å™s„r
);

1531 
ölöe
 
libusb_fûl_c⁄åﬁ_å™s„r
(

1532 
libusb_å™s„r
 *
å™s„r
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

1533 *
buf„r
, 
libusb_å™s„r_cb_‚
 
ˇŒback
, *
u£r_d©a
,

1534 
timeout
)

1536 
libusb_c⁄åﬁ_£tup
 *
	g£tup
 = (libusb_c⁄åﬁ_£tu∞*)(*Ë
buf„r
;

1537 
	gå™s„r
->
	gdev_h™dÀ
 = 
dev_h™dÀ
;

1538 
	gå™s„r
->
	gídpoöt
 = 0;

1539 
	gå™s„r
->
	gty≥
 = 
LIBUSB_TRANSFER_TYPE_CONTROL
;

1540 
	gå™s„r
->
	gtimeout
 = 
timeout
;

1541 
	gå™s„r
->
	gbuf„r
 = 
buf„r
;

1542 i‡(
	g£tup
)

1543 
	gå™s„r
->
	gÀngth
 = (Ë(
LIBUSB_CONTROL_SETUP_SIZE


1544 + 
libusb_À16_to_˝u
(
£tup
->
wLígth
));

1545 
	gå™s„r
->
	gu£r_d©a
 = 
u£r_d©a
;

1546 
	gå™s„r
->
	gˇŒback
 = 
ˇŒback
;

1562 
ölöe
 
libusb_fûl_bulk_å™s„r
(
libusb_å™s„r
 *
å™s„r
,

1563 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
,

1564 *
buf„r
, 
Àngth
, 
libusb_å™s„r_cb_‚
 
ˇŒback
,

1565 *
u£r_d©a
, 
timeout
)

1567 
	gå™s„r
->
	gdev_h™dÀ
 = 
dev_h™dÀ
;

1568 
	gå™s„r
->
	gídpoöt
 = 
ídpoöt
;

1569 
	gå™s„r
->
	gty≥
 = 
LIBUSB_TRANSFER_TYPE_BULK
;

1570 
	gå™s„r
->
	gtimeout
 = 
timeout
;

1571 
	gå™s„r
->
	gbuf„r
 = 
buf„r
;

1572 
	gå™s„r
->
	gÀngth
 = 
Àngth
;

1573 
	gå™s„r
->
	gu£r_d©a
 = 
u£r_d©a
;

1574 
	gå™s„r
->
	gˇŒback
 = 
ˇŒback
;

1593 
ölöe
 
libusb_fûl_bulk_°ªam_å™s„r
(

1594 
libusb_å™s„r
 *
å™s„r
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

1595 
ídpoöt
, 
uöt32_t
 
°ªam_id
,

1596 *
buf„r
, 
Àngth
, 
libusb_å™s„r_cb_‚
 
ˇŒback
,

1597 *
u£r_d©a
, 
timeout
)

1599 
libusb_fûl_bulk_å™s„r
(
å™s„r
, 
dev_h™dÀ
, 
ídpoöt
, 
buf„r
,

1600 
Àngth
, 
ˇŒback
, 
u£r_d©a
, 
timeout
);

1601 
	gå™s„r
->
	gty≥
 = 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
;

1602 
libusb_å™s„r_£t_°ªam_id
(
å™s„r
, 
°ªam_id
);

1618 
ölöe
 
libusb_fûl_öãºu±_å™s„r
(

1619 
libusb_å™s„r
 *
å™s„r
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

1620 
ídpoöt
, *
buf„r
, 
Àngth
,

1621 
libusb_å™s„r_cb_‚
 
ˇŒback
, *
u£r_d©a
, 
timeout
)

1623 
	gå™s„r
->
	gdev_h™dÀ
 = 
dev_h™dÀ
;

1624 
	gå™s„r
->
	gídpoöt
 = 
ídpoöt
;

1625 
	gå™s„r
->
	gty≥
 = 
LIBUSB_TRANSFER_TYPE_INTERRUPT
;

1626 
	gå™s„r
->
	gtimeout
 = 
timeout
;

1627 
	gå™s„r
->
	gbuf„r
 = 
buf„r
;

1628 
	gå™s„r
->
	gÀngth
 = 
Àngth
;

1629 
	gå™s„r
->
	gu£r_d©a
 = 
u£r_d©a
;

1630 
	gå™s„r
->
	gˇŒback
 = 
ˇŒback
;

1647 
ölöe
 
libusb_fûl_iso_å™s„r
(
libusb_å™s„r
 *
å™s„r
,

1648 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
,

1649 *
buf„r
, 
Àngth
, 
num_iso_∑ckës
,

1650 
libusb_å™s„r_cb_‚
 
ˇŒback
, *
u£r_d©a
, 
timeout
)

1652 
	gå™s„r
->
	gdev_h™dÀ
 = 
dev_h™dÀ
;

1653 
	gå™s„r
->
	gídpoöt
 = 
ídpoöt
;

1654 
	gå™s„r
->
	gty≥
 = 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
;

1655 
	gå™s„r
->
	gtimeout
 = 
timeout
;

1656 
	gå™s„r
->
	gbuf„r
 = 
buf„r
;

1657 
	gå™s„r
->
	gÀngth
 = 
Àngth
;

1658 
	gå™s„r
->
	gnum_iso_∑ckës
 = 
num_iso_∑ckës
;

1659 
	gå™s„r
->
	gu£r_d©a
 = 
u£r_d©a
;

1660 
	gå™s„r
->
	gˇŒback
 = 
ˇŒback
;

1671 
ölöe
 
libusb_£t_iso_∑ckë_Àngths
(

1672 
libusb_å™s„r
 *
å™s„r
, 
Àngth
)

1674 
	gi
;

1675 
	gi
 = 0; i < 
	gå™s„r
->
	gnum_iso_∑ckës
; i++)

1676 
	gå™s„r
->
	giso_∑ckë_desc
[
i
].
	gÀngth
 = 
Àngth
;

1695 
ölöe
 *
libusb_gë_iso_∑ckë_buf„r
(

1696 
libusb_å™s„r
 *
å™s„r
, 
∑ckë
)

1698 
	gi
;

1699 
size_t
 
	goff£t
 = 0;

1700 
	g_∑ckë
;

1705 i‡(
	g∑ckë
 > 
	gINT_MAX
)

1706  
	gNULL
;

1707 
	g_∑ckë
 = (Ë
∑ckë
;

1709 i‡(
	g_∑ckë
 >
å™s„r
->
num_iso_∑ckës
)

1710  
NULL
;

1712 
	gi
 = 0; i < 
	g_∑ckë
; i++)

1713 
	goff£t
 +
å™s„r
->
iso_∑ckë_desc
[
i
].
Àngth
;

1715  
	gå™s„r
->
	gbuf„r
 + 
	goff£t
;

1737 
ölöe
 *
libusb_gë_iso_∑ckë_buf„r_sim∂e
(

1738 
libusb_å™s„r
 *
å™s„r
, 
∑ckë
)

1740 
	g_∑ckë
;

1745 i‡(
	g∑ckë
 > 
	gINT_MAX
)

1746  
	gNULL
;

1747 
	g_∑ckë
 = (Ë
∑ckë
;

1749 i‡(
	g_∑ckë
 >
å™s„r
->
num_iso_∑ckës
)

1750  
NULL
;

1752  
	gå™s„r
->
	gbuf„r
 + ((Ëå™s„r->
	giso_∑ckë_desc
[0].
Àngth
 * 
	g_∑ckë
);

1757 
LIBUSB_CALL
 
libusb_c⁄åﬁ_å™s„r
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

1758 
uöt8_t
 
ªque°_ty≥
, uöt8_à
bReque°
, 
uöt16_t
 
wVÆue
, uöt16_à
wIndex
,

1759 *
d©a
, 
uöt16_t
 
wLígth
, 
timeout
);

1761 
LIBUSB_CALL
 
libusb_bulk_å™s„r
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

1762 
ídpoöt
, *
d©a
, 
Àngth
,

1763 *
a˘uÆ_Àngth
, 
timeout
);

1765 
LIBUSB_CALL
 
libusb_öãºu±_å™s„r
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

1766 
ídpoöt
, *
d©a
, 
Àngth
,

1767 *
a˘uÆ_Àngth
, 
timeout
);

1781 
ölöe
 
libusb_gë_des¸ùt‹
(
libusb_devi˚_h™dÀ
 *
dev
,

1782 
uöt8_t
 
desc_ty≥
, uöt8_à
desc_ödex
, *
d©a
, 
Àngth
)

1784  
libusb_c⁄åﬁ_å™s„r
(
dev
, 
LIBUSB_ENDPOINT_IN
,

1785 
LIBUSB_REQUEST_GET_DESCRIPTOR
, (
uöt16_t
Ë((
desc_ty≥
 << 8Ë| 
desc_ödex
),

1786 0, 
d©a
, (
uöt16_t
Ë
Àngth
, 1000);

1803 
ölöe
 
libusb_gë_°rög_des¸ùt‹
(
libusb_devi˚_h™dÀ
 *
dev
,

1804 
uöt8_t
 
desc_ödex
, 
uöt16_t
 
œngid
, *
d©a
, 
Àngth
)

1806  
libusb_c⁄åﬁ_å™s„r
(
dev
, 
LIBUSB_ENDPOINT_IN
,

1807 
LIBUSB_REQUEST_GET_DESCRIPTOR
, (
uöt16_t
)((
LIBUSB_DT_STRING
 << 8Ë| 
desc_ödex
),

1808 
œngid
, 
d©a
, (
uöt16_t
Ë
Àngth
, 1000);

1811 
LIBUSB_CALL
 
libusb_gë_°rög_des¸ùt‹_ascii
(
libusb_devi˚_h™dÀ
 *
dev
,

1812 
uöt8_t
 
desc_ödex
, *
d©a
, 
Àngth
);

1816 
LIBUSB_CALL
 
libusb_åy_lock_evíts
(
libusb_c⁄ãxt
 *
˘x
);

1817 
LIBUSB_CALL
 
libusb_lock_evíts
(
libusb_c⁄ãxt
 *
˘x
);

1818 
LIBUSB_CALL
 
libusb_u∆ock_evíts
(
libusb_c⁄ãxt
 *
˘x
);

1819 
LIBUSB_CALL
 
libusb_evít_h™dlög_ok
(
libusb_c⁄ãxt
 *
˘x
);

1820 
LIBUSB_CALL
 
libusb_evít_h™dÀr_a˘ive
(
libusb_c⁄ãxt
 *
˘x
);

1821 
LIBUSB_CALL
 
libusb_lock_evít_waôîs
(
libusb_c⁄ãxt
 *
˘x
);

1822 
LIBUSB_CALL
 
libusb_u∆ock_evít_waôîs
(
libusb_c⁄ãxt
 *
˘x
);

1823 
LIBUSB_CALL
 
libusb_waô_f‹_evít
(
libusb_c⁄ãxt
 *
˘x
, 
timevÆ
 *
tv
);

1825 
LIBUSB_CALL
 
libusb_h™dÀ_evíts_timeout
(
libusb_c⁄ãxt
 *
˘x
,

1826 
timevÆ
 *
tv
);

1827 
LIBUSB_CALL
 
libusb_h™dÀ_evíts_timeout_com∂ëed
(
libusb_c⁄ãxt
 *
˘x
,

1828 
timevÆ
 *
tv
, *
com∂ëed
);

1829 
LIBUSB_CALL
 
libusb_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
);

1830 
LIBUSB_CALL
 
libusb_h™dÀ_evíts_com∂ëed
(
libusb_c⁄ãxt
 *
˘x
, *
com∂ëed
);

1831 
LIBUSB_CALL
 
libusb_h™dÀ_evíts_locked
(
libusb_c⁄ãxt
 *
˘x
,

1832 
timevÆ
 *
tv
);

1833 
LIBUSB_CALL
 
libusb_pﬁlfds_h™dÀ_timeouts
(
libusb_c⁄ãxt
 *
˘x
);

1834 
LIBUSB_CALL
 
libusb_gë_√xt_timeout
(
libusb_c⁄ãxt
 *
˘x
,

1835 
timevÆ
 *
tv
);

1840 
	slibusb_pﬁlfd
 {

1842 
	gfd
;

1848 
	gevíts
;

1861 (
LIBUSB_CALL
 *
	tlibusb_pﬁlfd_added_cb
)(
	tfd
, 
	tevíts
,

1862 *
	tu£r_d©a
);

1873 (
LIBUSB_CALL
 *
	tlibusb_pﬁlfd_ªmoved_cb
)(
	tfd
, *
	tu£r_d©a
);

1875 c⁄° 
libusb_pﬁlfd
 ** 
LIBUSB_CALL
 
libusb_gë_pﬁlfds
(

1876 
libusb_c⁄ãxt
 *
˘x
);

1877 
LIBUSB_CALL
 
libusb_£t_pﬁlfd_nŸifõrs
(
libusb_c⁄ãxt
 *
˘x
,

1878 
libusb_pﬁlfd_added_cb
 
added_cb
, 
libusb_pﬁlfd_ªmoved_cb
 
ªmoved_cb
,

1879 *
u£r_d©a
);

1893 
	tlibusb_hŸ∂ug_ˇŒback_h™dÀ
;

1902 
	gLIBUSB_HOTPLUG_ENUMERATE
 = 1,

1903 } 
	tlibusb_hŸ∂ug_Êag
;

1912 
	gLIBUSB_HOTPLUG_EVENT_DEVICE_ARRIVED
 = 0x01,

1917 
	gLIBUSB_HOTPLUG_EVENT_DEVICE_LEFT
 = 0x02,

1918 } 
	tlibusb_hŸ∂ug_evít
;

1922 
	#LIBUSB_HOTPLUG_MATCH_ANY
 -1

	)

1946 (
LIBUSB_CALL
 *
	tlibusb_hŸ∂ug_ˇŒback_‚
)(
	tlibusb_c⁄ãxt
 *
	t˘x
,

1947 
	tlibusb_devi˚
 *
	tdevi˚
,

1948 
	tlibusb_hŸ∂ug_evít
 
	tevít
,

1949 *
	tu£r_d©a
);

1985 
LIBUSB_CALL
 
libusb_hŸ∂ug_ªgi°î_ˇŒback
(
libusb_c⁄ãxt
 *
˘x
,

1986 
libusb_hŸ∂ug_evít
 
evíts
,

1987 
libusb_hŸ∂ug_Êag
 
Êags
,

1988 
víd‹_id
, 
¥odu˘_id
,

1989 
dev_˛ass
,

1990 
libusb_hŸ∂ug_ˇŒback_‚
 
cb_‚
,

1991 *
u£r_d©a
,

1992 
libusb_hŸ∂ug_ˇŒback_h™dÀ
 *
h™dÀ
);

2005 
LIBUSB_CALL
 
libusb_hŸ∂ug_dîegi°î_ˇŒback
(
libusb_c⁄ãxt
 *
˘x
,

2006 
libusb_hŸ∂ug_ˇŒback_h™dÀ
 
h™dÀ
);

2008 #ifde‡
__˝lu•lus


	@libusb/libusbi.h

21 #i‚de‡
LIBUSBI_H


22 
	#LIBUSBI_H


	)

24 
	~"c⁄fig.h
"

26 
	~<°dlib.h
>

28 
	~<°ddef.h
>

29 
	~<°döt.h
>

30 
	~<time.h
>

31 
	~<°d¨g.h
>

32 #ifde‡
HAVE_POLL_H


33 
	~<pﬁl.h
>

36 #ifde‡
HAVE_MISSING_H


37 
	~"missög.h
"

39 
	~"libusb.h
"

40 
	~"vîsi⁄.h
"

49 
	#API_EXPORTED
 
LIBUSB_CALL
 
DEFAULT_VISIBILITY


	)

51 
	#DEVICE_DESC_LENGTH
 18

	)

53 
	#USB_MAXENDPOINTS
 32

	)

54 
	#USB_MAXINTERFACES
 32

	)

55 
	#USB_MAXCONFIG
 8

	)

58 
	#USBI_CAP_HAS_HID_ACCESS
 0x00010000

	)

59 
	#USBI_CAP_SUPPORTS_DETACH_KERNEL_DRIVER
 0x00020000

	)

62 
	#USBI_MAX_LOG_LEN
 1024

	)

64 
	#USBI_LOG_LINE_END
 "\n"

	)

67 
	#UNUSED
(
v¨
Ëdÿ{ ()(v¨); } 0)

	)

69 #i‡!
deföed
(
ARRAYSIZE
)

70 
	#ARRAYSIZE
(
¨øy
Ë(◊ºay)/◊ºay[0]))

	)

73 
	sli°_hód
 {

74 
li°_hód
 *
	m¥ev
, *
	m√xt
;

82 
	#li°_íåy
(
±r
, 
ty≥
, 
membî
) \

83 ((
ty≥
 *)((
uöçå_t
)(
±r
Ë- (uöçå_t)
	`off£tof
—y≥, 
membî
)))

	)

91 
	#li°_f‹_óch_íåy
(
pos
, 
hód
, 
membî
, 
ty≥
) \

92 
pos
 = 
	`li°_íåy
((
hód
)->
√xt
, 
ty≥
, 
membî
); \

93 &
pos
->
membî
 !(
hód
); \

94 
pos
 = 
	`li°_íåy
’os->
membî
.
√xt
, 
ty≥
, membî))

	)

96 
	#li°_f‹_óch_íåy_ß„
(
pos
, 
n
, 
hód
, 
membî
, 
ty≥
) \

97 
pos
 = 
	`li°_íåy
((
hód
)->
√xt
, 
ty≥
, 
membî
), \

98 
n
 = 
	`li°_íåy
(
pos
->
membî
.
√xt
, 
ty≥
, member); \

99 &
pos
->
membî
 !(
hód
); \

100 
pos
 = 
n
,Ç = 
	`li°_íåy
“->
membî
.
√xt
, 
ty≥
, membî))

	)

102 
	#li°_em±y
(
íåy
Ë(”¡ry)->
√xt
 =”¡ry))

	)

104 
ölöe
 
	$li°_öô
(
li°_hód
 *
íåy
)

106 
íåy
->
¥ev
 =É¡ry->
√xt
 =Éntry;

107 
	}
}

109 
ölöe
 
	$li°_add
(
li°_hód
 *
íåy
, li°_hód *
hód
)

111 
íåy
->
√xt
 = 
hód
->next;

112 
íåy
->
¥ev
 = 
hód
;

114 
hód
->
√xt
->
¥ev
 = 
íåy
;

115 
hód
->
√xt
 = 
íåy
;

116 
	}
}

118 
ölöe
 
	$li°_add_èû
(
li°_hód
 *
íåy
,

119 
li°_hód
 *
hód
)

121 
íåy
->
√xt
 = 
hód
;

122 
íåy
->
¥ev
 = 
hód
->prev;

124 
hód
->
¥ev
->
√xt
 = 
íåy
;

125 
hód
->
¥ev
 = 
íåy
;

126 
	}
}

128 
ölöe
 
	$li°_dñ
(
li°_hód
 *
íåy
)

130 
íåy
->
√xt
->
¥ev
 =Éntry->prev;

131 
íåy
->
¥ev
->
√xt
 =Éntry->next;

132 
íåy
->
√xt
 =É¡ry->
¥ev
 = 
NULL
;

133 
	}
}

135 
ölöe
 *
	$usbi_ªÆlocf
(*
±r
, 
size_t
 
size
)

137 *
ªt
 = 
	`ªÆloc
(
±r
, 
size
);

138 i‡(!
ªt
)

139 
	`‰ì
(
±r
);

140  
ªt
;

141 
	}
}

143 
	#c⁄èöî_of
(
±r
, 
ty≥
, 
membî
) ({ \

144 c⁄° 
	`ty≥of
–((
ty≥
 *)0)->
membî
 ) *
m±r
 = (
±r
); \

145 (
ty≥
 *)–(*)
m±r
 - 
	`off£tof
—y≥,
membî
Ë);})

	)

147 
	#MIN
(
a
, 
b
Ë(◊Ë< (bË? (aË: (b))

	)

148 
	#MAX
(
a
, 
b
Ë(◊Ë> (bË? (aË: (b))

	)

150 
	#TIMESPEC_IS_SET
(
ts
Ë(—s)->
tv_£c
 !0 || (ts)->
tv_n£c
 !0)

	)

153 #i‚de‡
TIMESPEC_TO_TIMEVAL


154 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) \

156 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

157 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

158 } 0)

	)

161 
usbi_log
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_log_Àvñ
 
Àvñ
,

162 c⁄° *
fun˘i⁄
, c⁄° *
f‹m©
, ...);

164 
usbi_log_v
(
libusb_c⁄ãxt
 *
˘x
, 
libusb_log_Àvñ
 
Àvñ
,

165 c⁄° *
fun˘i⁄
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
);

167 #i‡!
deföed
(
_MSC_VER
) || _MSC_VER >= 1400

169 #ifde‡
ENABLE_LOGGING


170 
	#_usbi_log
(
˘x
, 
Àvñ
, ...Ë
	`usbi_log
(˘x,Üevñ, 
__FUNCTION__
, 
__VA_ARGS__
)

	)

171 
	#usbi_dbg
(...Ë
	`_usbi_log
(
NULL
, 
LIBUSB_LOG_LEVEL_DEBUG
, 
__VA_ARGS__
)

	)

173 
	#_usbi_log
(
˘x
, 
Àvñ
, ...Ëdÿ{ ()(˘x); } 0)

	)

174 
	#usbi_dbg
(...Ëdÿ{} 0)

	)

177 
	#usbi_öfo
(
˘x
, ...Ë
	`_usbi_log
(˘x, 
LIBUSB_LOG_LEVEL_INFO
, 
__VA_ARGS__
)

	)

178 
	#usbi_w¨n
(
˘x
, ...Ë
	`_usbi_log
(˘x, 
LIBUSB_LOG_LEVEL_WARNING
, 
__VA_ARGS__
)

	)

179 
	#usbi_îr
(
˘x
, ...Ë
	`_usbi_log
(˘x, 
LIBUSB_LOG_LEVEL_ERROR
, 
__VA_ARGS__
)

	)

183 #ifde‡
ENABLE_LOGGING


184 
	#LOG_BODY
(
˘xt
, 
Àvñ
) \

186 
va_li°
 
¨gs
; \

187 
	`va_°¨t
 (
¨gs
, 
f‹m©
); \

188 
	`usbi_log_v
(
˘xt
, 
Àvñ
, "", 
f‹m©
, 
¨gs
); \

189 
	`va_íd
(
¨gs
); \

190 }

	)

192 
	#LOG_BODY
(
˘xt
, 
Àvñ
Ëdÿ{ ()(˘xt); } 0)

	)

195 
ölöe
 
	$usbi_öfo
(
libusb_c⁄ãxt
 *
˘x
, c⁄° *
f‹m©
,

197 
	$LOG_BODY
(
˘x
,
LIBUSB_LOG_LEVEL_INFO
)

198 
ölöe
 
	$usbi_w¨n
(
libusb_c⁄ãxt
 *
˘x
, c⁄° *
f‹m©
,

200 
	$LOG_BODY
(
˘x
,
LIBUSB_LOG_LEVEL_WARNING
)

201 
ölöe
 
	$usbi_îr
–
libusb_c⁄ãxt
 *
˘x
, c⁄° *
f‹m©
,

203 
	$LOG_BODY
(
˘x
,
LIBUSB_LOG_LEVEL_ERROR
)

205 
ölöe
 
	$usbi_dbg
(c⁄° *
f‹m©
, ...)

206 
	$LOG_BODY
(
NULL
,
LIBUSB_LOG_LEVEL_DEBUG
)

210 
	#USBI_GET_CONTEXT
(
˘x
Ëi‡(!(˘x)Ë(˘xË
usbi_deÁu…_c⁄ãxt


	)

211 
	#DEVICE_CTX
(
dev
Ë((dev)->
˘x
)

	)

212 
	#HANDLE_CTX
(
h™dÀ
Ë(
	`DEVICE_CTX
((h™dÀ)->
dev
))

	)

213 
	#TRANSFER_CTX
(
å™s„r
Ë(
	`HANDLE_CTX
(—øns„r)->
dev_h™dÀ
))

	)

214 
	#ITRANSFER_CTX
(
å™s„r
) \

215 (
	`TRANSFER_CTX
(
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
å™s„r
)))

	)

217 
	#IS_EPIN
(
ï
Ë(0 !(”pË& 
LIBUSB_ENDPOINT_IN
))

	)

218 
	#IS_EPOUT
(
ï
Ë(!
	`IS_EPIN
”p))

	)

219 
	#IS_XFERIN
(
x„r
Ë(0 !((x„r)->
ídpoöt
 & 
LIBUSB_ENDPOINT_IN
))

	)

220 
	#IS_XFEROUT
(
x„r
Ë(!
	`IS_XFERIN
(x„r))

	)

223 #i‡
	`deföed
(
THREADS_POSIX
)

224 
	~"os/thªads_posix.h
"

225 #ñi‡
	`deföed
(
OS_WINDOWS
Ë|| deföed(
OS_WINCE
)

226 
	~<os/thªads_wödows.h
>

229 
libusb_c⁄ãxt
 *
usbi_deÁu…_c⁄ãxt
;

231 
	slibusb_c⁄ãxt
 {

232 
debug
;

233 
debug_fixed
;

237 
˘æ_pùe
[2];

239 
li°_hód
 
usb_devs
;

240 
usbi_muãx_t
 
usb_devs_lock
;

244 
li°_hód
 
›í_devs
;

245 
usbi_muãx_t
 
›í_devs_lock
;

248 
li°_hód
 
hŸ∂ug_cbs
;

249 
usbi_muãx_t
 
hŸ∂ug_cbs_lock
;

250 
hŸ∂ug_pùe
[2];

256 
li°_hód
 
Êyög_å™s„rs
;

257 
usbi_muãx_t
 
Êyög_å™s„rs_lock
;

260 
li°_hód
 
pﬁlfds
;

261 
usbi_muãx_t
 
pﬁlfds_lock
;

265 
pﬁlfd_modify
;

266 
usbi_muãx_t
 
pﬁlfd_modify_lock
;

269 
libusb_pﬁlfd_added_cb
 
fd_added_cb
;

270 
libusb_pﬁlfd_ªmoved_cb
 
fd_ªmoved_cb
;

271 *
fd_cb_u£r_d©a
;

274 
usbi_muãx_t
 
evíts_lock
;

277 
evít_h™dÀr_a˘ive
;

281 
usbi_muãx_t
 
evít_waôîs_lock
;

282 
usbi_c⁄d_t
 
evít_waôîs_c⁄d
;

284 #ifde‡
USBI_TIMERFD_AVAILABLE


287 
timîfd
;

290 
li°_hód
 
li°
;

293 #ifde‡
USBI_TIMERFD_AVAILABLE


294 
	#usbi_usög_timîfd
(
˘x
Ë((˘x)->
timîfd
 >0)

	)

296 
	#usbi_usög_timîfd
(
˘x
Ë(0)

	)

299 
	slibusb_devi˚
 {

302 
usbi_muãx_t
 
lock
;

303 
ªf˙t
;

305 
libusb_c⁄ãxt
 *
˘x
;

307 
uöt8_t
 
bus_numbî
;

308 
uöt8_t
 
p‹t_numbî
;

309 
libusb_devi˚
* 
∑ª¡_dev
;

310 
uöt8_t
 
devi˚_addªss
;

311 
uöt8_t
 
num_c⁄figuøti⁄s
;

312 
libusb_•ìd
 
•ìd
;

314 
li°_hód
 
li°
;

315 
£ssi⁄_d©a
;

317 
libusb_devi˚_des¸ùt‹
 
devi˚_des¸ùt‹
;

318 
©èched
;

320 
os_¥iv


321 #i‡
	`deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ >= 199901L)

329 
	slibusb_devi˚_h™dÀ
 {

331 
usbi_muãx_t
 
lock
;

332 
˛aimed_öãrÁ˚s
;

334 
li°_hód
 
li°
;

335 
libusb_devi˚
 *
dev
;

336 
auto_dëach_kî√l_drivî
;

337 
os_¥iv


338 #i‡
	`deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ >= 199901L)

347 
USBI_CLOCK_MONOTONIC
,

348 
USBI_CLOCK_REALTIME


364 
	susbi_å™s„r
 {

365 
num_iso_∑ckës
;

366 
li°_hód
 
li°
;

367 
timevÆ
 
timeout
;

368 
å™s„ºed
;

369 
uöt32_t
 
°ªam_id
;

370 
uöt8_t
 
Êags
;

379 
usbi_muãx_t
 
lock
;

382 
	eusbi_å™s„r_Êags
 {

384 
USBI_TRANSFER_TIMED_OUT
 = 1 << 0,

387 
USBI_TRANSFER_OS_HANDLES_TIMEOUT
 = 1 << 1,

390 
USBI_TRANSFER_CANCELLING
 = 1 << 2,

393 
USBI_TRANSFER_DEVICE_DISAPPEARED
 = 1 << 3,

396 
USBI_TRANSFER_UPDATED_FDS
 = 1 << 4,

399 
	#USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
å™s„r
) \

400 ((
libusb_å™s„r
 *)(((*)(
å™s„r
)) \

401 + (
usbi_å™s„r
)))

	)

402 
	#LIBUSB_TRANSFER_TO_USBI_TRANSFER
(
å™s„r
) \

403 ((
usbi_å™s„r
 *)(((*)(
å™s„r
)) \

404 - (
usbi_å™s„r
)))

	)

406 
ölöe
 *
	$usbi_å™s„r_gë_os_¥iv
(
usbi_å™s„r
 *
å™s„r
)

408  ((*)
å™s„r
Ë+ (
usbi_å™s„r
)

409 + (
libusb_å™s„r
)

410 + (
å™s„r
->
num_iso_∑ckës


411 * (
libusb_iso_∑ckë_des¸ùt‹
));

412 
	}
}

417 
	susb_des¸ùt‹_hódî
 {

418 
uöt8_t
 
	mbLígth
;

419 
uöt8_t
 
	mbDes¸ùt‹Ty≥
;

424 
usbi_io_öô
(
libusb_c⁄ãxt
 *
˘x
);

425 
usbi_io_exô
(
libusb_c⁄ãxt
 *
˘x
);

427 
libusb_devi˚
 *
usbi_Æloc_devi˚
(
libusb_c⁄ãxt
 *
˘x
,

428 
£ssi⁄_id
);

429 
libusb_devi˚
 *
usbi_gë_devi˚_by_£ssi⁄_id
(
libusb_c⁄ãxt
 *
˘x
,

430 
£ssi⁄_id
);

431 
usbi_ßnôize_devi˚
(
libusb_devi˚
 *
dev
);

432 
usbi_h™dÀ_disc⁄√˘
(
libusb_devi˚_h™dÀ
 *
h™dÀ
);

434 
usbi_h™dÀ_å™s„r_com∂ëi⁄
(
usbi_å™s„r
 *
ôøns„r
,

435 
libusb_å™s„r_°©us
 
°©us
);

436 
usbi_h™dÀ_å™s„r_ˇn˚Œ©i⁄
(
usbi_å™s„r
 *
å™s„r
);

438 
usbi_∑r£_des¸ùt‹
(c⁄° *
sour˚
, c⁄° *
des¸ùt‹
,

439 *
de°
, 
ho°_ídün
);

440 
usbi_devi˚_ˇche_des¸ùt‹
(
libusb_devi˚
 *
dev
);

441 
usbi_gë_c⁄fig_ödex_by_vÆue
(
libusb_devi˚
 *
dev
,

442 
uöt8_t
 
bC⁄figuøti⁄VÆue
, *
idx
);

444 
usbi_c⁄√˘_devi˚
 (
libusb_devi˚
 *
dev
);

445 
usbi_disc⁄√˘_devi˚
 (
libusb_devi˚
 *
dev
);

448 #i‡
deföed
(
OS_LINUX
Ë|| deföed(
OS_DARWIN
Ë|| deföed(
OS_OPENBSD
Ë|| deföed(
OS_NETBSD
)

449 
	~<uni°d.h
>

450 
	~"os/pﬁl_posix.h
"

451 #ñi‡
deföed
(
OS_WINDOWS
Ë|| deföed(
OS_WINCE
)

452 
	~"os/pﬁl_wödows.h
"

455 #i‡(
deföed
(
OS_WINDOWS
Ë|| deföed(
OS_WINCE
)Ë&& !deföed(
__GNUC__
)

456 
	#¢¥ötf
 
_¢¥ötf


	)

457 
	#v¢¥ötf
 
_v¢¥ötf


	)

458 
usbi_gëtimeofday
(
timevÆ
 *
ç
, *
tzp
);

459 
	#LIBUSB_GETTIMEOFDAY_WIN32


	)

460 
	#HAVE_USBI_GETTIMEOFDAY


	)

462 #ifde‡
HAVE_GETTIMEOFDAY


463 
	#usbi_gëtimeofday
(
tv
, 
tz
Ë
	`gëtimeofday
(—v), (tz))

	)

464 
	#HAVE_USBI_GETTIMEOFDAY


	)

468 
	susbi_pﬁlfd
 {

470 
libusb_pﬁlfd
 
	mpﬁlfd
;

472 
li°_hód
 
	mli°
;

475 
usbi_add_pﬁlfd
(
libusb_c⁄ãxt
 *
˘x
, 
fd
, 
evíts
);

476 
usbi_ªmove_pﬁlfd
(
libusb_c⁄ãxt
 *
˘x
, 
fd
);

477 
usbi_fd_nŸifiˇti⁄
(
libusb_c⁄ãxt
 *
˘x
);

486 
	sdiscovîed_devs
 {

487 
size_t
 
	mÀn
;

488 
size_t
 
	mˇ∑côy
;

489 
libusb_devi˚
 *
	mdevi˚s


490 #i‡
deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ >= 199901L)

498 
discovîed_devs
 *
discovîed_devs_≠≥nd
(

499 
discovîed_devs
 *
discdevs
, 
libusb_devi˚
 *
dev
);

505 
	susbi_os_backíd
 {

507 c⁄° *
	m«me
;

510 
uöt32_t
 
	mˇps
;

521 (*
	möô
)(
libusb_c⁄ãxt
 *
	m˘x
);

528 (*
	mexô
)();

581 (*
	mgë_devi˚_li°
)(
libusb_c⁄ãxt
 *
	m˘x
,

582 
discovîed_devs
 **
	mdiscdevs
);

599 (*
	mhŸ∂ug_pﬁl
)();

626 (*
	m›í
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
);

636 (*
	m˛o£
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
);

659 (*
	mgë_devi˚_des¸ùt‹
)(
libusb_devi˚
 *
	mdevi˚
,

660 *
	mbuf„r
, *
	mho°_ídün
);

682 (*
	mgë_a˘ive_c⁄fig_des¸ùt‹
)(
libusb_devi˚
 *
	mdevi˚
,

683 *
	mbuf„r
, 
size_t
 
	mÀn
, *
	mho°_ídün
);

706 (*
	mgë_c⁄fig_des¸ùt‹
)(
libusb_devi˚
 *
	mdevi˚
,

707 
uöt8_t
 
	mc⁄fig_ödex
, *
	mbuf„r
, 
size_t
 
	mÀn
,

708 *
	mho°_ídün
);

722 (*
	mgë_c⁄fig_des¸ùt‹_by_vÆue
)(
libusb_devi˚
 *
	mdevi˚
,

723 
uöt8_t
 
	mbC⁄figuøti⁄VÆue
, **
	mbuf„r
,

724 *
	mho°_ídün
);

743 (*
	mgë_c⁄figuøti⁄
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
, *
	mc⁄fig
);

760 (*
	m£t_c⁄figuøti⁄
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
, 
	mc⁄fig
);

779 (*
	m˛aim_öãrÁ˚
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
, 
	möãrÁ˚_numbî
);

796 (*
	mªÀa£_öãrÁ˚
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
, 
	möãrÁ˚_numbî
);

812 (*
	m£t_öãrÁ˚_Æt£âög
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

813 
	möãrÁ˚_numbî
, 
	mÆt£âög
);

826 (*
	m˛ór_hÆt
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

827 
	mídpoöt
);

845 (*
	mª£t_devi˚
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
);

848 (*
	mÆloc_°ªams
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

849 
uöt32_t
 
	mnum_°ªams
, *
	mídpoöts
, 
	mnum_ídpoöts
);

852 (*
	m‰ì_°ªams
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

853 *
	mídpoöts
, 
	mnum_ídpoöts
);

867 (*
	mkî√l_drivî_a˘ive
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

868 
	möãrÁ˚_numbî
);

883 (*
	mdëach_kî√l_drivî
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

884 
	möãrÁ˚_numbî
);

900 (*
	m©èch_kî√l_drivî
)(
libusb_devi˚_h™dÀ
 *
	mh™dÀ
,

901 
	möãrÁ˚_numbî
);

909 (*
	mde°roy_devi˚
)(
libusb_devi˚
 *
	mdev
);

924 (*
	msubmô_å™s„r
)(
usbi_å™s„r
 *
	môøns„r
);

932 (*
	mˇn˚l_å™s„r
)(
usbi_å™s„r
 *
	môøns„r
);

944 (*
	m˛ór_å™s„r_¥iv
)(
usbi_å™s„r
 *
	môøns„r
);

972 (*
	mh™dÀ_evíts
)(
libusb_c⁄ãxt
 *
	m˘x
,

973 
pﬁlfd
 *
	mfds
, 
POLL_NFDS_TYPE
 
	mnfds
, 
	mnum_ªady
);

983 (*
	m˛ock_gëtime
)(
	m˛kid
, 
time•ec
 *
	mç
);

985 #ifde‡
USBI_TIMERFD_AVAILABLE


987 
˛ockid_t
 (*
gë_timîfd_˛ockid
)();

993 
size_t
 
	mdevi˚_¥iv_size
;

998 
size_t
 
	mdevi˚_h™dÀ_¥iv_size
;

1004 
size_t
 
	må™s„r_¥iv_size
;

1010 
size_t
 
	madd_iso_∑ckë_size
;

1013 c⁄° 
usbi_os_backíd
 * c⁄° 
usbi_backíd
;

1015 c⁄° 
usbi_os_backíd
 
löux_usbfs_backíd
;

1016 c⁄° 
usbi_os_backíd
 
d¨wö_backíd
;

1017 c⁄° 
usbi_os_backíd
 
›íbsd_backíd
;

1018 c⁄° 
usbi_os_backíd
 
√tbsd_backíd
;

1019 c⁄° 
usbi_os_backíd
 
wödows_backíd
;

1020 c⁄° 
usbi_os_backíd
 
wö˚_backíd
;

1022 
li°_hód
 
a˘ive_c⁄ãxts_li°
;

1023 
usbi_muãx_°©ic_t
 
a˘ive_c⁄ãxts_lock
;

	@libusb/os/darwin_usb.c

21 
	~"c⁄fig.h
"

22 
	~<˘y≥.h
>

23 
	~<î∫o.h
>

24 
	~<±hªad.h
>

25 
	~<°dio.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<sys/ty≥s.h
>

29 
	~<uni°d.h
>

30 
	~<f˙é.h
>

31 
	~<libkîn/OSAtomic.h
>

33 
	~<mach/˛ock.h
>

34 
	~<mach/˛ock_ty≥s.h
>

35 
	~<mach/mach_ho°.h
>

36 
	~<mach/mach_p‹t.h
>

38 
	~<AvaûabûôyMa¸os.h
>

39 #i‡
MAC_OS_X_VERSION_MIN_REQUIRED
 >= 1060

40 
	~<objc/objc-auto.h
>

43 
	~"d¨wö_usb.h
"

46 
±hªad_muãx_t
 
	glibusb_d¨wö_©_muãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

47 
±hªad_c⁄d_t
 
	glibusb_d¨wö_©_c⁄d
 = 
PTHREAD_COND_INITIALIZER
;

49 
˛ock_£rv_t
 
	g˛ock_ªÆtime
;

50 
˛ock_£rv_t
 
	g˛ock_m⁄Ÿ⁄ic
;

52 
CFRunLo›Ref
 
	glibusb_d¨wö_acÊ
 = 
NULL
;

53 vﬁ©ûê
öt32_t
 
	göôCou¡
 = 0;

55 
usbi_muãx_t
 
	gd¨wö_ˇched_devi˚s_lock
 = 
PTHREAD_MUTEX_INITIALIZER
;

56 
li°_hód
 
	gd¨wö_ˇched_devi˚s
 = {&
d¨wö_ˇched_devi˚s
, &darwin_cached_devices};

58 
	#DARWIN_CACHED_DEVICE
(
a
Ë((
d¨wö_ˇched_devi˚
 *Ë(((
d¨wö_devi˚_¥iv
 *)(◊)->
os_¥iv
))->
dev
))

	)

61 
±hªad_t
 
	glibusb_d¨wö_©
;

63 
d¨wö_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, 
uöt8_t
 
c⁄fig_ödex
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
);

64 
d¨wö_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

65 
d¨wö_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

66 
d¨wö_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

67 
d¨wö_async_io_ˇŒback
 (*
ªfc⁄
, 
IORëu∫
 
ªsu…
, *
¨g0
);

69 
d¨wö_sˇn_devi˚s
(
libusb_c⁄ãxt
 *
˘x
);

70 
¥o˚ss_√w_devi˚
 (
libusb_c⁄ãxt
 *
˘x
, 
io_£rvi˚_t
 
£rvi˚
);

72 #i‡
deföed
(
ENABLE_LOGGING
)

73 c⁄° *
	$d¨wö_îr‹_°r
 (
ªsu…
) {

74 
°rög_buf„r
[50];

75 
ªsu…
) {

76 
kIORëu∫Suc˚ss
:

78 
kIORëu∫NŸO≥n
:

80 
kIORëu∫NoDevi˚
:

82 
kIOUSBNoAsyncP‹tEº
:

84 
kIORëu∫Ex˛usiveAc˚ss
:

86 
kIOUSBPùeSèŒed
:

88 
kIORëu∫Eº‹
:

90 
kIOUSBTønß˘i⁄Timeout
:

92 
kIORëu∫BadArgumít
:

94 
kIORëu∫Ab‹ãd
:

96 
kIORëu∫NŸRe•⁄dög
:

98 
kIORëu∫Ovîrun
:

100 
kIORëu∫C™nŸWúe
:

102 
kIORëu∫NoResour˚s
:

104 
kIOUSBHighS≥edS∂ôEº‹
:

107 
	`¢¥ötf
(
°rög_buf„r
, (°rög_buf„r), "unknow¿îr‹ (0x%x)", 
ªsu…
);

108  
°rög_buf„r
;

110 
	}
}

113 
	$d¨wö_to_libusb
 (
ªsu…
) {

114 
ªsu…
) {

115 
kIORëu∫Undîrun
:

116 
kIORëu∫Suc˚ss
:

117  
LIBUSB_SUCCESS
;

118 
kIORëu∫NŸO≥n
:

119 
kIORëu∫NoDevi˚
:

120  
LIBUSB_ERROR_NO_DEVICE
;

121 
kIORëu∫Ex˛usiveAc˚ss
:

122  
LIBUSB_ERROR_ACCESS
;

123 
kIOUSBPùeSèŒed
:

124  
LIBUSB_ERROR_PIPE
;

125 
kIORëu∫BadArgumít
:

126  
LIBUSB_ERROR_INVALID_PARAM
;

127 
kIOUSBTønß˘i⁄Timeout
:

128  
LIBUSB_ERROR_TIMEOUT
;

129 
kIORëu∫NŸRe•⁄dög
:

130 
kIORëu∫Ab‹ãd
:

131 
kIORëu∫Eº‹
:

132 
kIOUSBNoAsyncP‹tEº
:

134  
LIBUSB_ERROR_OTHER
;

136 
	}
}

139 
	$d¨wö_dîef_ˇched_devi˚
(
d¨wö_ˇched_devi˚
 *
ˇched_dev
) {

140 
ˇched_dev
->
ªfcou¡
--;

142 i‡(0 =
ˇched_dev
->
ªfcou¡
) {

143 
	`li°_dñ
(&
ˇched_dev
->
li°
);

145 (*(
ˇched_dev
->
devi˚
))->
	`Rñó£
(cached_dev->device);

146 
	`‰ì
 (
ˇched_dev
);

148 
	}
}

150 
	$d¨wö_ªf_ˇched_devi˚
(
d¨wö_ˇched_devi˚
 *
ˇched_dev
) {

151 
ˇched_dev
->
ªfcou¡
++;

152 
	}
}

154 
	$ï_to_pùeRef
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
uöt8_t
 
ï
, uöt8_à*
pùï
, uöt8_à*
if˝
, 
d¨wö_öãrÁ˚
 **
öãrÁ˚_out
) {

155 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

158 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

160 
öt8_t
 
i
, 
iÁ˚
;

162 
	`usbi_dbg
 ("c⁄vîtögÉ∞addªs†0x%02xÅÿpùeRe‡™d i¡îÁ˚", 
ï
);

164 
iÁ˚
 = 0 ; iÁ˚ < 
USB_MAXINTERFACES
 ; iface++) {

165 
cI¡îÁ˚
 = &
¥iv
->
öãrÁ˚s
[
iÁ˚
];

167 i‡(
dev_h™dÀ
->
˛aimed_öãrÁ˚s
 & (1 << 
iÁ˚
)) {

168 
i
 = 0 ; i < 
cI¡îÁ˚
->
num_ídpoöts
 ; i++) {

169 i‡(
cI¡îÁ˚
->
ídpoöt_addrs
[
i
] =
ï
) {

170 *
pùï
 = 
i
 + 1;

172 i‡(
if˝
)

173 *
if˝
 = 
iÁ˚
;

175 i‡(
öãrÁ˚_out
)

176 *
öãrÁ˚_out
 = 
cI¡îÁ˚
;

178 
	`usbi_dbg
 ("pùê%d o¿öãrÁ˚ %d m©ches", *
pùï
, 
iÁ˚
);

186 
	`usbi_w¨n
 (
	`HANDLE_CTX
(
dev_h™dÀ
), "nÿpùeRe‡found wôhÉndpoöàaddªs†0x%02x.", 
ï
);

188  
LIBUSB_ERROR_NOT_FOUND
;

189 
	}
}

191 
	$usb_£tup_devi˚_ôî©‹
 (
io_ôî©‹_t
 *
devi˚Iãøt‹
, 
UI¡32
 
loˇti⁄
) {

192 
CFMuèbÀDi˘i⁄¨yRef
 
m©chögDi˘
 = 
	`IOSîvi˚M©chög
(
kIOUSBDevi˚CœssName
);

194 i‡(!
m©chögDi˘
)

195  
kIORëu∫Eº‹
;

197 i‡(
loˇti⁄
) {

198 
CFMuèbÀDi˘i⁄¨yRef
 
¥›îtyM©chDi˘
 = 
	`CFDi˘i⁄¨yCª©eMuèbÀ
(
kCFAŒoˇt‹DeÁu…
, 0,

199 &
kCFTy≥Di˘i⁄¨yKeyCÆlBacks
,

200 &
kCFTy≥Di˘i⁄¨yVÆueCÆlBacks
);

202 i‡(
¥›îtyM©chDi˘
) {

205 
CFTy≥Ref
 
loˇti⁄CF
 = 
	`CFNumbîCª©e
 (
NULL
, 
kCFNumbîSI¡32Ty≥
, &
loˇti⁄
);

207 
	`CFDi˘i⁄¨ySëVÆue
 (
¥›îtyM©chDi˘
, 
	`CFSTR
(
kUSBDevi˚Pr›îtyLoˇti⁄ID
), 
loˇti⁄CF
);

209 
	`CFRñó£
 (
loˇti⁄CF
);

211 
	`CFDi˘i⁄¨ySëVÆue
 (
m©chögDi˘
, 
	`CFSTR
(
kIOPr›îtyM©chKey
), 
¥›îtyM©chDi˘
);

213 
	`CFRñó£
 (
¥›îtyM©chDi˘
);

218  
	`IOSîvi˚GëM©chögSîvi˚s
(
kIOMa°îP‹tDeÁu…
, 
m©chögDi˘
, 
devi˚Iãøt‹
);

219 
	}
}

222 
	$gë_i‹egi°ry_vÆue_numbî
 (
io_£rvi˚_t
 
£rvi˚
, 
CFSåögRef
 
¥›îty
, 
CFNumbîTy≥
 
ty≥
, *
p
) {

223 
CFTy≥Ref
 
cfNumbî
 = 
	`IORegi°ryE¡ryCª©eCFPr›îty
 (
£rvi˚
, 
¥›îty
, 
kCFAŒoˇt‹DeÁu…
, 0);

224 
ªt
 = 0;

226 i‡(
cfNumbî
) {

227 i‡(
	`CFGëTy≥ID
(
cfNumbî
Ë=
	`CFNumbîGëTy≥ID
()) {

228 
ªt
 = 
	`CFNumbîGëVÆue
(
cfNumbî
, 
ty≥
, 
p
);

231 
	`CFRñó£
 (
cfNumbî
);

234  
ªt
;

235 
	}
}

237 
usb_devi˚_t
 **
	$d¨wö_devi˚_‰om_£rvi˚
 (
io_£rvi˚_t
 
£rvi˚
)

239 
io_cf_∂ugö_ªf_t
 *
∂ugInI¡îÁ˚
 = 
NULL
;

240 
usb_devi˚_t
 **
devi˚
;

241 
kîn_ªtu∫_t
 
ªsu…
;

242 
SI¡32
 
sc‹e
;

244 
ªsu…
 = 
	`IOCª©ePlugInI¡îÁ˚F‹Sîvi˚
(
£rvi˚
, 
kIOUSBDevi˚U£rClõ¡Ty≥ID
,

245 
kIOCFPlugInI¡îÁ˚ID
, &
∂ugInI¡îÁ˚
,

246 &
sc‹e
);

248 i‡(
kIORëu∫Suc˚ss
 !
ªsu…
 || !
∂ugInI¡îÁ˚
) {

249 
	`usbi_dbg
 ("couldÇŸ së u∞∂ugö f‹ sîvi˚: %s\n", 
	`d¨wö_îr‹_°r
 (
ªsu…
));

250  
NULL
;

253 ()(*
∂ugInI¡îÁ˚
)->
	`QuîyI¡îÁ˚
’lugInI¡îÁ˚, 
	`CFUUIDGëUUIDByãs
(
Devi˚I¡îÁ˚ID
),

254 (
LPVOID
)&
devi˚
);

256 (*
∂ugInI¡îÁ˚
)->
	`Rñó£
 (plugInInterface);

258  
devi˚
;

259 
	}
}

261 
	$d¨wö_devi˚s_©èched
 (*
±r
, 
io_ôî©‹_t
 
add_devi˚s
) {

262 
libusb_c⁄ãxt
 *
˘x
;

263 
io_£rvi˚_t
 
£rvi˚
;

265 
	`usbi_muãx_lock
(&
a˘ive_c⁄ãxts_lock
);

267 (
£rvi˚
 = 
	`IOIãøt‹Next
(
add_devi˚s
))) {

269 
	`li°_f‹_óch_íåy
(
˘x
, &
a˘ive_c⁄ãxts_li°
, 
li°
, 
libusb_c⁄ãxt
) {

270 
	`¥o˚ss_√w_devi˚
 (
˘x
, 
£rvi˚
);;

273 
	`IOObje˘Rñó£
(
£rvi˚
);

276 
	`usbi_muãx_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

277 
	}
}

279 
	$d¨wö_devi˚s_dëached
 (*
±r
, 
io_ôî©‹_t
 
ªm_devi˚s
) {

280 
libusb_devi˚
 *
dev
 = 
NULL
;

281 
libusb_c⁄ãxt
 *
˘x
;

283 
io_£rvi˚_t
 
devi˚
;

284 
UI¡64
 
£ssi⁄
;

285 
ªt
;

287 
	`usbi_muãx_lock
(&
a˘ive_c⁄ãxts_lock
);

289 (
devi˚
 = 
	`IOIãøt‹Next
 (
ªm_devi˚s
)) != 0) {

291 
ªt
 = 
	`gë_i‹egi°ry_vÆue_numbî
 (
devi˚
, 
	`CFSTR
("£ssi⁄ID"), 
kCFNumbîSI¡64Ty≥
, &
£ssi⁄
);

292 
	`IOObje˘Rñó£
 (
devi˚
);

293 i‡(!
ªt
)

296 
	`li°_f‹_óch_íåy
(
˘x
, &
a˘ive_c⁄ãxts_li°
, 
li°
, 
libusb_c⁄ãxt
) {

297 
	`usbi_dbg
 ("nŸifyög c⁄ãxà%∞o‡devi˚ disc⁄√˘", 
˘x
);

299 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, (Ë
£ssi⁄
);

300 i‡(
dev
) {

303 
	`usbi_disc⁄√˘_devi˚
(
dev
);

304 
	`libusb_uƒef_devi˚
(
dev
);

309 
	`usbi_muãx_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

310 
	}
}

312 
	$d¨wö_hŸ∂ug_pﬁl
 ()

315 
mach_time•ec_t
 
timeout
 = {.
tv_£c
 = 5, .
tv_n£c
 = 0};

320 (Ë
	`IOKôWaôQuõt
 (
kIOMa°îP‹tDeÁu…
, &
timeout
);

321 
	}
}

323 
	$d¨wö_˛ór_ôî©‹
 (
io_ôî©‹_t
 
ôî
) {

324 
io_£rvi˚_t
 
devi˚
;

326 (
devi˚
 = 
	`IOIãøt‹Next
 (
ôî
)) != 0)

327 
	`IOObje˘Rñó£
 (
devi˚
);

328 
	}
}

330 *
	$d¨wö_evít_thªad_maö
 (*
¨g0
) {

331 
IORëu∫
 
kªsu…
;

332 
libusb_c⁄ãxt
 *
˘x
 = (libusb_c⁄ãxà*)
¨g0
;

333 
CFRunLo›Ref
 
ru∆o›
;

337 #i‡
MAC_OS_X_VERSION_MIN_REQUIRED
 >= 1060

338 
	`±hªad_£äame_≈
 ("org.libusb.device-hotplug");

344 
	`objc_ªgi°îThªadWôhCﬁÀ˘‹
();

348 
CFRunLo›Sour˚Ref
 
libusb_nŸifiˇti⁄_cfsour˚
;

349 
io_nŸifiˇti⁄_p‹t_t
 
libusb_nŸifiˇti⁄_p‹t
;

350 
io_ôî©‹_t
 
libusb_ªm_devi˚_ôî©‹
;

351 
io_ôî©‹_t
 
libusb_add_devi˚_ôî©‹
;

353 
	`usbi_dbg
 ("creating hotplugÉvent source");

355 
ru∆o›
 = 
	`CFRunLo›GëCuºít
 ();

356 
	`CFRëaö
 (
ru∆o›
);

359 
libusb_nŸifiˇti⁄_p‹t
 = 
	`IONŸifiˇti⁄P‹tCª©e
 (
kIOMa°îP‹tDeÁu…
);

360 
libusb_nŸifiˇti⁄_cfsour˚
 = 
	`IONŸifiˇti⁄P‹tGëRunLo›Sour˚
 (
libusb_nŸifiˇti⁄_p‹t
);

361 
	`CFRunLo›AddSour˚
(
ru∆o›
, 
libusb_nŸifiˇti⁄_cfsour˚
, 
kCFRunLo›DeÁu…Mode
);

364 
kªsu…
 = 
	`IOSîvi˚AddM©chögNŸifiˇti⁄
 (
libusb_nŸifiˇti⁄_p‹t
, 
kIOTîmö©edNŸifiˇti⁄
,

365 
	`IOSîvi˚M©chög
(
kIOUSBDevi˚CœssName
),

366 
d¨wö_devi˚s_dëached
,

367 
˘x
, &
libusb_ªm_devi˚_ôî©‹
);

369 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

370 
	`usbi_îr
 (
˘x
, "couldÇŸádd hŸ∂ugÉvíàsour˚: %s", 
	`d¨wö_îr‹_°r
 (
kªsu…
));

372 
	`±hªad_exô
 (
NULL
);

376 
kªsu…
 = 
	`IOSîvi˚AddM©chögNŸifiˇti⁄
(
libusb_nŸifiˇti⁄_p‹t
, 
kIOFú°M©chNŸifiˇti⁄
,

377 
	`IOSîvi˚M©chög
(
kIOUSBDevi˚CœssName
),

378 
d¨wö_devi˚s_©èched
,

379 
˘x
, &
libusb_add_devi˚_ôî©‹
);

381 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

382 
	`usbi_îr
 (
˘x
, "couldÇŸádd hŸ∂ugÉvíàsour˚: %s", 
	`d¨wö_îr‹_°r
 (
kªsu…
));

384 
	`±hªad_exô
 (
NULL
);

388 
	`d¨wö_˛ór_ôî©‹
 (
libusb_ªm_devi˚_ôî©‹
);

389 
	`d¨wö_˛ór_ôî©‹
 (
libusb_add_devi˚_ôî©‹
);

391 
	`usbi_dbg
 ("darwinÉventÅhreadÑeadyÅoÑeceiveÉvents");

394 
	`±hªad_muãx_lock
 (&
libusb_d¨wö_©_muãx
);

395 
libusb_d¨wö_acÊ
 = 
ru∆o›
;

396 
	`±hªad_c⁄d_sig«l
 (&
libusb_d¨wö_©_c⁄d
);

397 
	`±hªad_muãx_u∆ock
 (&
libusb_d¨wö_©_muãx
);

400 
	`CFRunLo›Run
();

402 
	`usbi_dbg
 ("darwinÉventÅhreadÉxiting");

405 
	`CFRunLo›RemoveSour˚
(
ru∆o›
, 
libusb_nŸifiˇti⁄_cfsour˚
, 
kCFRunLo›DeÁu…Mode
);

408 
	`IONŸifiˇti⁄P‹tDe°roy
 (
libusb_nŸifiˇti⁄_p‹t
);

411 
	`IOObje˘Rñó£
 (
libusb_ªm_devi˚_ôî©‹
);

412 
	`IOObje˘Rñó£
 (
libusb_add_devi˚_ôî©‹
);

414 
	`CFRñó£
 (
ru∆o›
);

416 
libusb_d¨wö_acÊ
 = 
NULL
;

418 
	`±hªad_exô
 (
NULL
);

419 
	}
}

422 
__©åibuã__
((
de°ru˘‹
)Ë
	$_d¨wö_föÆize
() {

423 
d¨wö_ˇched_devi˚
 *
dev
, *
√xt
;

425 
	`usbi_muãx_lock
(&
d¨wö_ˇched_devi˚s_lock
);

426 
	`li°_f‹_óch_íåy_ß„
(
dev
, 
√xt
, &
d¨wö_ˇched_devi˚s
, 
li°
, 
d¨wö_ˇched_devi˚
) {

427 
	`d¨wö_dîef_ˇched_devi˚
(
dev
);

429 
	`usbi_muãx_u∆ock
(&
d¨wö_ˇched_devi˚s_lock
);

430 
	}
}

432 
	$d¨wö_öô
(
libusb_c⁄ãxt
 *
˘x
) {

433 
ho°_«me_p‹t_t
 
ho°_£lf
;

434 
rc
;

436 
rc
 = 
	`d¨wö_sˇn_devi˚s
 (
˘x
);

437 i‡(
LIBUSB_SUCCESS
 !
rc
) {

438  
rc
;

441 i‡(
	`OSAtomicIn¸emít32B¨rõr
(&
öôCou¡
) == 1) {

444 
ho°_£lf
 = 
	`mach_ho°_£lf
();

445 
	`ho°_gë_˛ock_£rvi˚
(
ho°_£lf
, 
CALENDAR_CLOCK
, &
˛ock_ªÆtime
);

446 
	`ho°_gë_˛ock_£rvi˚
(
ho°_£lf
, 
SYSTEM_CLOCK
, &
˛ock_m⁄Ÿ⁄ic
);

447 
	`mach_p‹t_dóŒoˇã
(
	`mach_èsk_£lf
(), 
ho°_£lf
);

449 
	`±hªad_¸óã
 (&
libusb_d¨wö_©
, 
NULL
, 
d¨wö_evít_thªad_maö
, 
˘x
);

451 
	`±hªad_muãx_lock
 (&
libusb_d¨wö_©_muãx
);

452 !
libusb_d¨wö_acÊ
)

453 
	`±hªad_c⁄d_waô
 (&
libusb_d¨wö_©_c⁄d
, &
libusb_d¨wö_©_muãx
);

454 
	`±hªad_muãx_u∆ock
 (&
libusb_d¨wö_©_muãx
);

457  
rc
;

458 
	}
}

460 
	$d¨wö_exô
 () {

461 i‡(
	`OSAtomicDe¸emít32B¨rõr
(&
öôCou¡
) == 0) {

462 
	`mach_p‹t_dóŒoˇã
(
	`mach_èsk_£lf
(), 
˛ock_ªÆtime
);

463 
	`mach_p‹t_dóŒoˇã
(
	`mach_èsk_£lf
(), 
˛ock_m⁄Ÿ⁄ic
);

466 
	`CFRunLo›St›
 (
libusb_d¨wö_acÊ
);

467 
	`±hªad_joö
 (
libusb_d¨wö_©
, 
NULL
);

469 
	}
}

471 
	$d¨wö_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf„r
, *
ho°_ídün
) {

472 
d¨wö_ˇched_devi˚
 *
¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev
);

475 
	`memmove
 (
buf„r
, &(
¥iv
->
dev_des¸ùt‹
), 
DEVICE_DESC_LENGTH
);

477 *
ho°_ídün
 = 0;

480 
	}
}

482 
	$gë_c⁄figuøti⁄_ödex
 (
libusb_devi˚
 *
dev
, 
c⁄fig_vÆue
) {

483 
d¨wö_ˇched_devi˚
 *
¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev
);

484 
UI¡8
 
i
, 
numC⁄fig
;

485 
IOUSBC⁄figuøti⁄Des¸ùt‹På
 
desc
;

486 
IORëu∫
 
kªsu…
;

489 
kªsu…
 = (*(
¥iv
->
devi˚
))->
	`GëNumbîOfC⁄figuøti⁄s
 (¥iv->devi˚, &
numC⁄fig
);

490 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

491  
	`d¨wö_to_libusb
 (
kªsu…
);

493 
i
 = 0 ; i < 
numC⁄fig
 ; i++) {

494 (*(
¥iv
->
devi˚
))->
	`GëC⁄figuøti⁄Des¸ùt‹På
 (¥iv->devi˚, 
i
, &
desc
);

496 i‡(
desc
->
bC⁄figuøti⁄VÆue
 =
c⁄fig_vÆue
)

497  
i
;

501  
LIBUSB_ERROR_NOT_FOUND
;

502 
	}
}

504 
	$d¨wö_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
) {

505 
d¨wö_ˇched_devi˚
 *
¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev
);

506 
c⁄fig_ödex
;

508 i‡(0 =
¥iv
->
a˘ive_c⁄fig
)

509  
LIBUSB_ERROR_NOT_FOUND
;

511 
c⁄fig_ödex
 = 
	`gë_c⁄figuøti⁄_ödex
 (
dev
, 
¥iv
->
a˘ive_c⁄fig
);

512 i‡(
c⁄fig_ödex
 < 0)

513  
c⁄fig_ödex
;

515  
	`d¨wö_gë_c⁄fig_des¸ùt‹
 (
dev
, 
c⁄fig_ödex
, 
buf„r
, 
Àn
, 
ho°_ídün
);

516 
	}
}

518 
	$d¨wö_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, 
uöt8_t
 
c⁄fig_ödex
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
) {

519 
d¨wö_ˇched_devi˚
 *
¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev
);

520 
IOUSBC⁄figuøti⁄Des¸ùt‹På
 
desc
;

521 
IORëu∫
 
kªsu…
;

522 
ªt
;

524 i‡(!
¥iv
 || !¥iv->
devi˚
)

525  
LIBUSB_ERROR_OTHER
;

527 
kªsu…
 = (*
¥iv
->
devi˚
)->
	`GëC⁄figuøti⁄Des¸ùt‹På
 (¥iv->devi˚, 
c⁄fig_ödex
, &
desc
);

528 i‡(
kªsu…
 =
kIORëu∫Suc˚ss
) {

530 i‡(
	`libusb_À16_to_˝u
(
desc
->
wTŸÆLígth
Ë< 
Àn
)

531 
Àn
 = 
	`libusb_À16_to_˝u
(
desc
->
wTŸÆLígth
);

533 
	`memmove
 (
buf„r
, 
desc
, 
Àn
);

536 *
ho°_ídün
 = 0;

539 
ªt
 = 
	`d¨wö_to_libusb
 (
kªsu…
);

540 i‡(
ªt
 !
LIBUSB_SUCCESS
)

541  
ªt
;

543  (Ë
Àn
;

544 
	}
}

547 
	$d¨wö_check_c⁄figuøti⁄
 (
libusb_c⁄ãxt
 *
˘x
, 
d¨wö_ˇched_devi˚
 *
dev
) {

548 
usb_devi˚_t
 **
d¨wö_devi˚
 = 
dev
->
devi˚
;

550 
IOUSBC⁄figuøti⁄Des¸ùt‹På
 
c⁄figDesc
;

551 
IOUSBFödI¡îÁ˚Reque°
 
ªque°
;

552 
kîn_ªtu∫_t
 
kªsu…
;

553 
io_ôî©‹_t
 
öãrÁ˚_ôî©‹
;

554 
io_£rvi˚_t
 
fú°I¡îÁ˚
;

556 i‡(
dev
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
 < 1) {

557 
	`usbi_îr
 (
˘x
, "device hasÇo configurations");

558  
LIBUSB_ERROR_OTHER
;

562 
kªsu…
 = (*
d¨wö_devi˚
)->
	`GëC⁄figuøti⁄Des¸ùt‹På
 (d¨wö_devi˚, 0, &
c⁄figDesc
);

563 
dev
->
fú°_c⁄fig
 = (
kIORëu∫Suc˚ss
 =
kªsu…
Ë? 
c⁄figDesc
->
bC⁄figuøti⁄VÆue
 : 1;

570 
ªque°
.
bI¡îÁ˚Cœss
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

571 
ªque°
.
bI¡îÁ˚SubCœss
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

572 
ªque°
.
bI¡îÁ˚PrŸocﬁ
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

573 
ªque°
.
bA…î«ãSëtög
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

575 
kªsu…
 = (*(
d¨wö_devi˚
))->
	`Cª©eI¡îÁ˚Iãøt‹
(d¨wö_devi˚, &
ªque°
, &
öãrÁ˚_ôî©‹
);

576 i‡(
kªsu…
)

577  
	`d¨wö_to_libusb
 (
kªsu…
);

580 
fú°I¡îÁ˚
 = 
	`IOIãøt‹Next
(
öãrÁ˚_ôî©‹
);

583 
	`IOObje˘Rñó£
(
öãrÁ˚_ôî©‹
);

585 i‡(
fú°I¡îÁ˚
) {

586 
	`IOObje˘Rñó£
 (
fú°I¡îÁ˚
);

589 i‡(
dev
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
 == 1)

591 
dev
->
a˘ive_c⁄fig
 = dev->
fú°_c⁄fig
;

594 (*
d¨wö_devi˚
)->
	`GëC⁄figuøti⁄
 (d¨wö_devi˚, &
dev
->
a˘ive_c⁄fig
);

597 
dev
->
a˘ive_c⁄fig
 = 0;

599 
	`usbi_dbg
 ("a˘ivêc⁄fig: %u, fú° c⁄fig: %u", 
dev
->
a˘ive_c⁄fig
, dev->
fú°_c⁄fig
);

602 
	}
}

604 
	$d¨wö_ªque°_des¸ùt‹
 (
usb_devi˚_t
 **
devi˚
, 
UI¡8
 
desc
, UI¡8 
desc_ödex
, *
buf„r
, 
size_t
 
buf„r_size
) {

605 
IOUSBDevReque°TO
 
ªq
;

607 
	`mem£t
 (
buf„r
, 0, 
buf„r_size
);

610 
ªq
.
bmReque°Ty≥
 = 
	`USBmakebmReque°Ty≥
(
kUSBIn
, 
kUSBSènd¨d
, 
kUSBDevi˚
);

611 
ªq
.
bReque°
 = 
kUSBRqGëDes¸ùt‹
;

612 
ªq
.
wVÆue
 = 
desc
 << 8;

613 
ªq
.
wIndex
 = 
desc_ödex
;

614 
ªq
.
wLígth
 = 
buf„r_size
;

615 
ªq
.
pD©a
 = 
buf„r
;

616 
ªq
.
noD©aTimeout
 = 20;

617 
ªq
.
com∂ëi⁄Timeout
 = 100;

619  (*
devi˚
)->
	`Devi˚Reque°TO
 (devi˚, &
ªq
);

620 
	}
}

622 
	$d¨wö_ˇche_devi˚_des¸ùt‹
 (
libusb_c⁄ãxt
 *
˘x
, 
d¨wö_ˇched_devi˚
 *
dev
) {

623 
usb_devi˚_t
 **
devi˚
 = 
dev
->device;

624 
ªåõs
 = 1, 
dñay
 = 30000;

625 
unsu•íded
 = 0, 
åy_unsu•íd
 = 1, 
åy_ªc⁄figuª
 = 1;

626 
is_›í
 = 0;

627 
ªt
 = 0, 
ªt2
;

628 
UI¡8
 
bDevi˚Cœss
;

629 
UI¡16
 
idProdu˘
, 
idVíd‹
;

631 
dev
->
ˇn_íumî©e
 = 0;

633 (*
devi˚
)->
	`GëDevi˚Cœss
 (devi˚, &
bDevi˚Cœss
);

634 (*
devi˚
)->
	`GëDevi˚Produ˘
 (devi˚, &
idProdu˘
);

635 (*
devi˚
)->
	`GëDevi˚Víd‹
 (devi˚, &
idVíd‹
);

640 
is_›í
 = ((*
devi˚
)->
	`USBDevi˚O≥nSeize
(devi˚Ë=
kIORëu∫Suc˚ss
);

644 
ªt
 = 
	`d¨wö_ªque°_des¸ùt‹
 (
devi˚
, 
kUSBDevi˚Desc
, 0, &
dev
->
dev_des¸ùt‹
, (dev->dev_descriptor));

646 i‡(
kIORëu∫Ovîrun
 =
ªt
 && 
kUSBDevi˚Desc
 =
dev
->
dev_des¸ùt‹
.
bDes¸ùt‹Ty≥
)

648 
ªt
 = 
kIORëu∫Suc˚ss
;

650 i‡(
kIOUSBVíd‹IDAµÀCompuãr
 =
idVíd‹
) {

655 i‡(
kIORëu∫Suc˚ss
 =
ªt
 && (0 =
dev
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
 ||

656 0 =
dev
->
dev_des¸ùt‹
.
bcdUSB
)) {

658 i‡(
åy_ªc⁄figuª
 && 
is_›í
) {

659 
	`usbi_dbg
("descriptoráppearsÅo be invalid.Ñesetting configuration beforeÅryingágain...");

662 (*
devi˚
)->
	`SëC⁄figuøti⁄
(device, 1);

665 
åy_ªc⁄figuª
 = 0;

668 
ªt
 = 
kIOUSBPùeSèŒed
;

671 i‡(
kIORëu∫Suc˚ss
 !
ªt
 && 
is_›í
 && 
åy_unsu•íd
) {

673 #i‡
Devi˚Vîsi⁄
 >= 320

674 
UI¡32
 
öfo
 = 0;

677 ()(*
devi˚
)->
	`GëUSBDevi˚Inf‹m©i⁄
 (devi˚, &
öfo
);

680 i‡(
öfo
 & (1 << 
kUSBInf‹m©i⁄Devi˚IsSu•ídedBô
) || 0 == info)

681 
åy_unsu•íd
 = 1;

684 i‡(
åy_unsu•íd
) {

686 
ªt2
 = (*
devi˚
)->
	`USBDevi˚Su•íd
 (device, 0);

687 i‡(
kIORëu∫Suc˚ss
 !
ªt2
) {

690 
	`usbi_dbg
("couldÇŸÑërõvêdevi˚ des¸ùt‹. faûedÅÿunsu•íd: %s",
	`d¨wö_îr‹_°r
(
ªt2
));

692 
unsu•íded
 = 1;

694 
åy_unsu•íd
 = 0;

698 i‡(
kIORëu∫Suc˚ss
 !
ªt
) {

699 
	`usbi_dbg
("kî√»ª•⁄ded wôh code: 0x%08x. sÀïög f‹ %d m†bef‹êåyögágaö", 
ªt
, 
dñay
/1000);

701 
	`u¶ìp
 (
dñay
);

703 } 
kIORëu∫Suc˚ss
 !
ªt
 && 
ªåõs
--);

705 i‡(
unsu•íded
)

707 ()(*
devi˚
)->
	`USBDevi˚Su•íd
 (device, 1);

709 i‡(
is_›í
)

710 (Ë(*
devi˚
)->
	`USBDevi˚Clo£
 (device);

712 i‡(
ªt
 !
kIORëu∫Suc˚ss
) {

714 i‡(
LIBUSB_CLASS_HUB
 =
bDevi˚Cœss
)

715 
	`usbi_dbg
 ("couldÇotÑetrieve device descriptor %.4x:%.4x: %s (%x). skipping device",

716 
idVíd‹
, 
idProdu˘
, 
	`d¨wö_îr‹_°r
 (
ªt
),Ñet);

718 
	`usbi_w¨n
 (
˘x
, "couldÇotÑetrieve device descriptor %.4x:%.4x: %s (%x). skipping device",

719 
idVíd‹
, 
idProdu˘
, 
	`d¨wö_îr‹_°r
 (
ªt
),Ñet);

720  
	`d¨wö_to_libusb
 (
ªt
);

724 i‡(
	`libusb_À16_to_˝u
 (
dev
->
dev_des¸ùt‹
.
idProdu˘
) != idProduct) {

726 
	`usbi_w¨n
 (
˘x
, "idProduct from iokit (%04x) doesÇot match idProduct in descriptor (%04x). skipping device",

727 
idProdu˘
, 
	`libusb_À16_to_˝u
 (
dev
->
dev_des¸ùt‹
.idProduct));

728  
LIBUSB_ERROR_NO_DEVICE
;

731 
	`usbi_dbg
 ("cached device descriptor:");

732 
	`usbi_dbg
 (" bDes¸ùt‹Ty≥: 0x%02x", 
dev
->
dev_des¸ùt‹
.
bDes¸ùt‹Ty≥
);

733 
	`usbi_dbg
 (" bcdUSB: 0x%04x", 
dev
->
dev_des¸ùt‹
.
bcdUSB
);

734 
	`usbi_dbg
 (" bDevi˚Cœss: 0x%02x", 
dev
->
dev_des¸ùt‹
.
bDevi˚Cœss
);

735 
	`usbi_dbg
 (" bDevi˚SubCœss: 0x%02x", 
dev
->
dev_des¸ùt‹
.
bDevi˚SubCœss
);

736 
	`usbi_dbg
 (" bDevi˚PrŸocﬁ: 0x%02x", 
dev
->
dev_des¸ùt‹
.
bDevi˚PrŸocﬁ
);

737 
	`usbi_dbg
 (" bMaxPackëSize0: 0x%02x", 
dev
->
dev_des¸ùt‹
.
bMaxPackëSize0
);

738 
	`usbi_dbg
 (" idVíd‹: 0x%04x", 
dev
->
dev_des¸ùt‹
.
idVíd‹
);

739 
	`usbi_dbg
 (" idProdu˘: 0x%04x", 
dev
->
dev_des¸ùt‹
.
idProdu˘
);

740 
	`usbi_dbg
 (" bcdDevi˚: 0x%04x", 
dev
->
dev_des¸ùt‹
.
bcdDevi˚
);

741 
	`usbi_dbg
 (" iM™uÁ˘uªr: 0x%02x", 
dev
->
dev_des¸ùt‹
.
iM™uÁ˘uªr
);

742 
	`usbi_dbg
 (" iProdu˘: 0x%02x", 
dev
->
dev_des¸ùt‹
.
iProdu˘
);

743 
	`usbi_dbg
 (" iSîülNumbî: 0x%02x", 
dev
->
dev_des¸ùt‹
.
iSîülNumbî
);

744 
	`usbi_dbg
 (" bNumC⁄figuøti⁄s: 0x%02x", 
dev
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
);

746 
dev
->
ˇn_íumî©e
 = 1;

748  
LIBUSB_SUCCESS
;

749 
	}
}

751 
	$d¨wö_gë_ˇched_devi˚
(
libusb_c⁄ãxt
 *
˘x
, 
io_£rvi˚_t
 
£rvi˚
,

752 
d¨wö_ˇched_devi˚
 **
ˇched_out
) {

753 
d¨wö_ˇched_devi˚
 *
√w_devi˚
;

754 
UI¡64
 
£ssi⁄ID
 = 0, 
∑ª¡_£ssi⁄ID
 = 0;

755 
ªt
 = 
LIBUSB_SUCCESS
;

756 
usb_devi˚_t
 **
devi˚
;

757 
io_£rvi˚_t
 
∑ª¡
;

758 
kîn_ªtu∫_t
 
ªsu…
;

759 
UI¡8
 
p‹t
 = 0;

762 (Ë
	`gë_i‹egi°ry_vÆue_numbî
 (
£rvi˚
, 
	`CFSTR
("£ssi⁄ID"), 
kCFNumbîSI¡64Ty≥
, &
£ssi⁄ID
);

763 (Ë
	`gë_i‹egi°ry_vÆue_numbî
 (
£rvi˚
, 
	`CFSTR
("P‹tNum"), 
kCFNumbîSI¡8Ty≥
, &
p‹t
);

765 
	`usbi_dbg
("födög cached devi˚ f‹ sessi⁄ID 0x%" 
PRIx64
, 
£ssi⁄ID
);

767 
ªsu…
 = 
	`IORegi°ryE¡ryGëP¨ítE¡ry
 (
£rvi˚
, 
kIOUSBPœ√
, &
∑ª¡
);

769 i‡(
kIORëu∫Suc˚ss
 =
ªsu…
) {

770 (Ë
	`gë_i‹egi°ry_vÆue_numbî
 (
∑ª¡
, 
	`CFSTR
("£ssi⁄ID"), 
kCFNumbîSI¡64Ty≥
, &
∑ª¡_£ssi⁄ID
);

771 
	`IOObje˘Rñó£
(
∑ª¡
);

774 
	`usbi_muãx_lock
(&
d¨wö_ˇched_devi˚s_lock
);

776 *
ˇched_out
 = 
NULL
;

778 
	`li°_f‹_óch_íåy
(
√w_devi˚
, &
d¨wö_ˇched_devi˚s
, 
li°
, 
d¨wö_ˇched_devi˚
) {

779 
	`usbi_dbg
("m©chög sessi⁄ID 0x%" 
PRIx64
 "ágaö° cached devi˚ wôh sessi⁄ID 0x%" PRIx64, 
£ssi⁄ID
, 
√w_devi˚
->
£ssi⁄
);

780 i‡(
√w_devi˚
->
£ssi⁄
 =
£ssi⁄ID
) {

781 
	`usbi_dbg
("using cached device for device");

782 *
ˇched_out
 = 
√w_devi˚
;

787 i‡(*
ˇched_out
)

790 
	`usbi_dbg
("ˇchögÇew devi˚ wôh sessi⁄ID 0x%" 
PRIx64
, 
£ssi⁄ID
);

792 
devi˚
 = 
	`d¨wö_devi˚_‰om_£rvi˚
 (
£rvi˚
);

793 i‡(!
devi˚
) {

794 
ªt
 = 
LIBUSB_ERROR_NO_DEVICE
;

798 
√w_devi˚
 = 
	`ˇŒoc
 (1,  (*new_device));

799 i‡(!
√w_devi˚
) {

800 
ªt
 = 
LIBUSB_ERROR_NO_MEM
;

805 
	`li°_add
(&
√w_devi˚
->
li°
, &
d¨wö_ˇched_devi˚s
);

807 (*
devi˚
)->
	`GëDevi˚Addªss
 (devi˚, (
USBDevi˚Addªss
 *)&
√w_devi˚
->
addªss
);

810 
	`d¨wö_ªf_ˇched_devi˚
(
√w_devi˚
);

812 
√w_devi˚
->
devi˚
 = device;

813 
√w_devi˚
->
£ssi⁄
 = 
£ssi⁄ID
;

814 (*
devi˚
)->
	`GëLoˇti⁄ID
 (devi˚, &
√w_devi˚
->
loˇti⁄
);

815 
√w_devi˚
->
p‹t
 =Öort;

816 
√w_devi˚
->
∑ª¡_£ssi⁄
 = 
∑ª¡_£ssi⁄ID
;

819 
ªt
 = 
	`d¨wö_ˇche_devi˚_des¸ùt‹
(
˘x
, 
√w_devi˚
);

820 i‡(
ªt
)

823 i‡(
√w_devi˚
->
ˇn_íumî©e
) {

824 
	`¢¥ötf
(
√w_devi˚
->
sys_∑th
, 20, "%03i-%04x-%04x-%02x-%02x",Çew_devi˚->
addªss
,

825 
√w_devi˚
->
dev_des¸ùt‹
.
idVíd‹
,Çew_devi˚->dev_des¸ùt‹.
idProdu˘
,

826 
√w_devi˚
->
dev_des¸ùt‹
.
bDevi˚Cœss
,Çew_devi˚->dev_des¸ùt‹.
bDevi˚SubCœss
);

830 
	`usbi_muãx_u∆ock
(&
d¨wö_ˇched_devi˚s_lock
);

835 *
ˇched_out
 = 
√w_devi˚
;

837  
ªt
;

838 
	}
}

840 
	$¥o˚ss_√w_devi˚
 (
libusb_c⁄ãxt
 *
˘x
, 
io_£rvi˚_t
 
£rvi˚
) {

841 
d¨wö_devi˚_¥iv
 *
¥iv
;

842 
libusb_devi˚
 *
dev
 = 
NULL
;

843 
d¨wö_ˇched_devi˚
 *
ˇched_devi˚
;

844 
UI¡8
 
devS≥ed
;

845 
ªt
 = 0;

848 
ªt
 = 
	`d¨wö_gë_ˇched_devi˚
 (
˘x
, 
£rvi˚
, &
ˇched_devi˚
);

850 i‡(
ªt
 < 0 || !
ˇched_devi˚
->
ˇn_íumî©e
) {

851  
ªt
;

856 
ªt
 = 
	`d¨wö_check_c⁄figuøti⁄
 (
˘x
, 
ˇched_devi˚
);

857 i‡(
ªt
)

860 
	`usbi_dbg
 ("ÆloˇtögÇew devi˚ i¿c⁄ãxà%∞f‹ wôh sessi⁄ 0x%" 
PRIx64
,

861 
˘x
, 
ˇched_devi˚
->
£ssi⁄
);

863 
dev
 = 
	`usbi_Æloc_devi˚
(
˘x
, (Ë
ˇched_devi˚
->
£ssi⁄
);

864 i‡(!
dev
) {

865  
LIBUSB_ERROR_NO_MEM
;

868 
¥iv
 = (
d¨wö_devi˚_¥iv
 *)
dev
->
os_¥iv
;

870 
¥iv
->
dev
 = 
ˇched_devi˚
;

871 
	`d¨wö_ªf_ˇched_devi˚
 (
¥iv
->
dev
);

873 i‡(
ˇched_devi˚
->
∑ª¡_£ssi⁄
 > 0) {

874 
dev
->
∑ª¡_dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
 (
˘x
, (Ë
ˇched_devi˚
->
∑ª¡_£ssi⁄
);

876 
dev
->
∑ª¡_dev
 = 
NULL
;

878 
dev
->
p‹t_numbî
 = 
ˇched_devi˚
->
p‹t
;

879 
dev
->
bus_numbî
 = 
ˇched_devi˚
->
loˇti⁄
 >> 24;

880 
dev
->
devi˚_addªss
 = 
ˇched_devi˚
->
addªss
;

882 (*(
¥iv
->
dev
->
devi˚
))->
	`GëDevi˚S≥ed
 (¥iv->dev->devi˚, &
devS≥ed
);

884 
devS≥ed
) {

885 
kUSBDevi˚S≥edLow
: 
dev
->
•ìd
 = 
LIBUSB_SPEED_LOW
; ;

886 
kUSBDevi˚S≥edFuŒ
: 
dev
->
•ìd
 = 
LIBUSB_SPEED_FULL
; ;

887 
kUSBDevi˚S≥edHigh
: 
dev
->
•ìd
 = 
LIBUSB_SPEED_HIGH
; ;

888 #i‡
Devi˚Vîsi⁄
 >= 500

889 
kUSBDevi˚S≥edSu≥r
: 
dev
->
•ìd
 = 
LIBUSB_SPEED_SUPER
; ;

892 
	`usbi_w¨n
 (
˘x
, "GŸ unknow¿devi˚ s≥ed %d", 
devS≥ed
);

895 
ªt
 = 
	`usbi_ßnôize_devi˚
 (
dev
);

896 i‡(
ªt
 < 0)

899 
	`usbi_dbg
 ("found devi˚ wôháddªs†%dÖ‹à%dÖ¨íà%∞© %p", 
dev
->
devi˚_addªss
,

900 
dev
->
p‹t_numbî
, (*Ëdev->
∑ª¡_dev
, 
¥iv
->dev->
sys_∑th
);

903 i‡(0 =
ªt
) {

904 
	`usbi_c⁄√˘_devi˚
 (
dev
);

906 
	`libusb_uƒef_devi˚
 (
dev
);

909  
ªt
;

910 
	}
}

912 
	$d¨wö_sˇn_devi˚s
(
libusb_c⁄ãxt
 *
˘x
) {

913 
io_ôî©‹_t
 
devi˚Iãøt‹
;

914 
io_£rvi˚_t
 
£rvi˚
;

915 
kîn_ªtu∫_t
 
kªsu…
;

917 
kªsu…
 = 
	`usb_£tup_devi˚_ôî©‹
 (&
devi˚Iãøt‹
, 0);

918 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

919  
	`d¨wö_to_libusb
 (
kªsu…
);

921 (
£rvi˚
 = 
	`IOIãøt‹Next
 (
devi˚Iãøt‹
))) {

922 (Ë
	`¥o˚ss_√w_devi˚
 (
˘x
, 
£rvi˚
);

924 
	`IOObje˘Rñó£
(
£rvi˚
);

927 
	`IOObje˘Rñó£
(
devi˚Iãøt‹
);

930 
	}
}

932 
	$d¨wö_›í
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
) {

933 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

934 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

935 
IORëu∫
 
kªsu…
;

937 i‡(0 =
d¥iv
->
›í_cou¡
) {

939 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`USBDevi˚O≥nSeize
 (dpriv->device);

940 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

941 
	`usbi_w¨n
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "USBDevi˚O≥n: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

943 i‡(
kIORëu∫Ex˛usiveAc˚ss
 !
kªsu…
) {

944  
	`d¨wö_to_libusb
 (
kªsu…
);

948 
¥iv
->
is_›í
 = 0;

950 
¥iv
->
is_›í
 = 1;

954 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`Cª©eDevi˚AsyncEvítSour˚
 (d¥iv->devi˚, &
¥iv
->
cfSour˚
);

955 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

956 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "Cª©eDevi˚AsyncEvítSour˚: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

958 i‡(
¥iv
->
is_›í
) {

959 (*(
d¥iv
->
devi˚
))->
	`USBDevi˚Clo£
 (dpriv->device);

962 
¥iv
->
is_›í
 = 0;

964  
	`d¨wö_to_libusb
 (
kªsu…
);

967 
	`CFRëaö
 (
libusb_d¨wö_acÊ
);

970 
	`CFRunLo›AddSour˚
(
libusb_d¨wö_acÊ
, 
¥iv
->
cfSour˚
, 
kCFRunLo›Comm⁄Modes
);

974 
d¥iv
->
›í_cou¡
++;

977 
	`pùe
 (
¥iv
->
fds
);

980 
	`f˙é
 (
¥iv
->
fds
[1], 
F_SETFD
, 
O_NONBLOCK
);

982 
	`usbi_add_pﬁlfd
(
	`HANDLE_CTX
(
dev_h™dÀ
), 
¥iv
->
fds
[0], 
POLLIN
);

984 
	`usbi_dbg
 ("device open foráccess");

987 
	}
}

989 
	$d¨wö_˛o£
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
) {

990 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

991 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

992 
IORëu∫
 
kªsu…
;

993 
i
;

995 i‡(
d¥iv
->
›í_cou¡
 == 0) {

997 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "Close called oná deviceÅhat wasÇot open!\n");

1001 
d¥iv
->
›í_cou¡
--;

1004 
i
 = 0 ; i < 
USB_MAXINTERFACES
 ; i++)

1005 i‡(
dev_h™dÀ
->
˛aimed_öãrÁ˚s
 & (1 << 
i
))

1006 
	`libusb_ªÀa£_öãrÁ˚
 (
dev_h™dÀ
, 
i
);

1008 i‡(0 =
d¥iv
->
›í_cou¡
) {

1010 i‡(
¥iv
->
cfSour˚
) {

1011 
	`CFRunLo›RemoveSour˚
 (
libusb_d¨wö_acÊ
, 
¥iv
->
cfSour˚
, 
kCFRunLo›DeÁu…Mode
);

1012 
	`CFRñó£
 (
¥iv
->
cfSour˚
);

1013 
¥iv
->
cfSour˚
 = 
NULL
;

1014 
	`CFRñó£
 (
libusb_d¨wö_acÊ
);

1017 i‡(
¥iv
->
is_›í
) {

1019 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`USBDevi˚Clo£
(dpriv->device);

1020 i‡(
kªsu…
) {

1023 
	`usbi_w¨n
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "USBDevi˚Clo£: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1029 
	`usbi_ªmove_pﬁlfd
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), 
¥iv
->
fds
[0]);

1030 
	`˛o£
 (
¥iv
->
fds
[1]);

1031 
	`˛o£
 (
¥iv
->
fds
[0]);

1033 
¥iv
->
fds
[0] =Öriv->fds[1] = -1;

1034 
	}
}

1036 
	$d¨wö_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, *
c⁄fig
) {

1037 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

1039 *
c⁄fig
 = (Ë
d¥iv
->
a˘ive_c⁄fig
;

1042 
	}
}

1044 
	$d¨wö_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
c⁄fig
) {

1045 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

1046 
IORëu∫
 
kªsu…
;

1047 
i
;

1051 
i
 = 0 ; i < 
USB_MAXINTERFACES
 ; i++)

1052 i‡(
dev_h™dÀ
->
˛aimed_öãrÁ˚s
 & (1 << 
i
))

1053 
	`d¨wö_ªÀa£_öãrÁ˚
 (
dev_h™dÀ
, 
i
);

1055 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`SëC⁄figuøti⁄
 (d¥iv->devi˚, 
c⁄fig
);

1056 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

1057  
	`d¨wö_to_libusb
 (
kªsu…
);

1060 
i
 = 0 ; i < 
USB_MAXINTERFACES
 ; i++)

1061 i‡(
dev_h™dÀ
->
˛aimed_öãrÁ˚s
 & (1 << 
i
))

1062 
	`d¨wö_˛aim_öãrÁ˚
 (
dev_h™dÀ
, 
i
);

1064 
d¥iv
->
a˘ive_c⁄fig
 = 
c⁄fig
;

1067 
	}
}

1069 
	$d¨wö_gë_öãrÁ˚
 (
usb_devi˚_t
 **
d¨wö_devi˚
, 
uöt8_t
 
ifc
, 
io_£rvi˚_t
 *
usbI¡îÁ˚p
) {

1070 
IOUSBFödI¡îÁ˚Reque°
 
ªque°
;

1071 
kîn_ªtu∫_t
 
kªsu…
;

1072 
io_ôî©‹_t
 
öãrÁ˚_ôî©‹
;

1073 
UI¡8
 
bI¡îÁ˚Numbî
;

1074 
ªt
;

1076 *
usbI¡îÁ˚p
 = 
IO_OBJECT_NULL
;

1079 
ªque°
.
bI¡îÁ˚Cœss
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

1080 
ªque°
.
bI¡îÁ˚SubCœss
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

1081 
ªque°
.
bI¡îÁ˚PrŸocﬁ
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

1082 
ªque°
.
bA…î«ãSëtög
 = 
kIOUSBFödI¡îÁ˚D⁄tC¨e
;

1084 
kªsu…
 = (*(
d¨wö_devi˚
))->
	`Cª©eI¡îÁ˚Iãøt‹
(d¨wö_devi˚, &
ªque°
, &
öãrÁ˚_ôî©‹
);

1085 i‡(
kªsu…
)

1086  
kªsu…
;

1088 (*
usbI¡îÁ˚p
 = 
	`IOIãøt‹Next
(
öãrÁ˚_ôî©‹
))) {

1090 
ªt
 = 
	`gë_i‹egi°ry_vÆue_numbî
 (*
usbI¡îÁ˚p
, 
	`CFSTR
("bI¡îÁ˚Numbî"), 
kCFNumbîSI¡8Ty≥
,

1091 &
bI¡îÁ˚Numbî
);

1093 i‡(
ªt
 && 
bI¡îÁ˚Numbî
 =
ifc
) {

1097 (Ë
	`IOObje˘Rñó£
 (*
usbI¡îÁ˚p
);

1101 
	`IOObje˘Rñó£
(
öãrÁ˚_ôî©‹
);

1104 
	}
}

1106 
	$gë_ídpoöts
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

1107 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

1110 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
 = &
¥iv
->
öãrÁ˚s
[
iÁ˚
];

1112 
kîn_ªtu∫_t
 
kªsu…
;

1114 
u_öt8_t
 
numï
, 
dúe˘i⁄
, 
numbî
;

1115 
u_öt8_t
 
d⁄t_ˇª1
, 
d⁄t_ˇª3
;

1116 
u_öt16_t
 
d⁄t_ˇª2
;

1117 
i
;

1119 
	`usbi_dbg
 ("buildingÅable ofÉndpoints.");

1122 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`GëNumEndpoöts
(cI¡îÁ˚->öãrÁ˚, &
numï
);

1123 i‡(
kªsu…
) {

1124 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "ˇn'àgëÇumbî o‡ídpoöt†f‹ i¡îÁ˚: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1125  
	`d¨wö_to_libusb
 (
kªsu…
);

1129 
i
 = 1 ; i <
numï
 ; i++) {

1130 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`GëPùePr›îtõs
(cI¡îÁ˚->öãrÁ˚, 
i
, &
dúe˘i⁄
, &
numbî
, &
d⁄t_ˇª1
,

1131 &
d⁄t_ˇª2
, &
d⁄t_ˇª3
);

1133 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

1134 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "îr‹ gëtögÖùêöf‹m©i⁄ f‹Öùê%d: %s", 
i
, 
	`d¨wö_îr‹_°r
(
kªsu…
));

1136  
	`d¨wö_to_libusb
 (
kªsu…
);

1139 
	`usbi_dbg
 ("öãrÁ˚: %òpùê%i: dú: %ònumbî: %i", 
iÁ˚
, 
i
, 
dúe˘i⁄
, 
numbî
);

1141 
cI¡îÁ˚
->
ídpoöt_addrs
[
i
 - 1] = (((
kUSBIn
 =
dúe˘i⁄
Ë<< 
kUSBRqDúnShi·
Ë| (
numbî
 & 
LIBUSB_ENDPOINT_ADDRESS_MASK
));

1144 
cI¡îÁ˚
->
num_ídpoöts
 = 
numï
;

1147 
	}
}

1149 
	$d¨wö_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

1150 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

1151 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

1152 
io_£rvi˚_t
 
usbI¡îÁ˚
 = 
IO_OBJECT_NULL
;

1153 
IORëu∫
 
kªsu…
;

1154 
IOCFPlugInI¡îÁ˚
 **
∂ugInI¡îÁ˚
 = 
NULL
;

1155 
SI¡32
 
sc‹e
;

1158 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
 = &
¥iv
->
öãrÁ˚s
[
iÁ˚
];

1160 
kªsu…
 = 
	`d¨wö_gë_öãrÁ˚
 (
d¥iv
->
devi˚
, 
iÁ˚
, &
usbI¡îÁ˚
);

1161 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

1162  
	`d¨wö_to_libusb
 (
kªsu…
);

1165 i‡(!
usbI¡îÁ˚
 && 
d¥iv
->
fú°_c⁄fig
 != 0) {

1166 
	`usbi_öfo
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "nÿöãrÁ˚ found; sëtög c⁄figuøti⁄: %d", 
d¥iv
->
fú°_c⁄fig
);

1169 
kªsu…
 = 
	`d¨wö_£t_c⁄figuøti⁄
 (
dev_h™dÀ
, 
d¥iv
->
fú°_c⁄fig
);

1170 i‡(
kªsu…
 !
LIBUSB_SUCCESS
) {

1171 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "couldÇot set configuration");

1172  
kªsu…
;

1175 
kªsu…
 = 
	`d¨wö_gë_öãrÁ˚
 (
d¥iv
->
devi˚
, 
iÁ˚
, &
usbI¡îÁ˚
);

1176 i‡(
kªsu…
) {

1177 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "d¨wö_gë_öãrÁ˚: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1178  
	`d¨wö_to_libusb
 (
kªsu…
);

1182 i‡(!
usbI¡îÁ˚
) {

1183 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "interfaceÇot found");

1184  
LIBUSB_ERROR_NOT_FOUND
;

1188 
kªsu…
 = 
	`IOCª©ePlugInI¡îÁ˚F‹Sîvi˚
 (
usbI¡îÁ˚
, 
kIOUSBI¡îÁ˚U£rClõ¡Ty≥ID
,

1189 
kIOCFPlugInI¡îÁ˚ID
, &
∂ugInI¡îÁ˚
, &
sc‹e
);

1192 ()
	`IOObje˘Rñó£
 (
usbI¡îÁ˚
);

1194 i‡(
kªsu…
) {

1195 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "IOCª©ePlugInI¡îÁ˚F‹Sîvi˚: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1196  
	`d¨wö_to_libusb
 (
kªsu…
);

1199 i‡(!
∂ugInI¡îÁ˚
) {

1200 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "plugin interfaceÇot found");

1201  
LIBUSB_ERROR_NOT_FOUND
;

1205 
kªsu…
 = (*
∂ugInI¡îÁ˚
)->
	`QuîyI¡îÁ˚
(plugInInterface,

1206 
	`CFUUIDGëUUIDByãs
(
kIOUSBI¡îÁ˚I¡îÁ˚ID
),

1207 (
LPVOID
)&
cI¡îÁ˚
->
öãrÁ˚
);

1210 (*
∂ugInI¡îÁ˚
)->
	`Rñó£
 (plugInInterface);

1211 i‡(
kªsu…
 || !
cI¡îÁ˚
->
öãrÁ˚
) {

1212 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "QuîyI¡îÁ˚: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1213  
	`d¨wö_to_libusb
 (
kªsu…
);

1217 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`USBI¡îÁ˚O≥n
(cInterface->interface);

1218 i‡(
kªsu…
) {

1219 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "USBI¡îÁ˚O≥n: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1220  
	`d¨wö_to_libusb
 (
kªsu…
);

1224 
kªsu…
 = 
	`gë_ídpoöts
 (
dev_h™dÀ
, 
iÁ˚
);

1225 i‡(
kªsu…
) {

1227 
	`d¨wö_ªÀa£_öãrÁ˚
 (
dev_h™dÀ
, 
iÁ˚
);

1228 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "couldÇot buildÉndpointÅable");

1229  
kªsu…
;

1232 
cI¡îÁ˚
->
cfSour˚
 = 
NULL
;

1235 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Cª©eI¡îÁ˚AsyncEvítSour˚
 (cI¡îÁ˚->öãrÁ˚, &cI¡îÁ˚->
cfSour˚
);

1236 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

1237 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "couldÇot createásyncÉvent source");

1240 ()
	`d¨wö_ªÀa£_öãrÁ˚
 (
dev_h™dÀ
, 
iÁ˚
);

1242  
	`d¨wö_to_libusb
 (
kªsu…
);

1246 
	`CFRunLo›AddSour˚
(
libusb_d¨wö_acÊ
, 
cI¡îÁ˚
->
cfSour˚
, 
kCFRunLo›DeÁu…Mode
);

1248 
	`usbi_dbg
 ("interface opened");

1251 
	}
}

1253 
	$d¨wö_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

1254 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

1255 
IORëu∫
 
kªsu…
;

1258 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
 = &
¥iv
->
öãrÁ˚s
[
iÁ˚
];

1261 i‡(!
cI¡îÁ˚
->
öãrÁ˚
)

1262  
LIBUSB_SUCCESS
;

1265 
cI¡îÁ˚
->
num_ídpoöts
 = 0;

1268 i‡(
cI¡îÁ˚
->
cfSour˚
) {

1269 
	`CFRunLo›RemoveSour˚
 (
libusb_d¨wö_acÊ
, 
cI¡îÁ˚
->
cfSour˚
, 
kCFRunLo›DeÁu…Mode
);

1270 
	`CFRñó£
 (
cI¡îÁ˚
->
cfSour˚
);

1273 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`USBI¡îÁ˚Clo£
(cInterface->interface);

1274 i‡(
kªsu…
)

1275 
	`usbi_w¨n
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "USBI¡îÁ˚Clo£: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1277 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Rñó£
(cInterface->interface);

1278 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

1279 
	`usbi_w¨n
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "Rñó£: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1281 
cI¡îÁ˚
->
öãrÁ˚
 = 
IO_OBJECT_NULL
;

1283  
	`d¨wö_to_libusb
 (
kªsu…
);

1284 
	}
}

1286 
	$d¨wö_£t_öãrÁ˚_Æt£âög
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
) {

1287 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
dev_h™dÀ
->
os_¥iv
;

1288 
IORëu∫
 
kªsu…
;

1291 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
 = &
¥iv
->
öãrÁ˚s
[
iÁ˚
];

1293 i‡(!
cI¡îÁ˚
->
öãrÁ˚
)

1294  
LIBUSB_ERROR_NO_DEVICE
;

1296 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`SëA…î«ãI¡îÁ˚
 (cI¡îÁ˚->öãrÁ˚, 
Æt£âög
);

1297 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

1298 
	`d¨wö_ª£t_devi˚
 (
dev_h™dÀ
);

1301 
kªsu…
 = 
	`gë_ídpoöts
 (
dev_h™dÀ
, 
iÁ˚
);

1302 i‡(
kªsu…
) {

1304 
	`d¨wö_ªÀa£_öãrÁ˚
 (
dev_h™dÀ
, 
iÁ˚
);

1305 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "couldÇot buildÉndpointÅable");

1306  
kªsu…
;

1309  
	`d¨wö_to_libusb
 (
kªsu…
);

1310 
	}
}

1312 
	$d¨wö_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
) {

1314 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1315 
IORëu∫
 
kªsu…
;

1316 
uöt8_t
 
pùeRef
;

1319 i‡(
	`ï_to_pùeRef
 (
dev_h™dÀ
, 
ídpoöt
, &
pùeRef
, 
NULL
, &
cI¡îÁ˚
) != 0) {

1320 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "endpointÇot found onány open interface");

1322  
LIBUSB_ERROR_NOT_FOUND
;

1326 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`CÀ¨PùeSèŒBŸhEnds
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
);

1327 i‡(
kªsu…
)

1328 
	`usbi_w¨n
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "CÀ¨PùeSèŒ: %s", 
	`d¨wö_îr‹_°r
 (
kªsu…
));

1330  
	`d¨wö_to_libusb
 (
kªsu…
);

1331 
	}
}

1333 
	$d¨wö_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
) {

1334 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

1335 
IOUSBDevi˚Des¸ùt‹
 
des¸ùt‹
;

1336 
IOUSBC⁄figuøti⁄Des¸ùt‹På
 
ˇched_c⁄figuøti⁄
;

1337 
IOUSBC⁄figuøti⁄Des¸ùt‹
 
c⁄figuøti⁄
;

1338 
boﬁ
 
ªíumî©e
 = 
Ál£
;

1339 
IORëu∫
 
kªsu…
;

1340 
i
;

1342 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`Re£tDevi˚
 (dpriv->device);

1343 i‡(
kªsu…
) {

1344 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "Re£tDevi˚: %s", 
	`d¨wö_îr‹_°r
 (
kªsu…
));

1345  
	`d¨wö_to_libusb
 (
kªsu…
);

1349 
	`usbi_dbg
 ("darwin/reset_device: checking if device descriptor changed");

1352 (Ë
	`d¨wö_ªque°_des¸ùt‹
 (
d¥iv
->
devi˚
, 
kUSBDevi˚Desc
, 0, &
des¸ùt‹
,  (descriptor));

1355 i‡(0 !
	`memcmp
 (&
d¥iv
->
dev_des¸ùt‹
, &
des¸ùt‹
,  (descriptor))) {

1356 
ªíumî©e
 = 
åue
;

1361 
i
 = 0 ; i < 
des¸ùt‹
.
bNumC⁄figuøti⁄s
 ; ++i) {

1362 
	`usbi_dbg
 ("d¨wö/ª£t_devi˚: checkög i‡c⁄figuøti⁄ des¸ùt‹ %d ch™ged", 
i
);

1364 (Ë
	`d¨wö_ªque°_des¸ùt‹
 (
d¥iv
->
devi˚
, 
kUSBC⁄fDesc
, 
i
, &
c⁄figuøti⁄
,  (configuration));

1365 (*(
d¥iv
->
devi˚
))->
	`GëC⁄figuøti⁄Des¸ùt‹På
 (d¥iv->devi˚, 
i
, &
ˇched_c⁄figuøti⁄
);

1367 i‡(!
ˇched_c⁄figuøti⁄
 || 0 !
	`memcmp
 (ˇched_c⁄figuøti⁄, &
c⁄figuøti⁄
,  (configuration))) {

1368 
ªíumî©e
 = 
åue
;

1374 i‡(
ªíumî©e
) {

1375 
	`usbi_dbg
 ("darwin/reset_device: deviceÑequiresÑeenumeration");

1376 (Ë(*(
d¥iv
->
devi˚
))->
	`USBDevi˚ReEnumî©e
 (dpriv->device, 0);

1377  
LIBUSB_ERROR_NOT_FOUND
;

1380 
	`usbi_dbg
 ("darwin/reset_device: deviceÑeset complete");

1382  
LIBUSB_SUCCESS
;

1383 
	}
}

1385 
	$d¨wö_kî√l_drivî_a˘ive
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
öãrÁ˚
) {

1386 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
dev_h™dÀ
->
dev
);

1387 
io_£rvi˚_t
 
usbI¡îÁ˚
;

1388 
CFTy≥Ref
 
drivî
;

1389 
IORëu∫
 
kªsu…
;

1391 
kªsu…
 = 
	`d¨wö_gë_öãrÁ˚
 (
d¥iv
->
devi˚
, 
öãrÁ˚
, &
usbI¡îÁ˚
);

1392 i‡(
kªsu…
) {

1393 
	`usbi_îr
 (
	`HANDLE_CTX
 (
dev_h™dÀ
), "d¨wö_gë_öãrÁ˚: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1395  
	`d¨wö_to_libusb
 (
kªsu…
);

1398 
drivî
 = 
	`IORegi°ryE¡ryCª©eCFPr›îty
 (
usbI¡îÁ˚
, 
kIOBundÀIdítifõrKey
, 
kCFAŒoˇt‹DeÁu…
, 0);

1399 
	`IOObje˘Rñó£
 (
usbI¡îÁ˚
);

1401 i‡(
drivî
) {

1402 
	`CFRñó£
 (
drivî
);

1409 
	}
}

1412 
	$d¨wö_©èch_kî√l_drivî
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
öãrÁ˚
) {

1413 ()
dev_h™dÀ
;

1414 ()
öãrÁ˚
;

1415  
LIBUSB_ERROR_NOT_SUPPORTED
;

1416 
	}
}

1418 
	$d¨wö_dëach_kî√l_drivî
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
öãrÁ˚
) {

1419 ()
dev_h™dÀ
;

1420 ()
öãrÁ˚
;

1421  
LIBUSB_ERROR_NOT_SUPPORTED
;

1422 
	}
}

1424 
	$d¨wö_de°roy_devi˚
(
libusb_devi˚
 *
dev
) {

1425 
d¨wö_devi˚_¥iv
 *
d¥iv
 = (d¨wö_devi˚_¥iv *Ë
dev
->
os_¥iv
;

1427 i‡(
d¥iv
->
dev
) {

1429 
	`usbi_muãx_lock
(&
d¨wö_ˇched_devi˚s_lock
);

1430 
	`d¨wö_dîef_ˇched_devi˚
 (
d¥iv
->
dev
);

1431 
d¥iv
->
dev
 = 
NULL
;

1432 
	`usbi_muãx_u∆ock
(&
d¨wö_ˇched_devi˚s_lock
);

1434 
	}
}

1436 
	$submô_bulk_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1437 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1439 
IORëu∫
 
ªt
;

1440 
uöt8_t
 
å™s„rTy≥
;

1442 
uöt8_t
 
dúe˘i⁄
, 
numbî
, 
öãrvÆ
, 
pùeRef
;

1443 
uöt16_t
 
maxPackëSize
;

1445 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1447 i‡(
	`ï_to_pùeRef
 (
å™s„r
->
dev_h™dÀ
,Åøns„r->
ídpoöt
, &
pùeRef
, 
NULL
, &
cI¡îÁ˚
) != 0) {

1448 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "endpointÇot found onány open interface");

1450  
LIBUSB_ERROR_NOT_FOUND
;

1453 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`GëPùePr›îtõs
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, &
dúe˘i⁄
, &
numbî
,

1454 &
å™s„rTy≥
, &
maxPackëSize
, &
öãrvÆ
);

1456 i‡(
ªt
) {

1457 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "bulkÅøns„∏Áûed (dú = %s): %†(codê0x%08x)", 
	`IS_XFERIN
(transfer) ? "In" : "Out",

1458 
	`d¨wö_îr‹_°r
(
ªt
),Ñet);

1459  
	`d¨wö_to_libusb
 (
ªt
);

1462 i‡(0 !(
å™s„r
->
Àngth
 % 
maxPackëSize
)) {

1464 
å™s„r
->
Êags
 &~
LIBUSB_TRANSFER_ADD_ZERO_PACKET
;

1469 i‡(
å™s„rTy≥
 =
kUSBI¡îru±
) {

1470 i‡(
	`IS_XFERIN
(
å™s„r
))

1471 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`RódPùeAsync
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
,

1472 
å™s„r
->
Àngth
, 
d¨wö_async_io_ˇŒback
, 
ôøns„r
);

1474 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`WrôePùeAsync
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
,

1475 
å™s„r
->
Àngth
, 
d¨wö_async_io_ˇŒback
, 
ôøns„r
);

1477 
ôøns„r
->
Êags
 |
USBI_TRANSFER_OS_HANDLES_TIMEOUT
;

1479 i‡(
	`IS_XFERIN
(
å™s„r
))

1480 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`RódPùeAsyncTO
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
,

1481 
å™s„r
->
Àngth
,Åøns„r->
timeout
,Åransfer->timeout,

1482 
d¨wö_async_io_ˇŒback
, (*)
ôøns„r
);

1484 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`WrôePùeAsyncTO
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
,

1485 
å™s„r
->
Àngth
,Åøns„r->
timeout
,Åransfer->timeout,

1486 
d¨wö_async_io_ˇŒback
, (*)
ôøns„r
);

1489 i‡(
ªt
)

1490 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "bulkÅøns„∏Áûed (dú = %s): %†(codê0x%08x)", 
	`IS_XFERIN
(transfer) ? "In" : "Out",

1491 
	`d¨wö_îr‹_°r
(
ªt
),Ñet);

1493  
	`d¨wö_to_libusb
 (
ªt
);

1494 
	}
}

1496 #i‡
I¡îÁ˚Vîsi⁄
 >= 550

1497 
	$submô_°ªam_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1498 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1499 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1500 
uöt8_t
 
pùeRef
;

1501 
IORëu∫
 
ªt
;

1503 i‡(
	`ï_to_pùeRef
 (
å™s„r
->
dev_h™dÀ
,Åøns„r->
ídpoöt
, &
pùeRef
, 
NULL
, &
cI¡îÁ˚
) != 0) {

1504 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "endpointÇot found onány open interface");

1506  
LIBUSB_ERROR_NOT_FOUND
;

1509 
ôøns„r
->
Êags
 |
USBI_TRANSFER_OS_HANDLES_TIMEOUT
;

1511 i‡(
	`IS_XFERIN
(
å™s„r
))

1512 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`RódSåómsPùeAsyncTO
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
ôøns„r
->
°ªam_id
,

1513 
å™s„r
->
buf„r
,Åøns„r->
Àngth
,Åøns„r->
timeout
,

1514 
å™s„r
->
timeout
, 
d¨wö_async_io_ˇŒback
, (*)
ôøns„r
);

1516 
ªt
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`WrôeSåómsPùeAsyncTO
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
ôøns„r
->
°ªam_id
,

1517 
å™s„r
->
buf„r
,Åøns„r->
Àngth
,Åøns„r->
timeout
,

1518 
å™s„r
->
timeout
, 
d¨wö_async_io_ˇŒback
, (*)
ôøns„r
);

1520 i‡(
ªt
)

1521 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "bulk såómÅøns„∏Áûed (dú = %s): %†(codê0x%08x)", 
	`IS_XFERIN
(transfer) ? "In" : "Out",

1522 
	`d¨wö_îr‹_°r
(
ªt
),Ñet);

1524  
	`d¨wö_to_libusb
 (
ªt
);

1525 
	}
}

1528 
	$submô_iso_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1529 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1530 
d¨wö_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1532 
IORëu∫
 
kªsu…
;

1533 
uöt8_t
 
dúe˘i⁄
, 
numbî
, 
öãrvÆ
, 
pùeRef
, 
å™s„rTy≥
;

1534 
uöt16_t
 
maxPackëSize
;

1535 
UI¡64
 
‰ame
;

1536 
AbsﬁuãTime
 
©Time
;

1537 
i
;

1539 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1542 i‡(
çriv
->
isoc_‰amñi°
 &&Å¥iv->
num_iso_∑ckës
 !
å™s„r
->num_iso_packets) {

1543 
	`‰ì
(
çriv
->
isoc_‰amñi°
);

1544 
çriv
->
isoc_‰amñi°
 = 
NULL
;

1547 i‡(!
çriv
->
isoc_‰amñi°
) {

1548 
çriv
->
num_iso_∑ckës
 = 
å™s„r
->num_iso_packets;

1549 
çriv
->
isoc_‰amñi°
 = (
IOUSBIsocFøme
*Ë
	`ˇŒoc
 (
å™s„r
->
num_iso_∑ckës
, (IOUSBIsocFrame));

1550 i‡(!
çriv
->
isoc_‰amñi°
)

1551  
LIBUSB_ERROR_NO_MEM
;

1555 
i
 = 0 ; i < 
å™s„r
->
num_iso_∑ckës
 ; i++)

1556 
çriv
->
isoc_‰amñi°
[
i
].
‰ReqCou¡
 = 
å™s„r
->
iso_∑ckë_desc
[i].
Àngth
;

1559 i‡(
	`ï_to_pùeRef
 (
å™s„r
->
dev_h™dÀ
,Åøns„r->
ídpoöt
, &
pùeRef
, 
NULL
, &
cI¡îÁ˚
) != 0) {

1560 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "endpointÇot found onány open interface");

1562  
LIBUSB_ERROR_NOT_FOUND
;

1566 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`GëPùePr›îtõs
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, &
dúe˘i⁄
, &
numbî
,

1567 &
å™s„rTy≥
, &
maxPackëSize
, &
öãrvÆ
);

1570 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`GëBusFømeNumbî
(cI¡îÁ˚->öãrÁ˚, &
‰ame
, &
©Time
);

1571 i‡(
kªsu…
) {

1572 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "ÁûedÅÿgë bu†‰amênumbî: %d", 
kªsu…
);

1573 
	`‰ì
(
çriv
->
isoc_‰amñi°
);

1574 
çriv
->
isoc_‰amñi°
 = 
NULL
;

1576  
	`d¨wö_to_libusb
 (
kªsu…
);

1579 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`GëPùePr›îtõs
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, &
dúe˘i⁄
, &
numbî
,

1580 &
å™s„rTy≥
, &
maxPackëSize
, &
öãrvÆ
);

1583 
‰ame
 += 4;

1585 i‡(
cI¡îÁ˚
->
‰ames
[
å™s„r
->
ídpoöt
] && 
‰ame
 < cInterface->frames[transfer->endpoint])

1586 
‰ame
 = 
cI¡îÁ˚
->
‰ames
[
å™s„r
->
ídpoöt
];

1589 i‡(
	`IS_XFERIN
(
å™s„r
))

1590 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`RódIsochPùeAsync
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
, 
‰ame
,

1591 
å™s„r
->
num_iso_∑ckës
, 
çriv
->
isoc_‰amñi°
, 
d¨wö_async_io_ˇŒback
,

1592 
ôøns„r
);

1594 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`WrôeIsochPùeAsync
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
, 
‰ame
,

1595 
å™s„r
->
num_iso_∑ckës
, 
çriv
->
isoc_‰amñi°
, 
d¨wö_async_io_ˇŒback
,

1596 
ôøns„r
);

1598 i‡(
LIBUSB_SPEED_FULL
 =
å™s„r
->
dev_h™dÀ
->
dev
->
•ìd
)

1600 
cI¡îÁ˚
->
‰ames
[
å™s„r
->
ídpoöt
] = 
‰ame
 +Åøns„r->
num_iso_∑ckës
 * (1 << (
öãrvÆ
 - 1));

1603 
cI¡îÁ˚
->
‰ames
[
å™s„r
->
ídpoöt
] = 
‰ame
 +Åøns„r->
num_iso_∑ckës
 * (1 << (
öãrvÆ
 - 1)) / 8;

1605 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
) {

1606 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "isochr⁄ou†å™s„∏Áûed (dú: %s): %s", 
	`IS_XFERIN
(transfer) ? "In" : "Out",

1607 
	`d¨wö_îr‹_°r
(
kªsu…
));

1608 
	`‰ì
 (
çriv
->
isoc_‰amñi°
);

1609 
çriv
->
isoc_‰amñi°
 = 
NULL
;

1612  
	`d¨wö_to_libusb
 (
kªsu…
);

1613 
	}
}

1615 
	$submô_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1616 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1617 
libusb_c⁄åﬁ_£tup
 *
£tup
 = (libusb_c⁄åﬁ_£tu∞*Ë
å™s„r
->
buf„r
;

1618 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
å™s„r
->
dev_h™dÀ
->
dev
);

1619 
d¨wö_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1621 
IORëu∫
 
kªsu…
;

1623 
	`bzîo
(&
çriv
->
ªq
, (tpriv->req));

1626 
çriv
->
ªq
.
bmReque°Ty≥
 = 
£tup
->bmRequestType;

1627 
çriv
->
ªq
.
bReque°
 = 
£tup
->bRequest;

1629 
çriv
->
ªq
.
wVÆue
 = 
	`OSSw≠LôéeToHo°I¡16
 (
£tup
->wValue);

1630 
çriv
->
ªq
.
wIndex
 = 
	`OSSw≠LôéeToHo°I¡16
 (
£tup
->wIndex);

1631 
çriv
->
ªq
.
wLígth
 = 
	`OSSw≠LôéeToHo°I¡16
 (
£tup
->wLength);

1633 
çriv
->
ªq
.
pD©a
 = 
å™s„r
->
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
;

1634 
çriv
->
ªq
.
com∂ëi⁄Timeout
 = 
å™s„r
->
timeout
;

1635 
çriv
->
ªq
.
noD©aTimeout
 = 
å™s„r
->
timeout
;

1637 
ôøns„r
->
Êags
 |
USBI_TRANSFER_OS_HANDLES_TIMEOUT
;

1641 i‡(
å™s„r
->
ídpoöt
) {

1642 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1643 
uöt8_t
 
pùeRef
;

1645 i‡(
	`ï_to_pùeRef
 (
å™s„r
->
dev_h™dÀ
,Åøns„r->
ídpoöt
, &
pùeRef
, 
NULL
, &
cI¡îÁ˚
) != 0) {

1646 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "endpointÇot found onány open interface");

1648  
LIBUSB_ERROR_NOT_FOUND
;

1651 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`C⁄åﬁReque°AsyncTO
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, &(
çriv
->
ªq
), 
d¨wö_async_io_ˇŒback
, 
ôøns„r
);

1654 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`Devi˚Reque°AsyncTO
(d¥iv->devi˚, &(
çriv
->
ªq
), 
d¨wö_async_io_ˇŒback
, 
ôøns„r
);

1656 i‡(
kªsu…
 !
kIORëu∫Suc˚ss
)

1657 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "c⁄åﬁÑeque° faûed: %s", 
	`d¨wö_îr‹_°r
(
kªsu…
));

1659  
	`d¨wö_to_libusb
 (
kªsu…
);

1660 
	}
}

1662 
	$d¨wö_submô_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1663 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1665 
å™s„r
->
ty≥
) {

1666 
LIBUSB_TRANSFER_TYPE_CONTROL
:

1667  
	`submô_c⁄åﬁ_å™s„r
(
ôøns„r
);

1668 
LIBUSB_TRANSFER_TYPE_BULK
:

1669 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

1670  
	`submô_bulk_å™s„r
(
ôøns„r
);

1671 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

1672  
	`submô_iso_å™s„r
(
ôøns„r
);

1673 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

1674 #i‡
I¡îÁ˚Vîsi⁄
 >= 550

1675  
	`submô_°ªam_å™s„r
(
ôøns„r
);

1677 
	`usbi_îr
 (
	`TRANSFER_CTX
(
å™s„r
), "IOUSBFamily version doesÇot support bulk streamÅransfers");

1678  
LIBUSB_ERROR_NOT_SUPPORTED
;

1681 
	`usbi_îr
 (
	`TRANSFER_CTX
(
å™s„r
), "unknow¿ídpoöàty≥ %d",Åøns„r->
ty≥
);

1682  
LIBUSB_ERROR_INVALID_PARAM
;

1684 
	}
}

1686 
	$ˇn˚l_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1687 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1688 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
å™s„r
->
dev_h™dÀ
->
dev
);

1689 
IORëu∫
 
kªsu…
;

1691 
	`usbi_w¨n
 (
	`ITRANSFER_CTX
 (
ôøns„r
), "abortingállÅransactions controlÖipe");

1693 i‡(!
d¥iv
->
devi˚
)

1694  
LIBUSB_ERROR_NO_DEVICE
;

1696 
kªsu…
 = (*(
d¥iv
->
devi˚
))->
	`USBDevi˚Ab‹tPùeZîo
 (dpriv->device);

1698  
	`d¨wö_to_libusb
 (
kªsu…
);

1699 
	}
}

1701 
	$d¨wö_ab‹t_å™s„rs
 (
usbi_å™s„r
 *
ôøns„r
) {

1702 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1703 
d¨wö_ˇched_devi˚
 *
d¥iv
 = 
	`DARWIN_CACHED_DEVICE
(
å™s„r
->
dev_h™dÀ
->
dev
);

1704 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1705 
uöt8_t
 
pùeRef
, 
iÁ˚
;

1706 
IORëu∫
 
kªsu…
;

1708 i‡(
	`ï_to_pùeRef
 (
å™s„r
->
dev_h™dÀ
,Åøns„r->
ídpoöt
, &
pùeRef
, &
iÁ˚
, &
cI¡îÁ˚
) != 0) {

1709 
	`usbi_îr
 (
	`TRANSFER_CTX
 (
å™s„r
), "endpointÇot found onány open interface");

1711  
LIBUSB_ERROR_NOT_FOUND
;

1714 i‡(!
d¥iv
->
devi˚
)

1715  
LIBUSB_ERROR_NO_DEVICE
;

1717 
	`usbi_w¨n
 (
	`ITRANSFER_CTX
 (
ôøns„r
), "ab‹tögáŒÅønß˘i⁄†⁄ i¡îÁ˚ %dÖùê%d", 
iÁ˚
, 
pùeRef
);

1720 #i‡
I¡îÁ˚Vîsi⁄
 >= 550

1721 i‡(
LIBUSB_TRANSFER_TYPE_BULK_STREAM
 =
å™s„r
->
ty≥
)

1722 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Ab‹tSåómsPùe
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
ôøns„r
->
°ªam_id
);

1725 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Ab‹tPùe
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
);

1727 
	`usbi_dbg
 ("calling clearÖipe stallÅo clearÅhe dataÅoggle bit");

1730 
kªsu…
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`CÀ¨PùeSèŒBŸhEnds
(cI¡îÁ˚->öãrÁ˚, 
pùeRef
);

1732  
	`d¨wö_to_libusb
 (
kªsu…
);

1733 
	}
}

1735 
	$d¨wö_ˇn˚l_å™s„r
(
usbi_å™s„r
 *
ôøns„r
) {

1736 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1738 
å™s„r
->
ty≥
) {

1739 
LIBUSB_TRANSFER_TYPE_CONTROL
:

1740  
	`ˇn˚l_c⁄åﬁ_å™s„r
(
ôøns„r
);

1741 
LIBUSB_TRANSFER_TYPE_BULK
:

1742 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

1743 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

1744  
	`d¨wö_ab‹t_å™s„rs
 (
ôøns„r
);

1746 
	`usbi_îr
 (
	`TRANSFER_CTX
(
å™s„r
), "unknow¿ídpoöàty≥ %d",Åøns„r->
ty≥
);

1747  
LIBUSB_ERROR_INVALID_PARAM
;

1749 
	}
}

1751 
	$d¨wö_˛ór_å™s„r_¥iv
 (
usbi_å™s„r
 *
ôøns„r
) {

1752 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1753 
d¨wö_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1755 i‡(
å™s„r
->
ty≥
 =
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
 && 
çriv
->
isoc_‰amñi°
) {

1756 
	`‰ì
 (
çriv
->
isoc_‰amñi°
);

1757 
çriv
->
isoc_‰amñi°
 = 
NULL
;

1759 
	}
}

1761 
	$d¨wö_async_io_ˇŒback
 (*
ªfc⁄
, 
IORëu∫
 
ªsu…
, *
¨g0
) {

1762 
usbi_å™s„r
 *
ôøns„r
 = (usbi_å™s„∏*)
ªfc⁄
;

1763 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1764 
d¨wö_devi˚_h™dÀ_¥iv
 *
¥iv
 = (d¨wö_devi˚_h™dÀ_¥iv *)
å™s„r
->
dev_h™dÀ
->
os_¥iv
;

1765 
d¨wö_msg_async_io_com∂ëe
 
mesßge
 = {.
ôøns„r
 = iå™s„r, .
ªsu…
 =Ñesult,

1766 .
size
 = (
UI¡32
Ë(
uöçå_t
Ë
¨g0
};

1768 
	`usbi_dbg
 ("anásync io operation has completed");

1771 i‡(
kIORëu∫Suc˚ss
 =
ªsu…
 && 
	`IS_XFEROUT
(
å™s„r
Ë&&Åøns„r->
Êags
 & 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
) {

1772 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1773 
uöt8_t
 
pùeRef
;

1775 (Ë
	`ï_to_pùeRef
 (
å™s„r
->
dev_h™dÀ
,Åøns„r->
ídpoöt
, &
pùeRef
, 
NULL
, &
cI¡îÁ˚
);

1777 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`WrôePùe
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
å™s„r
->
buf„r
, 0);

1781 
	`wrôe
 (
¥iv
->
fds
[1], &
mesßge
,  (message));

1782 
	}
}

1784 
	$d¨wö_å™s„r_°©us
 (
usbi_å™s„r
 *
ôøns„r
, 
kîn_ªtu∫_t
 
ªsu…
) {

1785 i‡(
ôøns„r
->
Êags
 & 
USBI_TRANSFER_TIMED_OUT
)

1786 
ªsu…
 = 
kIOUSBTønß˘i⁄Timeout
;

1788 
ªsu…
) {

1789 
kIORëu∫Undîrun
:

1790 
kIORëu∫Suc˚ss
:

1791  
LIBUSB_TRANSFER_COMPLETED
;

1792 
kIORëu∫Ab‹ãd
:

1793  
LIBUSB_TRANSFER_CANCELLED
;

1794 
kIOUSBPùeSèŒed
:

1795 
	`usbi_dbg
 ("transferÉrror:Öipe is stalled");

1796  
LIBUSB_TRANSFER_STALL
;

1797 
kIORëu∫Ovîrun
:

1798 
	`usbi_w¨n
 (
	`ITRANSFER_CTX
 (
ôøns„r
), "transferÉrror: data overrun");

1799 #ifde‡
YS_PRINT_API


1800 
	`YSPRINT
("%s:%d %s: ===============\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

1802  
LIBUSB_TRANSFER_OVERFLOW
;

1803 
kIOUSBTønß˘i⁄Timeout
:

1804 
	`usbi_w¨n
 (
	`ITRANSFER_CTX
 (
ôøns„r
), "transferÉrror:Åimed out");

1805 
ôøns„r
->
Êags
 |
USBI_TRANSFER_TIMED_OUT
;

1806  
LIBUSB_TRANSFER_TIMED_OUT
;

1808 
	`usbi_w¨n
 (
	`ITRANSFER_CTX
 (
ôøns„r
), "å™s„∏îr‹: %†(vÆuê0x%08x)", 
	`d¨wö_îr‹_°r
 (
ªsu…
),Ñesult);

1809  
LIBUSB_TRANSFER_ERROR
;

1811 
	}
}

1813 
	$d¨wö_h™dÀ_ˇŒback
 (
usbi_å™s„r
 *
ôøns„r
, 
kîn_ªtu∫_t
 
ªsu…
, 
UI¡32
 
io_size
) {

1814 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1815 
d¨wö_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1816 
isIsoc
 = 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
 =
å™s„r
->
ty≥
;

1817 
isBulk
 = 
LIBUSB_TRANSFER_TYPE_BULK
 =
å™s„r
->
ty≥
;

1818 
isC⁄åﬁ
 = 
LIBUSB_TRANSFER_TYPE_CONTROL
 =
å™s„r
->
ty≥
;

1819 
isI¡îru±
 = 
LIBUSB_TRANSFER_TYPE_INTERRUPT
 =
å™s„r
->
ty≥
;

1820 
i
;

1822 i‡(!
isIsoc
 && !
isBulk
 && !
isC⁄åﬁ
 && !
isI¡îru±
) {

1823 
	`usbi_îr
 (
	`TRANSFER_CTX
(
å™s„r
), "unknow¿ídpoöàty≥ %d",Åøns„r->
ty≥
);

1827 
	`usbi_dbg
 ("handling %s completion with kernel status %d",

1828 
isC⁄åﬁ
 ? "c⁄åﬁ" : 
isBulk
 ? "bulk" : 
isIsoc
 ? "isoc" : "öãºu±", 
ªsu…
);

1830 i‡(
kIORëu∫Suc˚ss
 =
ªsu…
 || 
kIORëu∫Undîrun
 ==Ñesult) {

1831 i‡(
isIsoc
 && 
çriv
->
isoc_‰amñi°
) {

1834 
i
 = 0; i < 
å™s„r
->
num_iso_∑ckës
 ; i++) {

1835 
libusb_iso_∑ckë_des¸ùt‹
 *
lib_desc
 = &
å™s„r
->
iso_∑ckë_desc
[
i
];

1836 
lib_desc
->
°©us
 = 
	`d¨wö_to_libusb
 (
çriv
->
isoc_‰amñi°
[
i
].
‰Sètus
);

1837 
lib_desc
->
a˘uÆ_Àngth
 = 
çriv
->
isoc_‰amñi°
[
i
].
‰A˘Cou¡
;

1839 } i‡(!
isIsoc
)

1840 
ôøns„r
->
å™s„ºed
 +
io_size
;

1844 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
 (
ôøns„r
, 
	`d¨wö_å™s„r_°©us
 (ôøns„r, 
ªsu…
));

1845 
	}
}

1847 
	$›_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
pﬁlfd
 *
fds
, 
POLL_NFDS_TYPE
 
nfds
, 
num_ªady
) {

1848 
d¨wö_msg_async_io_com∂ëe
 
mesßge
;

1849 
POLL_NFDS_TYPE
 
i
 = 0;

1850 
ssize_t
 
ªt
;

1852 
	`usbi_muãx_lock
(&
˘x
->
›í_devs_lock
);

1854 
i
 = 0; i < 
nfds
 && 
num_ªady
 > 0; i++) {

1855 
pﬁlfd
 *pﬁlfd = &
fds
[
i
];

1857 
	`usbi_dbg
 ("checkög fd %òwôhÑevít†%x", 
pﬁlfd
->
fd
,Öﬁlfd->
ªvíts
);

1859 i‡(!
pﬁlfd
->
ªvíts
)

1862 
num_ªady
--;

1864 i‡(
pﬁlfd
->
ªvíts
 & 
POLLERR
) {

1870 
ªt
 = 
	`ªad
 (
pﬁlfd
->
fd
, &
mesßge
,  (message));

1871 i‡(
ªt
 < (
ssize_t
Ë (
mesßge
)) {

1872 
	`usbi_dbg
 ("WARNING: shortÑead onásync io completionÖipe\n");

1876 
	`d¨wö_h™dÀ_ˇŒback
 (
mesßge
.
ôøns„r
, mesßge.
ªsu…
, mesßge.
size
);

1879 
	`usbi_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

1882 
	}
}

1884 
	$d¨wö_˛ock_gëtime
(
˛k_id
, 
time•ec
 *
ç
) {

1885 
mach_time•ec_t
 
sys_time
;

1886 
˛ock_£rv_t
 
˛ock_ªf
;

1888 
˛k_id
) {

1889 
USBI_CLOCK_REALTIME
:

1891 
˛ock_ªf
 = 
˛ock_ªÆtime
;

1893 
USBI_CLOCK_MONOTONIC
:

1895 
˛ock_ªf
 = 
˛ock_m⁄Ÿ⁄ic
;

1898  
LIBUSB_ERROR_INVALID_PARAM
;

1901 
	`˛ock_gë_time
 (
˛ock_ªf
, &
sys_time
);

1903 
ç
->
tv_£c
 = 
sys_time
.tv_sec;

1904 
ç
->
tv_n£c
 = 
sys_time
.tv_nsec;

1907 
	}
}

1909 #i‡
I¡îÁ˚Vîsi⁄
 >= 550

1910 
	$d¨wö_Æloc_°ªams
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
uöt32_t
 
num_°ªams
, *
ídpoöts
,

1911 
num_ídpoöts
) {

1912 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1913 
UI¡32
 
suµ‹tsSåóms
;

1914 
uöt8_t
 
pùeRef
;

1915 
rc
, 
i
;

1918 
i
 = 0 ; i < 
num_ídpoöts
 ; ++i) {

1919 i‡(0 !(
rc
 = 
	`ï_to_pùeRef
 (
dev_h™dÀ
, 
ídpoöts
[
i
], &
pùeRef
, 
NULL
, &
cI¡îÁ˚
))) {

1920  
rc
;

1923 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Suµ‹tsSåóms
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, &
suµ‹tsSåóms
);

1924 i‡(
num_°ªams
 > 
suµ‹tsSåóms
)

1925 
num_°ªams
 = 
suµ‹tsSåóms
;

1929 i‡(0 =
num_°ªams
)

1930  
LIBUSB_ERROR_INVALID_PARAM
;

1933 
i
 = 0 ; i < 
num_ídpoöts
 ; ++i) {

1934 (Ë
	`ï_to_pùeRef
 (
dev_h™dÀ
, 
ídpoöts
[
i
], &
pùeRef
, 
NULL
, &
cI¡îÁ˚
);

1936 
rc
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Cª©eSåóms
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 
num_°ªams
);

1937 i‡(
kIORëu∫Suc˚ss
 !
rc
)

1938  
	`d¨wö_to_libusb
(
rc
);

1941  
num_°ªams
;

1942 
	}
}

1944 
	$d¨wö_‰ì_°ªams
 (
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, *
ídpoöts
, 
num_ídpoöts
) {

1945 
d¨wö_öãrÁ˚
 *
cI¡îÁ˚
;

1946 
UI¡32
 
suµ‹tsSåóms
;

1947 
uöt8_t
 
pùeRef
;

1948 
rc
;

1950 
i
 = 0 ; i < 
num_ídpoöts
 ; ++i) {

1951 i‡(0 !(
rc
 = 
	`ï_to_pùeRef
 (
dev_h™dÀ
, 
ídpoöts
[
i
], &
pùeRef
, 
NULL
, &
cI¡îÁ˚
)))

1952  
rc
;

1954 (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Suµ‹tsSåóms
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, &
suµ‹tsSåóms
);

1955 i‡(0 =
suµ‹tsSåóms
)

1956  
LIBUSB_ERROR_INVALID_PARAM
;

1958 
rc
 = (*(
cI¡îÁ˚
->
öãrÁ˚
))->
	`Cª©eSåóms
 (cI¡îÁ˚->öãrÁ˚, 
pùeRef
, 0);

1959 i‡(
kIORëu∫Suc˚ss
 !
rc
)

1960  
	`d¨wö_to_libusb
(
rc
);

1963  
LIBUSB_SUCCESS
;

1964 
	}
}

1967 c⁄° 
usbi_os_backíd
 
	gd¨wö_backíd
 = {

1968 .
«me
 = "Darwin",

1969 .
	gˇps
 = 0,

1970 .
	göô
 = 
d¨wö_öô
,

1971 .
	gexô
 = 
d¨wö_exô
,

1972 .
	ggë_devi˚_li°
 = 
NULL
,

1973 .
	ggë_devi˚_des¸ùt‹
 = 
d¨wö_gë_devi˚_des¸ùt‹
,

1974 .
	ggë_a˘ive_c⁄fig_des¸ùt‹
 = 
d¨wö_gë_a˘ive_c⁄fig_des¸ùt‹
,

1975 .
	ggë_c⁄fig_des¸ùt‹
 = 
d¨wö_gë_c⁄fig_des¸ùt‹
,

1976 .
	ghŸ∂ug_pﬁl
 = 
d¨wö_hŸ∂ug_pﬁl
,

1978 .
	g›í
 = 
d¨wö_›í
,

1979 .
	g˛o£
 = 
d¨wö_˛o£
,

1980 .
	ggë_c⁄figuøti⁄
 = 
d¨wö_gë_c⁄figuøti⁄
,

1981 .
	g£t_c⁄figuøti⁄
 = 
d¨wö_£t_c⁄figuøti⁄
,

1982 .
	g˛aim_öãrÁ˚
 = 
d¨wö_˛aim_öãrÁ˚
,

1983 .
	gªÀa£_öãrÁ˚
 = 
d¨wö_ªÀa£_öãrÁ˚
,

1985 .
	g£t_öãrÁ˚_Æt£âög
 = 
d¨wö_£t_öãrÁ˚_Æt£âög
,

1986 .
	g˛ór_hÆt
 = 
d¨wö_˛ór_hÆt
,

1987 .
	gª£t_devi˚
 = 
d¨wö_ª£t_devi˚
,

1989 #i‡
I¡îÁ˚Vîsi⁄
 >= 550

1990 .
	gÆloc_°ªams
 = 
d¨wö_Æloc_°ªams
,

1991 .
	g‰ì_°ªams
 = 
d¨wö_‰ì_°ªams
,

1994 .
	gkî√l_drivî_a˘ive
 = 
d¨wö_kî√l_drivî_a˘ive
,

1995 .
	gdëach_kî√l_drivî
 = 
d¨wö_dëach_kî√l_drivî
,

1996 .
	g©èch_kî√l_drivî
 = 
d¨wö_©èch_kî√l_drivî
,

1998 .
	gde°roy_devi˚
 = 
d¨wö_de°roy_devi˚
,

2000 .
	gsubmô_å™s„r
 = 
d¨wö_submô_å™s„r
,

2001 .
	gˇn˚l_å™s„r
 = 
d¨wö_ˇn˚l_å™s„r
,

2002 .
	g˛ór_å™s„r_¥iv
 = 
d¨wö_˛ór_å™s„r_¥iv
,

2004 .
	gh™dÀ_evíts
 = 
›_h™dÀ_evíts
,

2006 .
	g˛ock_gëtime
 = 
d¨wö_˛ock_gëtime
,

2008 .
	gdevi˚_¥iv_size
 = (
d¨wö_devi˚_¥iv
),

2009 .
	gdevi˚_h™dÀ_¥iv_size
 = (
d¨wö_devi˚_h™dÀ_¥iv
),

2010 .
	gå™s„r_¥iv_size
 = (
d¨wö_å™s„r_¥iv
),

2011 .
	gadd_iso_∑ckë_size
 = 0,

	@libusb/os/darwin_usb.h

20 #i‡!
deföed
(
LIBUSB_DARWIN_H
)

21 
	#LIBUSB_DARWIN_H


	)

23 
	~"libusbi.h
"

25 
	~<IOKô/IOTy≥s.h
>

26 
	~<IOKô/IOCFBundÀ.h
>

27 
	~<IOKô/usb/IOUSBLib.h
>

28 
	~<IOKô/IOCFPlugIn.h
>

31 #i‡
deföed
 (
kIOUSBI¡îÁ˚I¡îÁ˚ID550
)

33 
	#usb_öãrÁ˚_t
 
IOUSBI¡îÁ˚I¡îÁ˚550


	)

34 
	#I¡îÁ˚I¡îÁ˚ID
 
kIOUSBI¡îÁ˚I¡îÁ˚ID550


	)

35 
	#I¡îÁ˚Vîsi⁄
 550

	)

37 #ñi‡
deföed
 (
kIOUSBI¡îÁ˚I¡îÁ˚ID500
)

39 
	#usb_öãrÁ˚_t
 
IOUSBI¡îÁ˚I¡îÁ˚500


	)

40 
	#I¡îÁ˚I¡îÁ˚ID
 
kIOUSBI¡îÁ˚I¡îÁ˚ID500


	)

41 
	#I¡îÁ˚Vîsi⁄
 500

	)

43 #ñi‡
deföed
 (
kIOUSBI¡îÁ˚I¡îÁ˚ID300
)

45 
	#usb_öãrÁ˚_t
 
IOUSBI¡îÁ˚I¡îÁ˚300


	)

46 
	#I¡îÁ˚I¡îÁ˚ID
 
kIOUSBI¡îÁ˚I¡îÁ˚ID300


	)

47 
	#I¡îÁ˚Vîsi⁄
 300

	)

49 #ñi‡
deföed
 (
kIOUSBI¡îÁ˚I¡îÁ˚ID245
)

51 
	#usb_öãrÁ˚_t
 
IOUSBI¡îÁ˚I¡îÁ˚245


	)

52 
	#I¡îÁ˚I¡îÁ˚ID
 
kIOUSBI¡îÁ˚I¡îÁ˚ID245


	)

53 
	#I¡îÁ˚Vîsi⁄
 245

	)

55 #ñi‡
deföed
 (
kIOUSBI¡îÁ˚I¡îÁ˚ID220
)

57 
	#usb_öãrÁ˚_t
 
IOUSBI¡îÁ˚I¡îÁ˚220


	)

58 
	#I¡îÁ˚I¡îÁ˚ID
 
kIOUSBI¡îÁ˚I¡îÁ˚ID220


	)

59 
	#I¡îÁ˚Vîsi⁄
 220

	)

68 #i‡
deföed
 (
kIOUSBDevi˚I¡îÁ˚ID500
)

70 
	#usb_devi˚_t
 
IOUSBDevi˚I¡îÁ˚500


	)

71 
	#Devi˚I¡îÁ˚ID
 
kIOUSBDevi˚I¡îÁ˚ID500


	)

72 
	#Devi˚Vîsi⁄
 500

	)

74 #ñi‡
deföed
 (
kIOUSBDevi˚I¡îÁ˚ID320
)

76 
	#usb_devi˚_t
 
IOUSBDevi˚I¡îÁ˚320


	)

77 
	#Devi˚I¡îÁ˚ID
 
kIOUSBDevi˚I¡îÁ˚ID320


	)

78 
	#Devi˚Vîsi⁄
 320

	)

80 #ñi‡
deföed
 (
kIOUSBDevi˚I¡îÁ˚ID300
)

82 
	#usb_devi˚_t
 
IOUSBDevi˚I¡îÁ˚300


	)

83 
	#Devi˚I¡îÁ˚ID
 
kIOUSBDevi˚I¡îÁ˚ID300


	)

84 
	#Devi˚Vîsi⁄
 300

	)

86 #ñi‡
deföed
 (
kIOUSBDevi˚I¡îÁ˚ID245
)

88 
	#usb_devi˚_t
 
IOUSBDevi˚I¡îÁ˚245


	)

89 
	#Devi˚I¡îÁ˚ID
 
kIOUSBDevi˚I¡îÁ˚ID245


	)

90 
	#Devi˚Vîsi⁄
 245

	)

92 #ñi‡
deföed
 (
kIOUSBDevi˚I¡îÁ˚ID220
)

93 
	#usb_devi˚_t
 
IOUSBDevi˚I¡îÁ˚197


	)

94 
	#Devi˚I¡îÁ˚ID
 
kIOUSBDevi˚I¡îÁ˚ID197


	)

95 
	#Devi˚Vîsi⁄
 197

	)

103 #i‡!
deföed
(
IO_OBJECT_NULL
)

104 
	#IO_OBJECT_NULL
 ((
io_obje˘_t
Ë0)

	)

107 
IOCFPlugInI¡îÁ˚
 *
	tio_cf_∂ugö_ªf_t
;

108 
IONŸifiˇti⁄P‹tRef
 
	tio_nŸifiˇti⁄_p‹t_t
;

111 
	sd¨wö_ˇched_devi˚
 {

112 
li°_hód
 
	mli°
;

113 
IOUSBDevi˚Des¸ùt‹
 
	mdev_des¸ùt‹
;

114 
UI¡32
 
	mloˇti⁄
;

115 
UI¡64
 
	m∑ª¡_£ssi⁄
;

116 
UI¡64
 
	m£ssi⁄
;

117 
UI¡16
 
	maddªss
;

118 
	msys_∑th
[21];

119 
usb_devi˚_t
 **
	mdevi˚
;

120 
	m›í_cou¡
;

121 
UI¡8
 
	mfú°_c⁄fig
, 
	ma˘ive_c⁄fig
, 
	mp‹t
;

122 
	mˇn_íumî©e
;

123 
	mªfcou¡
;

126 
	sd¨wö_devi˚_¥iv
 {

127 
d¨wö_ˇched_devi˚
 *
	mdev
;

130 
	sd¨wö_devi˚_h™dÀ_¥iv
 {

131 
	mis_›í
;

132 
CFRunLo›Sour˚Ref
 
	mcfSour˚
;

133 
	mfds
[2];

135 
	sd¨wö_öãrÁ˚
 {

136 
usb_öãrÁ˚_t
 **
	möãrÁ˚
;

137 
uöt8_t
 
	mnum_ídpoöts
;

138 
CFRunLo›Sour˚Ref
 
	mcfSour˚
;

139 
uöt64_t
 
	m‰ames
[256];

140 
uöt8_t
 
	mídpoöt_addrs
[
USB_MAXENDPOINTS
];

141 } 
	möãrÁ˚s
[
USB_MAXINTERFACES
];

144 
	sd¨wö_å™s„r_¥iv
 {

146 
IOUSBIsocFøme
 *
	misoc_‰amñi°
;

147 
	mnum_iso_∑ckës
;

150 
IOUSBDevReque°TO
 
	mªq
;

156 
	sd¨wö_msg_async_io_com∂ëe
 {

157 
usbi_å™s„r
 *
	môøns„r
;

158 
IORëu∫
 
	mªsu…
;

159 
UI¡32
 
	msize
;

	@libusb/os/linux_netlink.c

23 
	~"c⁄fig.h
"

24 
	~"libusb.h
"

25 
	~"libusbi.h
"

26 
	~"löux_usbfs.h
"

28 
	~<˘y≥.h
>

29 
	~<dúít.h
>

30 
	~<î∫o.h
>

31 
	~<f˙é.h
>

32 
	~<pﬁl.h
>

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

36 
	~<sys/ty≥s.h
>

38 #ifde‡
HAVE_ASM_TYPES_H


39 
	~<asm/ty≥s.h
>

42 #ifde‡
HAVE_SYS_SOCKET_H


43 
	~<sys/sockë.h
>

46 
	~<¨∑/öë.h
>

48 #ifde‡
HAVE_LINUX_NETLINK_H


49 
	~<löux/√éök.h
>

52 #ifde‡
HAVE_LINUX_FILTER_H


53 
	~<löux/fûãr.h
>

56 
	#KERNEL
 1

	)

58 
	glöux_√éök_sockë
 = -1;

59 
	g√éök_c⁄åﬁ_pùe
[2] = { -1, -1 };

60 
±hªad_t
 
	glibusb_löux_evít_thªad
;

62 *
löux_√éök_evít_thªad_maö
(*
¨g
);

64 
sockaddr_∆
 
	g¢l
 = { .
∆_Ámûy
=
AF_NETLINK
, .
	g∆_groups
=
KERNEL
 };

66 
	$£t_fd_˛€xec_nb
 (
fd
)

68 
Êags
;

70 #i‡
	`deföed
(
FD_CLOEXEC
)

71 
Êags
 = 
	`f˙é
 (
löux_√éök_sockë
, 
F_GETFD
);

72 i‡(0 > 
Êags
) {

76 i‡(!(
Êags
 & 
FD_CLOEXEC
)) {

77 
	`f˙é
 (
löux_√éök_sockë
, 
F_SETFD
, 
Êags
 | 
FD_CLOEXEC
);

81 
Êags
 = 
	`f˙é
 (
löux_√éök_sockë
, 
F_GETFL
);

82 i‡(0 > 
Êags
) {

86 i‡(!(
Êags
 & 
O_NONBLOCK
)) {

87 
	`f˙é
 (
löux_√éök_sockë
, 
F_SETFL
, 
Êags
 | 
O_NONBLOCK
);

91 
	}
}

93 
	$löux_√éök_°¨t_evít_m⁄ô‹
()

95 
sockty≥
 = 
SOCK_RAW
;

96 
ªt
;

98 
¢l
.
∆_groups
 = 
KERNEL
;

100 #i‡
	`deföed
(
SOCK_CLOEXEC
)

101 
sockty≥
 |
SOCK_CLOEXEC
;

103 #i‡
	`deföed
(
SOCK_NONBLOCK
)

104 
sockty≥
 |
SOCK_NONBLOCK
;

107 
löux_√éök_sockë
 = 
	`sockë
(
PF_NETLINK
, 
sockty≥
, 
NETLINK_KOBJECT_UEVENT
);

108 i‡(-1 =
löux_√éök_sockë
 && 
EINVAL
 =
î∫o
) {

109 
löux_√éök_sockë
 = 
	`sockë
(
PF_NETLINK
, 
SOCK_RAW
, 
NETLINK_KOBJECT_UEVENT
);

112 i‡(-1 =
löux_√éök_sockë
) {

113  
LIBUSB_ERROR_OTHER
;

116 
ªt
 = 
	`£t_fd_˛€xec_nb
 (
löux_√éök_sockë
);

117 i‡(0 !
ªt
) {

118 
	`˛o£
 (
löux_√éök_sockë
);

119 
löux_√éök_sockë
 = -1;

120  
LIBUSB_ERROR_OTHER
;

123 
ªt
 = 
	`böd
(
löux_√éök_sockë
, (
sockaddr
 *Ë&
¢l
, (snl));

124 i‡(0 !
ªt
) {

125 
	`˛o£
(
löux_√éök_sockë
);

126  
LIBUSB_ERROR_OTHER
;

132 
ªt
 = 
	`usbi_pùe
(
√éök_c⁄åﬁ_pùe
);

133 i‡(
ªt
) {

134 
	`usbi_îr
(
NULL
, "couldÇot createÇetlink controlÖipe");

135 
	`˛o£
(
löux_√éök_sockë
);

136  
LIBUSB_ERROR_OTHER
;

139 
ªt
 = 
	`±hªad_¸óã
(&
libusb_löux_evít_thªad
, 
NULL
, 
löux_√éök_evít_thªad_maö
, NULL);

140 i‡(0 !
ªt
) {

141 
	`˛o£
(
√éök_c⁄åﬁ_pùe
[0]);

142 
	`˛o£
(
√éök_c⁄åﬁ_pùe
[1]);

143 
	`˛o£
(
löux_√éök_sockë
);

144  
LIBUSB_ERROR_OTHER
;

147  
LIBUSB_SUCCESS
;

148 
	}
}

150 
	$löux_√éök_°›_evít_m⁄ô‹
()

152 
r
;

153 
dummy
 = 1;

155 i‡(-1 =
löux_√éök_sockë
) {

157  
LIBUSB_SUCCESS
;

162 
r
 = 
	`usbi_wrôe
(
√éök_c⁄åﬁ_pùe
[1], &
dummy
, (dummy));

163 i‡(
r
 <= 0) {

164 
	`usbi_w¨n
(
NULL
, "netlink controlÖipe signal failed");

166 
	`±hªad_joö
(
libusb_löux_evít_thªad
, 
NULL
);

168 
	`˛o£
(
löux_√éök_sockë
);

169 
löux_√éök_sockë
 = -1;

172 
	`˛o£
(
√éök_c⁄åﬁ_pùe
[0]);

173 
	`˛o£
(
√éök_c⁄åﬁ_pùe
[1]);

174 
√éök_c⁄åﬁ_pùe
[0] = -1;

175 
√éök_c⁄åﬁ_pùe
[1] = -1;

177  
LIBUSB_SUCCESS
;

178 
	}
}

180 c⁄° *
	$√éök_mesßge_∑r£
 (c⁄° *
buf„r
, 
size_t
 
Àn
, c⁄° *
key
)

182 
size_t
 
keyÀn
 = 
	`°æí
(
key
);

183 
size_t
 
off£t
;

185 
off£t
 = 0 ; off£à< 
Àn
 && '\0' !
buf„r
[off£t] ; off£à+
	`°æí
(buffer + offset) + 1) {

186 i‡(0 =
	`°∫cmp
(
buf„r
 + 
off£t
, 
key
, 
keyÀn
) &&

187 '=' =
buf„r
[
off£t
 + 
keyÀn
]) {

188  
buf„r
 + 
off£t
 + 
keyÀn
 + 1;

192  
NULL
;

193 
	}
}

196 
	$löux_√éök_∑r£
(*
buf„r
, 
size_t
 
Àn
, *
dëached
, c⁄° **
sys_«me
,

197 
uöt8_t
 *
bu¢um
, uöt8_à*
devaddr
) {

198 c⁄° *
tmp
;

199 
i
;

201 
î∫o
 = 0;

203 *
sys_«me
 = 
NULL
;

204 *
dëached
 = 0;

205 *
bu¢um
 = 0;

206 *
devaddr
 = 0;

208 
tmp
 = 
	`√éök_mesßge_∑r£
((c⁄° *Ë
buf„r
, 
Àn
, "ACTION");

209 i‡(
tmp
 =
NULL
)

211 i‡(0 =
	`°rcmp
(
tmp
, "remove")) {

212 *
dëached
 = 1;

213 } i‡(0 !
	`°rcmp
(
tmp
, "add")) {

214 
	`usbi_dbg
("unknow¿devi˚á˘i⁄ %s", 
tmp
);

219 
tmp
 = 
	`√éök_mesßge_∑r£
(
buf„r
, 
Àn
, "SUBSYSTEM");

220 i‡(
NULL
 =
tmp
 || 0 !
	`°rcmp
(tmp, "usb")) {

225 
tmp
 = 
	`√éök_mesßge_∑r£
(
buf„r
, 
Àn
, "BUSNUM");

226 i‡(
NULL
 =
tmp
) {

228 
tmp
 = 
	`√éök_mesßge_∑r£
(
buf„r
, 
Àn
, "DEVICE");

229 i‡(
NULL
 =
tmp
) {

235 *
pLa°Sœsh
 = (*)
	`°ºchr
(
tmp
,'/');

236 if(
NULL
 =
pLa°Sœsh
) {

240 *
devaddr
 = 
	`°πoul
(
pLa°Sœsh
 + 1, 
NULL
, 10);

241 i‡(
î∫o
) {

242 
î∫o
 = 0;

246 *
bu¢um
 = 
	`°πoul
(
pLa°Sœsh
 - 3, 
NULL
, 10);

247 i‡(
î∫o
) {

248 
î∫o
 = 0;

255 *
bu¢um
 = (
uöt8_t
)(
	`°πoul
(
tmp
, 
NULL
, 10) & 0xff);

256 i‡(
î∫o
) {

257 
î∫o
 = 0;

261 
tmp
 = 
	`√éök_mesßge_∑r£
(
buf„r
, 
Àn
, "DEVNUM");

262 i‡(
NULL
 =
tmp
) {

266 *
devaddr
 = (
uöt8_t
)(
	`°πoul
(
tmp
, 
NULL
, 10) & 0xff);

267 i‡(
î∫o
) {

268 
î∫o
 = 0;

272 
tmp
 = 
	`√éök_mesßge_∑r£
(
buf„r
, 
Àn
, "DEVPATH");

273 i‡(
NULL
 =
tmp
) {

277 
i
 = 
	`°æí
(
tmp
) - 1 ; i ; --i) {

278 i‡('/' ==
tmp
[
i
]) {

279 *
sys_«me
 = 
tmp
 + 
i
 + 1;

286 
	}
}

288 
	$löux_√éök_ªad_mesßge
()

290 
buf„r
[1024];

291 
iovec
 
iov
 = {.
iov_ba£
 = 
buf„r
, .
iov_Àn
 = (buffer)};

292 
msghdr
 
meh
 = { .
msg_iov
=&
iov
, .
msg_iovÀn
=1,

293 .
msg_«me
=&
¢l
, .
msg_«mñí
=(snl) };

294 c⁄° *
sys_«me
 = 
NULL
;

295 
uöt8_t
 
bu¢um
, 
devaddr
;

296 
dëached
, 
r
;

297 
size_t
 
Àn
;

300 
	`mem£t
(
buf„r
, 0, (buffer));

301 
Àn
 = 
	`ªcvmsg
(
löux_√éök_sockë
, &
meh
, 0);

302 i‡(
Àn
 < 32) {

303 i‡(
î∫o
 !
EAGAIN
)

304 
	`usbi_dbg
("errorÑecieving message fromÇetlink");

310 
r
 = 
	`löux_√éök_∑r£
(
buf„r
, 
Àn
, &
dëached
, &
sys_«me
,

311 &
bu¢um
, &
devaddr
);

312 i‡(
r
)

313  
r
;

315 
	`usbi_dbg
("netlink hotplug found device busnum: %hhu, devaddr: %hhu, sys_name: %s,Ñemoved: %s",

316 
bu¢um
, 
devaddr
, 
sys_«me
, 
dëached
 ? "yes" : "no");

319 i‡(
dëached
)

320 
	`löux_devi˚_disc⁄√˘ed
(
bu¢um
, 
devaddr
, 
sys_«me
);

322 
	`löux_hŸ∂ug_íumî©e
(
bu¢um
, 
devaddr
, 
sys_«me
);

325 
	}
}

327 *
	$löux_√éök_evít_thªad_maö
(*
¨g
)

329 
dummy
;

330 
r
;

331 
pﬁlfd
 
fds
[] = {

332 { .
fd
 = 
√éök_c⁄åﬁ_pùe
[0],

333 .
evíts
 = 
POLLIN
 },

334 { .
fd
 = 
löux_√éök_sockë
,

335 .
evíts
 = 
POLLIN
 },

339 (Ë
¨g
;

341 
	`pﬁl
(
fds
, 2, -1) >= 0) {

342 i‡(
fds
[0].
ªvíts
 & 
POLLIN
) {

344 
r
 = 
	`usbi_ªad
(
√éök_c⁄åﬁ_pùe
[0], &
dummy
, (dummy));

345 i‡(
r
 <= 0) {

346 
	`usbi_w¨n
(
NULL
, "netlink controlÖipeÑead failed");

350 i‡(
fds
[1].
ªvíts
 & 
POLLIN
) {

351 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

352 
	`löux_√éök_ªad_mesßge
();

353 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

357  
NULL
;

358 
	}
}

360 
	$löux_√éök_hŸ∂ug_pﬁl
()

362 
r
;

364 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

366 
r
 = 
	`löux_√éök_ªad_mesßge
();

367 } 
r
 == 0);

368 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

369 
	}
}

	@libusb/os/linux_udev.c

23 
	~"c⁄fig.h
"

25 
	~<as£π.h
>

26 
	~<˘y≥.h
>

27 
	~<dúít.h
>

28 
	~<î∫o.h
>

29 
	~<f˙é.h
>

30 
	~<pﬁl.h
>

31 
	~<°dio.h
>

32 
	~<°dlib.h
>

33 
	~<°rög.h
>

34 
	~<sys/io˘l.h
>

35 
	~<sys/°©.h
>

36 
	~<sys/ty≥s.h
>

37 
	~<sys/ut¢ame.h
>

38 
	~<sys/sockë.h
>

39 
	~<uni°d.h
>

40 
	~<libudev.h
>

42 
	~"libusb.h
"

43 
	~"libusbi.h
"

44 
	~"löux_usbfs.h
"

47 
udev
 *
	gudev_˘x
 = 
NULL
;

48 
	gudev_m⁄ô‹_fd
 = -1;

49 
	gudev_c⁄åﬁ_pùe
[2] = {-1, -1};

50 
udev_m⁄ô‹
 *
	gudev_m⁄ô‹
 = 
NULL
;

51 
±hªad_t
 
	glöux_evít_thªad
;

53 
udev_hŸ∂ug_evít
(
udev_devi˚
* 
udev_dev
);

54 *
löux_udev_evít_thªad_maö
(*
¨g
);

56 
	$löux_udev_°¨t_evít_m⁄ô‹
()

58 
r
;

60 
	`as£π
(
udev_˘x
 =
NULL
);

61 
udev_˘x
 = 
	`udev_√w
();

62 i‡(!
udev_˘x
) {

63 
	`usbi_îr
(
NULL
, "couldÇot create udev context");

64 
îr
;

67 
udev_m⁄ô‹
 = 
	`udev_m⁄ô‹_√w_‰om_√éök
(
udev_˘x
, "udev");

68 i‡(!
udev_m⁄ô‹
) {

69 
	`usbi_îr
(
NULL
, "couldÇot initialize udev monitor");

70 
îr_‰ì_˘x
;

73 
r
 = 
	`udev_m⁄ô‹_fûãr_add_m©ch_subsy°em_devty≥
(
udev_m⁄ô‹
, "usb", 0);

74 i‡(
r
) {

75 
	`usbi_îr
(
NULL
, "couldÇot initialize udev monitor filter for \"usb\" subsystem");

76 
îr_‰ì_m⁄ô‹
;

79 i‡(
	`udev_m⁄ô‹_íabÀ_ª˚ivög
(
udev_m⁄ô‹
)) {

80 
	`usbi_îr
(
NULL
, "failedÅoÉnableÅhe udev monitor");

81 
îr_‰ì_m⁄ô‹
;

84 
udev_m⁄ô‹_fd
 = 
	`udev_m⁄ô‹_gë_fd
(
udev_m⁄ô‹
);

88 
r
 = 
	`f˙é
(
udev_m⁄ô‹_fd
, 
F_GETFL
);

89 i‡(
r
 == -1) {

90 
	`usbi_îr
(
NULL
, "gëtög udev m⁄ô‹ fd fœg†(%d)", 
î∫o
);

91 
îr_‰ì_m⁄ô‹
;

93 
r
 = 
	`f˙é
(
udev_m⁄ô‹_fd
, 
F_SETFL
,Ñ | 
O_NONBLOCK
);

94 i‡(
r
) {

95 
	`usbi_îr
(
NULL
, "£âög udev m⁄ô‹ fd fœg†(%d)", 
î∫o
);

96 
îr_‰ì_m⁄ô‹
;

99 
r
 = 
	`usbi_pùe
(
udev_c⁄åﬁ_pùe
);

100 i‡(
r
) {

101 
	`usbi_îr
(
NULL
, "couldÇot create udev controlÖipe");

102 
îr_‰ì_m⁄ô‹
;

105 
r
 = 
	`±hªad_¸óã
(&
löux_evít_thªad
, 
NULL
, 
löux_udev_evít_thªad_maö
, NULL);

106 i‡(
r
) {

107 
	`usbi_îr
(
NULL
, "¸ótög hŸ∂ugÉvíàthªad (%d)", 
r
);

108 
îr_˛o£_pùe
;

111  
LIBUSB_SUCCESS
;

113 
îr_˛o£_pùe
:

114 
	`˛o£
(
udev_c⁄åﬁ_pùe
[0]);

115 
	`˛o£
(
udev_c⁄åﬁ_pùe
[1]);

116 
îr_‰ì_m⁄ô‹
:

117 
	`udev_m⁄ô‹_uƒef
(
udev_m⁄ô‹
);

118 
udev_m⁄ô‹
 = 
NULL
;

119 
udev_m⁄ô‹_fd
 = -1;

120 
îr_‰ì_˘x
:

121 
	`udev_uƒef
(
udev_˘x
);

122 
îr
:

123 
udev_˘x
 = 
NULL
;

124  
LIBUSB_ERROR_OTHER
;

125 
	}
}

127 
	$löux_udev_°›_evít_m⁄ô‹
()

129 
dummy
 = 1;

130 
r
;

132 
	`as£π
(
udev_˘x
 !
NULL
);

133 
	`as£π
(
udev_m⁄ô‹
 !
NULL
);

134 
	`as£π
(
udev_m⁄ô‹_fd
 != -1);

138 
r
 = 
	`usbi_wrôe
(
udev_c⁄åﬁ_pùe
[1], &
dummy
, (dummy));

139 i‡(
r
 <= 0) {

140 
	`usbi_w¨n
(
NULL
, "udev controlÖipe signal failed");

142 
	`±hªad_joö
(
löux_evít_thªad
, 
NULL
);

145 
	`udev_m⁄ô‹_uƒef
(
udev_m⁄ô‹
);

146 
udev_m⁄ô‹
 = 
NULL
;

147 
udev_m⁄ô‹_fd
 = -1;

150 
	`udev_uƒef
(
udev_˘x
);

151 
udev_˘x
 = 
NULL
;

154 
	`˛o£
(
udev_c⁄åﬁ_pùe
[0]);

155 
	`˛o£
(
udev_c⁄åﬁ_pùe
[1]);

156 
udev_c⁄åﬁ_pùe
[0] = -1;

157 
udev_c⁄åﬁ_pùe
[1] = -1;

159  
LIBUSB_SUCCESS
;

160 
	}
}

162 *
	$löux_udev_evít_thªad_maö
(*
¨g
)

164 
dummy
;

165 
r
;

166 
udev_devi˚
* 
udev_dev
;

167 
pﬁlfd
 
fds
[] = {

168 {.
fd
 = 
udev_c⁄åﬁ_pùe
[0],

169 .
evíts
 = 
POLLIN
},

170 {.
fd
 = 
udev_m⁄ô‹_fd
,

171 .
evíts
 = 
POLLIN
},

174 
	`usbi_dbg
("udevÉventÅhreadÉntering.");

176 
	`pﬁl
(
fds
, 2, -1) >= 0) {

177 i‡(
fds
[0].
ªvíts
 & 
POLLIN
) {

179 
r
 = 
	`usbi_ªad
(
udev_c⁄åﬁ_pùe
[0], &
dummy
, (dummy));

180 i‡(
r
 <= 0) {

181 
	`usbi_w¨n
(
NULL
, "udev controlÖipeÑead failed");

185 i‡(
fds
[1].
ªvíts
 & 
POLLIN
) {

186 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

187 
udev_dev
 = 
	`udev_m⁄ô‹_ª˚ive_devi˚
(
udev_m⁄ô‹
);

188 i‡(
udev_dev
)

189 
	`udev_hŸ∂ug_evít
(
udev_dev
);

190 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

194 
	`usbi_dbg
("udevÉventÅhreadÉxiting");

196  
NULL
;

197 
	}
}

199 
	$udev_devi˚_öfo
(
libusb_c⁄ãxt
 *
˘x
, 
dëached
,

200 
udev_devi˚
 *
udev_dev
, 
uöt8_t
 *
bu¢um
,

201 
uöt8_t
 *
devaddr
, c⁄° **
sys_«me
) {

202 c⁄° *
dev_node
;

204 
dev_node
 = 
	`udev_devi˚_gë_devnode
(
udev_dev
);

205 i‡(!
dev_node
) {

206  
LIBUSB_ERROR_OTHER
;

209 *
sys_«me
 = 
	`udev_devi˚_gë_sy¢ame
(
udev_dev
);

210 i‡(!*
sys_«me
) {

211  
LIBUSB_ERROR_OTHER
;

214  
	`löux_gë_devi˚_addªss
(
˘x
, 
dëached
, 
bu¢um
, 
devaddr
,

215 
dev_node
, *
sys_«me
);

216 
	}
}

218 
	$udev_hŸ∂ug_evít
(
udev_devi˚
* 
udev_dev
)

220 c⁄° * 
udev_a˘i⁄
;

221 c⁄° * 
sys_«me
 = 
NULL
;

222 
uöt8_t
 
bu¢um
 = 0, 
devaddr
 = 0;

223 
dëached
;

224 
r
;

227 
udev_a˘i⁄
 = 
	`udev_devi˚_gë_a˘i⁄
(
udev_dev
);

228 i‡(!
udev_a˘i⁄
) {

232 
dëached
 = !
	`°∫cmp
(
udev_a˘i⁄
, "remove", 6);

234 
r
 = 
	`udev_devi˚_öfo
(
NULL
, 
dëached
, 
udev_dev
, &
bu¢um
, &
devaddr
, &
sys_«me
);

235 i‡(
LIBUSB_SUCCESS
 !
r
) {

239 
	`usbi_dbg
("udev hŸ∂ugÉvít.á˘i⁄: %s.", 
udev_a˘i⁄
);

241 i‡(
	`°∫cmp
(
udev_a˘i⁄
, "add", 3) == 0) {

242 
	`löux_hŸ∂ug_íumî©e
(
bu¢um
, 
devaddr
, 
sys_«me
);

243 } i‡(
dëached
) {

244 
	`löux_devi˚_disc⁄√˘ed
(
bu¢um
, 
devaddr
, 
sys_«me
);

246 
	`usbi_îr
(
NULL
, "ign‹ög udevá˘i⁄ %s", 
udev_a˘i⁄
);

250 
	`udev_devi˚_uƒef
(
udev_dev
);

251 
	}
}

253 
	$löux_udev_sˇn_devi˚s
(
libusb_c⁄ãxt
 *
˘x
)

255 
udev_íumî©e
 *
íumî©‹
;

256 
udev_li°_íåy
 *
devi˚s
, *
íåy
;

257 
udev_devi˚
 *
udev_dev
;

258 c⁄° *
sys_«me
;

259 
r
;

261 
	`as£π
(
udev_˘x
 !
NULL
);

263 
íumî©‹
 = 
	`udev_íumî©e_√w
(
udev_˘x
);

264 i‡(
NULL
 =
íumî©‹
) {

265 
	`usbi_îr
(
˘x
, "error creating udevÉnumerator");

266  
LIBUSB_ERROR_OTHER
;

269 
	`udev_íumî©e_add_m©ch_subsy°em
(
íumî©‹
, "usb");

270 
	`udev_íumî©e_sˇn_devi˚s
(
íumî©‹
);

271 
devi˚s
 = 
	`udev_íumî©e_gë_li°_íåy
(
íumî©‹
);

273 
	`udev_li°_íåy_f‹óch
(
íåy
, 
devi˚s
) {

274 c⁄° *
∑th
 = 
	`udev_li°_íåy_gë_«me
(
íåy
);

275 
uöt8_t
 
bu¢um
 = 0, 
devaddr
 = 0;

277 
udev_dev
 = 
	`udev_devi˚_√w_‰om_sy•©h
(
udev_˘x
, 
∑th
);

279 
r
 = 
	`udev_devi˚_öfo
(
˘x
, 0, 
udev_dev
, &
bu¢um
, &
devaddr
, &
sys_«me
);

280 i‡(
r
) {

281 
	`udev_devi˚_uƒef
(
udev_dev
);

285 
	`löux_íumî©e_devi˚
(
˘x
, 
bu¢um
, 
devaddr
, 
sys_«me
);

286 
	`udev_devi˚_uƒef
(
udev_dev
);

289 
	`udev_íumî©e_uƒef
(
íumî©‹
);

291  
LIBUSB_SUCCESS
;

292 
	}
}

294 
	$löux_udev_hŸ∂ug_pﬁl
()

296 
udev_devi˚
* 
udev_dev
;

298 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

300 
udev_dev
 = 
	`udev_m⁄ô‹_ª˚ive_devi˚
(
udev_m⁄ô‹
);

301 i‡(
udev_dev
) {

302 
	`usbi_dbg
("Handling hotplugÉvent from hotplug_poll");

303 
	`udev_hŸ∂ug_evít
(
udev_dev
);

305 } 
udev_dev
);

306 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

307 
	}
}

	@libusb/os/linux_usbfs.c

24 
	~"c⁄fig.h
"

26 
	~<as£π.h
>

27 
	~<˘y≥.h
>

28 
	~<dúít.h
>

29 
	~<î∫o.h
>

30 
	~<f˙é.h
>

31 
	~<pﬁl.h
>

32 
	~<°dio.h
>

33 
	~<°dlib.h
>

34 
	~<°rög.h
>

35 
	~<sys/io˘l.h
>

36 
	~<sys/°©.h
>

37 
	~<sys/ty≥s.h
>

38 
	~<sys/ut¢ame.h
>

39 
	~<uni°d.h
>

41 
	~"libusb.h
"

42 
	~"libusbi.h
"

43 
	~"löux_usbfs.h
"

79 c⁄° *
	gusbfs_∑th
 = 
NULL
;

82 
	gusbdev_«mes
 = 0;

99 
	gsuµ‹ts_Êag_bulk_c⁄töu©i⁄
 = -1;

105 
	gsuµ‹ts_Êag_zîo_∑ckë
 = -1;

109 
˛ockid_t
 
	gm⁄Ÿ⁄ic_˛kid
 = -1;

114 
	gsysfs_ˇn_ªœã_devi˚s
 = -1;

119 
	gsysfs_has_des¸ùt‹s
 = -1;

122 
	göô_cou¡
 = 0;

125 
usbi_muãx_°©ic_t
 
	glöux_hŸ∂ug_°¨t°›_lock
 = 
USBI_MUTEX_INITIALIZER
;

127 
usbi_muãx_°©ic_t
 
	glöux_hŸ∂ug_lock
 = 
USBI_MUTEX_INITIALIZER
;

129 
löux_°¨t_evít_m⁄ô‹
();

130 
löux_°›_evít_m⁄ô‹
();

131 
löux_sˇn_devi˚s
(
libusb_c⁄ãxt
 *
˘x
);

132 
sysfs_sˇn_devi˚
(
libusb_c⁄ãxt
 *
˘x
, c⁄° *
dev«me
);

133 
dëach_kî√l_drivî_™d_˛aim
(
libusb_devi˚_h™dÀ
 *, );

135 #i‡!
deföed
(
USE_UDEV
)

136 
löux_deÁu…_sˇn_devi˚s
 (
libusb_c⁄ãxt
 *
˘x
);

139 
	slöux_devi˚_¥iv
 {

140 *
	msysfs_dú
;

141 *
	mdes¸ùt‹s
;

142 
	mdes¸ùt‹s_Àn
;

143 
	ma˘ive_c⁄fig
;

146 
	slöux_devi˚_h™dÀ_¥iv
 {

147 
	mfd
;

148 
uöt32_t
 
	mˇps
;

151 
	eª≠_a˘i⁄
 {

152 
	mNORMAL
 = 0,

155 
	mSUBMIT_FAILED
,

158 
	mCANCELLED
,

161 
	mCOMPLETED_EARLY
,

164 
	mERROR
,

167 
	slöux_å™s„r_¥iv
 {

169 
usbfs_urb
 *
	murbs
;

170 
usbfs_urb
 **
	miso_urbs
;

173 
ª≠_a˘i⁄
 
	mª≠_a˘i⁄
;

174 
	mnum_urbs
;

175 
	mnum_ªtúed
;

176 
libusb_å™s„r_°©us
 
	mª≠_°©us
;

179 
	miso_∑ckë_off£t
;

182 
	$_gë_usbfs_fd
(
libusb_devi˚
 *
dev
, 
mode_t
 
mode
, 
sûít
)

184 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

185 
∑th
[
PATH_MAX
];

186 
fd
;

187 
dñay
 = 10000;

189 i‡(
usbdev_«mes
)

190 
	`¢¥ötf
(
∑th
, 
PATH_MAX
, "%s/usbdev%d.%d",

191 
usbfs_∑th
, 
dev
->
bus_numbî
, dev->
devi˚_addªss
);

193 
	`¢¥ötf
(
∑th
, 
PATH_MAX
, "%s/%03d/%03d",

194 
usbfs_∑th
, 
dev
->
bus_numbî
, dev->
devi˚_addªss
);

196 
fd
 = 
	`›í
(
∑th
, 
mode
);

197 i‡(
fd
 != -1)

198  
fd
;

200 i‡(
î∫o
 =
ENOENT
) {

201 i‡(!
sûít
)

202 
	`usbi_îr
(
˘x
, "Fûêd€¢'àexi°, waô %d m†™dÅryágaö\n", 
dñay
/1000);

205 
	`u¶ìp
(
dñay
);

207 
fd
 = 
	`›í
(
∑th
, 
mode
);

208 i‡(
fd
 != -1)

209  
fd
;

212 i‡(!
sûít
) {

213 
	`usbi_îr
(
˘x
, "libusb couldn't open USB device %s: %s",

214 
∑th
, 
	`°ªº‹
(
î∫o
));

215 i‡(
î∫o
 =
EACCES
 && 
mode
 =
O_RDWR
)

216 
	`usbi_îr
(
˘x
, "libusbÑequires writeáccessÅo USB "

220 i‡(
î∫o
 =
EACCES
)

221  
LIBUSB_ERROR_ACCESS
;

222 i‡(
î∫o
 =
ENOENT
)

223  
LIBUSB_ERROR_NO_DEVICE
;

224  
LIBUSB_ERROR_IO
;

225 
	}
}

227 
löux_devi˚_¥iv
 *
	$_devi˚_¥iv
(
libusb_devi˚
 *
dev
)

229  (
löux_devi˚_¥iv
 *Ë
dev
->
os_¥iv
;

230 
	}
}

232 
löux_devi˚_h™dÀ_¥iv
 *
	$_devi˚_h™dÀ_¥iv
(

233 
libusb_devi˚_h™dÀ
 *
h™dÀ
)

235  (
löux_devi˚_h™dÀ_¥iv
 *Ë
h™dÀ
->
os_¥iv
;

236 
	}
}

240 
	$_is_usbdev_íåy
(
dúít
 *
íåy
, *
bus_p
, *
dev_p
)

242 
bu¢um
, 
devnum
;

244 i‡(
	`ssˇnf
(
íåy
->
d_«me
, "usbdev%d.%d", &
bu¢um
, &
devnum
) != 2)

247 
	`usbi_dbg
("found: %s", 
íåy
->
d_«me
);

248 i‡(
bus_p
 !
NULL
)

249 *
bus_p
 = 
bu¢um
;

250 i‡(
dev_p
 !
NULL
)

251 *
dev_p
 = 
devnum
;

253 
	}
}

255 
	$check_usb_vfs
(c⁄° *
dú«me
)

257 
DIR
 *
dú
;

258 
dúít
 *
íåy
;

259 
found
 = 0;

261 
dú
 = 
	`›ídú
(
dú«me
);

262 i‡(!
dú
)

265 (
íåy
 = 
	`ªaddú
(
dú
)Ë!
NULL
) {

266 i‡(
íåy
->
d_«me
[0] == '.')

270 
found
 = 1;

274 
	`˛o£dú
(
dú
);

275  
found
;

276 
	}
}

278 c⁄° *
	$föd_usbfs_∑th
()

280 c⁄° *
∑th
 = "/dev/bus/usb";

281 c⁄° *
ªt
 = 
NULL
;

283 i‡(
	`check_usb_vfs
(
∑th
)) {

284 
ªt
 = 
∑th
;

286 
∑th
 = "/proc/bus/usb";

287 i‡(
	`check_usb_vfs
(
∑th
))

288 
ªt
 = 
∑th
;

292 i‡(
ªt
 =
NULL
) {

293 
dúít
 *
íåy
;

294 
DIR
 *
dú
;

296 
∑th
 = "/dev";

297 
dú
 = 
	`›ídú
(
∑th
);

298 i‡(
dú
 !
NULL
) {

299 (
íåy
 = 
	`ªaddú
(
dú
)Ë!
NULL
) {

300 i‡(
	`_is_usbdev_íåy
(
íåy
, 
NULL
, NULL)) {

302 
ªt
 = 
∑th
;

303 
usbdev_«mes
 = 1;

307 
	`˛o£dú
(
dú
);

311 i‡(
ªt
 !
NULL
)

312 
	`usbi_dbg
("found usbf†© %s", 
ªt
);

314  
ªt
;

315 
	}
}

319 
˛ockid_t
 
	$föd_m⁄Ÿ⁄ic_˛ock
()

321 #ifde‡
CLOCK_MONOTONIC


322 
time•ec
 
ts
;

323 
r
;

327 
r
 = 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
ts
);

328 i‡(
r
 == 0)

329  
CLOCK_MONOTONIC
;

330 
	`usbi_dbg
("m⁄Ÿ⁄i¯˛ock d€¢'àw‹k,Éºnÿ%d", 
î∫o
);

333  
CLOCK_REALTIME
;

334 
	}
}

336 
	$kî√l_vîsi⁄_ge
(
maj‹
, 
mö‹
, 
subÀvñ
)

338 
ut¢ame
 
uts
;

339 
©oms
, 
kmaj‹
, 
kmö‹
, 
ksubÀvñ
;

341 i‡(
	`u«me
(&
uts
) < 0)

343 
©oms
 = 
	`ssˇnf
(
uts
.
ªÀa£
, "%d.%d.%d", &
kmaj‹
, &
kmö‹
, &
ksubÀvñ
);

344 i‡(
©oms
 < 1)

347 i‡(
kmaj‹
 > 
maj‹
)

349 i‡(
kmaj‹
 < 
maj‹
)

353 i‡(
©oms
 < 2)

354  0 =
mö‹
 && 0 =
subÀvñ
;

355 i‡(
kmö‹
 > 
mö‹
)

357 i‡(
kmö‹
 < 
mö‹
)

361 i‡(
©oms
 < 3)

362  0 =
subÀvñ
;

364  
ksubÀvñ
 >
subÀvñ
;

365 
	}
}

367 
	$›_öô
(
libusb_c⁄ãxt
 *
˘x
)

369 
°©
 
°©buf
;

370 
r
;

372 
usbfs_∑th
 = 
	`föd_usbfs_∑th
();

373 i‡(!
usbfs_∑th
) {

374 
	`usbi_îr
(
˘x
, "couldÇot find usbfs");

375  
LIBUSB_ERROR_OTHER
;

378 i‡(
m⁄Ÿ⁄ic_˛kid
 == -1)

379 
m⁄Ÿ⁄ic_˛kid
 = 
	`föd_m⁄Ÿ⁄ic_˛ock
();

381 i‡(
suµ‹ts_Êag_bulk_c⁄töu©i⁄
 == -1) {

383 
suµ‹ts_Êag_bulk_c⁄töu©i⁄
 = 
	`kî√l_vîsi⁄_ge
(2,6,32);

384 i‡(
suµ‹ts_Êag_bulk_c⁄töu©i⁄
 == -1) {

385 
	`usbi_îr
(
˘x
, "error checking for bulk continuation support");

386  
LIBUSB_ERROR_OTHER
;

390 i‡(
suµ‹ts_Êag_bulk_c⁄töu©i⁄
)

391 
	`usbi_dbg
("bulk continuation flag supported");

393 i‡(-1 =
suµ‹ts_Êag_zîo_∑ckë
) {

395 
suµ‹ts_Êag_zîo_∑ckë
 = 
	`kî√l_vîsi⁄_ge
(2,6,31);

396 i‡(-1 =
suµ‹ts_Êag_zîo_∑ckë
) {

397 
	`usbi_îr
(
˘x
, "error checking for zeroÜengthÖacket support");

398  
LIBUSB_ERROR_OTHER
;

402 i‡(
suµ‹ts_Êag_zîo_∑ckë
)

403 
	`usbi_dbg
("zeroÜengthÖacket flag supported");

405 i‡(-1 =
sysfs_has_des¸ùt‹s
) {

407 
sysfs_has_des¸ùt‹s
 = 
	`kî√l_vîsi⁄_ge
(2,6,26);

408 i‡(-1 =
sysfs_has_des¸ùt‹s
) {

409 
	`usbi_îr
(
˘x
, "error checking for sysfs descriptors");

410  
LIBUSB_ERROR_OTHER
;

414 i‡(-1 =
sysfs_ˇn_ªœã_devi˚s
) {

416 
sysfs_ˇn_ªœã_devi˚s
 = 
	`kî√l_vîsi⁄_ge
(2,6,22);

417 i‡(-1 =
sysfs_ˇn_ªœã_devi˚s
) {

418 
	`usbi_îr
(
˘x
, "error checking for sysfs busnum");

419  
LIBUSB_ERROR_OTHER
;

423 i‡(
sysfs_ˇn_ªœã_devi˚s
 || 
sysfs_has_des¸ùt‹s
) {

424 
r
 = 
	`°©
(
SYSFS_DEVICE_PATH
, &
°©buf
);

425 i‡(
r
 !0 || !
	`S_ISDIR
(
°©buf
.
°_mode
)) {

426 
	`usbi_w¨n
(
˘x
, "sysfsÇot mounted");

427 
sysfs_ˇn_ªœã_devi˚s
 = 0;

428 
sysfs_has_des¸ùt‹s
 = 0;

432 i‡(
sysfs_ˇn_ªœã_devi˚s
)

433 
	`usbi_dbg
("sysfs canÑelate devices");

435 i‡(
sysfs_has_des¸ùt‹s
)

436 
	`usbi_dbg
("sysfs has complete descriptors");

438 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_°¨t°›_lock
);

439 
r
 = 
LIBUSB_SUCCESS
;

440 i‡(
öô_cou¡
 == 0) {

442 
r
 = 
	`löux_°¨t_evít_m⁄ô‹
();

444 i‡(
r
 =
LIBUSB_SUCCESS
) {

445 
r
 = 
	`löux_sˇn_devi˚s
(
˘x
);

446 i‡(
r
 =
LIBUSB_SUCCESS
)

447 
öô_cou¡
++;

448 i‡(
öô_cou¡
 == 0)

449 
	`löux_°›_evít_m⁄ô‹
();

451 
	`usbi_îr
(
˘x
, "error starting hotplugÉvent monitor");

452 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_°¨t°›_lock
);

454  
r
;

455 
	}
}

457 
	$›_exô
()

459 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_°¨t°›_lock
);

460 
	`as£π
(
öô_cou¡
 != 0);

461 i‡(!--
öô_cou¡
) {

463 ()
	`löux_°›_evít_m⁄ô‹
();

465 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_°¨t°›_lock
);

466 
	}
}

468 
	$löux_°¨t_evít_m⁄ô‹
()

470 #i‡
	`deföed
(
USE_UDEV
)

471  
	`löux_udev_°¨t_evít_m⁄ô‹
();

473  
	`löux_√éök_°¨t_evít_m⁄ô‹
();

475 
	}
}

477 
	$löux_°›_evít_m⁄ô‹
()

479 #i‡
	`deföed
(
USE_UDEV
)

480  
	`löux_udev_°›_evít_m⁄ô‹
();

482  
	`löux_√éök_°›_evít_m⁄ô‹
();

484 
	}
}

486 
	$löux_sˇn_devi˚s
(
libusb_c⁄ãxt
 *
˘x
)

488 
ªt
;

490 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

492 #i‡
	`deföed
(
USE_UDEV
)

493 
ªt
 = 
	`löux_udev_sˇn_devi˚s
(
˘x
);

495 
ªt
 = 
	`löux_deÁu…_sˇn_devi˚s
(
˘x
);

498 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

500  
ªt
;

501 
	}
}

503 
	$›_hŸ∂ug_pﬁl
()

505 #i‡
	`deföed
(
USE_UDEV
)

506 
	`löux_udev_hŸ∂ug_pﬁl
();

508 
	`löux_√éök_hŸ∂ug_pﬁl
();

510 
	}
}

512 
	$_›í_sysfs_©å
(
libusb_devi˚
 *
dev
, c⁄° *
©å
)

514 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

515 
fûíame
[
PATH_MAX
];

516 
fd
;

518 
	`¢¥ötf
(
fûíame
, 
PATH_MAX
, "%s/%s/%s",

519 
SYSFS_DEVICE_PATH
, 
¥iv
->
sysfs_dú
, 
©å
);

520 
fd
 = 
	`›í
(
fûíame
, 
O_RDONLY
);

521 i‡(
fd
 < 0) {

522 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
),

523 "›í %†ÁûedÑë=%dÉºno=%d", 
fûíame
, 
fd
, 
î∫o
);

524  
LIBUSB_ERROR_IO
;

527  
fd
;

528 
	}
}

531 
	$__ªad_sysfs_©å
(
libusb_c⁄ãxt
 *
˘x
,

532 c⁄° *
dev«me
, c⁄° *
©å
)

534 
fûíame
[
PATH_MAX
];

535 
FILE
 *
f
;

536 
r
, 
vÆue
;

538 
	`¢¥ötf
(
fûíame
, 
PATH_MAX
, "%s/%s/%s", 
SYSFS_DEVICE_PATH
,

539 
dev«me
, 
©å
);

540 
f
 = 
	`f›í
(
fûíame
, "r");

541 i‡(
f
 =
NULL
) {

542 i‡(
î∫o
 =
ENOENT
) {

545  
LIBUSB_ERROR_NO_DEVICE
;

547 
	`usbi_îr
(
˘x
, "›í %†ÁûedÉºno=%d", 
fûíame
, 
î∫o
);

548  
LIBUSB_ERROR_IO
;

551 
r
 = 
	`fsˇnf
(
f
, "%d", &
vÆue
);

552 
	`f˛o£
(
f
);

553 i‡(
r
 != 1) {

554 
	`usbi_îr
(
˘x
, "fsˇn‡%†ªtu∫ed %d,Éºno=%d", 
©å
, 
r
, 
î∫o
);

555  
LIBUSB_ERROR_NO_DEVICE
;

557 i‡(
vÆue
 < 0) {

558 
	`usbi_îr
(
˘x
, "%†c⁄èö†®√g©ivêvÆue", 
fûíame
);

559  
LIBUSB_ERROR_IO
;

562  
vÆue
;

563 
	}
}

565 
	$›_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
,

566 *
buf„r
, *
ho°_ídün
)

568 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

570 *
ho°_ídün
 = 
sysfs_has_des¸ùt‹s
 ? 0 : 1;

571 
	`mem˝y
(
buf„r
, 
¥iv
->
des¸ùt‹s
, 
DEVICE_DESC_LENGTH
);

574 
	}
}

577 
	$sysfs_gë_a˘ive_c⁄fig
(
libusb_devi˚
 *
dev
, *
c⁄fig
)

579 *
íd±r
;

580 
tmp
[5] = {0, 0, 0, 0, 0};

581 
num
;

582 
fd
;

583 
ssize_t
 
r
;

585 
fd
 = 
	`_›í_sysfs_©å
(
dev
, "bConfigurationValue");

586 i‡(
fd
 < 0)

587  
fd
;

589 
r
 = 
	`ªad
(
fd
, 
tmp
, (tmp));

590 
	`˛o£
(
fd
);

591 i‡(
r
 < 0) {

592 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
),

593 "ªad bC⁄figuøti⁄VÆuêÁûedÑë=%dÉºno=%d", 
r
, 
î∫o
);

594  
LIBUSB_ERROR_IO
;

595 } i‡(
r
 == 0) {

596 
	`usbi_dbg
("device unconfigured");

597 *
c⁄fig
 = -1;

601 i‡(
tmp
[(tmp) - 1] != 0) {

602 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
), "notÇull-terminated?");

603  
LIBUSB_ERROR_IO
;

604 } i‡(
tmp
[0] == 0) {

605 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
), "no configuration value?");

606  
LIBUSB_ERROR_IO
;

609 
num
 = 
	`°πﬁ
(
tmp
, &
íd±r
, 10);

610 i‡(
íd±r
 =
tmp
) {

611 
	`usbi_îr
(
	`DEVICE_CTX
(
dev
), "îr‹ c⁄vîtög '%s'Åÿöãgî", 
tmp
);

612  
LIBUSB_ERROR_IO
;

615 *
c⁄fig
 = (Ë
num
;

617 
	}
}

619 
	$löux_gë_devi˚_addªss
 (
libusb_c⁄ãxt
 *
˘x
, 
dëached
,

620 
uöt8_t
 *
bu¢um
, uöt8_à*
devaddr
,c⁄° *
dev_node
,

621 c⁄° *
sys_«me
)

623 
sysfs_©å
;

625 
	`usbi_dbg
("gëtögáddªs†f‹ devi˚: %†dëached: %d", 
sys_«me
, 
dëached
);

628 i‡(!
sysfs_ˇn_ªœã_devi˚s
 || 
dëached
 || 
NULL
 =
sys_«me
) {

629 i‡(
NULL
 =
dev_node
) {

630  
LIBUSB_ERROR_OTHER
;

634 i‡(!
	`°∫cmp
(
dev_node
, "/dev/bus/usb", 12)) {

635 
	`ssˇnf
 (
dev_node
, "/dev/bus/usb/%hhd/%hhd", 
bu¢um
, 
devaddr
);

636 } i‡(!
	`°∫cmp
(
dev_node
, "/proc/bus/usb", 13)) {

637 
	`ssˇnf
 (
dev_node
, "/¥oc/bus/usb/%hhd/%hhd", 
bu¢um
, 
devaddr
);

640  
LIBUSB_SUCCESS
;

643 
	`usbi_dbg
("sˇ¿%s", 
sys_«me
);

645 
sysfs_©å
 = 
	`__ªad_sysfs_©å
(
˘x
, 
sys_«me
, "busnum");

646 i‡(0 > 
sysfs_©å
)

647  
sysfs_©å
;

648 i‡(
sysfs_©å
 > 255)

649  
LIBUSB_ERROR_INVALID_PARAM
;

650 *
bu¢um
 = (
uöt8_t
Ë
sysfs_©å
;

652 
sysfs_©å
 = 
	`__ªad_sysfs_©å
(
˘x
, 
sys_«me
, "devnum");

653 i‡(0 > 
sysfs_©å
)

654  
sysfs_©å
;

655 i‡(
sysfs_©å
 > 255)

656  
LIBUSB_ERROR_INVALID_PARAM
;

658 *
devaddr
 = (
uöt8_t
Ë
sysfs_©å
;

660 
	`usbi_dbg
("bus=%d dev=%d", *
bu¢um
, *
devaddr
);

662  
LIBUSB_SUCCESS
;

663 
	}
}

666 
	$£ek_to_√xt_des¸ùt‹
(
libusb_c⁄ãxt
 *
˘x
,

667 
uöt8_t
 
des¸ùt‹_ty≥
, *
buf„r
, 
size
)

669 
usb_des¸ùt‹_hódî
 
hódî
;

670 
i
;

672 
i
 = 0; 
size
 >0; i +
hódî
.
bLígth
, size -= header.bLength) {

673 i‡(
size
 == 0)

674  
LIBUSB_ERROR_NOT_FOUND
;

676 i‡(
size
 < 2) {

677 
	`usbi_îr
(
˘x
, "sh‹àdes¸ùt‹Ñód %d/2", 
size
);

678  
LIBUSB_ERROR_IO
;

680 
	`usbi_∑r£_des¸ùt‹
(
buf„r
 + 
i
, "bb", &
hódî
, 0);

682 i‡(
i
 && 
hódî
.
bDes¸ùt‹Ty≥
 =
des¸ùt‹_ty≥
)

683  
i
;

685 
	`usbi_îr
(
˘x
, "bLígth ovîÊow by %d byãs", -
size
);

686  
LIBUSB_ERROR_IO
;

687 
	}
}

690 
	$£ek_to_√xt_c⁄fig
(
libusb_c⁄ãxt
 *
˘x
,

691 *
buf„r
, 
size
)

693 
libusb_c⁄fig_des¸ùt‹
 
c⁄fig
;

695 i‡(
size
 == 0)

696  
LIBUSB_ERROR_NOT_FOUND
;

698 i‡(
size
 < 
LIBUSB_DT_CONFIG_SIZE
) {

699 
	`usbi_îr
(
˘x
, "short descriptorÑead %d/%d",

700 
size
, 
LIBUSB_DT_CONFIG_SIZE
);

701  
LIBUSB_ERROR_IO
;

704 
	`usbi_∑r£_des¸ùt‹
(
buf„r
, "bbwbbbbb", &
c⁄fig
, 0);

705 i‡(
c⁄fig
.
bDes¸ùt‹Ty≥
 !
LIBUSB_DT_CONFIG
) {

706 
	`usbi_îr
(
˘x
, "descriptor isÇotá config desc (type 0x%02x)",

707 
c⁄fig
.
bDes¸ùt‹Ty≥
);

708  
LIBUSB_ERROR_IO
;

719 i‡(
sysfs_has_des¸ùt‹s
) {

720 
√xt
 = 
	`£ek_to_√xt_des¸ùt‹
(
˘x
, 
LIBUSB_DT_CONFIG
,

721 
buf„r
, 
size
);

722 i‡(
√xt
 =
LIBUSB_ERROR_NOT_FOUND
)

723 
√xt
 = 
size
;

724 i‡(
√xt
 < 0)

725  
√xt
;

727 i‡(
√xt
 !
c⁄fig
.
wTŸÆLígth
)

728 
	`usbi_w¨n
(
˘x
, "configÜength mismatch wTotalLength "

729 "%dÑó»%d", 
c⁄fig
.
wTŸÆLígth
, 
√xt
);

730  
√xt
;

732 i‡(
c⁄fig
.
wTŸÆLígth
 < 
LIBUSB_DT_CONFIG_SIZE
) {

733 
	`usbi_îr
(
˘x
, "invalid wTotalLength %d",

734 
c⁄fig
.
wTŸÆLígth
);

735  
LIBUSB_ERROR_IO
;

736 } i‡(
c⁄fig
.
wTŸÆLígth
 > 
size
) {

737 
	`usbi_w¨n
(
˘x
, "short descriptorÑead %d/%d",

738 
size
, 
c⁄fig
.
wTŸÆLígth
);

739  
size
;

741  
c⁄fig
.
wTŸÆLígth
;

743 
	}
}

745 
	$›_gë_c⁄fig_des¸ùt‹_by_vÆue
(
libusb_devi˚
 *
dev
,

746 
uöt8_t
 
vÆue
, **
buf„r
, *
ho°_ídün
)

748 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

749 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

750 *
des¸ùt‹s
 = 
¥iv
->descriptors;

751 
size
 = 
¥iv
->
des¸ùt‹s_Àn
;

752 
libusb_c⁄fig_des¸ùt‹
 *
c⁄fig
;

754 *
buf„r
 = 
NULL
;

756 *
ho°_ídün
 = 0;

759 
des¸ùt‹s
 +
DEVICE_DESC_LENGTH
;

760 
size
 -
DEVICE_DESC_LENGTH
;

764 
√xt
 = 
	`£ek_to_√xt_c⁄fig
(
˘x
, 
des¸ùt‹s
, 
size
);

765 i‡(
√xt
 < 0)

766  
√xt
;

767 
c⁄fig
 = (
libusb_c⁄fig_des¸ùt‹
 *)
des¸ùt‹s
;

768 i‡(
c⁄fig
->
bC⁄figuøti⁄VÆue
 =
vÆue
) {

769 *
buf„r
 = 
des¸ùt‹s
;

770  
√xt
;

772 
size
 -
√xt
;

773 
des¸ùt‹s
 +
√xt
;

775 
	}
}

777 
	$›_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

778 *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
)

780 
r
, 
c⁄fig
;

781 *
c⁄fig_desc
;

783 i‡(
sysfs_ˇn_ªœã_devi˚s
) {

784 
r
 = 
	`sysfs_gë_a˘ive_c⁄fig
(
dev
, &
c⁄fig
);

785 i‡(
r
 < 0)

786  
r
;

789 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

790 
c⁄fig
 = 
¥iv
->
a˘ive_c⁄fig
;

792 i‡(
c⁄fig
 == -1)

793  
LIBUSB_ERROR_NOT_FOUND
;

795 
r
 = 
	`›_gë_c⁄fig_des¸ùt‹_by_vÆue
(
dev
, 
c⁄fig
, &
c⁄fig_desc
,

796 
ho°_ídün
);

797 i‡(
r
 < 0)

798  
r
;

800 
Àn
 = 
	`MIN
÷í, 
r
);

801 
	`mem˝y
(
buf„r
, 
c⁄fig_desc
, 
Àn
);

802  
Àn
;

803 
	}
}

805 
	$›_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

806 
uöt8_t
 
c⁄fig_ödex
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
)

808 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

809 *
des¸ùt‹s
 = 
¥iv
->descriptors;

810 
i
, 
r
, 
size
 = 
¥iv
->
des¸ùt‹s_Àn
;

813 *
ho°_ídün
 = 0;

816 
des¸ùt‹s
 +
DEVICE_DESC_LENGTH
;

817 
size
 -
DEVICE_DESC_LENGTH
;

820 
i
 = 0; ; i++) {

821 
r
 = 
	`£ek_to_√xt_c⁄fig
(
	`DEVICE_CTX
(
dev
), 
des¸ùt‹s
, 
size
);

822 i‡(
r
 < 0)

823  
r
;

824 i‡(
i
 =
c⁄fig_ödex
)

826 
size
 -
r
;

827 
des¸ùt‹s
 +
r
;

830 
Àn
 = 
	`MIN
÷í, 
r
);

831 
	`mem˝y
(
buf„r
, 
des¸ùt‹s
, 
Àn
);

832  
Àn
;

833 
	}
}

836 
	$usbfs_gë_a˘ive_c⁄fig
(
libusb_devi˚
 *
dev
, 
fd
)

838 
a˘ive_c⁄fig
 = 0;

839 
r
;

841 
usbfs_˘æå™s„r
 
˘æ
 = {

842 .
bmReque°Ty≥
 = 
LIBUSB_ENDPOINT_IN
,

843 .
bReque°
 = 
LIBUSB_REQUEST_GET_CONFIGURATION
,

844 .
wVÆue
 = 0,

845 .
wIndex
 = 0,

846 .
wLígth
 = 1,

847 .
timeout
 = 1000,

848 .
d©a
 = &
a˘ive_c⁄fig


851 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_CONTROL
, &
˘æ
);

852 i‡(
r
 < 0) {

853 i‡(
î∫o
 =
ENODEV
)

854  
LIBUSB_ERROR_NO_DEVICE
;

857 
	`usbi_w¨n
(
	`DEVICE_CTX
(
dev
),

858 "gë_c⁄figuøti⁄ faûedÑë=%dÉºno=%d", 
r
, 
î∫o
);

859  
LIBUSB_ERROR_IO
;

862  
a˘ive_c⁄fig
;

863 
	}
}

865 
	$öôülize_devi˚
(
libusb_devi˚
 *
dev
, 
uöt8_t
 
bu¢um
,

866 
uöt8_t
 
devaddr
, c⁄° *
sysfs_dú
)

868 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

869 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

870 
des¸ùt‹s_size
 = 512;

871 
fd
, 
•ìd
;

872 
ssize_t
 
r
;

874 
dev
->
bus_numbî
 = 
bu¢um
;

875 
dev
->
devi˚_addªss
 = 
devaddr
;

877 i‡(
sysfs_dú
) {

878 
¥iv
->
sysfs_dú
 = 
	`mÆloc
(
	`°æí
(sysfs_dir) + 1);

879 i‡(!
¥iv
->
sysfs_dú
)

880  
LIBUSB_ERROR_NO_MEM
;

881 
	`°r˝y
(
¥iv
->
sysfs_dú
, sysfs_dir);

885 
•ìd
 = 
	`__ªad_sysfs_©å
(
	`DEVICE_CTX
(
dev
), 
sysfs_dú
, "speed");

886 i‡(
•ìd
 >= 0) {

887 
•ìd
) {

888 1: 
dev
->
•ìd
 = 
LIBUSB_SPEED_LOW
; ;

889 12: 
dev
->
•ìd
 = 
LIBUSB_SPEED_FULL
; ;

890 480: 
dev
->
•ìd
 = 
LIBUSB_SPEED_HIGH
; ;

891 5000: 
dev
->
•ìd
 = 
LIBUSB_SPEED_SUPER
; ;

893 
	`usbi_w¨n
(
	`DEVICE_CTX
(
dev
), "Unknow¿devi˚ s≥ed: %d Mbps", 
•ìd
);

899 i‡(
sysfs_has_des¸ùt‹s
)

900 
fd
 = 
	`_›í_sysfs_©å
(
dev
, "descriptors");

902 
fd
 = 
	`_gë_usbfs_fd
(
dev
, 
O_RDONLY
, 0);

903 i‡(
fd
 < 0)

904  
fd
;

907 
des¸ùt‹s_size
 *= 2;

908 
¥iv
->
des¸ùt‹s
 = 
	`usbi_ªÆlocf
(priv->descriptors,

909 
des¸ùt‹s_size
);

910 i‡(!
¥iv
->
des¸ùt‹s
) {

911 
	`˛o£
(
fd
);

912  
LIBUSB_ERROR_NO_MEM
;

915 i‡(!
sysfs_has_des¸ùt‹s
) {

916 
	`mem£t
(
¥iv
->
des¸ùt‹s
 +Öriv->
des¸ùt‹s_Àn
,

917 0, 
des¸ùt‹s_size
 - 
¥iv
->
des¸ùt‹s_Àn
);

919 
r
 = 
	`ªad
(
fd
, 
¥iv
->
des¸ùt‹s
 +Öriv->
des¸ùt‹s_Àn
,

920 
des¸ùt‹s_size
 - 
¥iv
->
des¸ùt‹s_Àn
);

921 i‡(
r
 < 0) {

922 
	`usbi_îr
(
˘x
, "read descriptor failedÑet=%dÉrrno=%d",

923 
fd
, 
î∫o
);

924 
	`˛o£
(
fd
);

925  
LIBUSB_ERROR_IO
;

927 
¥iv
->
des¸ùt‹s_Àn
 +
r
;

928 } 
¥iv
->
des¸ùt‹s_Àn
 =
des¸ùt‹s_size
);

930 
	`˛o£
(
fd
);

932 i‡(
¥iv
->
des¸ùt‹s_Àn
 < 
DEVICE_DESC_LENGTH
) {

933 
	`usbi_îr
(
˘x
, "short descriptorÑead (%d)",

934 
¥iv
->
des¸ùt‹s_Àn
);

935  
LIBUSB_ERROR_IO
;

938 i‡(
sysfs_ˇn_ªœã_devi˚s
)

939  
LIBUSB_SUCCESS
;

942 
fd
 = 
	`_gë_usbfs_fd
(
dev
, 
O_RDWR
, 1);

943 i‡(
fd
 < 0) {

946 
	`usbi_w¨n
(
˘x
, "MissingÑw usbfsáccess; cannot determine "

948 i‡(
¥iv
->
des¸ùt‹s_Àn
 >=

949 (
DEVICE_DESC_LENGTH
 + 
LIBUSB_DT_CONFIG_SIZE
)) {

950 
libusb_c⁄fig_des¸ùt‹
 
c⁄fig
;

951 
	`usbi_∑r£_des¸ùt‹
(

952 
¥iv
->
des¸ùt‹s
 + 
DEVICE_DESC_LENGTH
,

953 "bbwbbbbb", &
c⁄fig
, 0);

954 
¥iv
->
a˘ive_c⁄fig
 = 
c⁄fig
.
bC⁄figuøti⁄VÆue
;

956 
¥iv
->
a˘ive_c⁄fig
 = -1;

958  
LIBUSB_SUCCESS
;

961 
r
 = 
	`usbfs_gë_a˘ive_c⁄fig
(
dev
, 
fd
);

962 i‡(
r
 > 0) {

963 
¥iv
->
a˘ive_c⁄fig
 = 
r
;

964 
r
 = 
LIBUSB_SUCCESS
;

965 } i‡(
r
 == 0) {

971 
	`usbi_dbg
("active cfg 0?ássuming unconfigured device");

972 
¥iv
->
a˘ive_c⁄fig
 = -1;

973 
r
 = 
LIBUSB_SUCCESS
;

974 } i‡(
r
 =
LIBUSB_ERROR_IO
) {

977 
	`usbi_w¨n
(
˘x
, "couldn't queryáctive configuration,ássuming"

979 
¥iv
->
a˘ive_c⁄fig
 = -1;

980 
r
 = 
LIBUSB_SUCCESS
;

983 
	`˛o£
(
fd
);

984  
r
;

985 
	}
}

987 
	$löux_gë_∑ª¡_öfo
(
libusb_devi˚
 *
dev
, c⁄° *
sysfs_dú
)

989 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

990 
libusb_devi˚
 *
ô
;

991 *
∑ª¡_sysfs_dú
, *
tmp
;

992 
ªt
, 
add_∑ª¡
 = 1;

995 i‡(
NULL
 =
sysfs_dú
 || 0 =
	`°∫cmp
(sysfs_dir, "usb", 3)) {

997  
LIBUSB_SUCCESS
;

1000 
∑ª¡_sysfs_dú
 = 
	`°rdup
(
sysfs_dú
);

1001 i‡(
NULL
 !(
tmp
 = 
	`°ºchr
(
∑ª¡_sysfs_dú
, '.')) ||

1002 
NULL
 !(
tmp
 = 
	`°ºchr
(
∑ª¡_sysfs_dú
, '-'))) {

1003 
dev
->
p‹t_numbî
 = 
	`©oi
(
tmp
 + 1);

1004 *
tmp
 = '\0';

1006 
	`usbi_w¨n
(
˘x
, "CanÇotÖarse sysfs_dir: %s,ÇoÖarent info",

1007 
∑ª¡_sysfs_dú
);

1008 
	`‰ì
 (
∑ª¡_sysfs_dú
);

1009  
LIBUSB_SUCCESS
;

1013 i‡(
NULL
 =
	`°rchr
(
∑ª¡_sysfs_dú
, '-')) {

1014 
tmp
 = 
∑ª¡_sysfs_dú
;

1015 
ªt
 = 
	`a•rötf
 (&
∑ª¡_sysfs_dú
, "usb%s", 
tmp
);

1016 
	`‰ì
 (
tmp
);

1017 i‡(0 > 
ªt
) {

1018  
LIBUSB_ERROR_NO_MEM
;

1022 
ªåy
:

1024 
	`usbi_muãx_lock
(&
˘x
->
usb_devs_lock
);

1025 
	`li°_f‹_óch_íåy
(
ô
, &
˘x
->
usb_devs
, 
li°
, 
libusb_devi˚
) {

1026 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
ô
);

1027 i‡(0 =
	`°rcmp
 (
¥iv
->
sysfs_dú
, 
∑ª¡_sysfs_dú
)) {

1028 
dev
->
∑ª¡_dev
 = 
	`libusb_ªf_devi˚
(
ô
);

1032 
	`usbi_muãx_u∆ock
(&
˘x
->
usb_devs_lock
);

1034 i‡(!
dev
->
∑ª¡_dev
 && 
add_∑ª¡
) {

1035 
	`usbi_dbg
("parent_dev %sÇotÉnumerated yet,ÉnumeratingÇow",

1036 
∑ª¡_sysfs_dú
);

1037 
	`sysfs_sˇn_devi˚
(
˘x
, 
∑ª¡_sysfs_dú
);

1038 
add_∑ª¡
 = 0;

1039 
ªåy
;

1042 
	`usbi_dbg
("Dev %∞(%sËha†∑ª¡ %∞(%sËp‹à%d", 
dev
, 
sysfs_dú
,

1043 
dev
->
∑ª¡_dev
, 
∑ª¡_sysfs_dú
, dev->
p‹t_numbî
);

1045 
	`‰ì
 (
∑ª¡_sysfs_dú
);

1047  
LIBUSB_SUCCESS
;

1048 
	}
}

1050 
	$löux_íumî©e_devi˚
(
libusb_c⁄ãxt
 *
˘x
,

1051 
uöt8_t
 
bu¢um
, uöt8_à
devaddr
, c⁄° *
sysfs_dú
)

1053 
£ssi⁄_id
;

1054 
libusb_devi˚
 *
dev
;

1055 
r
 = 0;

1060 
£ssi⁄_id
 = 
bu¢um
 << 8 | 
devaddr
;

1061 
	`usbi_dbg
("bu¢um %d devadd∏%d sessi⁄_id %ld", 
bu¢um
, 
devaddr
,

1062 
£ssi⁄_id
);

1064 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
£ssi⁄_id
);

1065 i‡(
dev
) {

1067 
	`usbi_dbg
("£ssi⁄_id %ldáÃódyÉxi°s", 
£ssi⁄_id
);

1068 
	`libusb_uƒef_devi˚
(
dev
);

1069  
LIBUSB_SUCCESS
;

1072 
	`usbi_dbg
("allocatingÇew device for %d/%d (session %ld)",

1073 
bu¢um
, 
devaddr
, 
£ssi⁄_id
);

1074 
dev
 = 
	`usbi_Æloc_devi˚
(
˘x
, 
£ssi⁄_id
);

1075 i‡(!
dev
)

1076  
LIBUSB_ERROR_NO_MEM
;

1078 
r
 = 
	`öôülize_devi˚
(
dev
, 
bu¢um
, 
devaddr
, 
sysfs_dú
);

1079 i‡(
r
 < 0)

1080 
out
;

1081 
r
 = 
	`usbi_ßnôize_devi˚
(
dev
);

1082 i‡(
r
 < 0)

1083 
out
;

1085 
r
 = 
	`löux_gë_∑ª¡_öfo
(
dev
, 
sysfs_dú
);

1086 i‡(
r
 < 0)

1087 
out
;

1088 
out
:

1089 i‡(
r
 < 0)

1090 
	`libusb_uƒef_devi˚
(
dev
);

1092 
	`usbi_c⁄√˘_devi˚
(
dev
);

1094  
r
;

1095 
	}
}

1097 
	$löux_hŸ∂ug_íumî©e
(
uöt8_t
 
bu¢um
, uöt8_à
devaddr
, c⁄° *
sys_«me
)

1099 
libusb_c⁄ãxt
 *
˘x
;

1101 
	`usbi_muãx_°©ic_lock
(&
a˘ive_c⁄ãxts_lock
);

1102 
	`li°_f‹_óch_íåy
(
˘x
, &
a˘ive_c⁄ãxts_li°
, 
li°
, 
libusb_c⁄ãxt
) {

1103 
	`löux_íumî©e_devi˚
(
˘x
, 
bu¢um
, 
devaddr
, 
sys_«me
);

1105 
	`usbi_muãx_°©ic_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

1106 
	}
}

1108 
	$löux_devi˚_disc⁄√˘ed
(
uöt8_t
 
bu¢um
, uöt8_à
devaddr
, c⁄° *
sys_«me
)

1110 
libusb_c⁄ãxt
 *
˘x
;

1111 
libusb_devi˚
 *
dev
;

1112 
£ssi⁄_id
 = 
bu¢um
 << 8 | 
devaddr
;

1114 
	`usbi_muãx_°©ic_lock
(&
a˘ive_c⁄ãxts_lock
);

1115 
	`li°_f‹_óch_íåy
(
˘x
, &
a˘ive_c⁄ãxts_li°
, 
li°
, 
libusb_c⁄ãxt
) {

1116 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
 (
˘x
, 
£ssi⁄_id
);

1117 i‡(
NULL
 !
dev
) {

1118 
	`usbi_disc⁄√˘_devi˚
 (
dev
);

1119 
	`libusb_uƒef_devi˚
(
dev
);

1121 
	`usbi_dbg
("devi˚ÇŸ found f‹ sessi⁄ %x", 
£ssi⁄_id
);

1124 
	`usbi_muãx_°©ic_u∆ock
(&
a˘ive_c⁄ãxts_lock
);

1125 
	}
}

1127 #i‡!
deföed
(
USE_UDEV
)

1129 
	$usbfs_sˇn_busdú
(
libusb_c⁄ãxt
 *
˘x
, 
uöt8_t
 
bu¢um
)

1131 
DIR
 *
dú
;

1132 
dú∑th
[
PATH_MAX
];

1133 
dúít
 *
íåy
;

1134 
r
 = 
LIBUSB_ERROR_IO
;

1136 
	`¢¥ötf
(
dú∑th
, 
PATH_MAX
, "%s/%03d", 
usbfs_∑th
, 
bu¢um
);

1137 
	`usbi_dbg
("%s", 
dú∑th
);

1138 
dú
 = 
	`›ídú
(
dú∑th
);

1139 i‡(!
dú
) {

1140 
	`usbi_îr
(
˘x
, "›ídú '%s' faûed,Éºno=%d", 
dú∑th
, 
î∫o
);

1143  
r
;

1146 (
íåy
 = 
	`ªaddú
(
dú
))) {

1147 
devaddr
;

1149 i‡(
íåy
->
d_«me
[0] == '.')

1152 
devaddr
 = 
	`©oi
(
íåy
->
d_«me
);

1153 i‡(
devaddr
 == 0) {

1154 
	`usbi_dbg
("unknow¿dúÉ¡ry %s", 
íåy
->
d_«me
);

1158 i‡(
	`löux_íumî©e_devi˚
(
˘x
, 
bu¢um
, (
uöt8_t
Ë
devaddr
, 
NULL
)) {

1159 
	`usbi_dbg
("ÁûedÅÿíumî©êdúÉ¡ry %s", 
íåy
->
d_«me
);

1163 
r
 = 0;

1166 
	`˛o£dú
(
dú
);

1167  
r
;

1168 
	}
}

1170 
	$usbfs_gë_devi˚_li°
(
libusb_c⁄ãxt
 *
˘x
)

1172 
dúít
 *
íåy
;

1173 
DIR
 *
bu£s
 = 
	`›ídú
(
usbfs_∑th
);

1174 
r
 = 0;

1176 i‡(!
bu£s
) {

1177 
	`usbi_îr
(
˘x
, "›ídú bu£†ÁûedÉºno=%d", 
î∫o
);

1178  
LIBUSB_ERROR_IO
;

1181 (
íåy
 = 
	`ªaddú
(
bu£s
))) {

1182 
bu¢um
;

1184 i‡(
íåy
->
d_«me
[0] == '.')

1187 i‡(
usbdev_«mes
) {

1188 
devaddr
;

1189 i‡(!
	`_is_usbdev_íåy
(
íåy
, &
bu¢um
, &
devaddr
))

1192 
r
 = 
	`löux_íumî©e_devi˚
(
˘x
, 
bu¢um
, (
uöt8_t
Ë
devaddr
, 
NULL
);

1193 i‡(
r
 < 0) {

1194 
	`usbi_dbg
("ÁûedÅÿíumî©êdúÉ¡ry %s", 
íåy
->
d_«me
);

1198 
bu¢um
 = 
	`©oi
(
íåy
->
d_«me
);

1199 i‡(
bu¢um
 == 0) {

1200 
	`usbi_dbg
("unknow¿dúÉ¡ry %s", 
íåy
->
d_«me
);

1204 
r
 = 
	`usbfs_sˇn_busdú
(
˘x
, 
bu¢um
);

1205 i‡(
r
 < 0)

1210 
	`˛o£dú
(
bu£s
);

1211  
r
;

1213 
	}
}

1216 
	$sysfs_sˇn_devi˚
(
libusb_c⁄ãxt
 *
˘x
, c⁄° *
dev«me
)

1218 
uöt8_t
 
bu¢um
, 
devaddr
;

1219 
ªt
;

1221 
ªt
 = 
	`löux_gë_devi˚_addªss
 (
˘x
, 0, &
bu¢um
, &
devaddr
, 
NULL
, 
dev«me
);

1222 i‡(
LIBUSB_SUCCESS
 !
ªt
) {

1223  
ªt
;

1226  
	`löux_íumî©e_devi˚
(
˘x
, 
bu¢um
 & 0xff, 
devaddr
 & 0xff,

1227 
dev«me
);

1228 
	}
}

1230 #i‡!
deföed
(
USE_UDEV
)

1231 
	$sysfs_gë_devi˚_li°
(
libusb_c⁄ãxt
 *
˘x
)

1233 
DIR
 *
devi˚s
 = 
	`›ídú
(
SYSFS_DEVICE_PATH
);

1234 
dúít
 *
íåy
;

1235 
r
 = 
LIBUSB_ERROR_IO
;

1237 i‡(!
devi˚s
) {

1238 
	`usbi_îr
(
˘x
, "›ídú devi˚†ÁûedÉºno=%d", 
î∫o
);

1239  
r
;

1242 (
íåy
 = 
	`ªaddú
(
devi˚s
))) {

1243 i‡((!
	`isdigô
(
íåy
->
d_«me
[0]Ë&& 
	`°∫cmp
(entry->d_name, "usb", 3))

1244 || 
	`°rchr
(
íåy
->
d_«me
, ':'))

1247 i‡(
	`sysfs_sˇn_devi˚
(
˘x
, 
íåy
->
d_«me
)) {

1248 
	`usbi_dbg
("ÁûedÅÿíumî©êdúÉ¡ry %s", 
íåy
->
d_«me
);

1252 
r
 = 0;

1255 
	`˛o£dú
(
devi˚s
);

1256  
r
;

1257 
	}
}

1259 
	$löux_deÁu…_sˇn_devi˚s
 (
libusb_c⁄ãxt
 *
˘x
)

1271 i‡(
sysfs_ˇn_ªœã_devi˚s
 != 0)

1272  
	`sysfs_gë_devi˚_li°
(
˘x
);

1274  
	`usbfs_gë_devi˚_li°
(
˘x
);

1275 
	}
}

1278 
	$›_›í
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

1280 
löux_devi˚_h™dÀ_¥iv
 *
h¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
);

1281 
r
;

1283 
h¥iv
->
fd
 = 
	`_gë_usbfs_fd
(
h™dÀ
->
dev
, 
O_RDWR
, 0);

1284 i‡(
h¥iv
->
fd
 < 0) {

1285 i‡(
h¥iv
->
fd
 =
LIBUSB_ERROR_NO_DEVICE
) {

1288 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

1289 i‡(
h™dÀ
->
dev
->
©èched
) {

1290 
	`usbi_dbg
("open failed withÇo device, but device stilláttached");

1291 
	`löux_devi˚_disc⁄√˘ed
(
h™dÀ
->
dev
->
bus_numbî
,

1292 
h™dÀ
->
dev
->
devi˚_addªss
, 
NULL
);

1294 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

1296  
h¥iv
->
fd
;

1299 
r
 = 
	`io˘l
(
h¥iv
->
fd
, 
IOCTL_USBFS_GET_CAPABILITIES
, &h¥iv->
ˇps
);

1300 i‡(
r
 < 0) {

1301 i‡(
î∫o
 =
ENOTTY
)

1302 
	`usbi_dbg
("getcapÇotávailable");

1304 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
), "gëˇ∞Áûed (%d)", 
î∫o
);

1305 
h¥iv
->
ˇps
 = 0;

1306 i‡(
suµ‹ts_Êag_zîo_∑ckë
)

1307 
h¥iv
->
ˇps
 |
USBFS_CAP_ZERO_PACKET
;

1308 i‡(
suµ‹ts_Êag_bulk_c⁄töu©i⁄
)

1309 
h¥iv
->
ˇps
 |
USBFS_CAP_BULK_CONTINUATION
;

1312  
	`usbi_add_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
fd
, 
POLLOUT
);

1313 
	}
}

1315 
	$›_˛o£
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

1317 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
)->fd;

1318 
	`usbi_ªmove_pﬁlfd
(
	`HANDLE_CTX
(
dev_h™dÀ
), 
fd
);

1319 
	`˛o£
(
fd
);

1320 
	}
}

1322 
	$›_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1323 *
c⁄fig
)

1325 
r
;

1327 i‡(
sysfs_ˇn_ªœã_devi˚s
) {

1328 
r
 = 
	`sysfs_gë_a˘ive_c⁄fig
(
h™dÀ
->
dev
, 
c⁄fig
);

1330 
r
 = 
	`usbfs_gë_a˘ive_c⁄fig
(
h™dÀ
->
dev
,

1331 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->
fd
);

1333 i‡(
r
 < 0)

1334  
r
;

1336 i‡(*
c⁄fig
 == -1) {

1337 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
), "device unconfigured");

1338 *
c⁄fig
 = 0;

1342 
	}
}

1344 
	$›_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
c⁄fig
)

1346 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

1347 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1348 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_SETCONFIG
, &
c⁄fig
);

1349 i‡(
r
) {

1350 i‡(
î∫o
 =
EINVAL
)

1351  
LIBUSB_ERROR_NOT_FOUND
;

1352 i‡(
î∫o
 =
EBUSY
)

1353  
LIBUSB_ERROR_BUSY
;

1354 i‡(
î∫o
 =
ENODEV
)

1355  
LIBUSB_ERROR_NO_DEVICE
;

1357 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
), "Áûed,Éº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1358  
LIBUSB_ERROR_OTHER
;

1362 
¥iv
->
a˘ive_c⁄fig
 = 
c⁄fig
;

1364  
LIBUSB_SUCCESS
;

1365 
	}
}

1367 
	$˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

1369 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1370 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_CLAIMINTF
, &
iÁ˚
);

1371 i‡(
r
) {

1372 i‡(
î∫o
 =
ENOENT
)

1373  
LIBUSB_ERROR_NOT_FOUND
;

1374 i‡(
î∫o
 =
EBUSY
)

1375  
LIBUSB_ERROR_BUSY
;

1376 i‡(
î∫o
 =
ENODEV
)

1377  
LIBUSB_ERROR_NO_DEVICE
;

1379 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1380 "˛aim i¡îÁ˚ faûed,Éº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1381  
LIBUSB_ERROR_OTHER
;

1384 
	}
}

1386 
	$ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

1388 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1389 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_RELEASEINTF
, &
iÁ˚
);

1390 i‡(
r
) {

1391 i‡(
î∫o
 =
ENODEV
)

1392  
LIBUSB_ERROR_NO_DEVICE
;

1394 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1395 "ªÀa£ i¡îÁ˚ faûed,Éº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1396  
LIBUSB_ERROR_OTHER
;

1399 
	}
}

1401 
	$›_£t_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
,

1402 
Æt£âög
)

1404 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1405 
usbfs_£töãrÁ˚
 
£tötf
;

1406 
r
;

1408 
£tötf
.
öãrÁ˚
 = 
iÁ˚
;

1409 
£tötf
.
Æt£âög
 =áltsetting;

1410 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_SETINTF
, &
£tötf
);

1411 i‡(
r
) {

1412 i‡(
î∫o
 =
EINVAL
)

1413  
LIBUSB_ERROR_NOT_FOUND
;

1414 i‡(
î∫o
 =
ENODEV
)

1415  
LIBUSB_ERROR_NO_DEVICE
;

1417 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1418 "£töt‡ÁûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1419  
LIBUSB_ERROR_OTHER
;

1423 
	}
}

1425 
	$›_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1426 
ídpoöt
)

1428 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1429 
_ídpoöt
 = 
ídpoöt
;

1430 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_CLEAR_HALT
, &
_ídpoöt
);

1431 i‡(
r
) {

1432 i‡(
î∫o
 =
ENOENT
)

1433  
LIBUSB_ERROR_NOT_FOUND
;

1434 i‡(
î∫o
 =
ENODEV
)

1435  
LIBUSB_ERROR_NO_DEVICE
;

1437 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1438 "˛ór_hÆàÁûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1439  
LIBUSB_ERROR_OTHER
;

1443 
	}
}

1445 
	$›_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

1447 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1448 
i
, 
r
, 
ªt
 = 0;

1455 
i
 = 0; i < 
USB_MAXINTERFACES
; i++) {

1456 i‡(
h™dÀ
->
˛aimed_öãrÁ˚s
 & (1L << 
i
)) {

1457 
	`ªÀa£_öãrÁ˚
(
h™dÀ
, 
i
);

1461 
	`usbi_muãx_lock
(&
h™dÀ
->
lock
);

1462 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_RESET
, 
NULL
);

1463 i‡(
r
) {

1464 i‡(
î∫o
 =
ENODEV
) {

1465 
ªt
 = 
LIBUSB_ERROR_NOT_FOUND
;

1466 
out
;

1469 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1470 "ª£àÁûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1471 
ªt
 = 
LIBUSB_ERROR_OTHER
;

1472 
out
;

1476 
i
 = 0; i < 
USB_MAXINTERFACES
; i++) {

1477 i‡(
h™dÀ
->
˛aimed_öãrÁ˚s
 & (1L << 
i
)) {

1483 
r
 = 
	`dëach_kî√l_drivî_™d_˛aim
(
h™dÀ
, 
i
);

1484 i‡(
r
) {

1485 
	`usbi_w¨n
(
	`HANDLE_CTX
(
h™dÀ
),

1487 
i
, 
	`libusb_îr‹_«me
(
r
));

1488 
h™dÀ
->
˛aimed_öãrÁ˚s
 &~(1L << 
i
);

1489 
ªt
 = 
LIBUSB_ERROR_NOT_FOUND
;

1493 
out
:

1494 
	`usbi_muãx_u∆ock
(&
h™dÀ
->
lock
);

1495  
ªt
;

1496 
	}
}

1498 
	$do_°ªams_io˘l
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
ªq
,

1499 
uöt32_t
 
num_°ªams
, *
ídpoöts
, 
num_ídpoöts
)

1501 
r
, 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1502 
usbfs_°ªams
 *
°ªams
;

1504 i‡(
num_ídpoöts
 > 30)

1505  
LIBUSB_ERROR_INVALID_PARAM
;

1507 
°ªams
 = 
	`mÆloc
((
usbfs_°ªams
Ë+ 
num_ídpoöts
);

1508 i‡(!
°ªams
)

1509  
LIBUSB_ERROR_NO_MEM
;

1511 
°ªams
->
num_°ªams
 =Çum_streams;

1512 
°ªams
->
num_ïs
 = 
num_ídpoöts
;

1513 
	`mem˝y
(
°ªams
->
ïs
, 
ídpoöts
, 
num_ídpoöts
);

1515 
r
 = 
	`io˘l
(
fd
, 
ªq
, 
°ªams
);

1517 
	`‰ì
(
°ªams
);

1519 i‡(
r
 < 0) {

1520 i‡(
î∫o
 =
ENOTTY
)

1521  
LIBUSB_ERROR_NOT_SUPPORTED
;

1522 i‡(
î∫o
 =
EINVAL
)

1523  
LIBUSB_ERROR_INVALID_PARAM
;

1524 i‡(
î∫o
 =
ENODEV
)

1525  
LIBUSB_ERROR_NO_DEVICE
;

1527 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1528 "°ªams-io˘»ÁûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1529  
LIBUSB_ERROR_OTHER
;

1531  
r
;

1532 
	}
}

1534 
	$›_Æloc_°ªams
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1535 
uöt32_t
 
num_°ªams
, *
ídpoöts
, 
num_ídpoöts
)

1537  
	`do_°ªams_io˘l
(
h™dÀ
, 
IOCTL_USBFS_ALLOC_STREAMS
,

1538 
num_°ªams
, 
ídpoöts
, 
num_ídpoöts
);

1539 
	}
}

1541 
	$›_‰ì_°ªams
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1542 *
ídpoöts
, 
num_ídpoöts
)

1544  
	`do_°ªams_io˘l
(
h™dÀ
, 
IOCTL_USBFS_FREE_STREAMS
, 0,

1545 
ídpoöts
, 
num_ídpoöts
);

1546 
	}
}

1548 
	$›_kî√l_drivî_a˘ive
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1549 
öãrÁ˚
)

1551 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1552 
usbfs_gëdrivî
 
gëdrv
;

1553 
r
;

1555 
gëdrv
.
öãrÁ˚
 = interface;

1556 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_GETDRIVER
, &
gëdrv
);

1557 i‡(
r
) {

1558 i‡(
î∫o
 =
ENODATA
)

1560 i‡(
î∫o
 =
ENODEV
)

1561  
LIBUSB_ERROR_NO_DEVICE
;

1563 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1564 "gë drivî faûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1565  
LIBUSB_ERROR_OTHER
;

1568  (
	`°rcmp
(
gëdrv
.
drivî
, "usbfs") == 0) ? 0 : 1;

1569 
	}
}

1571 
	$›_dëach_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1572 
öãrÁ˚
)

1574 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1575 
usbfs_io˘l
 
comm™d
;

1576 
usbfs_gëdrivî
 
gëdrv
;

1577 
r
;

1579 
comm™d
.
i‚o
 = 
öãrÁ˚
;

1580 
comm™d
.
io˘l_code
 = 
IOCTL_USBFS_DISCONNECT
;

1581 
comm™d
.
d©a
 = 
NULL
;

1583 
gëdrv
.
öãrÁ˚
 = interface;

1584 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_GETDRIVER
, &
gëdrv
);

1585 i‡(
r
 =0 && 
	`°rcmp
(
gëdrv
.
drivî
, "usbfs") == 0)

1586  
LIBUSB_ERROR_NOT_FOUND
;

1588 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_IOCTL
, &
comm™d
);

1589 i‡(
r
) {

1590 i‡(
î∫o
 =
ENODATA
)

1591  
LIBUSB_ERROR_NOT_FOUND
;

1592 i‡(
î∫o
 =
EINVAL
)

1593  
LIBUSB_ERROR_INVALID_PARAM
;

1594 i‡(
î∫o
 =
ENODEV
)

1595  
LIBUSB_ERROR_NO_DEVICE
;

1597 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1598 "dëach faûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1599  
LIBUSB_ERROR_OTHER
;

1603 
	}
}

1605 
	$›_©èch_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1606 
öãrÁ˚
)

1608 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1609 
usbfs_io˘l
 
comm™d
;

1610 
r
;

1612 
comm™d
.
i‚o
 = 
öãrÁ˚
;

1613 
comm™d
.
io˘l_code
 = 
IOCTL_USBFS_CONNECT
;

1614 
comm™d
.
d©a
 = 
NULL
;

1616 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_IOCTL
, &
comm™d
);

1617 i‡(
r
 < 0) {

1618 i‡(
î∫o
 =
ENODATA
)

1619  
LIBUSB_ERROR_NOT_FOUND
;

1620 i‡(
î∫o
 =
EINVAL
)

1621  
LIBUSB_ERROR_INVALID_PARAM
;

1622 i‡(
î∫o
 =
ENODEV
)

1623  
LIBUSB_ERROR_NO_DEVICE
;

1624 i‡(
î∫o
 =
EBUSY
)

1625  
LIBUSB_ERROR_BUSY
;

1627 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1628 "©èch faûedÉº‹ %dÉºnÿ%d", 
r
, 
î∫o
);

1629  
LIBUSB_ERROR_OTHER
;

1630 } i‡(
r
 == 0) {

1631  
LIBUSB_ERROR_NOT_FOUND
;

1635 
	}
}

1637 
	$dëach_kî√l_drivî_™d_˛aim
(
libusb_devi˚_h™dÀ
 *
h™dÀ
,

1638 
öãrÁ˚
)

1640 
usbfs_disc⁄√˘_˛aim
 
dc
;

1641 
r
, 
fd
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
)->fd;

1643 
dc
.
öãrÁ˚
 = interface;

1644 
	`°r˝y
(
dc
.
drivî
, "usbfs");

1645 
dc
.
Êags
 = 
USBFS_DISCONNECT_CLAIM_EXCEPT_DRIVER
;

1646 
r
 = 
	`io˘l
(
fd
, 
IOCTL_USBFS_DISCONNECT_CLAIM
, &
dc
);

1647 i‡(
r
 =0 || (∏!0 && 
î∫o
 !
ENOTTY
)) {

1648 i‡(
r
 == 0)

1651 
î∫o
) {

1652 
EBUSY
:

1653  
LIBUSB_ERROR_BUSY
;

1654 
EINVAL
:

1655  
LIBUSB_ERROR_INVALID_PARAM
;

1656 
ENODEV
:

1657  
LIBUSB_ERROR_NO_DEVICE
;

1659 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
),

1660 "disc⁄√˘-™d-˛aim faûedÉºnÿ%d", 
î∫o
);

1661  
LIBUSB_ERROR_OTHER
;

1666 
r
 = 
	`›_dëach_kî√l_drivî
(
h™dÀ
, 
öãrÁ˚
);

1667 i‡(
r
 !0 &&Ñ !
LIBUSB_ERROR_NOT_FOUND
)

1668  
r
;

1670  
	`˛aim_öãrÁ˚
(
h™dÀ
, 
öãrÁ˚
);

1671 
	}
}

1673 
	$›_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

1675 i‡(
h™dÀ
->
auto_dëach_kî√l_drivî
)

1676  
	`dëach_kî√l_drivî_™d_˛aim
(
h™dÀ
, 
iÁ˚
);

1678  
	`˛aim_öãrÁ˚
(
h™dÀ
, 
iÁ˚
);

1679 
	}
}

1681 
	$›_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

1683 
r
;

1685 
r
 = 
	`ªÀa£_öãrÁ˚
(
h™dÀ
, 
iÁ˚
);

1686 i‡(
r
)

1687  
r
;

1689 i‡(
h™dÀ
->
auto_dëach_kî√l_drivî
)

1690 
	`›_©èch_kî√l_drivî
(
h™dÀ
, 
iÁ˚
);

1693 
	}
}

1695 
	$›_de°roy_devi˚
(
libusb_devi˚
 *
dev
)

1697 
löux_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1698 i‡(
¥iv
->
des¸ùt‹s
)

1699 
	`‰ì
(
¥iv
->
des¸ùt‹s
);

1700 i‡(
¥iv
->
sysfs_dú
)

1701 
	`‰ì
(
¥iv
->
sysfs_dú
);

1702 
	}
}

1705 
	$disˇrd_urbs
(
usbi_å™s„r
 *
ôøns„r
, 
fú°
, 
œ°_∂us_⁄e
)

1707 
libusb_å™s„r
 *
å™s„r
 =

1708 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1709 
löux_å™s„r_¥iv
 *
çriv
 =

1710 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1711 
löux_devi˚_h™dÀ_¥iv
 *
d¥iv
 =

1712 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

1713 
i
, 
ªt
 = 0;

1714 
usbfs_urb
 *
urb
;

1716 
i
 = 
œ°_∂us_⁄e
 - 1; i >
fú°
; i--) {

1717 i‡(
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
 =
å™s„r
->
ty≥
)

1718 
urb
 = 
çriv
->
iso_urbs
[
i
];

1720 
urb
 = &
çriv
->
urbs
[
i
];

1721 #ifde‡
YS_PRINT_API


1722 
	`YSPRINT
("%s:%d %s: URB†¨êdisˇrded\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

1724 i‡(0 =
	`io˘l
(
d¥iv
->
fd
, 
IOCTL_USBFS_DISCARDURB
, 
urb
))

1727 i‡(
EINVAL
 =
î∫o
) {

1728 
	`usbi_dbg
("URBÇot found -->ássumingÑeadyÅo beÑeaped");

1729 i‡(
i
 =(
œ°_∂us_⁄e
 - 1))

1730 
ªt
 = 
LIBUSB_ERROR_NOT_FOUND
;

1731 } i‡(
ENODEV
 =
î∫o
) {

1732 
	`usbi_dbg
("DeviceÇot found for URB -->ássumingÑeadyÅo beÑeaped");

1733 
ªt
 = 
LIBUSB_ERROR_NO_DEVICE
;

1735 
	`usbi_w¨n
(
	`TRANSFER_CTX
(
å™s„r
),

1736 "uƒecogni£d disˇrdÉºnÿ%d", 
î∫o
);

1737 
ªt
 = 
LIBUSB_ERROR_OTHER
;

1740  
ªt
;

1741 
	}
}

1743 
	$‰ì_iso_urbs
(
löux_å™s„r_¥iv
 *
çriv
)

1745 
i
;

1746 
i
 = 0; i < 
çriv
->
num_urbs
; i++) {

1747 
usbfs_urb
 *
urb
 = 
çriv
->
iso_urbs
[
i
];

1748 i‡(!
urb
)

1750 
	`‰ì
(
urb
);

1753 
	`‰ì
(
çriv
->
iso_urbs
);

1754 
çriv
->
iso_urbs
 = 
NULL
;

1755 
	}
}

1757 
	$submô_bulk_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

1759 
libusb_å™s„r
 *
å™s„r
 =

1760 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1761 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1762 
löux_devi˚_h™dÀ_¥iv
 *
d¥iv
 =

1763 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

1764 
usbfs_urb
 *
urbs
;

1765 
is_out
 = (
å™s„r
->
ídpoöt
 & 
LIBUSB_ENDPOINT_DIR_MASK
)

1766 =
LIBUSB_ENDPOINT_OUT
;

1767 
bulk_buf„r_Àn
, 
u£_bulk_c⁄töu©i⁄
;

1768 
r
;

1769 
i
;

1770 
size_t
 
Æloc_size
;

1772 i‡(
çriv
->
urbs
)

1773  
LIBUSB_ERROR_BUSY
;

1775 i‡(
is_out
 && (
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
) &&

1776 !(
d¥iv
->
ˇps
 & 
USBFS_CAP_ZERO_PACKET
))

1777  
LIBUSB_ERROR_NOT_SUPPORTED
;

1798 i‡(
d¥iv
->
ˇps
 & 
USBFS_CAP_BULK_SCATTER_GATHER
) {

1800 
bulk_buf„r_Àn
 = 
å™s„r
->
Àngth
 ?Åransfer->length : 1;

1801 
u£_bulk_c⁄töu©i⁄
 = 0;

1802 } i‡(
d¥iv
->
ˇps
 & 
USBFS_CAP_BULK_CONTINUATION
) {

1805 
bulk_buf„r_Àn
 = 
MAX_BULK_BUFFER_LENGTH
;

1806 
u£_bulk_c⁄töu©i⁄
 = 1;

1807 } i‡(
d¥iv
->
ˇps
 & 
USBFS_CAP_NO_PACKET_SIZE_LIM
) {

1810 
bulk_buf„r_Àn
 = 
å™s„r
->
Àngth
 ?Åransfer->length : 1;

1811 
u£_bulk_c⁄töu©i⁄
 = 0;

1817 
bulk_buf„r_Àn
 = 
MAX_BULK_BUFFER_LENGTH
;

1818 
u£_bulk_c⁄töu©i⁄
 = 0;

1821 
num_urbs
 = 
å™s„r
->
Àngth
 / 
bulk_buf„r_Àn
;

1822 
œ°_urb_∑πül
 = 0;

1824 i‡(
å™s„r
->
Àngth
 == 0) {

1825 
num_urbs
 = 1;

1826 } i‡((
å™s„r
->
Àngth
 % 
bulk_buf„r_Àn
) > 0) {

1827 
œ°_urb_∑πül
 = 1;

1828 
num_urbs
++;

1830 
	`usbi_dbg
("√ed %d urb†f‹ÇewÅøns„∏wôhÜígth %d", 
num_urbs
,

1831 
å™s„r
->
Àngth
);

1832 
Æloc_size
 = 
num_urbs
 * (
usbfs_urb
);

1833 
urbs
 = 
	`ˇŒoc
(1, 
Æloc_size
);

1834 i‡(!
urbs
)

1835  
LIBUSB_ERROR_NO_MEM
;

1836 
çriv
->
urbs
 = urbs;

1837 
çriv
->
num_urbs
 =Çum_urbs;

1838 
çriv
->
num_ªtúed
 = 0;

1839 
çriv
->
ª≠_a˘i⁄
 = 
NORMAL
;

1840 
çriv
->
ª≠_°©us
 = 
LIBUSB_TRANSFER_COMPLETED
;

1842 
i
 = 0; i < 
num_urbs
; i++) {

1843 
usbfs_urb
 *
urb
 = &
urbs
[
i
];

1844 
urb
->
u£rc⁄ãxt
 = 
ôøns„r
;

1845 
å™s„r
->
ty≥
) {

1846 
LIBUSB_TRANSFER_TYPE_BULK
:

1847 
urb
->
ty≥
 = 
USBFS_URB_TYPE_BULK
;

1848 
urb
->
°ªam_id
 = 0;

1850 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

1851 
urb
->
ty≥
 = 
USBFS_URB_TYPE_BULK
;

1852 
urb
->
°ªam_id
 = 
ôøns„r
->stream_id;

1854 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

1855 
urb
->
ty≥
 = 
USBFS_URB_TYPE_INTERRUPT
;

1858 
urb
->
ídpoöt
 = 
å™s„r
->endpoint;

1859 
urb
->
buf„r
 = 
å™s„r
->buf„∏+ (
i
 * 
bulk_buf„r_Àn
);

1861 i‡(
u£_bulk_c⁄töu©i⁄
 && !
is_out
 && (
i
 < 
num_urbs
 - 1))

1862 
urb
->
Êags
 = 
USBFS_URB_SHORT_NOT_OK
;

1863 i‡(
i
 =
num_urbs
 - 1 && 
œ°_urb_∑πül
)

1864 
urb
->
buf„r_Àngth
 = 
å™s„r
->
Àngth
 % 
bulk_buf„r_Àn
;

1865 i‡(
å™s„r
->
Àngth
 == 0)

1866 
urb
->
buf„r_Àngth
 = 0;

1868 
urb
->
buf„r_Àngth
 = 
bulk_buf„r_Àn
;

1870 i‡(
i
 > 0 && 
u£_bulk_c⁄töu©i⁄
)

1871 
urb
->
Êags
 |
USBFS_URB_BULK_CONTINUATION
;

1874 i‡(
is_out
 && 
i
 =
num_urbs
 - 1 &&

1875 
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
)

1876 
urb
->
Êags
 |
USBFS_URB_ZERO_PACKET
;

1878 
r
 = 
	`io˘l
(
d¥iv
->
fd
, 
IOCTL_USBFS_SUBMITURB
, 
urb
);

1879 i‡(
r
 < 0) {

1880 i‡(
î∫o
 =
ENODEV
) {

1881 #ifde‡
YS_PRINT_API


1882 
	`YSPRINT
("%s:%d %s: io˘»Áûed,ÑëvÆ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
r
);

1884 
r
 = 
LIBUSB_ERROR_NO_DEVICE
;

1886 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

1887 "submôurb faûedÉº‹ %dÉºno=%d", 
r
, 
î∫o
);

1888 
r
 = 
LIBUSB_ERROR_IO
;

1893 i‡(
i
 == 0) {

1894 
	`usbi_dbg
("first URB failed,ÉasyÖeasy");

1895 
	`‰ì
(
urbs
);

1896 
çriv
->
urbs
 = 
NULL
;

1897  
r
;

1916 
çriv
->
ª≠_a˘i⁄
 = 
EREMOTEIO
 =
î∫o
 ? 
COMPLETED_EARLY
 : 
SUBMIT_FAILED
;

1920 
çriv
->
num_ªtúed
 +
num_urbs
 - 
i
;

1923 i‡(
COMPLETED_EARLY
 =
çriv
->
ª≠_a˘i⁄
)

1926 
	`disˇrd_urbs
(
ôøns„r
, 0, 
i
);

1928 
	`usbi_dbg
("reporting successful submission but waiting for %d "

1929 "disˇrd†bef‹êªp‹tögÉº‹", 
i
);

1935 
	}
}

1937 
	$submô_iso_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

1939 
libusb_å™s„r
 *
å™s„r
 =

1940 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

1941 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

1942 
löux_devi˚_h™dÀ_¥iv
 *
d¥iv
 =

1943 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

1944 
usbfs_urb
 **
urbs
;

1945 
size_t
 
Æloc_size
;

1946 
num_∑ckës
 = 
å™s„r
->
num_iso_∑ckës
;

1947 
i
;

1948 
this_urb_Àn
 = 0;

1949 
num_urbs
 = 1;

1950 
∑ckë_off£t
 = 0;

1951 
∑ckë_Àn
;

1952 *
urb_buf„r
 = 
å™s„r
->
buf„r
;

1954 i‡(
çriv
->
iso_urbs
)

1955  
LIBUSB_ERROR_BUSY
;

1969 
i
 = 0; i < 
num_∑ckës
; i++) {

1970 
•a˚_ªmaöög
 = 
MAX_ISO_BUFFER_LENGTH
 - 
this_urb_Àn
;

1971 
∑ckë_Àn
 = 
å™s„r
->
iso_∑ckë_desc
[
i
].
Àngth
;

1973 i‡(
∑ckë_Àn
 > 
•a˚_ªmaöög
) {

1974 
num_urbs
++;

1975 
this_urb_Àn
 = 
∑ckë_Àn
;

1977 
this_urb_Àn
 +
∑ckë_Àn
;

1980 
	`usbi_dbg
("√ed %d 32k URB†f‹Åøns„r", 
num_urbs
);

1982 
Æloc_size
 = 
num_urbs
 * (*
urbs
);

1983 
urbs
 = 
	`ˇŒoc
(1, 
Æloc_size
);

1984 i‡(!
urbs
)

1985  
LIBUSB_ERROR_NO_MEM
;

1987 
çriv
->
iso_urbs
 = 
urbs
;

1988 
çriv
->
num_urbs
 =Çum_urbs;

1989 
çriv
->
num_ªtúed
 = 0;

1990 
çriv
->
ª≠_a˘i⁄
 = 
NORMAL
;

1991 
çriv
->
iso_∑ckë_off£t
 = 0;

1994 
i
 = 0; i < 
num_urbs
; i++) {

1995 
usbfs_urb
 *
urb
;

1996 
•a˚_ªmaöög_ö_urb
 = 
MAX_ISO_BUFFER_LENGTH
;

1997 
urb_∑ckë_off£t
 = 0;

1998 *
urb_buf„r_‹ig
 = 
urb_buf„r
;

1999 
j
;

2000 
k
;

2003 
∑ckë_off£t
 < 
å™s„r
->
num_iso_∑ckës
) {

2004 
∑ckë_Àn
 = 
å™s„r
->
iso_∑ckë_desc
[
∑ckë_off£t
].
Àngth
;

2005 i‡(
∑ckë_Àn
 <
•a˚_ªmaöög_ö_urb
) {

2007 
urb_∑ckë_off£t
++;

2008 
∑ckë_off£t
++;

2009 
•a˚_ªmaöög_ö_urb
 -
∑ckë_Àn
;

2010 
urb_buf„r
 +
∑ckë_Àn
;

2017 
Æloc_size
 = (*
urb
)

2018 + (
urb_∑ckë_off£t
 * (
usbfs_iso_∑ckë_desc
));

2019 
urb
 = 
	`ˇŒoc
(1, 
Æloc_size
);

2020 i‡(!
urb
) {

2021 
	`‰ì_iso_urbs
(
çriv
);

2022  
LIBUSB_ERROR_NO_MEM
;

2024 
urbs
[
i
] = 
urb
;

2027 
j
 = 0, 
k
 = 
∑ckë_off£t
 - 
urb_∑ckë_off£t
;

2028 
k
 < 
∑ckë_off£t
; k++, 
j
++) {

2029 
∑ckë_Àn
 = 
å™s„r
->
iso_∑ckë_desc
[
k
].
Àngth
;

2030 
urb
->
iso_‰ame_desc
[
j
].
Àngth
 = 
∑ckë_Àn
;

2033 
urb
->
u£rc⁄ãxt
 = 
ôøns„r
;

2034 
urb
->
ty≥
 = 
USBFS_URB_TYPE_ISO
;

2036 
urb
->
Êags
 = 
USBFS_URB_ISO_ASAP
;

2037 
urb
->
ídpoöt
 = 
å™s„r
->endpoint;

2038 
urb
->
numbî_of_∑ckës
 = 
urb_∑ckë_off£t
;

2039 
urb
->
buf„r
 = 
urb_buf„r_‹ig
;

2043 
i
 = 0; i < 
num_urbs
; i++) {

2044 
r
 = 
	`io˘l
(
d¥iv
->
fd
, 
IOCTL_USBFS_SUBMITURB
, 
urbs
[
i
]);

2045 i‡(
r
 < 0) {

2046 i‡(
î∫o
 =
ENODEV
) {

2047 
r
 = 
LIBUSB_ERROR_NO_DEVICE
;

2049 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

2050 "submôurb faûedÉº‹ %dÉºno=%d", 
r
, 
î∫o
);

2051 
r
 = 
LIBUSB_ERROR_IO
;

2056 i‡(
i
 == 0) {

2057 
	`usbi_dbg
("first URB failed,ÉasyÖeasy");

2058 
	`‰ì_iso_urbs
(
çriv
);

2059  
r
;

2075 
çriv
->
ª≠_a˘i⁄
 = 
SUBMIT_FAILED
;

2079 
çriv
->
num_ªtúed
 = 
num_urbs
 - 
i
;

2080 
	`disˇrd_urbs
(
ôøns„r
, 0, 
i
);

2082 
	`usbi_dbg
("reporting successful submission but waiting for %d "

2083 "disˇrd†bef‹êªp‹tögÉº‹", 
i
);

2089 
	}
}

2091 
	$submô_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2093 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2094 
libusb_å™s„r
 *
å™s„r
 =

2095 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2096 
löux_devi˚_h™dÀ_¥iv
 *
d¥iv
 =

2097 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

2098 
usbfs_urb
 *
urb
;

2099 
r
;

2101 i‡(
çriv
->
urbs
)

2102  
LIBUSB_ERROR_BUSY
;

2104 i‡(
å™s„r
->
Àngth
 - 
LIBUSB_CONTROL_SETUP_SIZE
 > 
MAX_CTRL_BUFFER_LENGTH
)

2105  
LIBUSB_ERROR_INVALID_PARAM
;

2107 
urb
 = 
	`ˇŒoc
(1, (
usbfs_urb
));

2108 i‡(!
urb
)

2109  
LIBUSB_ERROR_NO_MEM
;

2110 
çriv
->
urbs
 = 
urb
;

2111 
çriv
->
num_urbs
 = 1;

2112 
çriv
->
ª≠_a˘i⁄
 = 
NORMAL
;

2114 
urb
->
u£rc⁄ãxt
 = 
ôøns„r
;

2115 
urb
->
ty≥
 = 
USBFS_URB_TYPE_CONTROL
;

2116 
urb
->
ídpoöt
 = 
å™s„r
->endpoint;

2117 
urb
->
buf„r
 = 
å™s„r
->buffer;

2118 
urb
->
buf„r_Àngth
 = 
å™s„r
->
Àngth
;

2120 
r
 = 
	`io˘l
(
d¥iv
->
fd
, 
IOCTL_USBFS_SUBMITURB
, 
urb
);

2121 i‡(
r
 < 0) {

2122 
	`‰ì
(
urb
);

2123 
çriv
->
urbs
 = 
NULL
;

2124 i‡(
î∫o
 =
ENODEV
)

2125  
LIBUSB_ERROR_NO_DEVICE
;

2127 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

2128 "submôurb faûedÉº‹ %dÉºno=%d", 
r
, 
î∫o
);

2129  
LIBUSB_ERROR_IO
;

2132 
	}
}

2134 
	$›_submô_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2136 
libusb_å™s„r
 *
å™s„r
 =

2137 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2139 
å™s„r
->
ty≥
) {

2140 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2141  
	`submô_c⁄åﬁ_å™s„r
(
ôøns„r
);

2142 
LIBUSB_TRANSFER_TYPE_BULK
:

2143 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2144  
	`submô_bulk_å™s„r
(
ôøns„r
);

2145 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2146  
	`submô_bulk_å™s„r
(
ôøns„r
);

2147 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2148  
	`submô_iso_å™s„r
(
ôøns„r
);

2150 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

2151 "unknow¿ídpoöàty≥ %d", 
å™s„r
->
ty≥
);

2152  
LIBUSB_ERROR_INVALID_PARAM
;

2154 
	}
}

2156 
	$›_ˇn˚l_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2158 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2159 
libusb_å™s„r
 *
å™s„r
 =

2160 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2162 
å™s„r
->
ty≥
) {

2163 
LIBUSB_TRANSFER_TYPE_BULK
:

2164 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2165 i‡(
çriv
->
ª≠_a˘i⁄
 =
ERROR
)

2168 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2169 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2170 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2171 
çriv
->
ª≠_a˘i⁄
 = 
CANCELLED
;

2174 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

2175 "unknow¿ídpoöàty≥ %d", 
å™s„r
->
ty≥
);

2176  
LIBUSB_ERROR_INVALID_PARAM
;

2179 i‡(!
çriv
->
urbs
)

2180  
LIBUSB_ERROR_NOT_FOUND
;

2182  
	`disˇrd_urbs
(
ôøns„r
, 0, 
çriv
->
num_urbs
);

2183 
	}
}

2185 
	$›_˛ór_å™s„r_¥iv
(
usbi_å™s„r
 *
ôøns„r
)

2187 
libusb_å™s„r
 *
å™s„r
 =

2188 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2189 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2192 
å™s„r
->
ty≥
) {

2193 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2194 
LIBUSB_TRANSFER_TYPE_BULK
:

2195 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2196 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2197 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

2198 i‡(
çriv
->
urbs
)

2199 
	`‰ì
(
çriv
->
urbs
);

2200 
çriv
->
urbs
 = 
NULL
;

2201 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2203 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2204 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

2205 i‡(
çriv
->
iso_urbs
)

2206 
	`‰ì_iso_urbs
(
çriv
);

2207 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2210 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
),

2211 "unknow¿ídpoöàty≥ %d", 
å™s„r
->
ty≥
);

2213 
	}
}

2215 
	$h™dÀ_bulk_com∂ëi⁄
(
usbi_å™s„r
 *
ôøns„r
,

2216 
usbfs_urb
 *
urb
)

2218 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2219 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2220 
urb_idx
 = 
urb
 - 
çriv
->
urbs
;

2222 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

2223 
	`usbi_dbg
("h™dlög com∂ëi⁄ sètu†%d o‡bulk urb %d/%d", 
urb
->
°©us
,

2224 
urb_idx
 + 1, 
çriv
->
num_urbs
);

2226 
çriv
->
num_ªtúed
++;

2228 i‡(
çriv
->
ª≠_a˘i⁄
 !
NORMAL
) {

2230 
	`usbi_dbg
("abn‹mÆÑóp: urb sètu†%d", 
urb
->
°©us
);

2248 i‡(
urb
->
a˘uÆ_Àngth
 > 0) {

2249 *
èrgë
 = 
å™s„r
->
buf„r
 + 
ôøns„r
->
å™s„ºed
;

2250 
	`usbi_dbg
("ª˚ived %d byã†o‡suΩlu†d©a", 
urb
->
a˘uÆ_Àngth
);

2251 i‡(
urb
->
buf„r
 !
èrgë
) {

2252 
	`usbi_dbg
("moving surplus data from offset %dÅo offset %d",

2253 (*Ë
urb
->
buf„r
 - 
å™s„r
->buffer,

2254 
èrgë
 - 
å™s„r
->
buf„r
);

2255 
	`memmove
(
èrgë
, 
urb
->
buf„r
, urb->
a˘uÆ_Àngth
);

2257 
ôøns„r
->
å™s„ºed
 +
urb
->
a˘uÆ_Àngth
;

2260 i‡(
çriv
->
num_ªtúed
 =çriv->
num_urbs
) {

2261 
	`usbi_dbg
("abnormalÑeap:Üast URB handled,Ñeporting");

2262 i‡(
çriv
->
ª≠_a˘i⁄
 !
COMPLETED_EARLY
 &&

2263 
çriv
->
ª≠_°©us
 =
LIBUSB_TRANSFER_COMPLETED
)

2264 
çriv
->
ª≠_°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2265 
com∂ëed
;

2267 
out_u∆ock
;

2270 
ôøns„r
->
å™s„ºed
 +
urb
->
a˘uÆ_Àngth
;

2275 
urb
->
°©us
) {

2278 -
EREMOTEIO
:

2280 -
ENOENT
:

2281 -
ECONNRESET
:

2283 -
ENODEV
:

2284 -
ESHUTDOWN
:

2285 
	`usbi_dbg
("deviceÑemoved");

2286 #ifde‡
YS_PRINT_API


2287 
	`YSPRINT
("%s:%d %s: devi˚Ñemoved\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2289 
çriv
->
ª≠_°©us
 = 
LIBUSB_TRANSFER_NO_DEVICE
;

2290 
ˇn˚l_ªmaöög
;

2291 -
EPIPE
:

2292 
	`usbi_dbg
("detectedÉndpoint stall");

2293 i‡(
çriv
->
ª≠_°©us
 =
LIBUSB_TRANSFER_COMPLETED
)

2294 
çriv
->
ª≠_°©us
 = 
LIBUSB_TRANSFER_STALL
;

2295 
ˇn˚l_ªmaöög
;

2296 -
EOVERFLOW
:

2298 
	`usbi_dbg
("ovîÊow,á˘uÆ_Àngth=%d", 
urb
->
a˘uÆ_Àngth
);

2299 i‡(
çriv
->
ª≠_°©us
 =
LIBUSB_TRANSFER_COMPLETED
) {

2300 #ifde‡
YS_PRINT_API


2301 
	`YSPRINT
("%s:%d %s: ===============\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2303 
çriv
->
ª≠_°©us
 = 
LIBUSB_TRANSFER_OVERFLOW
;

2305 
com∂ëed
;

2306 -
ETIME
:

2307 -
EPROTO
:

2308 -
EILSEQ
:

2309 -
ECOMM
:

2310 -
ENOSR
:

2311 
	`usbi_dbg
("lowÜevñÉº‹ %d", 
urb
->
°©us
);

2312 
çriv
->
ª≠_a˘i⁄
 = 
ERROR
;

2313 
ˇn˚l_ªmaöög
;

2315 
	`usbi_w¨n
(
	`ITRANSFER_CTX
(
ôøns„r
),

2316 "uƒecogni£d urb sètu†%d", 
urb
->
°©us
);

2317 
çriv
->
ª≠_a˘i⁄
 = 
ERROR
;

2318 
ˇn˚l_ªmaöög
;

2323 i‡(
urb_idx
 =
çriv
->
num_urbs
 - 1) {

2324 
	`usbi_dbg
("last URB inÅransfer --> complete!");

2325 
com∂ëed
;

2326 } i‡(
urb
->
a˘uÆ_Àngth
 < urb->
buf„r_Àngth
) {

2327 
	`usbi_dbg
("shortÅransfer %d/%d --> complete!",

2328 
urb
->
a˘uÆ_Àngth
, urb->
buf„r_Àngth
);

2329 i‡(
çriv
->
ª≠_a˘i⁄
 =
NORMAL
)

2330 
çriv
->
ª≠_a˘i⁄
 = 
COMPLETED_EARLY
;

2332 
out_u∆ock
;

2334 
ˇn˚l_ªmaöög
:

2335 i‡(
ERROR
 =
çriv
->
ª≠_a˘i⁄
 && 
LIBUSB_TRANSFER_COMPLETED
 =çriv->
ª≠_°©us
)

2336 
çriv
->
ª≠_°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2338 i‡(
çriv
->
num_ªtúed
 =çriv->
num_urbs
)

2339 
com∂ëed
;

2343 
	`disˇrd_urbs
(
ôøns„r
, 
urb_idx
 + 1, 
çriv
->
num_urbs
);

2345 
out_u∆ock
:

2346 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2349 
com∂ëed
:

2350 
	`‰ì
(
çriv
->
urbs
);

2351 
çriv
->
urbs
 = 
NULL
;

2352 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2353  
CANCELLED
 =
çriv
->
ª≠_a˘i⁄
 ?

2354 
	`usbi_h™dÀ_å™s„r_ˇn˚Œ©i⁄
(
ôøns„r
) :

2355 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
, 
çriv
->
ª≠_°©us
);

2356 
	}
}

2358 
	$h™dÀ_iso_com∂ëi⁄
(
usbi_å™s„r
 *
ôøns„r
,

2359 
usbfs_urb
 *
urb
)

2361 
libusb_å™s„r
 *
å™s„r
 =

2362 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2363 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2364 
num_urbs
 = 
çriv
->num_urbs;

2365 
urb_idx
 = 0;

2366 
i
;

2367 
libusb_å™s„r_°©us
 
°©us
 = 
LIBUSB_TRANSFER_COMPLETED
;

2369 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

2370 
i
 = 0; i < 
num_urbs
; i++) {

2371 i‡(
urb
 =
çriv
->
iso_urbs
[
i
]) {

2372 
urb_idx
 = 
i
 + 1;

2376 i‡(
urb_idx
 == 0) {

2377 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
), "couldÇotÜocate urb!");

2378 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2379  
LIBUSB_ERROR_NOT_FOUND
;

2382 
	`usbi_dbg
("h™dlög com∂ëi⁄ sètu†%d o‡isÿurb %d/%d", 
urb
->
°©us
,

2383 
urb_idx
, 
num_urbs
);

2387 
i
 = 0; i < 
urb
->
numbî_of_∑ckës
; i++) {

2388 
usbfs_iso_∑ckë_desc
 *
urb_desc
 = &
urb
->
iso_‰ame_desc
[
i
];

2389 
libusb_iso_∑ckë_des¸ùt‹
 *
lib_desc
 =

2390 &
å™s„r
->
iso_∑ckë_desc
[
çriv
->
iso_∑ckë_off£t
++];

2391 
lib_desc
->
°©us
 = 
LIBUSB_TRANSFER_COMPLETED
;

2392 
urb_desc
->
°©us
) {

2395 -
ENOENT
:

2396 -
ECONNRESET
:

2398 -
ENODEV
:

2399 -
ESHUTDOWN
:

2400 
	`usbi_dbg
("deviceÑemoved");

2401 #ifde‡
YS_PRINT_API


2402 
	`YSPRINT
("%s:%d %s: devi˚Ñemoved\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2404 
lib_desc
->
°©us
 = 
LIBUSB_TRANSFER_NO_DEVICE
;

2406 -
EPIPE
:

2407 
	`usbi_dbg
("detectedÉndpoint stall");

2408 
lib_desc
->
°©us
 = 
LIBUSB_TRANSFER_STALL
;

2410 -
EOVERFLOW
:

2411 
	`usbi_dbg
("overflowÉrror");

2412 #ifde‡
YS_PRINT_API


2413 
	`YSPRINT
("%s:%d %s: ===============\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2415 
lib_desc
->
°©us
 = 
LIBUSB_TRANSFER_OVERFLOW
;

2417 -
ETIME
:

2418 -
EPROTO
:

2419 -
EILSEQ
:

2420 -
ECOMM
:

2421 -
ENOSR
:

2422 -
EXDEV
:

2423 
	`usbi_dbg
("low-Àvñ USBÉº‹ %d", 
urb_desc
->
°©us
);

2424 
lib_desc
->
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2427 
	`usbi_w¨n
(
	`TRANSFER_CTX
(
å™s„r
),

2428 "uƒecogni£d urb sètu†%d", 
urb_desc
->
°©us
);

2429 
lib_desc
->
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2432 
lib_desc
->
a˘uÆ_Àngth
 = 
urb_desc
->actual_length;

2435 
çriv
->
num_ªtúed
++;

2437 i‡(
çriv
->
ª≠_a˘i⁄
 !
NORMAL
) {

2438 
	`usbi_dbg
("CANCEL: urb sètu†%d", 
urb
->
°©us
);

2440 i‡(
çriv
->
num_ªtúed
 =
num_urbs
) {

2441 
	`usbi_dbg
("CANCEL:Üast URB handled,Ñeporting");

2442 
	`‰ì_iso_urbs
(
çriv
);

2443 i‡(
çriv
->
ª≠_a˘i⁄
 =
CANCELLED
) {

2444 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2445  
	`usbi_h™dÀ_å™s„r_ˇn˚Œ©i⁄
(
ôøns„r
);

2447 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2448  
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
,

2449 
LIBUSB_TRANSFER_ERROR
);

2452 
out
;

2455 
urb
->
°©us
) {

2458 -
ENOENT
:

2459 -
ECONNRESET
:

2461 -
ESHUTDOWN
:

2462 
	`usbi_dbg
("deviceÑemoved");

2463 #ifde‡
YS_PRINT_API


2464 
	`YSPRINT
("%s:%d %s: devi˚Ñemoved\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2466 
°©us
 = 
LIBUSB_TRANSFER_NO_DEVICE
;

2469 
	`usbi_w¨n
(
	`TRANSFER_CTX
(
å™s„r
),

2470 "uƒecogni£d urb sètu†%d", 
urb
->
°©us
);

2471 
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2476 i‡(
urb_idx
 =
num_urbs
) {

2477 
	`usbi_dbg
("last URB inÅransfer --> complete!");

2478 
	`‰ì_iso_urbs
(
çriv
);

2479 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2480  
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
, 
°©us
);

2483 
out
:

2484 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2486 
	}
}

2488 
	$h™dÀ_c⁄åﬁ_com∂ëi⁄
(
usbi_å™s„r
 *
ôøns„r
,

2489 
usbfs_urb
 *
urb
)

2491 
löux_å™s„r_¥iv
 *
çriv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2492 
°©us
;

2494 
	`usbi_muãx_lock
(&
ôøns„r
->
lock
);

2495 
	`usbi_dbg
("h™dlög com∂ëi⁄ sètu†%d", 
urb
->
°©us
);

2497 
ôøns„r
->
å™s„ºed
 +
urb
->
a˘uÆ_Àngth
;

2499 i‡(
çriv
->
ª≠_a˘i⁄
 =
CANCELLED
) {

2500 i‡(
urb
->
°©us
 !0 && urb->°©u†!-
ENOENT
)

2501 
	`usbi_w¨n
(
	`ITRANSFER_CTX
(
ôøns„r
),

2502 "ˇn˚l: uƒecogni£d urb sètu†%d", 
urb
->
°©us
);

2503 
	`‰ì
(
çriv
->
urbs
);

2504 
çriv
->
urbs
 = 
NULL
;

2505 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2506  
	`usbi_h™dÀ_å™s„r_ˇn˚Œ©i⁄
(
ôøns„r
);

2509 
urb
->
°©us
) {

2511 
°©us
 = 
LIBUSB_TRANSFER_COMPLETED
;

2513 -
ENOENT
:

2514 
°©us
 = 
LIBUSB_TRANSFER_CANCELLED
;

2516 -
ENODEV
:

2517 -
ESHUTDOWN
:

2518 
	`usbi_dbg
("deviceÑemoved");

2519 #ifde‡
YS_PRINT_API


2520 
	`YSPRINT
("%s:%d %s: devi˚Ñemoved\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2522 
°©us
 = 
LIBUSB_TRANSFER_NO_DEVICE
;

2524 -
EPIPE
:

2525 
	`usbi_dbg
("unsupported controlÑequest");

2526 
°©us
 = 
LIBUSB_TRANSFER_STALL
;

2528 -
EOVERFLOW
:

2529 
	`usbi_dbg
("control overflowÉrror");

2530 #ifde‡
YS_PRINT_API


2531 
	`YSPRINT
("%s:%d %s: ===============\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

2533 
°©us
 = 
LIBUSB_TRANSFER_OVERFLOW
;

2535 -
ETIME
:

2536 -
EPROTO
:

2537 -
EILSEQ
:

2538 -
ECOMM
:

2539 -
ENOSR
:

2540 
	`usbi_dbg
("low-level busÉrror occurred");

2541 
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2544 
	`usbi_w¨n
(
	`ITRANSFER_CTX
(
ôøns„r
),

2545 "uƒecogni£d urb sètu†%d", 
urb
->
°©us
);

2546 
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2550 
	`‰ì
(
çriv
->
urbs
);

2551 
çriv
->
urbs
 = 
NULL
;

2552 
	`usbi_muãx_u∆ock
(&
ôøns„r
->
lock
);

2553  
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
, 
°©us
);

2554 
	}
}

2556 
	$ª≠_f‹_h™dÀ
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

2558 
löux_devi˚_h™dÀ_¥iv
 *
h¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
);

2559 
r
;

2560 
usbfs_urb
 *
urb
;

2561 
usbi_å™s„r
 *
ôøns„r
;

2562 
libusb_å™s„r
 *
å™s„r
;

2564 
r
 = 
	`io˘l
(
h¥iv
->
fd
, 
IOCTL_USBFS_REAPURBNDELAY
, &
urb
);

2565 i‡(
r
 =-1 && 
î∫o
 =
EAGAIN
)

2567 i‡(
r
 < 0) {

2568 i‡(
î∫o
 =
ENODEV
)

2569  
LIBUSB_ERROR_NO_DEVICE
;

2571 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
), "reap failedÉrror %dÉrrno=%d",

2572 
r
, 
î∫o
);

2573  
LIBUSB_ERROR_IO
;

2576 
ôøns„r
 = 
urb
->
u£rc⁄ãxt
;

2577 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2579 
	`usbi_dbg
("urbÅy≥=%d sètus=%dÅøns„ºed=%d", 
urb
->
ty≥
, urb->
°©us
,

2580 
urb
->
a˘uÆ_Àngth
);

2582 
å™s„r
->
ty≥
) {

2583 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2584  
	`h™dÀ_iso_com∂ëi⁄
(
ôøns„r
, 
urb
);

2585 
LIBUSB_TRANSFER_TYPE_BULK
:

2586 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2587 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2588  
	`h™dÀ_bulk_com∂ëi⁄
(
ôøns„r
, 
urb
);

2589 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2590  
	`h™dÀ_c⁄åﬁ_com∂ëi⁄
(
ôøns„r
, 
urb
);

2592 
	`usbi_îr
(
	`HANDLE_CTX
(
h™dÀ
), "unrecognisedÉndpointÅype %x",

2593 
å™s„r
->
ty≥
);

2594  
LIBUSB_ERROR_OTHER
;

2596 
	}
}

2598 
	$›_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
,

2599 
pﬁlfd
 *
fds
, 
POLL_NFDS_TYPE
 
nfds
, 
num_ªady
)

2601 
r
;

2602 
i
 = 0;

2604 
	`usbi_muãx_lock
(&
˘x
->
›í_devs_lock
);

2605 
i
 = 0; i < 
nfds
 && 
num_ªady
 > 0; i++) {

2606 
pﬁlfd
 *pﬁlfd = &
fds
[
i
];

2607 
libusb_devi˚_h™dÀ
 *
h™dÀ
;

2608 
löux_devi˚_h™dÀ_¥iv
 *
h¥iv
 = 
NULL
;

2610 i‡(!
pﬁlfd
->
ªvíts
)

2613 
num_ªady
--;

2614 
	`li°_f‹_óch_íåy
(
h™dÀ
, &
˘x
->
›í_devs
, 
li°
, 
libusb_devi˚_h™dÀ
) {

2615 
h¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
h™dÀ
);

2616 i‡(
h¥iv
->
fd
 =
pﬁlfd
->fd)

2620 i‡(!
h¥iv
 || h¥iv->
fd
 !
pﬁlfd
->fd) {

2621 
	`usbi_îr
(
˘x
, "cannot find handle for fd %d\n",

2622 
pﬁlfd
->
fd
);

2626 i‡(
pﬁlfd
->
ªvíts
 & 
POLLERR
) {

2627 
	`usbi_ªmove_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
fd
);

2628 
	`usbi_h™dÀ_disc⁄√˘
(
h™dÀ
);

2631 
	`usbi_muãx_°©ic_lock
(&
löux_hŸ∂ug_lock
);

2632 i‡(
h™dÀ
->
dev
->
©èched
)

2633 
	`löux_devi˚_disc⁄√˘ed
(
h™dÀ
->
dev
->
bus_numbî
,

2634 
h™dÀ
->
dev
->
devi˚_addªss
, 
NULL
);

2635 
	`usbi_muãx_°©ic_u∆ock
(&
löux_hŸ∂ug_lock
);

2640 
r
 = 
	`ª≠_f‹_h™dÀ
(
h™dÀ
);

2641 } 
r
 == 0);

2642 i‡(
r
 =1 ||Ñ =
LIBUSB_ERROR_NO_DEVICE
)

2644 i‡(
r
 < 0)

2645 
out
;

2648 
r
 = 0;

2649 
out
:

2650 
	`usbi_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

2651  
r
;

2652 
	}
}

2654 
	$›_˛ock_gëtime
(
˛k_id
, 
time•ec
 *
ç
)

2656 
˛k_id
) {

2657 
USBI_CLOCK_MONOTONIC
:

2658  
	`˛ock_gëtime
(
m⁄Ÿ⁄ic_˛kid
, 
ç
);

2659 
USBI_CLOCK_REALTIME
:

2660  
	`˛ock_gëtime
(
CLOCK_REALTIME
, 
ç
);

2662  
LIBUSB_ERROR_INVALID_PARAM
;

2664 
	}
}

2666 #ifde‡
USBI_TIMERFD_AVAILABLE


2667 
˛ockid_t
 
	$›_gë_timîfd_˛ockid
()

2669  
m⁄Ÿ⁄ic_˛kid
;

2671 
	}
}

2674 c⁄° 
usbi_os_backíd
 
	glöux_usbfs_backíd
 = {

2675 .
«me
 = "Linux usbfs",

2676 .
	gˇps
 = 
USBI_CAP_HAS_HID_ACCESS
|
USBI_CAP_SUPPORTS_DETACH_KERNEL_DRIVER
,

2677 .
	göô
 = 
›_öô
,

2678 .
	gexô
 = 
›_exô
,

2679 .
	ggë_devi˚_li°
 = 
NULL
,

2680 .
	ghŸ∂ug_pﬁl
 = 
›_hŸ∂ug_pﬁl
,

2681 .
	ggë_devi˚_des¸ùt‹
 = 
›_gë_devi˚_des¸ùt‹
,

2682 .
	ggë_a˘ive_c⁄fig_des¸ùt‹
 = 
›_gë_a˘ive_c⁄fig_des¸ùt‹
,

2683 .
	ggë_c⁄fig_des¸ùt‹
 = 
›_gë_c⁄fig_des¸ùt‹
,

2684 .
	ggë_c⁄fig_des¸ùt‹_by_vÆue
 = 
›_gë_c⁄fig_des¸ùt‹_by_vÆue
,

2686 .
	g›í
 = 
›_›í
,

2687 .
	g˛o£
 = 
›_˛o£
,

2688 .
	ggë_c⁄figuøti⁄
 = 
›_gë_c⁄figuøti⁄
,

2689 .
	g£t_c⁄figuøti⁄
 = 
›_£t_c⁄figuøti⁄
,

2690 .
	g˛aim_öãrÁ˚
 = 
›_˛aim_öãrÁ˚
,

2691 .
	gªÀa£_öãrÁ˚
 = 
›_ªÀa£_öãrÁ˚
,

2693 .
	g£t_öãrÁ˚_Æt£âög
 = 
›_£t_öãrÁ˚
,

2694 .
	g˛ór_hÆt
 = 
›_˛ór_hÆt
,

2695 .
	gª£t_devi˚
 = 
›_ª£t_devi˚
,

2697 .
	gÆloc_°ªams
 = 
›_Æloc_°ªams
,

2698 .
	g‰ì_°ªams
 = 
›_‰ì_°ªams
,

2700 .
	gkî√l_drivî_a˘ive
 = 
›_kî√l_drivî_a˘ive
,

2701 .
	gdëach_kî√l_drivî
 = 
›_dëach_kî√l_drivî
,

2702 .
	g©èch_kî√l_drivî
 = 
›_©èch_kî√l_drivî
,

2704 .
	gde°roy_devi˚
 = 
›_de°roy_devi˚
,

2706 .
	gsubmô_å™s„r
 = 
›_submô_å™s„r
,

2707 .
	gˇn˚l_å™s„r
 = 
›_ˇn˚l_å™s„r
,

2708 .
	g˛ór_å™s„r_¥iv
 = 
›_˛ór_å™s„r_¥iv
,

2710 .
	gh™dÀ_evíts
 = 
›_h™dÀ_evíts
,

2712 .
	g˛ock_gëtime
 = 
›_˛ock_gëtime
,

2714 #ifde‡
USBI_TIMERFD_AVAILABLE


2715 .
	ggë_timîfd_˛ockid
 = 
›_gë_timîfd_˛ockid
,

2718 .
	gdevi˚_¥iv_size
 = (
löux_devi˚_¥iv
),

2719 .
	gdevi˚_h™dÀ_¥iv_size
 = (
löux_devi˚_h™dÀ_¥iv
),

2720 .
	gå™s„r_¥iv_size
 = (
löux_å™s„r_¥iv
),

2721 .
	gadd_iso_∑ckë_size
 = 0,

	@libusb/os/linux_usbfs.h

21 #i‚de‡
LIBUSB_USBFS_H


22 
	#LIBUSB_USBFS_H


	)

24 
	~<löux/ty≥s.h
>

26 
	#SYSFS_DEVICE_PATH
 "/sys/bus/usb/devi˚s"

	)

28 
	susbfs_˘æå™s„r
 {

30 
uöt8_t
 
	mbmReque°Ty≥
;

31 
uöt8_t
 
	mbReque°
;

32 
uöt16_t
 
	mwVÆue
;

33 
uöt16_t
 
	mwIndex
;

34 
uöt16_t
 
	mwLígth
;

36 
uöt32_t
 
	mtimeout
;

39 *
	md©a
;

42 
	susbfs_bulkå™s„r
 {

44 
	mï
;

45 
	mÀn
;

46 
	mtimeout
;

49 *
	md©a
;

52 
	susbfs_£töãrÁ˚
 {

54 
	möãrÁ˚
;

55 
	mÆt£âög
;

58 
	#USBFS_MAXDRIVERNAME
 255

	)

60 
	susbfs_gëdrivî
 {

61 
	möãrÁ˚
;

62 
	mdrivî
[
USBFS_MAXDRIVERNAME
 + 1];

65 
	#USBFS_URB_SHORT_NOT_OK
 0x01

	)

66 
	#USBFS_URB_ISO_ASAP
 0x02

	)

67 
	#USBFS_URB_BULK_CONTINUATION
 0x04

	)

68 
	#USBFS_URB_QUEUE_BULK
 0x10

	)

69 
	#USBFS_URB_ZERO_PACKET
 0x40

	)

71 
	eusbfs_urb_ty≥
 {

72 
	mUSBFS_URB_TYPE_ISO
 = 0,

73 
	mUSBFS_URB_TYPE_INTERRUPT
 = 1,

74 
	mUSBFS_URB_TYPE_CONTROL
 = 2,

75 
	mUSBFS_URB_TYPE_BULK
 = 3,

78 
	susbfs_iso_∑ckë_desc
 {

79 
	mÀngth
;

80 
	ma˘uÆ_Àngth
;

81 
	m°©us
;

84 
	#MAX_ISO_BUFFER_LENGTH
 32768

	)

85 
	#MAX_BULK_BUFFER_LENGTH
 16384

	)

86 
	#MAX_CTRL_BUFFER_LENGTH
 4096

	)

88 
	susbfs_urb
 {

89 
	mty≥
;

90 
	mídpoöt
;

91 
	m°©us
;

92 
	mÊags
;

93 *
	mbuf„r
;

94 
	mbuf„r_Àngth
;

95 
	ma˘uÆ_Àngth
;

96 
	m°¨t_‰ame
;

98 
	mnumbî_of_∑ckës
;

99 
	m°ªam_id
;

101 
	mîr‹_cou¡
;

102 
	msigƒ
;

103 *
	mu£rc⁄ãxt
;

104 
usbfs_iso_∑ckë_desc
 
	miso_‰ame_desc
[0];

107 
	susbfs_c⁄√˘öfo
 {

108 
	mdevnum
;

109 
	m¶ow
;

112 
	susbfs_io˘l
 {

113 
	mi‚o
;

114 
	mio˘l_code
;

116 *
	md©a
;

119 
	susbfs_hub_p‹töfo
 {

120 
	mnump‹ts
;

121 
	mp‹t
[127];

124 
	#USBFS_CAP_ZERO_PACKET
 0x01

	)

125 
	#USBFS_CAP_BULK_CONTINUATION
 0x02

	)

126 
	#USBFS_CAP_NO_PACKET_SIZE_LIM
 0x04

	)

127 
	#USBFS_CAP_BULK_SCATTER_GATHER
 0x08

	)

129 
	#USBFS_DISCONNECT_CLAIM_IF_DRIVER
 0x01

	)

130 
	#USBFS_DISCONNECT_CLAIM_EXCEPT_DRIVER
 0x02

	)

132 
	susbfs_disc⁄√˘_˛aim
 {

133 
	möãrÁ˚
;

134 
	mÊags
;

135 
	mdrivî
[
USBFS_MAXDRIVERNAME
 + 1];

138 
	susbfs_°ªams
 {

139 
	mnum_°ªams
;

140 
	mnum_ïs
;

141 
	mïs
[0];

144 
	#IOCTL_USBFS_CONTROL
 
	`_IOWR
('U', 0, 
usbfs_˘æå™s„r
)

	)

145 
	#IOCTL_USBFS_BULK
 
	`_IOWR
('U', 2, 
usbfs_bulkå™s„r
)

	)

146 
	#IOCTL_USBFS_RESETEP
 
	`_IOR
('U', 3, )

	)

147 
	#IOCTL_USBFS_SETINTF
 
	`_IOR
('U', 4, 
usbfs_£töãrÁ˚
)

	)

148 
	#IOCTL_USBFS_SETCONFIG
 
	`_IOR
('U', 5, )

	)

149 
	#IOCTL_USBFS_GETDRIVER
 
	`_IOW
('U', 8, 
usbfs_gëdrivî
)

	)

150 
	#IOCTL_USBFS_SUBMITURB
 
	`_IOR
('U', 10, 
usbfs_urb
)

	)

151 
	#IOCTL_USBFS_DISCARDURB
 
	`_IO
('U', 11)

	)

152 
	#IOCTL_USBFS_REAPURB
 
	`_IOW
('U', 12, *)

	)

153 
	#IOCTL_USBFS_REAPURBNDELAY
 
	`_IOW
('U', 13, *)

	)

154 
	#IOCTL_USBFS_CLAIMINTF
 
	`_IOR
('U', 15, )

	)

155 
	#IOCTL_USBFS_RELEASEINTF
 
	`_IOR
('U', 16, )

	)

156 
	#IOCTL_USBFS_CONNECTINFO
 
	`_IOW
('U', 17, 
usbfs_c⁄√˘öfo
)

	)

157 
	#IOCTL_USBFS_IOCTL
 
	`_IOWR
('U', 18, 
usbfs_io˘l
)

	)

158 
	#IOCTL_USBFS_HUB_PORTINFO
 
	`_IOR
('U', 19, 
usbfs_hub_p‹töfo
)

	)

159 
	#IOCTL_USBFS_RESET
 
	`_IO
('U', 20)

	)

160 
	#IOCTL_USBFS_CLEAR_HALT
 
	`_IOR
('U', 21, )

	)

161 
	#IOCTL_USBFS_DISCONNECT
 
	`_IO
('U', 22)

	)

162 
	#IOCTL_USBFS_CONNECT
 
	`_IO
('U', 23)

	)

163 
	#IOCTL_USBFS_CLAIM_PORT
 
	`_IOR
('U', 24, )

	)

164 
	#IOCTL_USBFS_RELEASE_PORT
 
	`_IOR
('U', 25, )

	)

165 
	#IOCTL_USBFS_GET_CAPABILITIES
 
	`_IOR
('U', 26, 
__u32
)

	)

166 
	#IOCTL_USBFS_DISCONNECT_CLAIM
 
	`_IOR
('U', 27, 
usbfs_disc⁄√˘_˛aim
)

	)

167 
	#IOCTL_USBFS_ALLOC_STREAMS
 
	`_IOR
('U', 28, 
usbfs_°ªams
)

	)

168 
	#IOCTL_USBFS_FREE_STREAMS
 
	`_IOR
('U', 29, 
usbfs_°ªams
)

	)

170 
usbi_muãx_°©ic_t
 
löux_hŸ∂ug_lock
;

172 #i‡
deföed
(
HAVE_LIBUDEV
)

173 
löux_udev_°¨t_evít_m⁄ô‹
();

174 
löux_udev_°›_evít_m⁄ô‹
();

175 
löux_udev_sˇn_devi˚s
(
libusb_c⁄ãxt
 *
˘x
);

176 
löux_udev_hŸ∂ug_pﬁl
();

178 
löux_√éök_°¨t_evít_m⁄ô‹
();

179 
löux_√éök_°›_evít_m⁄ô‹
();

180 
löux_√éök_hŸ∂ug_pﬁl
();

183 
löux_hŸ∂ug_íumî©e
(
uöt8_t
 
bu¢um
, uöt8_à
devaddr
, c⁄° *
sys_«me
);

184 
löux_devi˚_disc⁄√˘ed
(
uöt8_t
 
bu¢um
, uöt8_à
devaddr
, c⁄° *
sys_«me
);

186 
löux_gë_devi˚_addªss
 (
libusb_c⁄ãxt
 *
˘x
, 
dëached
,

187 
uöt8_t
 *
bu¢um
, uöt8_à*
devaddr
, c⁄° *
dev_node
,

188 c⁄° *
sys_«me
);

189 
löux_íumî©e_devi˚
(
libusb_c⁄ãxt
 *
˘x
,

190 
uöt8_t
 
bu¢um
, uöt8_à
devaddr
, c⁄° *
sysfs_dú
);

	@libusb/os/netbsd_usb.c

19 
	~<sys/time.h
>

20 
	~<sys/ty≥s.h
>

22 
	~<î∫o.h
>

23 
	~<f˙é.h
>

24 
	~<°dio.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<uni°d.h
>

29 
	~<dev/usb/usb.h
>

31 
	~"libusb.h
"

32 
	~"libusbi.h
"

34 
	sdevi˚_¥iv
 {

35 
	mdevnode
[16];

36 
	mfd
;

38 *
	mcdesc
;

39 
usb_devi˚_des¸ùt‹_t
 
	mddesc
;

42 
	sh™dÀ_¥iv
 {

43 
	mpùe
[2];

44 
	mídpoöts
[
USB_MAX_ENDPOINTS
];

50 
√tbsd_gë_devi˚_li°
(
libusb_c⁄ãxt
 *,

51 
discovîed_devs
 **);

52 
√tbsd_›í
(
libusb_devi˚_h™dÀ
 *);

53 
√tbsd_˛o£
(
libusb_devi˚_h™dÀ
 *);

55 
√tbsd_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *, *,

57 
√tbsd_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *,

58 *, 
size_t
, *);

59 
√tbsd_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *, 
uöt8_t
,

60 *, 
size_t
, *);

62 
√tbsd_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *, *);

63 
√tbsd_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *, );

65 
√tbsd_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *, );

66 
√tbsd_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *, );

68 
√tbsd_£t_öãrÁ˚_Æt£âög
(
libusb_devi˚_h™dÀ
 *, ,

70 
√tbsd_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *, );

71 
√tbsd_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *);

72 
√tbsd_de°roy_devi˚
(
libusb_devi˚
 *);

74 
√tbsd_submô_å™s„r
(
usbi_å™s„r
 *);

75 
√tbsd_ˇn˚l_å™s„r
(
usbi_å™s„r
 *);

76 
√tbsd_˛ór_å™s„r_¥iv
(
usbi_å™s„r
 *);

77 
√tbsd_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
pﬁlfd
 *,

78 
nfds_t
, );

79 
√tbsd_˛ock_gëtime
(, 
time•ec
 *);

84 
_î∫o_to_libusb
();

85 
_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *, );

86 
_sync_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *);

87 
_sync_gí_å™s„r
(
usbi_å™s„r
 *);

88 
_ac˚ss_ídpoöt
(
libusb_å™s„r
 *);

90 c⁄° 
usbi_os_backíd
 
	g√tbsd_backíd
 = {

93 
NULL
,

94 
NULL
,

95 
√tbsd_gë_devi˚_li°
,

96 
NULL
,

97 
√tbsd_›í
,

98 
√tbsd_˛o£
,

100 
√tbsd_gë_devi˚_des¸ùt‹
,

101 
√tbsd_gë_a˘ive_c⁄fig_des¸ùt‹
,

102 
√tbsd_gë_c⁄fig_des¸ùt‹
,

103 
NULL
,

105 
√tbsd_gë_c⁄figuøti⁄
,

106 
√tbsd_£t_c⁄figuøti⁄
,

108 
√tbsd_˛aim_öãrÁ˚
,

109 
√tbsd_ªÀa£_öãrÁ˚
,

111 
√tbsd_£t_öãrÁ˚_Æt£âög
,

112 
√tbsd_˛ór_hÆt
,

113 
√tbsd_ª£t_devi˚
,

115 
NULL
,

116 
NULL
,

118 
NULL
,

119 
NULL
,

120 
NULL
,

122 
√tbsd_de°roy_devi˚
,

124 
√tbsd_submô_å™s„r
,

125 
√tbsd_ˇn˚l_å™s„r
,

126 
√tbsd_˛ór_å™s„r_¥iv
,

128 
√tbsd_h™dÀ_evíts
,

130 
√tbsd_˛ock_gëtime
,

131 (
devi˚_¥iv
),

132 (
h™dÀ_¥iv
),

138 
	$√tbsd_gë_devi˚_li°
(
libusb_c⁄ãxt
 * 
˘x
,

139 
discovîed_devs
 **
discdevs
)

141 
libusb_devi˚
 *
dev
;

142 
devi˚_¥iv
 *
d¥iv
;

143 
usb_devi˚_öfo
 
di
;

144 
£ssi⁄_id
;

145 
devnode
[16];

146 
fd
, 
îr
, 
i
;

148 
	`usbi_dbg
("");

151 
i
 = 0; i < 
USB_MAX_DEVICES
; i++) {

153 
	`¢¥ötf
(
devnode
, (devnode), "/dev/ugí%d.00", 
i
);

155 i‡((
fd
 = 
	`›í
(
devnode
, 
O_RDONLY
)) < 0) {

156 i‡(
î∫o
 !
ENOENT
 &&Éºnÿ!
ENXIO
)

157 
	`usbi_îr
(
˘x
, "couldÇŸ o≥¿%s", 
devnode
);

161 i‡(
	`io˘l
(
fd
, 
USB_GET_DEVICEINFO
, &
di
) < 0)

164 
£ssi⁄_id
 = (
di
.
udi_bus
 << 8 | di.
udi_addr
);

165 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
£ssi⁄_id
);

167 i‡(
dev
 =
NULL
) {

168 
dev
 = 
	`usbi_Æloc_devi˚
(
˘x
, 
£ssi⁄_id
);

169 i‡(
dev
 =
NULL
)

170  (
LIBUSB_ERROR_NO_MEM
);

172 
dev
->
bus_numbî
 = 
di
.
udi_bus
;

173 
dev
->
devi˚_addªss
 = 
di
.
udi_addr
;

174 
dev
->
•ìd
 = 
di
.
udi_•ìd
;

176 
d¥iv
 = (
devi˚_¥iv
 *)
dev
->
os_¥iv
;

177 
	`°æ˝y
(
d¥iv
->
devnode
, devnode, (devnode));

178 
d¥iv
->
fd
 = -1;

180 i‡(
	`io˘l
(
fd
, 
USB_GET_DEVICE_DESC
, &
d¥iv
->
ddesc
) < 0) {

181 
îr
 = 
î∫o
;

182 
îr‹
;

185 
d¥iv
->
cdesc
 = 
NULL
;

186 i‡(
	`_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
dev
, 
fd
)) {

187 
îr
 = 
î∫o
;

188 
îr‹
;

191 i‡((
îr
 = 
	`usbi_ßnôize_devi˚
(
dev
)))

192 
îr‹
;

194 
	`˛o£
(
fd
);

196 i‡(
	`discovîed_devs_≠≥nd
(*
discdevs
, 
dev
Ë=
NULL
)

197  (
LIBUSB_ERROR_NO_MEM
);

199 
	`libusb_uƒef_devi˚
(
dev
);

202  (
LIBUSB_SUCCESS
);

204 
îr‹
:

205 
	`˛o£
(
fd
);

206 
	`libusb_uƒef_devi˚
(
dev
);

207  
	`_î∫o_to_libusb
(
îr
);

208 
	}
}

211 
	$√tbsd_›í
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

213 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

214 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

216 
d¥iv
->
fd
 = 
	`›í
(d¥iv->
devnode
, 
O_RDWR
);

217 i‡(
d¥iv
->
fd
 < 0) {

218 
d¥iv
->
fd
 = 
	`›í
(d¥iv->
devnode
, 
O_RDONLY
);

219 i‡(
d¥iv
->
fd
 < 0)

220  
	`_î∫o_to_libusb
(
î∫o
);

223 
	`usbi_dbg
("›í %s: fd %d", 
d¥iv
->
devnode
, d¥iv->
fd
);

225 i‡(
	`pùe
(
h¥iv
->
pùe
) < 0)

226  
	`_î∫o_to_libusb
(
î∫o
);

228  
	`usbi_add_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
pùe
[0], 
POLLIN
);

229 
	}
}

232 
	$√tbsd_˛o£
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

234 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

235 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

237 
	`usbi_dbg
("˛o£: fd %d", 
d¥iv
->
fd
);

239 
	`˛o£
(
d¥iv
->
fd
);

240 
d¥iv
->
fd
 = -1;

242 
	`usbi_ªmove_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
pùe
[0]);

244 
	`˛o£
(
h¥iv
->
pùe
[0]);

245 
	`˛o£
(
h¥iv
->
pùe
[1]);

246 
	}
}

249 
	$√tbsd_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf
,

250 *
ho°_ídün
)

252 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

254 
	`usbi_dbg
("");

256 
	`mem˝y
(
buf
, &
d¥iv
->
ddesc
, 
DEVICE_DESC_LENGTH
);

258 *
ho°_ídün
 = 0;

260  (
LIBUSB_SUCCESS
);

261 
	}
}

264 
	$√tbsd_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

265 *
buf
, 
size_t
 
Àn
, *
ho°_ídün
)

267 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

268 
usb_c⁄fig_des¸ùt‹_t
 *
ucd
;

270 
ucd
 = (
usb_c⁄fig_des¸ùt‹_t
 *Ë
d¥iv
->
cdesc
;

271 
Àn
 = 
	`MIN
÷í, 
	`UGETW
(
ucd
->
wTŸÆLígth
));

273 
	`usbi_dbg
("À¿%d", 
Àn
);

275 
	`mem˝y
(
buf
, 
d¥iv
->
cdesc
, 
Àn
);

277 *
ho°_ídün
 = 0;

279  
Àn
;

280 
	}
}

283 
	$√tbsd_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, 
uöt8_t
 
idx
,

284 *
buf
, 
size_t
 
Àn
, *
ho°_ídün
)

286 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

287 
usb_fuŒ_desc
 
ufd
;

288 
fd
, 
îr
;

290 
	`usbi_dbg
("ödex %d,Üí %d", 
idx
, 
Àn
);

293 i‡(
d¥iv
->
fd
 >= 0) {

294 
fd
 = 
d¥iv
->fd;

296 
fd
 = 
	`›í
(
d¥iv
->
devnode
, 
O_RDONLY
);

297 i‡(
fd
 < 0)

298  
	`_î∫o_to_libusb
(
î∫o
);

301 
ufd
.
ufd_c⁄fig_ödex
 = 
idx
;

302 
ufd
.
ufd_size
 = 
Àn
;

303 
ufd
.
ufd_d©a
 = 
buf
;

305 i‡((
	`io˘l
(
fd
, 
USB_GET_FULL_DESC
, &
ufd
)) < 0) {

306 
îr
 = 
î∫o
;

307 i‡(
d¥iv
->
fd
 < 0)

308 
	`˛o£
(
fd
);

309  
	`_î∫o_to_libusb
(
îr
);

312 i‡(
d¥iv
->
fd
 < 0)

313 
	`˛o£
(
fd
);

315 *
ho°_ídün
 = 0;

317  
Àn
;

318 
	}
}

321 
	$√tbsd_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, *
c⁄fig
)

323 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

325 
	`usbi_dbg
("");

327 i‡(
	`io˘l
(
d¥iv
->
fd
, 
USB_GET_CONFIG
, 
c⁄fig
) < 0)

328  
	`_î∫o_to_libusb
(
î∫o
);

330 
	`usbi_dbg
("c⁄figuøti⁄ %d", *
c⁄fig
);

332  (
LIBUSB_SUCCESS
);

333 
	}
}

336 
	$√tbsd_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
c⁄fig
)

338 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

340 
	`usbi_dbg
("c⁄figuøti⁄ %d", 
c⁄fig
);

342 i‡(
	`io˘l
(
d¥iv
->
fd
, 
USB_SET_CONFIG
, &
c⁄fig
) < 0)

343  
	`_î∫o_to_libusb
(
î∫o
);

345  
	`_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
h™dÀ
->
dev
, 
d¥iv
->
fd
);

346 
	}
}

349 
	$√tbsd_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

351 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

352 
i
;

354 
i
 = 0; i < 
USB_MAX_ENDPOINTS
; i++)

355 
h¥iv
->
ídpoöts
[
i
] = -1;

357  (
LIBUSB_SUCCESS
);

358 
	}
}

361 
	$√tbsd_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

363 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

364 
i
;

366 
i
 = 0; i < 
USB_MAX_ENDPOINTS
; i++)

367 i‡(
h¥iv
->
ídpoöts
[
i
] >= 0)

368 
	`˛o£
(
h¥iv
->
ídpoöts
[
i
]);

370  (
LIBUSB_SUCCESS
);

371 
	}
}

374 
	$√tbsd_£t_öãrÁ˚_Æt£âög
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
,

375 
Æt£âög
)

377 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

378 
usb_Æt_öãrÁ˚
 
ötf
;

380 
	`usbi_dbg
("iÁ˚ %d, sëtög %d", 
iÁ˚
, 
Æt£âög
);

382 
	`mem£t
(&
ötf
, 0, (intf));

384 
ötf
.
uai_öãrÁ˚_ödex
 = 
iÁ˚
;

385 
ötf
.
uai_Æt_no
 = 
Æt£âög
;

387 i‡(
	`io˘l
(
d¥iv
->
fd
, 
USB_SET_ALTINTERFACE
, &
ötf
) < 0)

388  
	`_î∫o_to_libusb
(
î∫o
);

390  (
LIBUSB_SUCCESS
);

391 
	}
}

394 
	$√tbsd_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
ídpoöt
)

396 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

397 
usb_˘l_ªque°
 
ªq
;

399 
	`usbi_dbg
("");

401 
ªq
.
u¸_ªque°
.
bmReque°Ty≥
 = 
UT_WRITE_ENDPOINT
;

402 
ªq
.
u¸_ªque°
.
bReque°
 = 
UR_CLEAR_FEATURE
;

403 
	`USETW
(
ªq
.
u¸_ªque°
.
wVÆue
, 
UF_ENDPOINT_HALT
);

404 
	`USETW
(
ªq
.
u¸_ªque°
.
wIndex
, 
ídpoöt
);

405 
	`USETW
(
ªq
.
u¸_ªque°
.
wLígth
, 0);

407 i‡(
	`io˘l
(
d¥iv
->
fd
, 
USB_DO_REQUEST
, &
ªq
) < 0)

408  
	`_î∫o_to_libusb
(
î∫o
);

410  (
LIBUSB_SUCCESS
);

411 
	}
}

414 
	$√tbsd_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

416 
	`usbi_dbg
("");

418  (
LIBUSB_ERROR_NOT_SUPPORTED
);

419 
	}
}

422 
	$√tbsd_de°roy_devi˚
(
libusb_devi˚
 *
dev
)

424 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

426 
	`usbi_dbg
("");

428 
	`‰ì
(
d¥iv
->
cdesc
);

429 
	}
}

432 
	$√tbsd_submô_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

434 
libusb_å™s„r
 *
å™s„r
;

435 
h™dÀ_¥iv
 *
h¥iv
;

436 
îr
 = 0;

438 
	`usbi_dbg
("");

440 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

441 
h¥iv
 = (
h™dÀ_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
os_¥iv
;

443 
å™s„r
->
ty≥
) {

444 
LIBUSB_TRANSFER_TYPE_CONTROL
:

445 
îr
 = 
	`_sync_c⁄åﬁ_å™s„r
(
ôøns„r
);

447 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

448 i‡(
	`IS_XFEROUT
(
å™s„r
)) {

450 
îr
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

453 
îr
 = 
	`_sync_gí_å™s„r
(
ôøns„r
);

455 
LIBUSB_TRANSFER_TYPE_BULK
:

456 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

457 i‡(
	`IS_XFEROUT
(
å™s„r
) &&

458 
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
) {

459 
îr
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

462 
îr
 = 
	`_sync_gí_å™s„r
(
ôøns„r
);

464 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

465 
îr
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

469 i‡(
îr
)

470  (
îr
);

472 i‡(
	`wrôe
(
h¥iv
->
pùe
[1], &
ôøns„r
, (itransfer)) < 0)

473  
	`_î∫o_to_libusb
(
î∫o
);

475  (
LIBUSB_SUCCESS
);

476 
	}
}

479 
	$√tbsd_ˇn˚l_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

481 
	`usbi_dbg
("");

483  (
LIBUSB_ERROR_NOT_SUPPORTED
);

484 
	}
}

487 
	$√tbsd_˛ór_å™s„r_¥iv
(
usbi_å™s„r
 *
ôøns„r
)

489 
	`usbi_dbg
("");

492 
	}
}

495 
	$√tbsd_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
pﬁlfd
 *
fds
, 
nfds_t
 
nfds
,

496 
num_ªady
)

498 
libusb_devi˚_h™dÀ
 *
h™dÀ
;

499 
h™dÀ_¥iv
 *
h¥iv
 = 
NULL
;

500 
usbi_å™s„r
 *
ôøns„r
;

501 
pﬁlfd
 *pollfd;

502 
i
, 
îr
 = 0;

504 
	`usbi_dbg
("");

506 
	`±hªad_muãx_lock
(&
˘x
->
›í_devs_lock
);

507 
i
 = 0; i < 
nfds
 && 
num_ªady
 > 0; i++) {

508 
pﬁlfd
 = &
fds
[
i
];

510 i‡(!
pﬁlfd
->
ªvíts
)

513 
h¥iv
 = 
NULL
;

514 
num_ªady
--;

515 
	`li°_f‹_óch_íåy
(
h™dÀ
, &
˘x
->
›í_devs
, 
li°
,

516 
libusb_devi˚_h™dÀ
) {

517 
h¥iv
 = (
h™dÀ_¥iv
 *)
h™dÀ
->
os_¥iv
;

519 i‡(
h¥iv
->
pùe
[0] =
pﬁlfd
->
fd
)

522 
h¥iv
 = 
NULL
;

525 i‡(
NULL
 =
h¥iv
) {

526 
	`usbi_dbg
("fd %d i†nŸá¿evíàpùe!", 
pﬁlfd
->
fd
);

527 
îr
 = 
ENOENT
;

531 i‡(
pﬁlfd
->
ªvíts
 & 
POLLERR
) {

532 
	`usbi_ªmove_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
pùe
[0]);

533 
	`usbi_h™dÀ_disc⁄√˘
(
h™dÀ
);

537 i‡(
	`ªad
(
h¥iv
->
pùe
[0], &
ôøns„r
, (itransfer)) < 0) {

538 
îr
 = 
î∫o
;

542 i‡((
îr
 = 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
,

543 
LIBUSB_TRANSFER_COMPLETED
)))

546 
	`±hªad_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

548 i‡(
îr
)

549  
	`_î∫o_to_libusb
(
îr
);

551  (
LIBUSB_SUCCESS
);

552 
	}
}

555 
	$√tbsd_˛ock_gëtime
(
˛kid
, 
time•ec
 *
ç
)

557 
	`usbi_dbg
("˛ock %d", 
˛kid
);

559 i‡(
˛kid
 =
USBI_CLOCK_REALTIME
)

560  
	`˛ock_gëtime
(
CLOCK_REALTIME
, 
ç
);

562 i‡(
˛kid
 =
USBI_CLOCK_MONOTONIC
)

563  
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, 
ç
);

565  (
LIBUSB_ERROR_INVALID_PARAM
);

566 
	}
}

569 
	$_î∫o_to_libusb
(
îr
)

571 
îr
) {

572 
EIO
:

573  (
LIBUSB_ERROR_IO
);

574 
EACCES
:

575  (
LIBUSB_ERROR_ACCESS
);

576 
ENOENT
:

577  (
LIBUSB_ERROR_NO_DEVICE
);

578 
ENOMEM
:

579  (
LIBUSB_ERROR_NO_MEM
);

582 
	`usbi_dbg
("îr‹: %s", 
	`°ªº‹
(
îr
));

584  (
LIBUSB_ERROR_OTHER
);

585 
	}
}

588 
	$_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, 
fd
)

590 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

591 
usb_c⁄fig_desc
 
ucd
;

592 
usb_fuŒ_desc
 
ufd
;

593 * 
buf
;

594 
Àn
;

596 
	`usbi_dbg
("fd %d", 
fd
);

598 
ucd
.
ucd_c⁄fig_ödex
 = 
USB_CURRENT_CONFIG_INDEX
;

600 i‡((
	`io˘l
(
fd
, 
USB_GET_CONFIG_DESC
, &
ucd
)) < 0)

601  
	`_î∫o_to_libusb
(
î∫o
);

603 
	`usbi_dbg
("a˘ivêbLígth %d", 
ucd
.
ucd_desc
.
bLígth
);

605 
Àn
 = 
	`UGETW
(
ucd
.
ucd_desc
.
wTŸÆLígth
);

606 
buf
 = 
	`mÆloc
(
Àn
);

607 i‡(
buf
 =
NULL
)

608  (
LIBUSB_ERROR_NO_MEM
);

610 
ufd
.
ufd_c⁄fig_ödex
 = 
ucd
.
ucd_c⁄fig_ödex
;

611 
ufd
.
ufd_size
 = 
Àn
;

612 
ufd
.
ufd_d©a
 = 
buf
;

614 
	`usbi_dbg
("ödex %d,Üí %d", 
ufd
.
ufd_c⁄fig_ödex
, 
Àn
);

616 i‡((
	`io˘l
(
fd
, 
USB_GET_FULL_DESC
, &
ufd
)) < 0) {

617 
	`‰ì
(
buf
);

618  
	`_î∫o_to_libusb
(
î∫o
);

621 i‡(
d¥iv
->
cdesc
)

622 
	`‰ì
(
d¥iv
->
cdesc
);

623 
d¥iv
->
cdesc
 = 
buf
;

626 
	}
}

629 
	$_sync_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

631 
libusb_å™s„r
 *
å™s„r
;

632 
libusb_c⁄åﬁ_£tup
 *
£tup
;

633 
devi˚_¥iv
 *
d¥iv
;

634 
usb_˘l_ªque°
 
ªq
;

636 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

637 
d¥iv
 = (
devi˚_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
dev
->
os_¥iv
;

638 
£tup
 = (
libusb_c⁄åﬁ_£tup
 *)
å™s„r
->
buf„r
;

640 
	`usbi_dbg
("type %dÑequest %d value %d index %dÜength %dÅimeout %d",

641 
£tup
->
bmReque°Ty≥
, sëup->
bReque°
,

642 
	`libusb_À16_to_˝u
(
£tup
->
wVÆue
),

643 
	`libusb_À16_to_˝u
(
£tup
->
wIndex
),

644 
	`libusb_À16_to_˝u
(
£tup
->
wLígth
), 
å™s„r
->
timeout
);

646 
ªq
.
u¸_ªque°
.
bmReque°Ty≥
 = 
£tup
->bmRequestType;

647 
ªq
.
u¸_ªque°
.
bReque°
 = 
£tup
->bRequest;

649 (*(
uöt16_t
 *)
ªq
.
u¸_ªque°
.
wVÆue
Ë
£tup
->wValue;

650 (*(
uöt16_t
 *)
ªq
.
u¸_ªque°
.
wIndex
Ë
£tup
->wIndex;

651 (*(
uöt16_t
 *)
ªq
.
u¸_ªque°
.
wLígth
Ë
£tup
->wLength;

652 
ªq
.
u¸_d©a
 = 
å™s„r
->
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
;

654 i‡((
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_SHORT_NOT_OK
) == 0)

655 
ªq
.
u¸_Êags
 = 
USBD_SHORT_XFER_OK
;

657 i‡((
	`io˘l
(
d¥iv
->
fd
, 
USB_SET_TIMEOUT
, &
å™s„r
->
timeout
)) < 0)

658  
	`_î∫o_to_libusb
(
î∫o
);

660 i‡((
	`io˘l
(
d¥iv
->
fd
, 
USB_DO_REQUEST
, &
ªq
)) < 0)

661  
	`_î∫o_to_libusb
(
î∫o
);

663 
ôøns„r
->
å™s„ºed
 = 
ªq
.
u¸_a˘Àn
;

665 
	`usbi_dbg
("å™s„ºed %d", 
ôøns„r
->
å™s„ºed
);

668 
	}
}

671 
	$_ac˚ss_ídpoöt
(
libusb_å™s„r
 *
å™s„r
)

673 
h™dÀ_¥iv
 *
h¥iv
;

674 
devi˚_¥iv
 *
d¥iv
;

675 *
s
, 
devnode
[16];

676 
fd
, 
íd±
;

677 
mode_t
 
mode
;

679 
h¥iv
 = (
h™dÀ_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
os_¥iv
;

680 
d¥iv
 = (
devi˚_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
dev
->
os_¥iv
;

682 
íd±
 = 
	`UE_GET_ADDR
(
å™s„r
->
ídpoöt
);

683 
mode
 = 
	`IS_XFERIN
(
å™s„r
Ë? 
O_RDONLY
 : 
O_WRONLY
;

685 
	`usbi_dbg
("ídpoöà%d modê%d", 
íd±
, 
mode
);

687 i‡(
h¥iv
->
ídpoöts
[
íd±
] < 0) {

689 
	`°æ˝y
(
devnode
, 
d¥iv
->devnode, (devnode));

690 
s
 = 
	`°rchr
(
devnode
, '.');

691 
	`¢¥ötf
(
s
, 4, ".%02d", 
íd±
);

694 i‡(((
fd
 = 
	`›í
(
devnode
, 
O_RDWR
)Ë< 0Ë&& (
î∫o
 =
ENXIO
))

695 i‡((
fd
 = 
	`›í
(
devnode
, 
mode
)) < 0)

698 
h¥iv
->
ídpoöts
[
íd±
] = 
fd
;

701  (
h¥iv
->
ídpoöts
[
íd±
]);

702 
	}
}

705 
	$_sync_gí_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

707 
libusb_å™s„r
 *
å™s„r
;

708 
fd
, 
ƒ
 = 1;

710 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

716 i‡((
fd
 = 
	`_ac˚ss_ídpoöt
(
å™s„r
)) < 0)

717  
	`_î∫o_to_libusb
(
î∫o
);

719 i‡((
	`io˘l
(
fd
, 
USB_SET_TIMEOUT
, &
å™s„r
->
timeout
)) < 0)

720  
	`_î∫o_to_libusb
(
î∫o
);

722 i‡(
	`IS_XFERIN
(
å™s„r
)) {

723 i‡((
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_SHORT_NOT_OK
) == 0)

724 i‡((
	`io˘l
(
fd
, 
USB_SET_SHORT_XFER
, &
ƒ
)) < 0)

725  
	`_î∫o_to_libusb
(
î∫o
);

727 
ƒ
 = 
	`ªad
(
fd
, 
å™s„r
->
buf„r
,Åøns„r->
Àngth
);

729 
ƒ
 = 
	`wrôe
(
fd
, 
å™s„r
->
buf„r
,Åøns„r->
Àngth
);

732 i‡(
ƒ
 < 0)

733  
	`_î∫o_to_libusb
(
î∫o
);

735 
ôøns„r
->
å™s„ºed
 = 
ƒ
;

738 
	}
}

	@libusb/os/openbsd_usb.c

19 
	~<sys/time.h
>

20 
	~<sys/ty≥s.h
>

22 
	~<î∫o.h
>

23 
	~<f˙é.h
>

24 
	~<°dio.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<uni°d.h
>

29 
	~<dev/usb/usb.h
>

31 
	~"libusb.h
"

32 
	~"libusbi.h
"

34 
	sdevi˚_¥iv
 {

35 *
	mdev«me
;

36 
	mfd
;

38 *
	mcdesc
;

39 
usb_devi˚_des¸ùt‹_t
 
	mddesc
;

42 
	sh™dÀ_¥iv
 {

43 
	mpùe
[2];

44 
	mídpoöts
[
USB_MAX_ENDPOINTS
];

50 
obsd_gë_devi˚_li°
(
libusb_c⁄ãxt
 *,

51 
discovîed_devs
 **);

52 
obsd_›í
(
libusb_devi˚_h™dÀ
 *);

53 
obsd_˛o£
(
libusb_devi˚_h™dÀ
 *);

55 
obsd_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *, *,

57 
obsd_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *,

58 *, 
size_t
, *);

59 
obsd_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *, 
uöt8_t
,

60 *, 
size_t
, *);

62 
obsd_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *, *);

63 
obsd_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *, );

65 
obsd_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *, );

66 
obsd_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *, );

68 
obsd_£t_öãrÁ˚_Æt£âög
(
libusb_devi˚_h™dÀ
 *, ,

70 
obsd_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *, );

71 
obsd_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *);

72 
obsd_de°roy_devi˚
(
libusb_devi˚
 *);

74 
obsd_submô_å™s„r
(
usbi_å™s„r
 *);

75 
obsd_ˇn˚l_å™s„r
(
usbi_å™s„r
 *);

76 
obsd_˛ór_å™s„r_¥iv
(
usbi_å™s„r
 *);

77 
obsd_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
pﬁlfd
 *,

78 
nfds_t
, );

79 
obsd_˛ock_gëtime
(, 
time•ec
 *);

84 
_î∫o_to_libusb
();

85 
_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *);

86 
_sync_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *);

87 
_sync_gí_å™s„r
(
usbi_å™s„r
 *);

88 
_ac˚ss_ídpoöt
(
libusb_å™s„r
 *);

90 
_bus_›í
();

93 c⁄° 
usbi_os_backíd
 
	g›íbsd_backíd
 = {

96 
NULL
,

97 
NULL
,

98 
obsd_gë_devi˚_li°
,

99 
NULL
,

100 
obsd_›í
,

101 
obsd_˛o£
,

103 
obsd_gë_devi˚_des¸ùt‹
,

104 
obsd_gë_a˘ive_c⁄fig_des¸ùt‹
,

105 
obsd_gë_c⁄fig_des¸ùt‹
,

106 
NULL
,

108 
obsd_gë_c⁄figuøti⁄
,

109 
obsd_£t_c⁄figuøti⁄
,

111 
obsd_˛aim_öãrÁ˚
,

112 
obsd_ªÀa£_öãrÁ˚
,

114 
obsd_£t_öãrÁ˚_Æt£âög
,

115 
obsd_˛ór_hÆt
,

116 
obsd_ª£t_devi˚
,

118 
NULL
,

119 
NULL
,

121 
NULL
,

122 
NULL
,

123 
NULL
,

125 
obsd_de°roy_devi˚
,

127 
obsd_submô_å™s„r
,

128 
obsd_ˇn˚l_å™s„r
,

129 
obsd_˛ór_å™s„r_¥iv
,

131 
obsd_h™dÀ_evíts
,

133 
obsd_˛ock_gëtime
,

134 (
devi˚_¥iv
),

135 (
h™dÀ_¥iv
),

140 
	#DEVPATH
 "/dev/"

	)

141 
	#USBDEV
 
DEVPATH
 "usb"

	)

144 
	$obsd_gë_devi˚_li°
(
libusb_c⁄ãxt
 * 
˘x
,

145 
discovîed_devs
 **
discdevs
)

147 
discovîed_devs
 *
ddd
;

148 
libusb_devi˚
 *
dev
;

149 
devi˚_¥iv
 *
d¥iv
;

150 
usb_devi˚_öfo
 
di
;

151 
usb_devi˚_ddesc
 
dd
;

152 
£ssi⁄_id
;

153 
devi˚s
[
USB_MAX_DEVICES
];

154 
bu¢ode
[16];

155 *
udev«me
;

156 
fd
, 
addr
, 
i
, 
j
;

158 
	`usbi_dbg
("");

160 
i
 = 0; i < 8; i++) {

161 
	`¢¥ötf
(
bu¢ode
, (bu¢ode), 
USBDEV
 "%d", 
i
);

163 i‡((
fd
 = 
	`›í
(
bu¢ode
, 
O_RDWR
)) < 0) {

164 i‡(
î∫o
 !
ENOENT
 &&Éºnÿ!
ENXIO
)

165 
	`usbi_îr
(
˘x
, "couldÇŸ o≥¿%s", 
bu¢ode
);

169 
	`bzîo
(
devi˚s
, (devices));

170 
addr
 = 1;ádd∏< 
USB_MAX_DEVICES
;áddr++) {

171 i‡(
devi˚s
[
addr
])

174 
di
.
udi_addr
 = 
addr
;

175 i‡(
	`io˘l
(
fd
, 
USB_DEVICEINFO
, &
di
) < 0)

182 
udev«me
 = 
NULL
;

183 
j
 = 0; j < 
USB_MAX_DEVNAMES
; j++)

184 i‡(!
	`°∫cmp
("ugí", 
di
.
udi_dev«mes
[
j
], 4)) {

185 
udev«me
 = 
	`°rdup
(
di
.
udi_dev«mes
[
j
]);

189 
£ssi⁄_id
 = (
di
.
udi_bus
 << 8 | di.
udi_addr
);

190 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
£ssi⁄_id
);

192 i‡(
dev
 =
NULL
) {

193 
dev
 = 
	`usbi_Æloc_devi˚
(
˘x
, 
£ssi⁄_id
);

194 i‡(
dev
 =
NULL
) {

195 
	`˛o£
(
fd
);

196  (
LIBUSB_ERROR_NO_MEM
);

199 
dev
->
bus_numbî
 = 
di
.
udi_bus
;

200 
dev
->
devi˚_addªss
 = 
di
.
udi_addr
;

201 
dev
->
•ìd
 = 
di
.
udi_•ìd
;

203 
d¥iv
 = (
devi˚_¥iv
 *)
dev
->
os_¥iv
;

204 
d¥iv
->
fd
 = -1;

205 
d¥iv
->
cdesc
 = 
NULL
;

206 
d¥iv
->
dev«me
 = 
udev«me
;

208 
dd
.
udd_bus
 = 
di
.
udi_bus
;

209 
dd
.
udd_addr
 = 
di
.
udi_addr
;

210 i‡(
	`io˘l
(
fd
, 
USB_DEVICE_GET_DDESC
, &
dd
) < 0) {

211 
	`libusb_uƒef_devi˚
(
dev
);

214 
d¥iv
->
ddesc
 = 
dd
.
udd_desc
;

216 i‡(
	`_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
dev
)) {

217 
	`libusb_uƒef_devi˚
(
dev
);

221 i‡(
	`usbi_ßnôize_devi˚
(
dev
)) {

222 
	`libusb_uƒef_devi˚
(
dev
);

227 
ddd
 = 
	`discovîed_devs_≠≥nd
(*
discdevs
, 
dev
);

228 i‡(
ddd
 =
NULL
) {

229 
	`˛o£
(
fd
);

230  (
LIBUSB_ERROR_NO_MEM
);

232 
	`libusb_uƒef_devi˚
(
dev
);

234 *
discdevs
 = 
ddd
;

235 
devi˚s
[
addr
] = 1;

238 
	`˛o£
(
fd
);

241  (
LIBUSB_SUCCESS
);

242 
	}
}

245 
	$obsd_›í
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

247 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

248 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

249 
devnode
[16];

251 i‡(
d¥iv
->
dev«me
) {

256 
	`¢¥ötf
(
devnode
, (devnode), 
DEVPATH
 "%s.00",

257 
d¥iv
->
dev«me
);

258 
d¥iv
->
fd
 = 
	`›í
(
devnode
, 
O_RDWR
);

259 i‡(
d¥iv
->
fd
 < 0)

260  
	`_î∫o_to_libusb
(
î∫o
);

262 
	`usbi_dbg
("›í %s: fd %d", 
devnode
, 
d¥iv
->
fd
);

265 i‡(
	`pùe
(
h¥iv
->
pùe
) < 0)

266  
	`_î∫o_to_libusb
(
î∫o
);

268  
	`usbi_add_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
pùe
[0], 
POLLIN
);

269 
	}
}

272 
	$obsd_˛o£
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

274 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

275 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

277 i‡(
d¥iv
->
dev«me
) {

278 
	`usbi_dbg
("˛o£: fd %d", 
d¥iv
->
fd
);

280 
	`˛o£
(
d¥iv
->
fd
);

281 
d¥iv
->
fd
 = -1;

284 
	`usbi_ªmove_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
pùe
[0]);

286 
	`˛o£
(
h¥iv
->
pùe
[0]);

287 
	`˛o£
(
h¥iv
->
pùe
[1]);

288 
	}
}

291 
	$obsd_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf
,

292 *
ho°_ídün
)

294 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

296 
	`usbi_dbg
("");

298 
	`mem˝y
(
buf
, &
d¥iv
->
ddesc
, 
DEVICE_DESC_LENGTH
);

300 *
ho°_ídün
 = 0;

302  (
LIBUSB_SUCCESS
);

303 
	}
}

306 
	$obsd_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
,

307 *
buf
, 
size_t
 
Àn
, *
ho°_ídün
)

309 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

310 
usb_c⁄fig_des¸ùt‹_t
 *
ucd
 = (usb_c⁄fig_des¸ùt‹_à*)
d¥iv
->
cdesc
;

312 
Àn
 = 
	`MIN
÷í, 
	`UGETW
(
ucd
->
wTŸÆLígth
));

314 
	`usbi_dbg
("À¿%d", 
Àn
);

316 
	`mem˝y
(
buf
, 
d¥iv
->
cdesc
, 
Àn
);

318 *
ho°_ídün
 = 0;

320  (
Àn
);

321 
	}
}

324 
	$obsd_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, 
uöt8_t
 
idx
,

325 *
buf
, 
size_t
 
Àn
, *
ho°_ídün
)

327 
usb_devi˚_fdesc
 
udf
;

328 
fd
, 
îr
;

330 i‡((
fd
 = 
	`_bus_›í
(
dev
->
bus_numbî
)) < 0)

331  
	`_î∫o_to_libusb
(
î∫o
);

333 
udf
.
udf_bus
 = 
dev
->
bus_numbî
;

334 
udf
.
udf_addr
 = 
dev
->
devi˚_addªss
;

335 
udf
.
udf_c⁄fig_ödex
 = 
idx
;

336 
udf
.
udf_size
 = 
Àn
;

337 
udf
.
udf_d©a
 = 
buf
;

339 
	`usbi_dbg
("ödex %d,Üí %d", 
udf
.
udf_c⁄fig_ödex
, 
Àn
);

341 i‡(
	`io˘l
(
fd
, 
USB_DEVICE_GET_FDESC
, &
udf
) < 0) {

342 
îr
 = 
î∫o
;

343 
	`˛o£
(
fd
);

344  
	`_î∫o_to_libusb
(
îr
);

346 
	`˛o£
(
fd
);

348 *
ho°_ídün
 = 0;

350  (
Àn
);

351 
	}
}

354 
	$obsd_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, *
c⁄fig
)

356 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

357 
usb_c⁄fig_des¸ùt‹_t
 *
ucd
 = (usb_c⁄fig_des¸ùt‹_à*)
d¥iv
->
cdesc
;

359 *
c⁄fig
 = 
ucd
->
bC⁄figuøti⁄VÆue
;

361 
	`usbi_dbg
("bC⁄figuøti⁄VÆuê%d", *
c⁄fig
);

363  (
LIBUSB_SUCCESS
);

364 
	}
}

367 
	$obsd_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
c⁄fig
)

369 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

371 i‡(
d¥iv
->
dev«me
 =
NULL
)

372  (
LIBUSB_ERROR_NOT_SUPPORTED
);

374 
	`usbi_dbg
("bC⁄figuøti⁄VÆuê%d", 
c⁄fig
);

376 i‡(
	`io˘l
(
d¥iv
->
fd
, 
USB_SET_CONFIG
, &
c⁄fig
) < 0)

377  
	`_î∫o_to_libusb
(
î∫o
);

379  
	`_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
h™dÀ
->
dev
);

380 
	}
}

383 
	$obsd_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

385 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

386 
i
;

388 
i
 = 0; i < 
USB_MAX_ENDPOINTS
; i++)

389 
h¥iv
->
ídpoöts
[
i
] = -1;

391  (
LIBUSB_SUCCESS
);

392 
	}
}

395 
	$obsd_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
)

397 
h™dÀ_¥iv
 *
h¥iv
 = (h™dÀ_¥iv *)
h™dÀ
->
os_¥iv
;

398 
i
;

400 
i
 = 0; i < 
USB_MAX_ENDPOINTS
; i++)

401 i‡(
h¥iv
->
ídpoöts
[
i
] >= 0)

402 
	`˛o£
(
h¥iv
->
ídpoöts
[
i
]);

404  (
LIBUSB_SUCCESS
);

405 
	}
}

408 
	$obsd_£t_öãrÁ˚_Æt£âög
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
iÁ˚
,

409 
Æt£âög
)

411 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
h™dÀ
->
dev
->
os_¥iv
;

412 
usb_Æt_öãrÁ˚
 
ötf
;

414 i‡(
d¥iv
->
dev«me
 =
NULL
)

415  (
LIBUSB_ERROR_NOT_SUPPORTED
);

417 
	`usbi_dbg
("iÁ˚ %d, sëtög %d", 
iÁ˚
, 
Æt£âög
);

419 
	`mem£t
(&
ötf
, 0, (intf));

421 
ötf
.
uai_öãrÁ˚_ödex
 = 
iÁ˚
;

422 
ötf
.
uai_Æt_no
 = 
Æt£âög
;

424 i‡(
	`io˘l
(
d¥iv
->
fd
, 
USB_SET_ALTINTERFACE
, &
ötf
) < 0)

425  
	`_î∫o_to_libusb
(
î∫o
);

427  (
LIBUSB_SUCCESS
);

428 
	}
}

431 
	$obsd_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
h™dÀ
, 
ídpoöt
)

433 
usb_˘l_ªque°
 
ªq
;

434 
fd
, 
îr
;

436 i‡((
fd
 = 
	`_bus_›í
(
h™dÀ
->
dev
->
bus_numbî
)) < 0)

437  
	`_î∫o_to_libusb
(
î∫o
);

439 
	`usbi_dbg
("");

441 
ªq
.
u¸_addr
 = 
h™dÀ
->
dev
->
devi˚_addªss
;

442 
ªq
.
u¸_ªque°
.
bmReque°Ty≥
 = 
UT_WRITE_ENDPOINT
;

443 
ªq
.
u¸_ªque°
.
bReque°
 = 
UR_CLEAR_FEATURE
;

444 
	`USETW
(
ªq
.
u¸_ªque°
.
wVÆue
, 
UF_ENDPOINT_HALT
);

445 
	`USETW
(
ªq
.
u¸_ªque°
.
wIndex
, 
ídpoöt
);

446 
	`USETW
(
ªq
.
u¸_ªque°
.
wLígth
, 0);

448 i‡(
	`io˘l
(
fd
, 
USB_REQUEST
, &
ªq
) < 0) {

449 
îr
 = 
î∫o
;

450 
	`˛o£
(
fd
);

451  
	`_î∫o_to_libusb
(
îr
);

453 
	`˛o£
(
fd
);

455  (
LIBUSB_SUCCESS
);

456 
	}
}

459 
	$obsd_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

461 
	`usbi_dbg
("");

463  (
LIBUSB_ERROR_NOT_SUPPORTED
);

464 
	}
}

467 
	$obsd_de°roy_devi˚
(
libusb_devi˚
 *
dev
)

469 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

471 
	`usbi_dbg
("");

473 
	`‰ì
(
d¥iv
->
cdesc
);

474 
	`‰ì
(
d¥iv
->
dev«me
);

475 
	}
}

478 
	$obsd_submô_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

480 
libusb_å™s„r
 *
å™s„r
;

481 
h™dÀ_¥iv
 *
h¥iv
;

482 
îr
 = 0;

484 
	`usbi_dbg
("");

486 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

487 
h¥iv
 = (
h™dÀ_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
os_¥iv
;

489 
å™s„r
->
ty≥
) {

490 
LIBUSB_TRANSFER_TYPE_CONTROL
:

491 
îr
 = 
	`_sync_c⁄åﬁ_å™s„r
(
ôøns„r
);

493 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

494 i‡(
	`IS_XFEROUT
(
å™s„r
)) {

496 
îr
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

499 
îr
 = 
	`_sync_gí_å™s„r
(
ôøns„r
);

501 
LIBUSB_TRANSFER_TYPE_BULK
:

502 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

503 i‡(
	`IS_XFEROUT
(
å™s„r
) &&

504 
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
) {

505 
îr
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

508 
îr
 = 
	`_sync_gí_å™s„r
(
ôøns„r
);

510 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

511 
îr
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

515 i‡(
îr
)

516  (
îr
);

518 i‡(
	`wrôe
(
h¥iv
->
pùe
[1], &
ôøns„r
, (itransfer)) < 0)

519  
	`_î∫o_to_libusb
(
î∫o
);

521  (
LIBUSB_SUCCESS
);

522 
	}
}

525 
	$obsd_ˇn˚l_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

527 
	`usbi_dbg
("");

529  (
LIBUSB_ERROR_NOT_SUPPORTED
);

530 
	}
}

533 
	$obsd_˛ór_å™s„r_¥iv
(
usbi_å™s„r
 *
ôøns„r
)

535 
	`usbi_dbg
("");

538 
	}
}

541 
	$obsd_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
pﬁlfd
 *
fds
, 
nfds_t
 
nfds
,

542 
num_ªady
)

544 
libusb_devi˚_h™dÀ
 *
h™dÀ
;

545 
h™dÀ_¥iv
 *
h¥iv
 = 
NULL
;

546 
usbi_å™s„r
 *
ôøns„r
;

547 
pﬁlfd
 *pollfd;

548 
i
, 
îr
 = 0;

550 
	`usbi_dbg
("");

552 
	`±hªad_muãx_lock
(&
˘x
->
›í_devs_lock
);

553 
i
 = 0; i < 
nfds
 && 
num_ªady
 > 0; i++) {

554 
pﬁlfd
 = &
fds
[
i
];

556 i‡(!
pﬁlfd
->
ªvíts
)

559 
h¥iv
 = 
NULL
;

560 
num_ªady
--;

561 
	`li°_f‹_óch_íåy
(
h™dÀ
, &
˘x
->
›í_devs
, 
li°
,

562 
libusb_devi˚_h™dÀ
) {

563 
h¥iv
 = (
h™dÀ_¥iv
 *)
h™dÀ
->
os_¥iv
;

565 i‡(
h¥iv
->
pùe
[0] =
pﬁlfd
->
fd
)

568 
h¥iv
 = 
NULL
;

571 i‡(
NULL
 =
h¥iv
) {

572 
	`usbi_dbg
("fd %d i†nŸá¿evíàpùe!", 
pﬁlfd
->
fd
);

573 
îr
 = 
ENOENT
;

577 i‡(
pﬁlfd
->
ªvíts
 & 
POLLERR
) {

578 
	`usbi_ªmove_pﬁlfd
(
	`HANDLE_CTX
(
h™dÀ
), 
h¥iv
->
pùe
[0]);

579 
	`usbi_h™dÀ_disc⁄√˘
(
h™dÀ
);

583 i‡(
	`ªad
(
h¥iv
->
pùe
[0], &
ôøns„r
, (itransfer)) < 0) {

584 
îr
 = 
î∫o
;

588 i‡((
îr
 = 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
,

589 
LIBUSB_TRANSFER_COMPLETED
)))

592 
	`±hªad_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

594 i‡(
îr
)

595  
	`_î∫o_to_libusb
(
îr
);

597  (
LIBUSB_SUCCESS
);

598 
	}
}

601 
	$obsd_˛ock_gëtime
(
˛kid
, 
time•ec
 *
ç
)

603 
	`usbi_dbg
("˛ock %d", 
˛kid
);

605 i‡(
˛kid
 =
USBI_CLOCK_REALTIME
)

606  
	`˛ock_gëtime
(
CLOCK_REALTIME
, 
ç
);

608 i‡(
˛kid
 =
USBI_CLOCK_MONOTONIC
)

609  
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, 
ç
);

611  (
LIBUSB_ERROR_INVALID_PARAM
);

612 
	}
}

615 
	$_î∫o_to_libusb
(
îr
)

617 
	`usbi_dbg
("îr‹: %†(%d)", 
	`°ªº‹
(
îr
),Érr);

619 
îr
) {

620 
EIO
:

621  (
LIBUSB_ERROR_IO
);

622 
EACCES
:

623  (
LIBUSB_ERROR_ACCESS
);

624 
ENOENT
:

625  (
LIBUSB_ERROR_NO_DEVICE
);

626 
ENOMEM
:

627  (
LIBUSB_ERROR_NO_MEM
);

628 
ETIMEDOUT
:

629  (
LIBUSB_ERROR_TIMEOUT
);

632  (
LIBUSB_ERROR_OTHER
);

633 
	}
}

636 
	$_ˇche_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
)

638 
devi˚_¥iv
 *
d¥iv
 = (devi˚_¥iv *)
dev
->
os_¥iv
;

639 
usb_devi˚_cdesc
 
udc
;

640 
usb_devi˚_fdesc
 
udf
;

641 * 
buf
;

642 
fd
, 
Àn
, 
îr
;

644 i‡((
fd
 = 
	`_bus_›í
(
dev
->
bus_numbî
)) < 0)

645  
	`_î∫o_to_libusb
(
î∫o
);

647 
	`usbi_dbg
("fd %d,ádd∏%d", 
fd
, 
dev
->
devi˚_addªss
);

649 
udc
.
udc_bus
 = 
dev
->
bus_numbî
;

650 
udc
.
udc_addr
 = 
dev
->
devi˚_addªss
;

651 
udc
.
udc_c⁄fig_ödex
 = 
USB_CURRENT_CONFIG_INDEX
;

652 i‡(
	`io˘l
(
fd
, 
USB_DEVICE_GET_CDESC
, &
udc
) < 0) {

653 
îr
 = 
î∫o
;

654 
	`˛o£
(
fd
);

655  
	`_î∫o_to_libusb
(
î∫o
);

658 
	`usbi_dbg
("a˘ivêbLígth %d", 
udc
.
udc_desc
.
bLígth
);

660 
Àn
 = 
	`UGETW
(
udc
.
udc_desc
.
wTŸÆLígth
);

661 
buf
 = 
	`mÆloc
(
Àn
);

662 i‡(
buf
 =
NULL
)

663  (
LIBUSB_ERROR_NO_MEM
);

665 
udf
.
udf_bus
 = 
dev
->
bus_numbî
;

666 
udf
.
udf_addr
 = 
dev
->
devi˚_addªss
;

667 
udf
.
udf_c⁄fig_ödex
 = 
udc
.
udc_c⁄fig_ödex
;

668 
udf
.
udf_size
 = 
Àn
;

669 
udf
.
udf_d©a
 = 
buf
;

671 
	`usbi_dbg
("ödex %d,Üí %d", 
udf
.
udf_c⁄fig_ödex
, 
Àn
);

673 i‡(
	`io˘l
(
fd
, 
USB_DEVICE_GET_FDESC
, &
udf
) < 0) {

674 
îr
 = 
î∫o
;

675 
	`˛o£
(
fd
);

676 
	`‰ì
(
buf
);

677  
	`_î∫o_to_libusb
(
îr
);

679 
	`˛o£
(
fd
);

681 i‡(
d¥iv
->
cdesc
)

682 
	`‰ì
(
d¥iv
->
cdesc
);

683 
d¥iv
->
cdesc
 = 
buf
;

685  (
LIBUSB_SUCCESS
);

686 
	}
}

689 
	$_sync_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

691 
libusb_å™s„r
 *
å™s„r
;

692 
libusb_c⁄åﬁ_£tup
 *
£tup
;

693 
devi˚_¥iv
 *
d¥iv
;

694 
usb_˘l_ªque°
 
ªq
;

696 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

697 
d¥iv
 = (
devi˚_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
dev
->
os_¥iv
;

698 
£tup
 = (
libusb_c⁄åﬁ_£tup
 *)
å™s„r
->
buf„r
;

700 
	`usbi_dbg
("type %xÑequest %x value %x index %dÜength %dÅimeout %d",

701 
£tup
->
bmReque°Ty≥
, sëup->
bReque°
,

702 
	`libusb_À16_to_˝u
(
£tup
->
wVÆue
),

703 
	`libusb_À16_to_˝u
(
£tup
->
wIndex
),

704 
	`libusb_À16_to_˝u
(
£tup
->
wLígth
), 
å™s„r
->
timeout
);

706 
ªq
.
u¸_addr
 = 
å™s„r
->
dev_h™dÀ
->
dev
->
devi˚_addªss
;

707 
ªq
.
u¸_ªque°
.
bmReque°Ty≥
 = 
£tup
->bmRequestType;

708 
ªq
.
u¸_ªque°
.
bReque°
 = 
£tup
->bRequest;

710 (*(
uöt16_t
 *)
ªq
.
u¸_ªque°
.
wVÆue
Ë
£tup
->wValue;

711 (*(
uöt16_t
 *)
ªq
.
u¸_ªque°
.
wIndex
Ë
£tup
->wIndex;

712 (*(
uöt16_t
 *)
ªq
.
u¸_ªque°
.
wLígth
Ë
£tup
->wLength;

713 
ªq
.
u¸_d©a
 = 
å™s„r
->
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
;

715 i‡((
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_SHORT_NOT_OK
) == 0)

716 
ªq
.
u¸_Êags
 = 
USBD_SHORT_XFER_OK
;

718 i‡(
d¥iv
->
dev«me
 =
NULL
) {

724 
fd
, 
îr
;

726 i‡((
fd
 = 
	`_bus_›í
(
å™s„r
->
dev_h™dÀ
->
dev
->
bus_numbî
)) < 0)

727  
	`_î∫o_to_libusb
(
î∫o
);

729 i‡((
	`io˘l
(
fd
, 
USB_REQUEST
, &
ªq
)) < 0) {

730 
îr
 = 
î∫o
;

731 
	`˛o£
(
fd
);

732  
	`_î∫o_to_libusb
(
îr
);

734 
	`˛o£
(
fd
);

736 i‡((
	`io˘l
(
d¥iv
->
fd
, 
USB_SET_TIMEOUT
, &
å™s„r
->
timeout
)) < 0)

737  
	`_î∫o_to_libusb
(
î∫o
);

739 i‡((
	`io˘l
(
d¥iv
->
fd
, 
USB_DO_REQUEST
, &
ªq
)) < 0)

740  
	`_î∫o_to_libusb
(
î∫o
);

743 
ôøns„r
->
å™s„ºed
 = 
ªq
.
u¸_a˘Àn
;

745 
	`usbi_dbg
("å™s„ºed %d", 
ôøns„r
->
å™s„ºed
);

748 
	}
}

751 
	$_ac˚ss_ídpoöt
(
libusb_å™s„r
 *
å™s„r
)

753 
h™dÀ_¥iv
 *
h¥iv
;

754 
devi˚_¥iv
 *
d¥iv
;

755 
devnode
[16];

756 
fd
, 
íd±
;

757 
mode_t
 
mode
;

759 
h¥iv
 = (
h™dÀ_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
os_¥iv
;

760 
d¥iv
 = (
devi˚_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
dev
->
os_¥iv
;

762 
íd±
 = 
	`UE_GET_ADDR
(
å™s„r
->
ídpoöt
);

763 
mode
 = 
	`IS_XFERIN
(
å™s„r
Ë? 
O_RDONLY
 : 
O_WRONLY
;

765 
	`usbi_dbg
("ídpoöà%d modê%d", 
íd±
, 
mode
);

767 i‡(
h¥iv
->
ídpoöts
[
íd±
] < 0) {

769 
	`¢¥ötf
(
devnode
, (devnode), 
DEVPATH
 "%s.%02d",

770 
d¥iv
->
dev«me
, 
íd±
);

773 i‡(((
fd
 = 
	`›í
(
devnode
, 
O_RDWR
)Ë< 0Ë&& (
î∫o
 =
ENXIO
))

774 i‡((
fd
 = 
	`›í
(
devnode
, 
mode
)) < 0)

777 
h¥iv
->
ídpoöts
[
íd±
] = 
fd
;

780  (
h¥iv
->
ídpoöts
[
íd±
]);

781 
	}
}

784 
	$_sync_gí_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

786 
libusb_å™s„r
 *
å™s„r
;

787 
devi˚_¥iv
 *
d¥iv
;

788 
fd
, 
ƒ
 = 1;

790 
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

791 
d¥iv
 = (
devi˚_¥iv
 *)
å™s„r
->
dev_h™dÀ
->
dev
->
os_¥iv
;

793 i‡(
d¥iv
->
dev«me
 =
NULL
)

794  (
LIBUSB_ERROR_NOT_SUPPORTED
);

800 i‡((
fd
 = 
	`_ac˚ss_ídpoöt
(
å™s„r
)) < 0)

801  
	`_î∫o_to_libusb
(
î∫o
);

803 i‡((
	`io˘l
(
fd
, 
USB_SET_TIMEOUT
, &
å™s„r
->
timeout
)) < 0)

804  
	`_î∫o_to_libusb
(
î∫o
);

806 i‡(
	`IS_XFERIN
(
å™s„r
)) {

807 i‡((
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_SHORT_NOT_OK
) == 0)

808 i‡((
	`io˘l
(
fd
, 
USB_SET_SHORT_XFER
, &
ƒ
)) < 0)

809  
	`_î∫o_to_libusb
(
î∫o
);

811 
ƒ
 = 
	`ªad
(
fd
, 
å™s„r
->
buf„r
,Åøns„r->
Àngth
);

813 
ƒ
 = 
	`wrôe
(
fd
, 
å™s„r
->
buf„r
,Åøns„r->
Àngth
);

816 i‡(
ƒ
 < 0)

817  
	`_î∫o_to_libusb
(
î∫o
);

819 
ôøns„r
->
å™s„ºed
 = 
ƒ
;

822 
	}
}

825 
	$_bus_›í
(
numbî
)

827 
bu¢ode
[16];

829 
	`¢¥ötf
(
bu¢ode
, (bu¢ode), 
USBDEV
 "%d", 
numbî
);

831  
	`›í
(
bu¢ode
, 
O_RDWR
);

832 
	}
}

	@libusb/os/poll_posix.c

21 
	~<uni°d.h
>

22 
	~<f˙é.h
>

23 
	~<î∫o.h
>

24 
	~<°dlib.h
>

26 
	~"libusbi.h
"

28 
	$usbi_pùe
(
pùefd
[2])

30 
ªt
 = 
	`pùe
(
pùefd
);

31 i‡(
ªt
 != 0) {

32  
ªt
;

34 
ªt
 = 
	`f˙é
(
pùefd
[1], 
F_GETFL
);

35 i‡(
ªt
 == -1) {

36 
	`usbi_dbg
("FaûedÅÿgëÖùêfd fœgs: %d", 
î∫o
);

37 
îr_˛o£_pùe
;

39 
ªt
 = 
	`f˙é
(
pùefd
[1], 
F_SETFL
,Ñë | 
O_NONBLOCK
);

40 i‡(
ªt
 != 0) {

41 
	`usbi_dbg
("FaûedÅÿ£àn⁄-blockög o¿√wÖùe: %d", 
î∫o
);

42 
îr_˛o£_pùe
;

47 
îr_˛o£_pùe
:

48 
	`usbi_˛o£
(
pùefd
[0]);

49 
	`usbi_˛o£
(
pùefd
[1]);

50  
ªt
;

51 
	}
}

	@libusb/os/poll_posix.h

1 #i‚de‡
LIBUSB_POLL_POSIX_H


2 
	#LIBUSB_POLL_POSIX_H


	)

4 
	#usbi_wrôe
 
wrôe


	)

5 
	#usbi_ªad
 
ªad


	)

6 
	#usbi_˛o£
 
˛o£


	)

7 
	#usbi_pﬁl
 
pﬁl


	)

9 
usbi_pùe
(
pùefd
[2]);

	@libusb/os/poll_windows.c

43 
	~<î∫o.h
>

44 
	~<°dio.h
>

45 
	~<°dlib.h
>

47 
	~"libusbi.h
"

51 #i‡
deföed
(
DEBUG_POLL_WINDOWS
)

52 
	#pﬁl_dbg
 
usbi_dbg


	)

56 #i‡
deföed
(
_MSC_VER
) && (_MSC_VER < 1400)

57 
	#pﬁl_dbg


	)

59 
	#pﬁl_dbg
(...)

	)

63 #i‡
deföed
(
_PREFAST_
)

64 #¥agm®
w¨nög
(
dißbÀ
:28719)

67 
	#CHECK_INIT_POLLING
 dÿ{if(!
is_pﬁlög_£t
Ë
	`öô_pﬁlög
();} 0)

	)

70 c⁄° 
wöfd
 
	gINVALID_WINFD
 = {-1, 
INVALID_HANDLE_VALUE
, 
NULL
, NULL, NULL, 
RW_NONE
};

71 
wöfd
 
	gpﬁl_fd
[
MAX_FDS
];

74 
CRITICAL_SECTION
 
	mmuãx
;

76 
HANDLE
 
	m‹igöÆ_h™dÀ
;

77 
DWORD
 
	mthªad_id
;

78 } 
	g_pﬁl_fd
[
MAX_FDS
];

81 
BOOLEAN
 
	gis_pﬁlög_£t
 = 
FALSE
;

82 
LONG
 
	gpùe_numbî
 = 0;

83 vﬁ©ûê
LONG
 
	gcom∑t_•ölock
 = 0;

85 #i‡!
deföed
(
_WIN32_WCE
)

89 
	$BOOL
 (
__°dˇŒ
 *
pC™˚lIoEx
)(
HANDLE
, 
LPOVERLAPPED
Ë
NULL
;

90 
	#U£_Du∂iˇã_H™dÀs
 (
pC™˚lIoEx
 =
NULL
)

	)

92 
ölöe
 
	$£tup_ˇn˚l_io
()

94 
HMODULE
 
hKî√l32
 = 
	`GëModuÀH™dÀA
("KERNEL32");

95 i‡(
hKî√l32
 !
NULL
) {

96 
pC™˚lIoEx
 = (
	`BOOL
 (
__°dˇŒ
 *)(
HANDLE
,
LPOVERLAPPED
))

97 
	`GëProcAddªss
(
hKî√l32
, "CancelIoEx");

99 
	`usbi_dbg
("Will use CancelIo%s for I/O cancellation",

100 
U£_Du∂iˇã_H™dÀs
?"":"Ex");

101 
	}
}

103 
ölöe
 
BOOL
 
	$ˇn˚l_io
(
_ödex
)

105 i‡((
_ödex
 < 0Ë|| (_ödex >
MAX_FDS
)) {

106  
FALSE
;

109 i‡–(
pﬁl_fd
[
_ödex
].
fd
 < 0Ë|| (pﬁl_fd[_ödex].
h™dÀ
 =
INVALID_HANDLE_VALUE
)

110 || (
pﬁl_fd
[
_ödex
].
h™dÀ
 =0Ë|| (pﬁl_fd[_ödex].
ovîœµed
 =
NULL
) ) {

111  
TRUE
;

113 i‡(
pﬁl_fd
[
_ödex
].
ôøns„r
 &&Öﬁl_fd[_ödex].
ˇn˚l_‚
) {

115 (*
pﬁl_fd
[
_ödex
].
ˇn˚l_‚
)’ﬁl_fd[_ödex].
ôøns„r
);

116  
TRUE
;

118 i‡(
pC™˚lIoEx
 !
NULL
) {

119  (*
pC™˚lIoEx
)(
pﬁl_fd
[
_ödex
].
h™dÀ
,Öﬁl_fd[_ödex].
ovîœµed
);

121 i‡(
_pﬁl_fd
[
_ödex
].
thªad_id
 =
	`GëCuºítThªadId
()) {

122  
	`C™˚lIo
(
pﬁl_fd
[
_ödex
].
h™dÀ
);

124 
	`usbi_w¨n
(
NULL
, "UnableÅo cancel I/OÅhat was started frománotherÅhread");

125  
FALSE
;

126 
	}
}

128 
	#U£_Du∂iˇã_H™dÀs
 
FALSE


	)

130 
__ölöe
 
	$£tup_ˇn˚l_io
()

133 
	}
}

135 
__ölöe
 
BOOL
 
	$ˇn˚l_io
(
_ödex
)

137 i‡((
_ödex
 < 0Ë|| (_ödex >
MAX_FDS
)) {

138  
FALSE
;

140 i‡–(
pﬁl_fd
[
_ödex
].
fd
 < 0Ë|| (pﬁl_fd[_ödex].
h™dÀ
 =
INVALID_HANDLE_VALUE
)

141 || (
pﬁl_fd
[
_ödex
].
h™dÀ
 =0Ë|| (pﬁl_fd[_ödex].
ovîœµed
 =
NULL
) ) {

142  
TRUE
;

144 i‡(
pﬁl_fd
[
_ödex
].
ôøns„r
 &&Öﬁl_fd[_ödex].
ˇn˚l_‚
) {

146 (*
pﬁl_fd
[
_ödex
].
ˇn˚l_‚
)’ﬁl_fd[_ödex].
ôøns„r
);

148  
TRUE
;

149 
	}
}

153 
	$öô_pﬁlög
()

155 
i
;

157 
	`I¡îlockedExch™ge
((
LONG
 *)&
com∑t_•ölock
, 1) == 1) {

158 
	`SÀïEx
(0, 
TRUE
);

160 i‡(!
is_pﬁlög_£t
) {

161 
	`£tup_ˇn˚l_io
();

162 
i
=0; i<
MAX_FDS
; i++) {

163 
pﬁl_fd
[
i
] = 
INVALID_WINFD
;

164 
_pﬁl_fd
[
i
].
‹igöÆ_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

165 
_pﬁl_fd
[
i
].
thªad_id
 = 0;

166 
	`InôülizeCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

168 
is_pﬁlög_£t
 = 
TRUE
;

170 
	`I¡îlockedExch™ge
((
LONG
 *)&
com∑t_•ölock
, 0);

171 
	}
}

174 
	$_fd_to_ödex_™d_lock
(
fd
)

176 
i
;

178 i‡(
fd
 < 0)

181 
i
=0; i<
MAX_FDS
; i++) {

182 i‡(
pﬁl_fd
[
i
].
fd
 == fd) {

183 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

185 i‡(
pﬁl_fd
[
i
].
fd
 != fd) {

186 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

189  
i
;

193 
	}
}

195 
OVERLAPPED
 *
	$¸óã_ovîœµed
()

197 
OVERLAPPED
 *
ovîœµed
 = (OVERLAPPED*Ë
	`ˇŒoc
(1, (OVERLAPPED));

198 i‡(
ovîœµed
 =
NULL
) {

199  
NULL
;

201 
ovîœµed
->
hEvít
 = 
	`Cª©eEvít
(
NULL
, 
TRUE
, 
FALSE
, NULL);

202 if(
ovîœµed
->
hEvít
 =
NULL
) {

203 
	`‰ì
 (
ovîœµed
);

204  
NULL
;

206  
ovîœµed
;

207 
	}
}

209 
	$‰ì_ovîœµed
(
OVERLAPPED
 *
ovîœµed
)

211 i‡(
ovîœµed
 =
NULL
)

214 i‡–(
ovîœµed
->
hEvít
 != 0)

215 && (
ovîœµed
->
hEvít
 !
INVALID_HANDLE_VALUE
) ) {

216 
	`Clo£H™dÀ
(
ovîœµed
->
hEvít
);

218 
	`‰ì
(
ovîœµed
);

219 
	}
}

221 
	$exô_pﬁlög
()

223 
i
;

225 
	`I¡îlockedExch™ge
((
LONG
 *)&
com∑t_•ölock
, 1) == 1) {

226 
	`SÀïEx
(0, 
TRUE
);

228 i‡(
is_pﬁlög_£t
) {

229 
is_pﬁlög_£t
 = 
FALSE
;

231 
i
=0; i<
MAX_FDS
; i++) {

233 
	`ˇn˚l_io
(
i
);

237 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

238 
	`‰ì_ovîœµed
(
pﬁl_fd
[
i
].
ovîœµed
);

239 i‡(
U£_Du∂iˇã_H™dÀs
) {

241 i‡(
_pﬁl_fd
[
i
].
‹igöÆ_h™dÀ
 !
INVALID_HANDLE_VALUE
) {

242 
	`Clo£H™dÀ
(
pﬁl_fd
[
i
].
h™dÀ
);

245 
pﬁl_fd
[
i
] = 
INVALID_WINFD
;

246 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

247 
	`DñëeCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

250 
	`I¡îlockedExch™ge
((
LONG
 *)&
com∑t_•ölock
, 0);

251 
	}
}

259 
	$usbi_pùe
(
fûedes
[2])

261 
i
;

262 
OVERLAPPED
* 
ovîœµed
;

264 
CHECK_INIT_POLLING
;

266 
ovîœµed
 = 
	`¸óã_ovîœµed
();

268 i‡(
ovîœµed
 =
NULL
) {

272 
ovîœµed
->
I¡î«l
 = 
STATUS_PENDING
;

273 
ovîœµed
->
I¡î«lHigh
 = 0;

275 
i
=0; i<
MAX_FDS
; i++) {

276 i‡(
pﬁl_fd
[
i
].
fd
 < 0) {

277 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

279 i‡(
pﬁl_fd
[
i
].
fd
 >= 0) {

280 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

285 
pﬁl_fd
[
i
].
fd
 = i;

287 
fûedes
[0] = 
pﬁl_fd
[
i
].
fd
;

289 
fûedes
[1] = filedes[0];

291 
pﬁl_fd
[
i
].
h™dÀ
 = 
DUMMY_HANDLE
;

292 
pﬁl_fd
[
i
].
ovîœµed
 = overlapped;

294 
pﬁl_fd
[
i
].
rw
 = 
RW_READ
;

295 
_pﬁl_fd
[
i
].
‹igöÆ_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

296 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

300 
	`‰ì_ovîœµed
(
ovîœµed
);

302 
	}
}

318 
wöfd
 
	$usbi_¸óã_fd
(
HANDLE
 
h™dÀ
, 
ac˚ss_mode
, 
usbi_å™s„r
 *
ôøns„r
, 
ˇn˚l_å™s„r
 *
ˇn˚l_‚
)

320 
i
;

321 
wöfd
 
wfd
 = 
INVALID_WINFD
;

322 
OVERLAPPED
* 
ovîœµed
 = 
NULL
;

324 
CHECK_INIT_POLLING
;

326 i‡((
h™dÀ
 =0Ë|| (h™dÀ =
INVALID_HANDLE_VALUE
)) {

327  
INVALID_WINFD
;

330 
wfd
.
ôøns„r
 = itransfer;

331 
wfd
.
ˇn˚l_‚
 = cancel_fn;

333 i‡((
ac˚ss_mode
 !
RW_READ
Ë&& (ac˚ss_modê!
RW_WRITE
)) {

334 
	`usbi_w¨n
(
NULL
, "only one of RW_READ or RW_WRITEáre supported.\n"

336  
INVALID_WINFD
;

338 i‡(
ac˚ss_mode
 =
RW_READ
) {

339 
wfd
.
rw
 = 
RW_READ
;

341 
wfd
.
rw
 = 
RW_WRITE
;

344 
ovîœµed
 = 
	`¸óã_ovîœµed
();

345 if(
ovîœµed
 =
NULL
) {

346  
INVALID_WINFD
;

349 
i
=0; i<
MAX_FDS
; i++) {

350 i‡(
pﬁl_fd
[
i
].
fd
 < 0) {

351 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

353 i‡(
pﬁl_fd
[
i
].
fd
 >= 0) {

354 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

358 
wfd
.
fd
 = 
i
;

361 i‡(
U£_Du∂iˇã_H™dÀs
) {

362 
_pﬁl_fd
[
i
].
thªad_id
 = 
	`GëCuºítThªadId
();

363 i‡(!
	`Du∂iˇãH™dÀ
(
	`GëCuºítPro˚ss
(), 
h™dÀ
, GetCurrentProcess(),

364 &
wfd
.
h™dÀ
, 0, 
TRUE
, 
DUPLICATE_SAME_ACCESS
)) {

365 
	`usbi_dbg
("couldÇot duplicate handle for CancelIo - using original one");

366 
wfd
.
h™dÀ
 = handle;

368 
_pﬁl_fd
[
i
].
‹igöÆ_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

370 
_pﬁl_fd
[
i
].
‹igöÆ_h™dÀ
 = 
h™dÀ
;

373 
wfd
.
h™dÀ
 = handle;

375 
wfd
.
ovîœµed
 = overlapped;

376 
	`mem˝y
(&
pﬁl_fd
[
i
], &
wfd
, (
wöfd
));

377 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

378  
wfd
;

381 
	`‰ì_ovîœµed
(
ovîœµed
);

382  
INVALID_WINFD
;

383 
	}
}

385 
	$_‰ì_ödex
(
_ödex
)

388 
	`ˇn˚l_io
(
_ödex
);

390 i‡(
U£_Du∂iˇã_H™dÀs
) {

391 i‡(
_pﬁl_fd
[
_ödex
].
‹igöÆ_h™dÀ
 !
INVALID_HANDLE_VALUE
) {

392 
	`Clo£H™dÀ
(
pﬁl_fd
[
_ödex
].
h™dÀ
);

394 
_pﬁl_fd
[
_ödex
].
‹igöÆ_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

395 
_pﬁl_fd
[
_ödex
].
thªad_id
 = 0;

397 
	`‰ì_ovîœµed
(
pﬁl_fd
[
_ödex
].
ovîœµed
);

398 
pﬁl_fd
[
_ödex
] = 
INVALID_WINFD
;

399 
	}
}

406 
	$usbi_‰ì_fd
(
wöfd
 *
wfd
)

408 
_ödex
;

410 
CHECK_INIT_POLLING
;

412 
_ödex
 = 
	`_fd_to_ödex_™d_lock
(
wfd
->
fd
);

413 i‡(
_ödex
 < 0) {

416 
	`_‰ì_ödex
(
_ödex
);

417 *
wfd
 = 
INVALID_WINFD
;

418 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

419 
	}
}

424 
wöfd
 
	$fd_to_wöfd
(
fd
)

426 
i
;

427 
wöfd
 
wfd
;

429 
CHECK_INIT_POLLING
;

431 i‡(
fd
 < 0)

432  
INVALID_WINFD
;

434 
i
=0; i<
MAX_FDS
; i++) {

435 i‡(
pﬁl_fd
[
i
].
fd
 == fd) {

436 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

438 i‡(
pﬁl_fd
[
i
].
fd
 != fd) {

439 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

442 
	`mem˝y
(&
wfd
, &
pﬁl_fd
[
i
], (
wöfd
));

443 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

444  
wfd
;

447  
INVALID_WINFD
;

448 
	}
}

450 
wöfd
 
	$h™dÀ_to_wöfd
(
HANDLE
 
h™dÀ
)

452 
i
;

453 
wöfd
 
wfd
;

455 
CHECK_INIT_POLLING
;

457 i‡((
h™dÀ
 =0Ë|| (h™dÀ =
INVALID_HANDLE_VALUE
))

458  
INVALID_WINFD
;

460 
i
=0; i<
MAX_FDS
; i++) {

461 i‡(
pﬁl_fd
[
i
].
h™dÀ
 == handle) {

462 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

464 i‡(
pﬁl_fd
[
i
].
h™dÀ
 != handle) {

465 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

468 
	`mem˝y
(&
wfd
, &
pﬁl_fd
[
i
], (
wöfd
));

469 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

470  
wfd
;

473  
INVALID_WINFD
;

474 
	}
}

476 
wöfd
 
	$ovîœµed_to_wöfd
(
OVERLAPPED
* 
ovîœµed
)

478 
i
;

479 
wöfd
 
wfd
;

481 
CHECK_INIT_POLLING
;

483 i‡(
ovîœµed
 =
NULL
)

484  
INVALID_WINFD
;

486 
i
=0; i<
MAX_FDS
; i++) {

487 i‡(
pﬁl_fd
[
i
].
ovîœµed
 == overlapped) {

488 
	`E¡îCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

490 i‡(
pﬁl_fd
[
i
].
ovîœµed
 != overlapped) {

491 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

494 
	`mem˝y
(&
wfd
, &
pﬁl_fd
[
i
], (
wöfd
));

495 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
i
].
muãx
);

496  
wfd
;

499  
INVALID_WINFD
;

500 
	}
}

507 
	$usbi_pﬁl
(
pﬁlfd
 *
fds
, 
nfds
, 
timeout
)

509 
i
;

510 
_ödex
, 
obje˘_ödex
, 
åiggîed
;

511 
HANDLE
 *
h™dÀs_to_waô_⁄
;

512 *
h™dÀ_to_ödex
;

513 
DWORD
 
nb_h™dÀs_to_waô_⁄
 = 0;

514 
DWORD
 
ªt
;

516 
CHECK_INIT_POLLING
;

518 
åiggîed
 = 0;

519 
h™dÀs_to_waô_⁄
 = (
HANDLE
*Ë
	`ˇŒoc
(
nfds
+1, (HANDLE));

520 
h™dÀ_to_ödex
 = (*Ë
	`ˇŒoc
(
nfds
, ());

521 i‡((
h™dÀs_to_waô_⁄
 =
NULL
Ë|| (
h™dÀ_to_ödex
 == NULL)) {

522 
î∫o
 = 
ENOMEM
;

523 
åiggîed
 = -1;

524 
pﬁl_exô
;

527 
i
 = 0; i < 
nfds
; ++i) {

528 
fds
[
i
].
ªvíts
 = 0;

531 i‡((
fds
[
i
].
evíts
 & ~
POLLIN
Ë&& (!(fds[i].evít†& 
POLLOUT
))) {

532 
fds
[
i
].
ªvíts
 |
POLLERR
;

533 
î∫o
 = 
EACCES
;

534 
	`usbi_w¨n
(
NULL
, "unsupported set ofÉvents");

535 
åiggîed
 = -1;

536 
pﬁl_exô
;

539 
_ödex
 = 
	`_fd_to_ödex_™d_lock
(
fds
[
i
].
fd
);

540 
	`pﬁl_dbg
("fd[%d]=%d: (ovîœµed=%pËgŸÉvít†%04X", 
i
, 
pﬁl_fd
[
_ödex
].
fd
,Öﬁl_fd[_ödex].
ovîœµed
, 
fds
[i].
evíts
);

542 i‡–(
_ödex
 < 0Ë|| (
pﬁl_fd
[_ödex].
h™dÀ
 =
INVALID_HANDLE_VALUE
)

543 || (
pﬁl_fd
[
_ödex
].
h™dÀ
 =0Ë|| (pﬁl_fd[_ödex].
ovîœµed
 =
NULL
)) {

544 
fds
[
i
].
ªvíts
 |
POLLNVAL
 | 
POLLERR
;

545 
î∫o
 = 
EBADF
;

546 i‡(
_ödex
 >= 0) {

547 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

549 
	`usbi_w¨n
(
NULL
, "invalid fd");

550 
åiggîed
 = -1;

551 
pﬁl_exô
;

555 i‡((
fds
[
i
].
evíts
 & 
POLLIN
Ë&& (
pﬁl_fd
[
_ödex
].
rw
 !
RW_READ
)) {

556 
fds
[
i
].
ªvíts
 |
POLLNVAL
 | 
POLLERR
;

557 
î∫o
 = 
EBADF
;

558 
	`usbi_w¨n
(
NULL
, "attempted POLLIN on fd without READáccess");

559 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

560 
åiggîed
 = -1;

561 
pﬁl_exô
;

564 i‡((
fds
[
i
].
evíts
 & 
POLLOUT
Ë&& (
pﬁl_fd
[
_ödex
].
rw
 !
RW_WRITE
)) {

565 
fds
[
i
].
ªvíts
 |
POLLNVAL
 | 
POLLERR
;

566 
î∫o
 = 
EBADF
;

567 
	`usbi_w¨n
(
NULL
, "attempted POLLOUT on fd without WRITEáccess");

568 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

569 
åiggîed
 = -1;

570 
pﬁl_exô
;

574 i‡–(
	`HasOvîœµedIoCom∂ëed
(
pﬁl_fd
[
_ödex
].
ovîœµed
))

575 || (
	`HasOvîœµedIoCom∂ëedSync
(
pﬁl_fd
[
_ödex
].
ovîœµed
)) ) {

576 
	`pﬁl_dbg
(" completed");

578 
fds
[
i
].
ªvíts
 = fds[i].
evíts
;

579 
åiggîed
++;

581 
h™dÀs_to_waô_⁄
[
nb_h™dÀs_to_waô_⁄
] = 
pﬁl_fd
[
_ödex
].
ovîœµed
->
hEvít
;

582 
h™dÀ_to_ödex
[
nb_h™dÀs_to_waô_⁄
] = 
i
;

583 
nb_h™dÀs_to_waô_⁄
++;

585 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

589 i‡((
timeout
 !0Ë&& (
åiggîed
 =0Ë&& (
nb_h™dÀs_to_waô_⁄
 != 0)) {

590 i‡(
timeout
 < 0) {

591 
	`pﬁl_dbg
("°¨tög inföôêwaô f‹ %d h™dÀs...", ()
nb_h™dÀs_to_waô_⁄
);

593 
	`pﬁl_dbg
("°¨tög %d m†waô f‹ %d h™dÀs...", 
timeout
, ()
nb_h™dÀs_to_waô_⁄
);

595 
ªt
 = 
	`WaôF‹Mu…ùÀObje˘s
(
nb_h™dÀs_to_waô_⁄
, 
h™dÀs_to_waô_⁄
,

596 
FALSE
, (
timeout
<0)?
INFINITE
:(
DWORD
)timeout);

597 
obje˘_ödex
 = 
ªt
-
WAIT_OBJECT_0
;

598 i‡((
obje˘_ödex
 >0Ë&& ((
DWORD
)obje˘_ödex < 
nb_h™dÀs_to_waô_⁄
)) {

599 
	`pﬁl_dbg
(" completedáfter wait");

600 
i
 = 
h™dÀ_to_ödex
[
obje˘_ödex
];

601 
_ödex
 = 
	`_fd_to_ödex_™d_lock
(
fds
[
i
].
fd
);

602 
fds
[
i
].
ªvíts
 = fds[i].
evíts
;

603 
åiggîed
++;

604 i‡(
_ödex
 >= 0) {

605 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

607 } i‡(
ªt
 =
WAIT_TIMEOUT
) {

608 
	`pﬁl_dbg
("Åimed out");

609 
åiggîed
 = 0;

611 
î∫o
 = 
EIO
;

612 
åiggîed
 = -1;

616 
pﬁl_exô
:

617 i‡(
h™dÀs_to_waô_⁄
 !
NULL
) {

618 
	`‰ì
(
h™dÀs_to_waô_⁄
);

620 i‡(
h™dÀ_to_ödex
 !
NULL
) {

621 
	`‰ì
(
h™dÀ_to_ödex
);

623  
åiggîed
;

624 
	}
}

629 
	$usbi_˛o£
(
fd
)

631 
_ödex
;

632 
r
 = -1;

634 
CHECK_INIT_POLLING
;

636 
_ödex
 = 
	`_fd_to_ödex_™d_lock
(
fd
);

638 i‡(
_ödex
 < 0) {

639 
î∫o
 = 
EBADF
;

641 
	`‰ì_ovîœµed
(
pﬁl_fd
[
_ödex
].
ovîœµed
);

642 
pﬁl_fd
[
_ödex
] = 
INVALID_WINFD
;

643 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

645  
r
;

646 
	}
}

651 
ssize_t
 
	$usbi_wrôe
(
fd
, c⁄° *
buf
, 
size_t
 
cou¡
)

653 
_ödex
;

654 
	`UNUSED
(
buf
);

656 
CHECK_INIT_POLLING
;

658 i‡(
cou¡
 != ()) {

659 
	`usbi_îr
(
NULL
, "this function should only used for signaling");

663 
_ödex
 = 
	`_fd_to_ödex_™d_lock
(
fd
);

665 i‡–(
_ödex
 < 0Ë|| (
pﬁl_fd
[_ödex].
ovîœµed
 =
NULL
) ) {

666 
î∫o
 = 
EBADF
;

667 i‡(
_ödex
 >= 0) {

668 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

673 
	`pﬁl_dbg
("£àpùêevíà(fd = %d,Åhªad = %08X)", 
_ödex
, 
	`GëCuºítThªadId
());

674 
	`SëEvít
(
pﬁl_fd
[
_ödex
].
ovîœµed
->
hEvít
);

675 
pﬁl_fd
[
_ödex
].
ovîœµed
->
I¡î«l
 = 
STATUS_WAIT_0
;

678 
pﬁl_fd
[
_ödex
].
ovîœµed
->
I¡î«lHigh
++;

680 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

682 
	}
}

687 
ssize_t
 
	$usbi_ªad
(
fd
, *
buf
, 
size_t
 
cou¡
)

689 
_ödex
;

690 
ssize_t
 
r
 = -1;

691 
	`UNUSED
(
buf
);

693 
CHECK_INIT_POLLING
;

695 i‡(
cou¡
 != ()) {

696 
	`usbi_îr
(
NULL
, "this function should only used for signaling");

700 
_ödex
 = 
	`_fd_to_ödex_™d_lock
(
fd
);

702 i‡(
_ödex
 < 0) {

703 
î∫o
 = 
EBADF
;

707 i‡(
	`WaôF‹SögÀObje˘
(
pﬁl_fd
[
_ödex
].
ovîœµed
->
hEvít
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

708 
	`usbi_w¨n
(
NULL
, "waôög f‹ÉvíàÁûed: %d", ()
	`GëLa°Eº‹
());

709 
î∫o
 = 
EIO
;

710 
out
;

713 
	`pﬁl_dbg
("˛∏pùêevíà(fd = %d,Åhªad = %08X)", 
_ödex
, 
	`GëCuºítThªadId
());

714 
pﬁl_fd
[
_ödex
].
ovîœµed
->
I¡î«lHigh
--;

716 i‡(
pﬁl_fd
[
_ödex
].
ovîœµed
->
I¡î«lHigh
 <= 0) {

717 
	`Re£tEvít
(
pﬁl_fd
[
_ödex
].
ovîœµed
->
hEvít
);

718 
pﬁl_fd
[
_ödex
].
ovîœµed
->
I¡î«l
 = 
STATUS_PENDING
;

721 
r
 = ();

723 
out
:

724 
	`LóveCrôiˇlSe˘i⁄
(&
_pﬁl_fd
[
_ödex
].
muãx
);

725  
r
;

726 
	}
}

	@libusb/os/poll_windows.h

23 #¥agm®
⁄˚


25 #i‡
deföed
(
_MSC_VER
)

27 #¥agm®
w¨nög
(
dißbÀ
:4127)

31 #i‡!
deföed
(
STATUS_REPARSE
)

32 
	#STATUS_REPARSE
 ((
LONG
)0x00000104L)

	)

34 
	#STATUS_COMPLETED_SYNCHRONOUSLY
 
STATUS_REPARSE


	)

35 #i‡
deföed
(
_WIN32_WCE
)

37 
	#HasOvîœµedIoCom∂ëed
(
ÕOvîœµed
Ë(((
DWORD
)÷pOvîœµed)->
I¡î«l
Ë!
STATUS_PENDING
)

	)

39 
	#HasOvîœµedIoCom∂ëedSync
(
ÕOvîœµed
Ë(((
DWORD
)÷pOvîœµed)->
I¡î«l
Ë=
STATUS_COMPLETED_SYNCHRONOUSLY
)

	)

41 
	#DUMMY_HANDLE
 ((
HANDLE
)(
LONG_PTR
)-2)

	)

44 
	ewödows_vîsi⁄
 {

45 
	mWINDOWS_CE
 = -2,

46 
	mWINDOWS_UNDEFINED
 = -1,

47 
	mWINDOWS_UNSUPPORTED
 = 0,

48 
	mWINDOWS_XP
 = 0x51,

49 
	mWINDOWS_2003
 = 0x52,

50 
	mWINDOWS_VISTA
 = 0x60,

51 
	mWINDOWS_7
 = 0x61,

52 
	mWINDOWS_8
 = 0x62,

53 
	mWINDOWS_8_1_OR_LATER
 = 0x63,

54 
	mWINDOWS_MAX


56 
wödows_vîsi⁄
;

58 
	#MAX_FDS
 256

	)

60 
	#POLLIN
 0x0001

	)

61 
	#POLLPRI
 0x0002

	)

62 
	#POLLOUT
 0x0004

	)

63 
	#POLLERR
 0x0008

	)

64 
	#POLLHUP
 0x0010

	)

65 
	#POLLNVAL
 0x0020

	)

67 
	spﬁlfd
 {

68 
	mfd
;

69 
	mevíts
;

70 
	mªvíts
;

74 
	erw_ty≥
 {

75 
	mRW_NONE
,

76 
	mRW_READ
,

77 
	mRW_WRITE
,

81 
	tˇn˚l_å™s„r
(
	tusbi_å™s„r
 *
	tôøns„r
);

83 
	swöfd
 {

84 
	mfd
;

85 
HANDLE
 
	mh™dÀ
;

86 
OVERLAPPED
* 
	movîœµed
;

87 
usbi_å™s„r
 *
	môøns„r
;

88 
ˇn˚l_å™s„r
 *
	mˇn˚l_‚
;

89 
rw_ty≥
 
	mrw
;

91 c⁄° 
wöfd
 
INVALID_WINFD
;

93 
usbi_pùe
(
pùefd
[2]);

94 
usbi_pﬁl
(
pﬁlfd
 *
fds
, 
nfds
, 
timeout
);

95 
ssize_t
 
usbi_wrôe
(
fd
, c⁄° *
buf
, 
size_t
 
cou¡
);

96 
ssize_t
 
usbi_ªad
(
fd
, *
buf
, 
size_t
 
cou¡
);

97 
usbi_˛o£
(
fd
);

99 
öô_pﬁlög
();

100 
exô_pﬁlög
();

101 
wöfd
 
usbi_¸óã_fd
(
HANDLE
 
h™dÀ
, 
ac˚ss_mode
,

102 
usbi_å™s„r
 *
å™s„r
, 
ˇn˚l_å™s„r
 *
ˇn˚l_‚
);

103 
usbi_‰ì_fd
(
wöfd
* winfd);

104 
wöfd
 
fd_to_wöfd
(
fd
);

105 
wöfd
 
h™dÀ_to_wöfd
(
HANDLE
 
h™dÀ
);

106 
wöfd
 
ovîœµed_to_wöfd
(
OVERLAPPED
* 
ovîœµed
);

111 #i‡
deföed
(
DDKBUILD
)

112 
	~<wösock.h
>

115 #i‡!
deföed
(
TIMESPEC_TO_TIMEVAL
)

116 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) { \

117 (
tv
)->
tv_£c
 = ()(
ts
)->tv_sec; \

118 (
tv
)->
tv_u£c
 = ()(
ts
)->
tv_n£c
 / 1000; \

119 }

	)

121 #i‡!
deföed
(
timîsub
)

122 
	#timîsub
(
a
, 
b
, 
ªsu…
) \

124 (
ªsu…
)->
tv_£c
 = (
a
)->tv_£¯- (
b
)->tv_sec; \

125 (
ªsu…
)->
tv_u£c
 = (
a
)->tv_u£¯- (
b
)->tv_usec; \

126 i‡((
ªsu…
)->
tv_u£c
 < 0) { \

127 --(
ªsu…
)->
tv_£c
; \

128 (
ªsu…
)->
tv_u£c
 += 1000000; \

130 } 0)

	)

	@libusb/os/threads_posix.c

22 #i‡
deföed
(
__löux__
Ë|| deföed(
__O≥nBSD__
)

23 #i‡
deföed
(
__löux__
)

24 
	#_GNU_SOURCE


	)

26 
	#_BSD_SOURCE


	)

28 
	~<uni°d.h
>

29 
	~<sys/sysˇŒ.h
>

30 #ñi‡
deföed
(
__APPLE__
)

31 
	~<mach/mach.h
>

32 #ñi‡
deföed
(
__CYGWIN__
)

33 
	~<wödows.h
>

36 
	~"thªads_posix.h
"

38 
	$usbi_muãx_öô_ªcursive
(
±hªad_muãx_t
 *
muãx
, 
±hªad_muãx©å_t
 *
©å
)

40 
îr
;

41 
±hªad_muãx©å_t
 
°ack_©å
;

42 i‡(!
©å
) {

43 
©å
 = &
°ack_©å
;

44 
îr
 = 
	`±hªad_muãx©å_öô
(&
°ack_©å
);

45 i‡(
îr
 != 0)

46  
îr
;

50 
îr
 = 
	`±hªad_muãx©å_£ây≥
(
©å
, 
PTHREAD_MUTEX_RECURSIVE
);

51 i‡(
îr
 != 0)

52 
föish
;

54 
îr
 = 
	`±hªad_muãx_öô
(
muãx
, 
©å
);

56 
föish
:

57 i‡(
©å
 =&
°ack_©å
)

58 
	`±hªad_muãx©å_de°roy
(&
°ack_©å
);

60  
îr
;

61 
	}
}

63 
	$usbi_gë_tid
()

65 
ªt
 = -1;

66 #i‡
	`deföed
(
__ANDROID__
)

67 
ªt
 = 
	`gëtid
();

68 #ñi‡
	`deföed
(
__löux__
)

69 
ªt
 = 
	`sysˇŒ
(
SYS_gëtid
);

70 #ñi‡
	`deföed
(
__O≥nBSD__
)

73 
ªt
 = 
	`sysˇŒ
(
SYS_gëthrid
);

74 #ñi‡
	`deföed
(
__APPLE__
)

75 
ªt
 = 
	`mach_thªad_£lf
();

76 
	`mach_p‹t_dóŒoˇã
(
	`mach_èsk_£lf
(), 
ªt
);

77 #ñi‡
	`deföed
(
__CYGWIN__
)

78 
ªt
 = 
	`GëCuºítThªadId
();

81  
ªt
;

82 
	}
}

	@libusb/os/threads_posix.h

21 #i‚de‡
LIBUSB_THREADS_POSIX_H


22 
	#LIBUSB_THREADS_POSIX_H


	)

24 
	~<±hªad.h
>

26 
	#usbi_muãx_°©ic_t
 
±hªad_muãx_t


	)

27 
	#USBI_MUTEX_INITIALIZER
 
PTHREAD_MUTEX_INITIALIZER


	)

28 
	#usbi_muãx_°©ic_lock
 
±hªad_muãx_lock


	)

29 
	#usbi_muãx_°©ic_u∆ock
 
±hªad_muãx_u∆ock


	)

31 
	#usbi_muãx_t
 
±hªad_muãx_t


	)

32 
	#usbi_muãx_öô
 
±hªad_muãx_öô


	)

33 
	#usbi_muãx_lock
 
±hªad_muãx_lock


	)

34 
	#usbi_muãx_u∆ock
 
±hªad_muãx_u∆ock


	)

35 
	#usbi_muãx_åylock
 
±hªad_muãx_åylock


	)

36 
	#usbi_muãx_de°roy
 
±hªad_muãx_de°roy


	)

38 
	#usbi_c⁄d_t
 
±hªad_c⁄d_t


	)

39 
	#usbi_c⁄d_öô
 
±hªad_c⁄d_öô


	)

40 
	#usbi_c⁄d_waô
 
±hªad_c⁄d_waô


	)

41 
	#usbi_c⁄d_timedwaô
 
±hªad_c⁄d_timedwaô


	)

42 
	#usbi_c⁄d_brﬂdˇ°
 
±hªad_c⁄d_brﬂdˇ°


	)

43 
	#usbi_c⁄d_de°roy
 
±hªad_c⁄d_de°roy


	)

44 
	#usbi_c⁄d_sig«l
 
±hªad_c⁄d_sig«l


	)

46 
usbi_muãx_öô_ªcursive
(
±hªad_muãx_t
 *
muãx
, 
±hªad_muãx©å_t
 *
©å
);

48 
usbi_gë_tid
();

	@libusb/os/threads_windows.c

21 
	~<c⁄fig.h
>

22 
	~<objba£.h
>

23 
	~<î∫o.h
>

24 
	~<°d¨g.h
>

26 
	~"libusbi.h
"

28 c⁄° 
uöt64_t
 
ïoch_time
;

30 
	$usbi_muãx_öô
(
usbi_muãx_t
 *
muãx
,

31 c⁄° 
usbi_muãx©å_t
 *
©å
) {

32 
	`UNUSED
(
©å
);

33 if(! 
muãx
Ë ((
î∫o
=
EINVAL
));

34 *
muãx
 = 
	`Cª©eMuãx
(
NULL
, 
FALSE
, NULL);

35 if(!*
muãx
Ë ((
î∫o
=
ENOMEM
));

37 
	}
}

38 
	$usbi_muãx_de°roy
(
usbi_muãx_t
 *
muãx
) {

41 if(!
muãx
 || !
	`Clo£H™dÀ
(*muãx)Ë ((
î∫o
=
EINVAL
));

42 *
muãx
 = 
NULL
;

44 
	}
}

45 
	$usbi_muãx_åylock
(
usbi_muãx_t
 *
muãx
) {

46 
DWORD
 
ªsu…
;

47 if(!
muãx
Ë ((
î∫o
=
EINVAL
));

48 
ªsu…
 = 
	`WaôF‹SögÀObje˘
(*
muãx
, 0);

49 if(
ªsu…
 =
WAIT_OBJECT_0
 ||Ñesu… =
WAIT_ABANDONED
)

51 if(
ªsu…
 =
WAIT_TIMEOUT
)

52  ((
î∫o
=
EBUSY
));

53  ((
î∫o
=
EINVAL
));

55 
	}
}

56 
	$usbi_muãx_lock
(
usbi_muãx_t
 *
muãx
) {

57 
DWORD
 
ªsu…
;

58 if(!
muãx
Ë ((
î∫o
=
EINVAL
));

59 
ªsu…
 = 
	`WaôF‹SögÀObje˘
(*
muãx
, 
INFINITE
);

60 if(
ªsu…
 =
WAIT_OBJECT_0
 ||Ñesu… =
WAIT_ABANDONED
)

62  ((
î∫o
=
EINVAL
));

64 
	}
}

65 
	$usbi_muãx_u∆ock
(
usbi_muãx_t
 *
muãx
) {

66 if(!
muãx
Ë ((
î∫o
=
EINVAL
));

67 if(!
	`Rñó£Muãx
(*
muãx
)Ë ((
î∫o
=
EPERM
 ));

69 
	}
}

71 
	$usbi_muãx_°©ic_lock
(
usbi_muãx_°©ic_t
 *
muãx
) {

72 if(!
muãx
Ë ((
î∫o
=
EINVAL
));

73 
	`I¡îlockedExch™ge
((
LONG
 *)
muãx
, 1) == 1) {

74 
	`SÀïEx
(0, 
TRUE
);

77 
	}
}

78 
	$usbi_muãx_°©ic_u∆ock
(
usbi_muãx_°©ic_t
 *
muãx
) {

79 if(!
muãx
Ë ((
î∫o
=
EINVAL
));

80 *
muãx
 = 0;

82 
	}
}

84 
	$usbi_c⁄d_öô
(
usbi_c⁄d_t
 *
c⁄d
,

85 c⁄° 
usbi_c⁄d©å_t
 *
©å
) {

86 
	`UNUSED
(
©å
);

87 if(!
c⁄d
Ë ((
î∫o
=
EINVAL
));

88 
	`li°_öô
(&
c⁄d
->
waôîs
 );

89 
	`li°_öô
(&
c⁄d
->
nŸ_waôög
);

91 
	}
}

92 
	$usbi_c⁄d_de°roy
(
usbi_c⁄d_t
 *
c⁄d
) {

94 
usbi_c⁄d_≥πhªad
 *
pos
, *
√xt_pos
 = 
NULL
;

95 if(!
c⁄d
Ë ((
î∫o
=
EINVAL
));

96 if(!
	`li°_em±y
(&
c⁄d
->
waôîs
)Ë ((
î∫o
=
EBUSY
 ));

97 
	`li°_f‹_óch_íåy_ß„
(
pos
, 
√xt_pos
, &
c⁄d
->
nŸ_waôög
, 
li°
, 
usbi_c⁄d_≥πhªad
) {

98 
	`Clo£H™dÀ
(
pos
->
evít
);

99 
	`li°_dñ
(&
pos
->
li°
);

100 
	`‰ì
(
pos
);

104 
	}
}

106 
	$usbi_c⁄d_brﬂdˇ°
(
usbi_c⁄d_t
 *
c⁄d
) {

110 
Áû
 = 0;

111 
usbi_c⁄d_≥πhªad
 *
pos
;

112 if(!
c⁄d
Ë ((
î∫o
=
EINVAL
));

113 
	`li°_f‹_óch_íåy
(
pos
, &
c⁄d
->
waôîs
, 
li°
, 
usbi_c⁄d_≥πhªad
) {

114 if(!
	`SëEvít
(
pos
->
evít
))

115 
Áû
 = 1;

118  
Áû
 ? ((
î∫o
=
EINVAL
)) : 0;

119 
	}
}

120 
	$usbi_c⁄d_sig«l
(
usbi_c⁄d_t
 *
c⁄d
) {

124 
usbi_c⁄d_≥πhªad
 *
pos
;

125 if(!
c⁄d
Ë ((
î∫o
=
EINVAL
));

126 if(
	`li°_em±y
(&
c⁄d
->
waôîs
))  0;

127 
pos
 = 
	`li°_íåy
(&
c⁄d
->
waôîs
.
√xt
, 
usbi_c⁄d_≥πhªad
, 
li°
);

129  
	`SëEvít
(
pos
->
evít
Ë? 0 : ((
î∫o
=
EINVAL
));

130 
	}
}

131 
__ölöe
 
	$usbi_c⁄d_ötwaô
(
usbi_c⁄d_t
 *
c⁄d
,

132 
usbi_muãx_t
 *
muãx
,

133 
DWORD
 
timeout_ms
) {

134 
usbi_c⁄d_≥πhªad
 *
pos
;

135 
found
 = 0, 
r
;

136 
DWORD
 
r2
,
tid
 = 
	`GëCuºítThªadId
();

137 if(!
c⁄d
 || !
muãx
Ë ((
î∫o
=
EINVAL
));

138 
	`li°_f‹_óch_íåy
(
pos
, &
c⁄d
->
nŸ_waôög
, 
li°
, 
usbi_c⁄d_≥πhªad
) {

139 if(
tid
 =
pos
->tid) {

140 
found
 = 1;

144 if(!
found
) {

145 
pos
 = (
usbi_c⁄d_≥πhªad
*Ë
	`ˇŒoc
(1, (usbi_cond_perthread));

146 if(!
pos
Ë ((
î∫o
=
ENOMEM
));

147 
pos
->
tid
 =Åid;

148 
pos
->
evít
 = 
	`Cª©eEvít
(
NULL
, 
FALSE
, FALSE, NULL);

149 if(!
pos
->
evít
) {

150 
	`‰ì
(
pos
);

151  ((
î∫o
=
ENOMEM
));

153 
	`li°_add
(&
pos
->
li°
, &
c⁄d
->
nŸ_waôög
);

156 
	`li°_dñ
(&
pos
->
li°
);

157 
	`li°_add
(&
pos
->
li°
, &
c⁄d
->
waôîs
);

159 
r
 = 
	`usbi_muãx_u∆ock
(
muãx
);

160 if(
r
) Ñ;

161 
r2
 = 
	`WaôF‹SögÀObje˘
(
pos
->
evít
, 
timeout_ms
);

162 
r
 = 
	`usbi_muãx_lock
(
muãx
);

163 if(
r
) Ñ;

165 
	`li°_dñ
(&
pos
->
li°
);

166 
	`li°_add
(&
pos
->
li°
, &
c⁄d
->
nŸ_waôög
);

168 if(
r2
 =
WAIT_TIMEOUT
Ë ((
î∫o
=
ETIMEDOUT
));

171 
	}
}

173 
	$usbi_c⁄d_waô
(
usbi_c⁄d_t
 *
c⁄d
, 
usbi_muãx_t
 *
muãx
) {

174  
	`usbi_c⁄d_ötwaô
(
c⁄d
, 
muãx
, 
INFINITE
);

175 
	}
}

176 
	$usbi_c⁄d_timedwaô
(
usbi_c⁄d_t
 *
c⁄d
,

177 
usbi_muãx_t
 *
muãx
,

178 c⁄° 
time•ec
 *
ab°ime
) {

179 
FILETIME
 
fûëime
;

180 
ULARGE_INTEGER
 
πime
;

181 
timevÆ
 
èrg_time
, 
cur_time
, 
dñè_time
;

182 
time•ec
 
cur_time_ns
;

183 
DWORD
 
mûlis
;

186 
SYSTEMTIME
 
°
;

187 
	`GëSy°emTime
(&
°
);

188 
	`Sy°emTimeToFûeTime
(&
°
, &
fûëime
);

189 
πime
.
LowP¨t
 = 
fûëime
.
dwLowD©eTime
;

190 
πime
.
HighP¨t
 = 
fûëime
.
dwHighD©eTime
;

191 
πime
.
QuadP¨t
 -
ïoch_time
;

192 
cur_time_ns
.
tv_£c
 = ()(
πime
.
QuadP¨t
 / 10000000);

193 
cur_time_ns
.
tv_n£c
 = ()((
πime
.
QuadP¨t
 % 10000000)*100);

194 
	`TIMESPEC_TO_TIMEVAL
(&
cur_time
, &
cur_time_ns
);

196 
	`TIMESPEC_TO_TIMEVAL
(&
èrg_time
, 
ab°ime
);

197 
	`timîsub
(&
èrg_time
, &
cur_time
, &
dñè_time
);

198 if(
dñè_time
.
tv_£c
 < 0)

199 
mûlis
 = 0;

201 
mûlis
 = 
dñè_time
.
tv_u£c
/1000;

202 
mûlis
 +
dñè_time
.
tv_£c
 *1000;

203 i‡(
dñè_time
.
tv_u£c
 % 1000)

204 
mûlis
++;

207  
	`usbi_c⁄d_ötwaô
(
c⁄d
, 
muãx
, 
mûlis
);

208 
	}
}

210 
	$usbi_gë_tid
() {

211  
	`GëCuºítThªadId
();

212 
	}
}

	@libusb/os/threads_windows.h

21 #i‚de‡
LIBUSB_THREADS_WINDOWS_H


22 
	#LIBUSB_THREADS_WINDOWS_H


	)

24 
	#usbi_muãx_°©ic_t
 vﬁ©ûê
LONG


	)

25 
	#USBI_MUTEX_INITIALIZER
 0

	)

27 
	#usbi_muãx_t
 
HANDLE


	)

29 
	susbi_c⁄d_≥πhªad
 {

30 
li°_hód
 
	mli°
;

31 
DWORD
 
	mtid
;

32 
HANDLE
 
	mevít
;

34 
	susbi_c⁄d_t_
 {

38 
li°_hód
 
	mwaôîs
;

39 
li°_hód
 
	mnŸ_waôög
;

41 
usbi_c⁄d_t_
 
	tusbi_c⁄d_t
;

44 #i‡(!
deföed
(
HAVE_STRUCT_TIMESPEC
Ë&& !deföed(
_TIMESPEC_DEFINED
))

45 
	#HAVE_STRUCT_TIMESPEC
 1

	)

46 
	#_TIMESPEC_DEFINED
 1

	)

47 
	stime•ec
 {

48 
	mtv_£c
;

49 
	mtv_n£c
;

54 #i‚de‡
ETIMEDOUT


55 
	#ETIMEDOUT
 10060

	)

58 
	#usbi_muãx©å_t
 

	)

59 
	#usbi_c⁄d©å_t
 

	)

62 
	#usbi_muãx_öô_ªcursive
(
muãx
, 
©å
Ë
	`usbi_muãx_öô
((muãx), (©å))

	)

64 
usbi_muãx_°©ic_lock
(
usbi_muãx_°©ic_t
 *
muãx
);

65 
usbi_muãx_°©ic_u∆ock
(
usbi_muãx_°©ic_t
 *
muãx
);

68 
usbi_muãx_öô
(
usbi_muãx_t
 *
muãx
,

69 c⁄° 
usbi_muãx©å_t
 *
©å
);

70 
usbi_muãx_lock
(
usbi_muãx_t
 *
muãx
);

71 
usbi_muãx_u∆ock
(
usbi_muãx_t
 *
muãx
);

72 
usbi_muãx_åylock
(
usbi_muãx_t
 *
muãx
);

73 
usbi_muãx_de°roy
(
usbi_muãx_t
 *
muãx
);

75 
usbi_c⁄d_öô
(
usbi_c⁄d_t
 *
c⁄d
,

76 c⁄° 
usbi_c⁄d©å_t
 *
©å
);

77 
usbi_c⁄d_de°roy
(
usbi_c⁄d_t
 *
c⁄d
);

78 
usbi_c⁄d_waô
(
usbi_c⁄d_t
 *
c⁄d
, 
usbi_muãx_t
 *
muãx
);

79 
usbi_c⁄d_timedwaô
(
usbi_c⁄d_t
 *
c⁄d
,

80 
usbi_muãx_t
 *
muãx
,

81 c⁄° 
time•ec
 *
ab°ime
);

82 
usbi_c⁄d_brﬂdˇ°
(
usbi_c⁄d_t
 *
c⁄d
);

83 
usbi_c⁄d_sig«l
(
usbi_c⁄d_t
 *
c⁄d
);

85 
usbi_gë_tid
();

	@libusb/os/wince_usb.c

25 
	~<libusbi.h
>

27 
	~<°döt.h
>

28 
	~<î∫o.h
>

29 
	~<öây≥s.h
>

31 
	~"wö˚_usb.h
"

34 
wö˚_˛ock_gëtime
(
˛k_id
, 
time•ec
 *
ç
);

35 
__°dˇŒ
 
wö˚_˛ock_gëtime_thªaded
(* 
∑øm
);

38 
uöt64_t
 
	ghúes_‰equícy
, 
	ghúes_ticks_to_ps
;

39 
	gî∫o
;

40 c⁄° 
uöt64_t
 
	gïoch_time
 = 
UINT64_C
(116444736000000000);

41 
	gwödows_vîsi⁄
 = 
WINDOWS_CE
;

42 
	gc⁄cuºít_ußge
 = -1;

45 
HANDLE
 
	gtimî_thªad
 = 
NULL
;

46 
HANDLE
 
	gtimî_muãx
 = 
NULL
;

47 
time•ec
 
	gtimî_ç
;

48 vﬁ©ûê
LONG
 
	gªque°_cou¡
[2] = {0, 1};

49 
HANDLE
 
	gtimî_ªque°
[2] = { 
NULL
, NULL };

50 
HANDLE
 
	gtimî_ª•⁄£
 = 
NULL
;

51 
HANDLE
 
	gdrivî_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

57 #i‡
deföed
(
ENABLE_LOGGING
)

58 * 
	$wödows_îr‹_°r
(
uöt32_t
 
ªtvÆ
)

60 
TCHAR
 
wEº_°rög
[
ERR_BUFFER_SIZE
];

61 
îr_°rög
[
ERR_BUFFER_SIZE
];

63 
DWORD
 
size
;

64 
size_t
 
i
;

65 
uöt32_t
 
îr‹_code
, 
f‹m©_îr‹
;

67 
îr‹_code
 = 
ªtvÆ
?ªtvÆ:
	`GëLa°Eº‹
();

69 
	`ß„_°¥ötf
(
wEº_°rög
, 
ERR_BUFFER_SIZE
, 
	`_T
("[%d] "), 
îr‹_code
);

71 
size
 = 
	`F‹m©Mesßge
(
FORMAT_MESSAGE_FROM_SYSTEM
, 
NULL
, 
îr‹_code
,

72 
	`MAKELANGID
(
LANG_NEUTRAL
, 
SUBLANG_DEFAULT
), &
wEº_°rög
[
	`ß„_tc¶í
(wErr_string)],

73 
ERR_BUFFER_SIZE
 - (
DWORD
)
	`ß„_tc¶í
(
wEº_°rög
), 
NULL
);

74 i‡(
size
 == 0) {

75 
f‹m©_îr‹
 = 
	`GëLa°Eº‹
();

76 i‡(
f‹m©_îr‹
)

77 
	`ß„_°¥ötf
(
wEº_°rög
, 
ERR_BUFFER_SIZE
,

78 
	`_T
("Wödow†îr‹ codê%u (F‹m©Mesßgêîr‹ codê%u)"), 
îr‹_code
, 
f‹m©_îr‹
);

80 
	`ß„_°¥ötf
(
wEº_°rög
, 
ERR_BUFFER_SIZE
, 
	`_T
("Unknow¿îr‹ codê%u"), 
îr‹_code
);

83 
i
=
	`ß„_tc¶í
(
wEº_°rög
)-1; ((wErr_string[i]==0x0A) || (wErr_string[i]==0x0D)); i--) {

84 
wEº_°rög
[
i
] = 0;

87 i‡(
	`WideCh¨ToMu…iByã
(
CP_ACP
, 0, 
wEº_°rög
, -1, 
îr_°rög
, 
ERR_BUFFER_SIZE
, 
NULL
, NULL) < 0)

89 
	`°r˝y
(
îr_°rög
, "UnableÅo convertÉrror string");

91  
îr_°rög
;

92 
	}
}

95 
wö˚_devi˚_¥iv
 *
	$_devi˚_¥iv
(
libusb_devi˚
 *
dev
)

97  (
wö˚_devi˚_¥iv
 *Ë
dev
->
os_¥iv
;

98 
	}
}

101 
	$å™¶©e_drivî_îr‹
(
îr‹
)

103 
îr‹
) {

104 
ERROR_INVALID_PARAMETER
:

105  
LIBUSB_ERROR_INVALID_PARAM
;

106 
ERROR_CALL_NOT_IMPLEMENTED
:

107 
ERROR_NOT_SUPPORTED
:

108  
LIBUSB_ERROR_NOT_SUPPORTED
;

109 
ERROR_NOT_ENOUGH_MEMORY
:

110  
LIBUSB_ERROR_NO_MEM
;

111 
ERROR_INVALID_HANDLE
:

112  
LIBUSB_ERROR_NO_DEVICE
;

113 
ERROR_BUSY
:

114  
LIBUSB_ERROR_BUSY
;

118 
ERROR_CANCELLED
:

119 
ERROR_INTERNAL_ERROR
:

121  
LIBUSB_ERROR_OTHER
;

123 
	}
}

125 
	$öô_dŒimp‹ts
()

127 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwO≥nDrivî
, 
TRUE
);

128 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwGëDevi˚Li°
, 
TRUE
);

129 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwRñó£Devi˚Li°
, 
TRUE
);

130 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwGëDevi˚Addªss
, 
TRUE
);

131 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwGëDevi˚Des¸ùt‹
, 
TRUE
);

132 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwGëC⁄figDes¸ùt‹
, 
TRUE
);

133 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwClo£Drivî
, 
TRUE
);

134 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwC™˚lTøns„r
, 
TRUE
);

135 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwIssueC⁄åﬁTøns„r
, 
TRUE
);

136 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwCœimI¡îÁ˚
, 
TRUE
);

137 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwRñó£I¡îÁ˚
, 
TRUE
);

138 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwSëI¡îÁ˚A…î«ãSëtög
, 
TRUE
);

139 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwCÀ¨HÆtHo°
, 
TRUE
);

140 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwCÀ¨HÆtDevi˚
, 
TRUE
);

141 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwGëC⁄fig
, 
TRUE
);

142 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwSëC⁄fig
, 
TRUE
);

143 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwRe£tDevi˚
, 
TRUE
);

144 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwKî√lDrivîA˘ive
, 
TRUE
);

145 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwAâachKî√lDrivî
, 
TRUE
);

146 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwDëachKî√lDrivî
, 
TRUE
);

147 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwIssueBulkTøns„r
, 
TRUE
);

148 
	`DLL_LOAD
(
˚usbkwøµî
.
dŒ
, 
UkwIsPùeHÆãd
, 
TRUE
);

149  
LIBUSB_SUCCESS
;

150 
	}
}

152 
	$öô_devi˚
(
libusb_devi˚
 *
dev
, 
UKW_DEVICE
 
drv_dev
,

153 
bus_addr
, 
dev_addr
)

155 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

156 
r
 = 
LIBUSB_SUCCESS
;

158 
dev
->
bus_numbî
 = 
bus_addr
;

159 
dev
->
devi˚_addªss
 = 
dev_addr
;

160 
¥iv
->
dev
 = 
drv_dev
;

162 i‡(!
	`UkwGëDevi˚Des¸ùt‹
(
¥iv
->
dev
, &’riv->
desc
))) {

163 
r
 = 
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

165  
r
;

166 
	}
}

169 
	$wö˚_öô
(
libusb_c⁄ãxt
 *
˘x
)

171 
i
, 
r
 = 
LIBUSB_ERROR_OTHER
;

172 
HANDLE
 
£m≠h‹e
;

173 
TCHAR
 
£m_«me
[11+1+8];

175 
	`_°¥ötf
(
£m_«me
, 
	`_T
("libusb_öô%08X"), ()
	`GëCuºítPro˚ssId
()&0xFFFFFFFF);

176 
£m≠h‹e
 = 
	`Cª©eSem≠h‹e
(
NULL
, 1, 1, 
£m_«me
);

177 i‡(
£m≠h‹e
 =
NULL
) {

178 
	`usbi_îr
(
˘x
, "couldÇŸ cª©ê£m≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

179  
LIBUSB_ERROR_NO_MEM
;

184 i‡(
	`WaôF‹SögÀObje˘
(
£m≠h‹e
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

185 
	`usbi_îr
(
˘x
, "ÁûuªÅÿac˚s†£m≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

186 
	`Clo£H™dÀ
(
£m≠h‹e
);

187  
LIBUSB_ERROR_NO_MEM
;

192 i‡–++
c⁄cuºít_ußge
 == 0 ) {

194 
	`öô_pﬁlög
();

197 i‡(
	`öô_dŒimp‹ts
(Ë!
LIBUSB_SUCCESS
) {

198 
	`usbi_îr
(
˘x
, "couldÇotÑesolve DLL functions");

199 
r
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

200 
öô_exô
;

204 
drivî_h™dÀ
 = 
	`UkwO≥nDrivî
();

205 i‡(
drivî_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

206 
	`usbi_îr
(
˘x
, "couldÇot connectÅo driver");

207 
r
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

208 
öô_exô
;

214 
r
 = 
LIBUSB_ERROR_NO_MEM
;

215 
i
 = 0; i < 2; i++) {

216 
timî_ªque°
[
i
] = 
	`Cª©eEvít
(
NULL
, 
TRUE
, 
FALSE
, NULL);

217 i‡(
timî_ªque°
[
i
] =
NULL
) {

218 
	`usbi_îr
(
˘x
, "couldÇŸ cª©êtimîÑeque°Évíà%d -áb‹tög", 
i
);

219 
öô_exô
;

222 
timî_ª•⁄£
 = 
	`Cª©eSem≠h‹e
(
NULL
, 0, 
MAX_TIMER_SEMAPHORES
, NULL);

223 i‡(
timî_ª•⁄£
 =
NULL
) {

224 
	`usbi_îr
(
˘x
, "couldÇot createÅimerÑesponse semaphore -áborting");

225 
öô_exô
;

227 
timî_muãx
 = 
	`Cª©eMuãx
(
NULL
, 
FALSE
, NULL);

228 i‡(
timî_muãx
 =
NULL
) {

229 
	`usbi_îr
(
˘x
, "couldÇot createÅimer mutex -áborting");

230 
öô_exô
;

232 
timî_thªad
 = 
	`Cª©eThªad
(
NULL
, 0, 
wö˚_˛ock_gëtime_thªaded
, NULL, 0, NULL);

233 i‡(
timî_thªad
 =
NULL
) {

234 
	`usbi_îr
(
˘x
, "UnableÅo createÅimerÅhread -áborting");

235 
öô_exô
;

239 i‡(
	`WaôF‹SögÀObje˘
(
timî_ª•⁄£
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

240 
	`usbi_îr
(
˘x
, "FailedÅo wait forÅimerÅhreadÅo becomeÑeady -áborting");

241 
öô_exô
;

245 
r
 = 
LIBUSB_SUCCESS
;

247 
öô_exô
:

248 i‡(!
c⁄cuºít_ußge
 && 
r
 !
LIBUSB_SUCCESS
) {

249 i‡(
drivî_h™dÀ
 !
INVALID_HANDLE_VALUE
) {

250 
	`UkwClo£Drivî
(
drivî_h™dÀ
);

251 
drivî_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

253 i‡(
timî_thªad
) {

254 
	`SëEvít
(
timî_ªque°
[1]);

255 i‡(
WAIT_OBJECT_0
 !
	`WaôF‹SögÀObje˘
(
timî_thªad
, 
INFINITE
)) {

256 
	`usbi_w¨n
(
˘x
, "couldÇot wait forÅimerÅhreadÅo quit");

257 
	`Tîmö©eThªad
(
timî_thªad
, 1);

260 
	`Clo£H™dÀ
(
timî_thªad
);

261 
timî_thªad
 = 
NULL
;

263 
i
 = 0; i < 2; i++) {

264 i‡(
timî_ªque°
[
i
]) {

265 
	`Clo£H™dÀ
(
timî_ªque°
[
i
]);

266 
timî_ªque°
[
i
] = 
NULL
;

269 i‡(
timî_ª•⁄£
) {

270 
	`Clo£H™dÀ
(
timî_ª•⁄£
);

271 
timî_ª•⁄£
 = 
NULL
;

273 i‡(
timî_muãx
) {

274 
	`Clo£H™dÀ
(
timî_muãx
);

275 
timî_muãx
 = 
NULL
;

279 i‡(
r
 !
LIBUSB_SUCCESS
)

280 --
c⁄cuºít_ußge
;

282 
	`Rñó£Sem≠h‹e
(
£m≠h‹e
, 1, 
NULL
);

283 
	`Clo£H™dÀ
(
£m≠h‹e
);

284  
r
;

285 
	}
}

287 
	$wö˚_exô
()

289 
i
;

290 
HANDLE
 
£m≠h‹e
;

291 
TCHAR
 
£m_«me
[11+1+8];

293 
	`_°¥ötf
(
£m_«me
, 
	`_T
("libusb_öô%08X"), ()
	`GëCuºítPro˚ssId
()&0xFFFFFFFF);

294 
£m≠h‹e
 = 
	`Cª©eSem≠h‹e
(
NULL
, 1, 1, 
£m_«me
);

295 i‡(
£m≠h‹e
 =
NULL
) {

301 i‡(
	`WaôF‹SögÀObje˘
(
£m≠h‹e
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

302 
	`Clo£H™dÀ
(
£m≠h‹e
);

307 i‡(--
c⁄cuºít_ußge
 < 0) {

308 
	`exô_pﬁlög
();

310 i‡(
timî_thªad
) {

311 
	`SëEvít
(
timî_ªque°
[1]);

312 i‡(
WAIT_OBJECT_0
 !
	`WaôF‹SögÀObje˘
(
timî_thªad
, 
INFINITE
)) {

313 
	`usbi_dbg
("couldÇot wait forÅimerÅhreadÅo quit");

314 
	`Tîmö©eThªad
(
timî_thªad
, 1);

316 
	`Clo£H™dÀ
(
timî_thªad
);

317 
timî_thªad
 = 
NULL
;

319 
i
 = 0; i < 2; i++) {

320 i‡(
timî_ªque°
[
i
]) {

321 
	`Clo£H™dÀ
(
timî_ªque°
[
i
]);

322 
timî_ªque°
[
i
] = 
NULL
;

325 i‡(
timî_ª•⁄£
) {

326 
	`Clo£H™dÀ
(
timî_ª•⁄£
);

327 
timî_ª•⁄£
 = 
NULL
;

329 i‡(
timî_muãx
) {

330 
	`Clo£H™dÀ
(
timî_muãx
);

331 
timî_muãx
 = 
NULL
;

333 i‡(
drivî_h™dÀ
 !
INVALID_HANDLE_VALUE
) {

334 
	`UkwClo£Drivî
(
drivî_h™dÀ
);

335 
drivî_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

339 
	`Rñó£Sem≠h‹e
(
£m≠h‹e
, 1, 
NULL
);

340 
	`Clo£H™dÀ
(
£m≠h‹e
);

341 
	}
}

343 
	$wö˚_gë_devi˚_li°
(

344 
libusb_c⁄ãxt
 *
˘x
,

345 
discovîed_devs
 **
discdevs
)

347 
UKW_DEVICE
 
devi˚s
[
MAX_DEVICE_COUNT
];

348 
discovîed_devs
 * 
√w_devi˚s
 = *
discdevs
;

349 
DWORD
 
cou¡
 = 0, 
i
;

350 
libusb_devi˚
 *
dev
 = 
NULL
;

351 
bus_addr
, 
dev_addr
;

352 
£ssi⁄_id
;

353 
BOOL
 
suc˚ss
;

354 
DWORD
 
ªÀa£_li°_off£t
 = 0;

355 
r
 = 
LIBUSB_SUCCESS
;

357 
suc˚ss
 = 
	`UkwGëDevi˚Li°
(
drivî_h™dÀ
, 
devi˚s
, 
MAX_DEVICE_COUNT
, &
cou¡
);

358 i‡(!
suc˚ss
) {

359 
libusbEº
 = 
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

360 
	`usbi_îr
(
˘x
, "couldÇŸ gë devi˚s: %s", 
	`wödows_îr‹_°r
(0));

361  
libusbEº
;

363 
i
 = 0; i < 
cou¡
; ++i) {

364 
ªÀa£_li°_off£t
 = 
i
;

365 
suc˚ss
 = 
	`UkwGëDevi˚Addªss
(
devi˚s
[
i
], &
bus_addr
, &
dev_addr
, &
£ssi⁄_id
);

366 i‡(!
suc˚ss
) {

367 
r
 = 
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

368 
	`usbi_îr
(
˘x
, "couldÇŸ gë devi˚áddªs†f‹ %d: %s", 
i
, 
	`wödows_îr‹_°r
(0));

369 
îr_out
;

371 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
£ssi⁄_id
);

372 i‡(
dev
) {

373 
	`usbi_dbg
("usingÉxisting device for %d/%d (session %ld)",

374 
bus_addr
, 
dev_addr
, 
£ssi⁄_id
);

377 
	`UkwRñó£Devi˚Li°
(
drivî_h™dÀ
, &
devi˚s
[
i
], 1);

378 
ªÀa£_li°_off£t
++;

380 
	`usbi_dbg
("allocatingÇew device for %d/%d (session %ld)",

381 
bus_addr
, 
dev_addr
, 
£ssi⁄_id
);

382 
dev
 = 
	`usbi_Æloc_devi˚
(
˘x
, 
£ssi⁄_id
);

383 i‡(!
dev
) {

384 
r
 = 
LIBUSB_ERROR_NO_MEM
;

385 
îr_out
;

387 
r
 = 
	`öô_devi˚
(
dev
, 
devi˚s
[
i
], 
bus_addr
, 
dev_addr
);

388 i‡(
r
 < 0)

389 
îr_out
;

390 
r
 = 
	`usbi_ßnôize_devi˚
(
dev
);

391 i‡(
r
 < 0)

392 
îr_out
;

394 
√w_devi˚s
 = 
	`discovîed_devs_≠≥nd
“ew_devi˚s, 
dev
);

395 i‡(!
discdevs
) {

396 
r
 = 
LIBUSB_ERROR_NO_MEM
;

397 
îr_out
;

399 
	`ß„_uƒef_devi˚
(
dev
);

401 *
discdevs
 = 
√w_devi˚s
;

402  
r
;

403 
îr_out
:

404 *
discdevs
 = 
√w_devi˚s
;

405 
	`ß„_uƒef_devi˚
(
dev
);

409 
	`UkwRñó£Devi˚Li°
(
drivî_h™dÀ
, &
devi˚s
[
ªÀa£_li°_off£t
], 
cou¡
 -Ñelease_list_offset);

410  
r
;

411 
	}
}

413 
	$wö˚_›í
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

417  
LIBUSB_SUCCESS
;

418 
	}
}

420 
	$wö˚_˛o£
(
libusb_devi˚_h™dÀ
 *
h™dÀ
)

423 
	}
}

425 
	$wö˚_gë_devi˚_des¸ùt‹
(

426 
libusb_devi˚
 *
devi˚
,

427 *
buf„r
, *
ho°_ídün
)

429 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
devi˚
);

431 *
ho°_ídün
 = 1;

432 
	`mem˝y
(
buf„r
, &
¥iv
->
desc
, 
DEVICE_DESC_LENGTH
);

433  
LIBUSB_SUCCESS
;

434 
	}
}

436 
	$wö˚_gë_a˘ive_c⁄fig_des¸ùt‹
(

437 
libusb_devi˚
 *
devi˚
,

438 *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
)

440 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
devi˚
);

441 
DWORD
 
a˘uÆSize
 = 
Àn
;

442 *
ho°_ídün
 = 0;

443 i‡(!
	`UkwGëC⁄figDes¸ùt‹
(
¥iv
->
dev
, 
UKW_ACTIVE_CONFIGURATION
, 
buf„r
, 
Àn
, &
a˘uÆSize
)) {

444  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

446  
a˘uÆSize
;

447 
	}
}

449 
	$wö˚_gë_c⁄fig_des¸ùt‹
(

450 
libusb_devi˚
 *
devi˚
,

451 
uöt8_t
 
c⁄fig_ödex
,

452 *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
)

454 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
devi˚
);

455 
DWORD
 
a˘uÆSize
 = 
Àn
;

456 *
ho°_ídün
 = 0;

457 i‡(!
	`UkwGëC⁄figDes¸ùt‹
(
¥iv
->
dev
, 
c⁄fig_ödex
, 
buf„r
, 
Àn
, &
a˘uÆSize
)) {

458  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

460  
a˘uÆSize
;

461 
	}
}

463 
	$wö˚_gë_c⁄figuøti⁄
(

464 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

465 *
c⁄fig
)

467 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

468 
UCHAR
 
cv
 = 0;

469 i‡(!
	`UkwGëC⁄fig
(
¥iv
->
dev
, &
cv
)) {

470  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

472 (*
c⁄fig
Ë
cv
;

473  
LIBUSB_SUCCESS
;

474 
	}
}

476 
	$wö˚_£t_c⁄figuøti⁄
(

477 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

478 
c⁄fig
)

480 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

484 
UCHAR
 
cv
 = (
c⁄fig
 < 0) ? 0 : config;

485 i‡(!
	`UkwSëC⁄fig
(
¥iv
->
dev
, 
cv
)) {

486  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

488  
LIBUSB_SUCCESS
;

489 
	}
}

491 
	$wö˚_˛aim_öãrÁ˚
(

492 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

493 
öãrÁ˚_numbî
)

495 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

496 i‡(!
	`UkwCœimI¡îÁ˚
(
¥iv
->
dev
, 
öãrÁ˚_numbî
)) {

497  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

499  
LIBUSB_SUCCESS
;

500 
	}
}

502 
	$wö˚_ªÀa£_öãrÁ˚
(

503 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

504 
öãrÁ˚_numbî
)

506 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

507 i‡(!
	`UkwSëI¡îÁ˚A…î«ãSëtög
(
¥iv
->
dev
, 
öãrÁ˚_numbî
, 0)) {

508  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

510 i‡(!
	`UkwRñó£I¡îÁ˚
(
¥iv
->
dev
, 
öãrÁ˚_numbî
)) {

511  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

513  
LIBUSB_SUCCESS
;

514 
	}
}

516 
	$wö˚_£t_öãrÁ˚_Æt£âög
(

517 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

518 
öãrÁ˚_numbî
, 
Æt£âög
)

520 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

521 i‡(!
	`UkwSëI¡îÁ˚A…î«ãSëtög
(
¥iv
->
dev
, 
öãrÁ˚_numbî
, 
Æt£âög
)) {

522  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

524  
LIBUSB_SUCCESS
;

525 
	}
}

527 
	$wö˚_˛ór_hÆt
(

528 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

529 
ídpoöt
)

531 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

532 i‡(!
	`UkwCÀ¨HÆtHo°
(
¥iv
->
dev
, 
ídpoöt
)) {

533  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

535 i‡(!
	`UkwCÀ¨HÆtDevi˚
(
¥iv
->
dev
, 
ídpoöt
)) {

536  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

538  
LIBUSB_SUCCESS
;

539 
	}
}

541 
	$wö˚_ª£t_devi˚
(

542 
libusb_devi˚_h™dÀ
 *
h™dÀ
)

544 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

545 i‡(!
	`UkwRe£tDevi˚
(
¥iv
->
dev
)) {

546  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

548  
LIBUSB_SUCCESS
;

549 
	}
}

551 
	$wö˚_kî√l_drivî_a˘ive
(

552 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

553 
öãrÁ˚_numbî
)

555 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

556 
BOOL
 
ªsu…
 = 
FALSE
;

557 i‡(!
	`UkwKî√lDrivîA˘ive
(
¥iv
->
dev
, 
öãrÁ˚_numbî
, &
ªsu…
)) {

558  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

560  
ªsu…
 ? 1 : 0;

561 
	}
}

563 
	$wö˚_dëach_kî√l_drivî
(

564 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

565 
öãrÁ˚_numbî
)

567 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

568 i‡(!
	`UkwDëachKî√lDrivî
(
¥iv
->
dev
, 
öãrÁ˚_numbî
)) {

569  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

571  
LIBUSB_SUCCESS
;

572 
	}
}

574 
	$wö˚_©èch_kî√l_drivî
(

575 
libusb_devi˚_h™dÀ
 *
h™dÀ
,

576 
öãrÁ˚_numbî
)

578 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
h™dÀ
->
dev
);

579 i‡(!
	`UkwAâachKî√lDrivî
(
¥iv
->
dev
, 
öãrÁ˚_numbî
)) {

580  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

582  
LIBUSB_SUCCESS
;

583 
	}
}

585 
	$wö˚_de°roy_devi˚
(

586 
libusb_devi˚
 *
dev
)

588 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

589 
	`UkwRñó£Devi˚Li°
(
drivî_h™dÀ
, &
¥iv
->
dev
, 1);

590 
	}
}

592 
	$wö˚_˛ór_å™s„r_¥iv
(

593 
usbi_å™s„r
 *
ôøns„r
)

595 
wö˚_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wö˚_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

596 
wöfd
 
wfd
 = 
	`fd_to_wöfd
(
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
);

598 
wfd
.
ôøns„r
 = 
NULL
;

599 
	`Clo£H™dÀ
(
wfd
.
h™dÀ
);

600 
	`usbi_‰ì_fd
(&
å™s„r_¥iv
->
pﬁœbÀ_fd
);

601 
	}
}

603 
	$wö˚_ˇn˚l_å™s„r
(

604 
usbi_å™s„r
 *
ôøns„r
)

606 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

607 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

608 
wö˚_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wö˚_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

610 i‡(!
	`UkwC™˚lTøns„r
(
¥iv
->
dev
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
, 
UKW_TF_NO_WAIT
)) {

611  
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

613  
LIBUSB_SUCCESS
;

614 
	}
}

616 
	$wö˚_submô_c⁄åﬁ_‹_bulk_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

618 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

619 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

620 
wö˚_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wö˚_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

621 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

622 
BOOL
 
dúe˘i⁄_ö
, 
ªt
;

623 
wöfd
 
wfd
;

624 
DWORD
 
Êags
;

625 
HANDLE
 
evítH™dÀ
;

626 
PUKW_CONTROL_HEADER
 
£tup
 = 
NULL
;

627 c⁄° 
BOOL
 
c⁄åﬁ_å™s„r
 = 
å™s„r
->
ty≥
 =
LIBUSB_TRANSFER_TYPE_CONTROL
;

629 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
INVALID_WINFD
;

630 i‡(
c⁄åﬁ_å™s„r
) {

631 
£tup
 = (
PUKW_CONTROL_HEADER
Ë
å™s„r
->
buf„r
;

632 
dúe˘i⁄_ö
 = 
£tup
->
bmReque°Ty≥
 & 
LIBUSB_ENDPOINT_IN
;

634 
dúe˘i⁄_ö
 = 
å™s„r
->
ídpoöt
 & 
LIBUSB_ENDPOINT_IN
;

636 
Êags
 = 
dúe˘i⁄_ö
 ? 
UKW_TF_IN_TRANSFER
 : 
UKW_TF_OUT_TRANSFER
;

637 
Êags
 |
UKW_TF_SHORT_TRANSFER_OK
;

639 
evítH™dÀ
 = 
	`Cª©eEvít
(
NULL
, 
FALSE
, FALSE, NULL);

640 i‡(
evítH™dÀ
 =
NULL
) {

641 
	`usbi_îr
(
˘x
, "FailedÅo createÉvent forásyncÅransfer");

642  
LIBUSB_ERROR_NO_MEM
;

645 
wfd
 = 
	`usbi_¸óã_fd
(
evítH™dÀ
, 
dúe˘i⁄_ö
 ? 
RW_READ
 : 
RW_WRITE
, 
ôøns„r
, &
wö˚_ˇn˚l_å™s„r
);

646 i‡(
wfd
.
fd
 < 0) {

647 
	`Clo£H™dÀ
(
evítH™dÀ
);

648  
LIBUSB_ERROR_NO_MEM
;

651 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
wfd
;

652 i‡(
c⁄åﬁ_å™s„r
) {

654 
DWORD
 
bufLí
 = 
å™s„r
->
Àngth
 - (
UKW_CONTROL_HEADER
);

655 
PVOID
 
buf
 = (PVOIDË&
å™s„r
->
buf„r
[(
UKW_CONTROL_HEADER
)];

657 
ªt
 = 
	`UkwIssueC⁄åﬁTøns„r
(
¥iv
->
dev
, 
Êags
, 
£tup
, 
buf
, 
bufLí
, &
å™s„r
->
a˘uÆ_Àngth
, 
wfd
.
ovîœµed
);

659 
ªt
 = 
	`UkwIssueBulkTøns„r
(
¥iv
->
dev
, 
Êags
, 
å™s„r
->
ídpoöt
,Åøns„r->
buf„r
,

660 
å™s„r
->
Àngth
, &å™s„r->
a˘uÆ_Àngth
, 
wfd
.
ovîœµed
);

662 i‡(!
ªt
) {

663 
libusbEº
 = 
	`å™¶©e_drivî_îr‹
(
	`GëLa°Eº‹
());

664 
	`usbi_îr
(
˘x
, "UkwIssue%sTransfer failed:Érror %d",

665 
c⁄åﬁ_å™s„r
 ? "C⁄åﬁ" : "Bulk", 
	`GëLa°Eº‹
());

666 
	`wö˚_˛ór_å™s„r_¥iv
(
ôøns„r
);

667  
libusbEº
;

669 
	`usbi_add_pﬁlfd
(
˘x
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
, 
dúe˘i⁄_ö
 ? 
POLLIN
 : 
POLLOUT
);

670 
ôøns„r
->
Êags
 |
USBI_TRANSFER_UPDATED_FDS
;

672  
LIBUSB_SUCCESS
;

673 
	}
}

675 
	$wö˚_submô_iso_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

677  
LIBUSB_ERROR_NOT_SUPPORTED
;

678 
	}
}

680 
	$wö˚_submô_å™s„r
(

681 
usbi_å™s„r
 *
ôøns„r
)

683 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

685 
å™s„r
->
ty≥
) {

686 
LIBUSB_TRANSFER_TYPE_CONTROL
:

687 
LIBUSB_TRANSFER_TYPE_BULK
:

688 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

689  
	`wö˚_submô_c⁄åﬁ_‹_bulk_å™s„r
(
ôøns„r
);

690 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

691  
	`wö˚_submô_iso_å™s„r
(
ôøns„r
);

692 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

693  
LIBUSB_ERROR_NOT_SUPPORTED
;

695 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
), "unknow¿ídpoöàty≥ %d",Åøns„r->
ty≥
);

696  
LIBUSB_ERROR_INVALID_PARAM
;

698 
	}
}

700 
	$wö˚_å™s„r_ˇŒback
(
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_ªsu…
, uöt32_à
io_size
)

702 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

703 
wö˚_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wö˚_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

704 
wö˚_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

705 
°©us
;

707 
	`usbi_dbg
("h™dlög I/O com∂ëi⁄ wôhÉºcodê%d", 
io_ªsu…
);

709 i‡(
io_ªsu…
 =
ERROR_NOT_SUPPORTED
 &&

710 
å™s„r
->
ty≥
 !
LIBUSB_TRANSFER_TYPE_CONTROL
) {

722 
BOOL
 
hÆãd
 = 
FALSE
;

723 
	`usbi_dbg
("checking I/O completion withÉrrcode ERROR_NOT_SUPPORTED isÑeallyá stall");

724 i‡(
	`UkwIsPùeHÆãd
(
¥iv
->
dev
, 
å™s„r
->
ídpoöt
, &
hÆãd
)) {

729 
WORD
 
wSètus
 = 0;

730 
DWORD
 
wrôãn
 = 0;

731 
UKW_CONTROL_HEADER
 
˘æHódî
;

732 
˘æHódî
.
bmReque°Ty≥
 = 
LIBUSB_REQUEST_TYPE_STANDARD
 |

733 
LIBUSB_ENDPOINT_IN
 | 
LIBUSB_RECIPIENT_ENDPOINT
;

734 
˘æHódî
.
bReque°
 = 
LIBUSB_REQUEST_GET_STATUS
;

735 
˘æHódî
.
wVÆue
 = 0;

736 
˘æHódî
.
wIndex
 = 
å™s„r
->
ídpoöt
;

737 
˘æHódî
.
wLígth
 = (
wSètus
);

738 i‡(
	`UkwIssueC⁄åﬁTøns„r
(
¥iv
->
dev
,

739 
UKW_TF_IN_TRANSFER
 | 
UKW_TF_SEND_TO_ENDPOINT
,

740 &
˘æHódî
, &
wSètus
, (wSètus), &
wrôãn
, 
NULL
)) {

741 i‡(
wrôãn
 =(
wSètus
) &&

742 (
wSètus
 & 
STATUS_HALT_FLAG
) == 0) {

743 i‡(!
hÆãd
 || 
	`UkwCÀ¨HÆtHo°
(
¥iv
->
dev
, 
å™s„r
->
ídpoöt
)) {

744 
	`usbi_dbg
("Endpoint doesn'táppearÅo be stalled, overridingÉrror with success");

745 
io_ªsu…
 = 
ERROR_SUCCESS
;

747 
	`usbi_dbg
("Endpoint doesn'táppearÅo be stalled, butÅhe host is halted, changingÉrror");

748 
io_ªsu…
 = 
ERROR_IO_DEVICE
;

755 
io_ªsu…
) {

756 
ERROR_SUCCESS
:

757 
ôøns„r
->
å™s„ºed
 +
io_size
;

758 
°©us
 = 
LIBUSB_TRANSFER_COMPLETED
;

760 
ERROR_CANCELLED
:

761 
	`usbi_dbg
("detectedÅransfer cancel");

762 
°©us
 = 
LIBUSB_TRANSFER_CANCELLED
;

764 
ERROR_NOT_SUPPORTED
:

765 
ERROR_GEN_FAILURE
:

766 
	`usbi_dbg
("detectedÉndpoint stall");

767 
°©us
 = 
LIBUSB_TRANSFER_STALL
;

769 
ERROR_SEM_TIMEOUT
:

770 
	`usbi_dbg
("detected semaphoreÅimeout");

771 
°©us
 = 
LIBUSB_TRANSFER_TIMED_OUT
;

773 
ERROR_OPERATION_ABORTED
:

774 i‡(
ôøns„r
->
Êags
 & 
USBI_TRANSFER_TIMED_OUT
) {

775 
	`usbi_dbg
("detectedÅimeout");

776 
°©us
 = 
LIBUSB_TRANSFER_TIMED_OUT
;

778 
	`usbi_dbg
("detected operationáborted");

779 
°©us
 = 
LIBUSB_TRANSFER_CANCELLED
;

783 
	`usbi_îr
(
	`ITRANSFER_CTX
(
ôøns„r
), "dëe˘ed I/OÉº‹: %s", 
	`wödows_îr‹_°r
(
io_ªsu…
));

784 
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

787 
	`wö˚_˛ór_å™s„r_¥iv
(
ôøns„r
);

788 i‡(
°©us
 =
LIBUSB_TRANSFER_CANCELLED
) {

789 
	`usbi_h™dÀ_å™s„r_ˇn˚Œ©i⁄
(
ôøns„r
);

791 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
, (
libusb_å™s„r_°©us
)
°©us
);

793 
	}
}

795 
	$wö˚_h™dÀ_ˇŒback
 (
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_ªsu…
, uöt32_à
io_size
)

797 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

799 
å™s„r
->
ty≥
) {

800 
LIBUSB_TRANSFER_TYPE_CONTROL
:

801 
LIBUSB_TRANSFER_TYPE_BULK
:

802 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

803 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

804 
	`wö˚_å™s„r_ˇŒback
 (
ôøns„r
, 
io_ªsu…
, 
io_size
);

806 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

807  
LIBUSB_ERROR_NOT_SUPPORTED
;

809 
	`usbi_îr
(
	`ITRANSFER_CTX
(
ôøns„r
), "unknow¿ídpoöàty≥ %d", 
å™s„r
->
ty≥
);

811 
	}
}

813 
	$wö˚_h™dÀ_evíts
(

814 
libusb_c⁄ãxt
 *
˘x
,

815 
pﬁlfd
 *
fds
, 
POLL_NFDS_TYPE
 
nfds
, 
num_ªady
)

817 
wö˚_å™s„r_¥iv
* 
å™s„r_¥iv
 = 
NULL
;

818 
POLL_NFDS_TYPE
 
i
 = 0;

819 
BOOL
 
found
 = 
FALSE
;

820 
usbi_å™s„r
 *
å™s„r
;

821 
DWORD
 
io_size
, 
io_ªsu…
;

823 
	`usbi_muãx_lock
(&
˘x
->
›í_devs_lock
);

824 
i
 = 0; i < 
nfds
 && 
num_ªady
 > 0; i++) {

826 
	`usbi_dbg
("checkög fd %d wôhÑevít†%04x", 
fds
[
i
].
fd
, fds[i].
ªvíts
);

828 i‡(!
fds
[
i
].
ªvíts
) {

832 
num_ªady
--;

836 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

837 
	`li°_f‹_óch_íåy
(
å™s„r
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

838 
å™s„r_¥iv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
å™s„r
);

839 i‡(
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
 =
fds
[
i
].fd) {

840 
found
 = 
TRUE
;

844 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

846 i‡(
found
 && 
	`HasOvîœµedIoCom∂ëed
(
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
)) {

847 
io_ªsu…
 = (
DWORD
)
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
->
I¡î«l
;

848 
io_size
 = (
DWORD
)
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
->
I¡î«lHigh
;

849 
	`usbi_ªmove_pﬁlfd
(
˘x
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
);

853 
	`wö˚_h™dÀ_ˇŒback
(
å™s„r
, 
io_ªsu…
, 
io_size
);

854 } i‡(
found
) {

855 
	`usbi_îr
(
˘x
, "m©chögÅøns„∏f‹ fd %x ha†nŸ com∂ëed", 
fds
[
i
]);

856  
LIBUSB_ERROR_OTHER
;

858 
	`usbi_îr
(
˘x
, "couldÇŸ födá m©chögÅøns„∏f‹ fd %x", 
fds
[
i
]);

859  
LIBUSB_ERROR_NOT_FOUND
;

863 
	`usbi_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

864  
LIBUSB_SUCCESS
;

865 
	}
}

870 
__°dˇŒ
 
	$wö˚_˛ock_gëtime_thªaded
(* 
∑øm
)

872 
LARGE_INTEGER
 
húes_cou¡î
, 
li_‰equícy
;

873 
LONG
 
nb_ª•⁄£s
;

874 
timî_ödex
;

877 i‡(!
	`QuîyPîf‹m™˚Fªquícy
(&
li_‰equícy
)) {

878 
	`usbi_dbg
("no hiresÅimerávailable onÅhisÖlatform");

879 
húes_‰equícy
 = 0;

880 
húes_ticks_to_ps
 = 
	`UINT64_C
(0);

882 
húes_‰equícy
 = 
li_‰equícy
.
QuadP¨t
;

885 
húes_ticks_to_ps
 = 
	`UINT64_C
(1000000000000Ë/ 
húes_‰equícy
;

886 
	`usbi_dbg
("húe†timîávaûabÀ (Fªquícy: %"
PRIu64
" Hz)", 
húes_‰equícy
);

890 i‡(
	`Rñó£Sem≠h‹e
(
timî_ª•⁄£
, 1, 
NULL
) == 0) {

891 
	`usbi_dbg
("u«bÀÅÿªÀa£Åimî sem≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

896 
timî_ödex
 = 
	`WaôF‹Mu…ùÀObje˘s
(2, 
timî_ªque°
, 
FALSE
, 
INFINITE
Ë- 
WAIT_OBJECT_0
;

897 i‡–(
timî_ödex
 != 0) && (timer_index != 1) ) {

898 
	`usbi_dbg
("ÁûuªÅÿwaô o¿ªque°s: %s", 
	`wödows_îr‹_°r
(0));

901 i‡(
ªque°_cou¡
[
timî_ödex
] == 0) {

903 
	`Re£tEvít
(
timî_ªque°
[
timî_ödex
]);

908 i‡(
ªque°_cou¡
[
timî_ödex
] == 0)

911 
timî_ödex
) {

913 
	`WaôF‹SögÀObje˘
(
timî_muãx
, 
INFINITE
);

915 i‡(
	`QuîyPîf‹m™˚Cou¡î
(&
húes_cou¡î
) != 0) {

916 
timî_ç
.
tv_£c
 = ()(
húes_cou¡î
.
QuadP¨t
 / 
húes_‰equícy
);

917 
timî_ç
.
tv_n£c
 = ()(((
húes_cou¡î
.
QuadP¨t
 % 
húes_‰equícy
)/1000Ë* 
húes_ticks_to_ps
);

921 
	`wö˚_˛ock_gëtime
(
USBI_CLOCK_REALTIME
, &
timî_ç
);

923 
	`Rñó£Muãx
(
timî_muãx
);

925 
nb_ª•⁄£s
 = 
	`I¡îlockedExch™ge
((
LONG
*)&
ªque°_cou¡
[0], 0);

926 i‡–(
nb_ª•⁄£s
)

927 && (
	`Rñó£Sem≠h‹e
(
timî_ª•⁄£
, 
nb_ª•⁄£s
, 
NULL
) == 0) ) {

928 
	`usbi_dbg
("u«bÀÅÿªÀa£Åimî sem≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

932 
	`usbi_dbg
("timerÅhread quitting");

936 
	`usbi_dbg
("ERROR: brokenÅimerÅhread");

938 
	}
}

940 
	$wö˚_˛ock_gëtime
(
˛k_id
, 
time•ec
 *
ç
)

942 
FILETIME
 
fûëime
;

943 
ULARGE_INTEGER
 
πime
;

944 
DWORD
 
r
;

945 
SYSTEMTIME
 
°
;

946 
˛k_id
) {

947 
USBI_CLOCK_MONOTONIC
:

948 i‡(
húes_‰equícy
 != 0) {

950 
	`I¡îlockedIn¸emít
((
LONG
*)&
ªque°_cou¡
[0]);

951 
	`SëEvít
(
timî_ªque°
[0]);

952 
r
 = 
	`WaôF‹SögÀObje˘
(
timî_ª•⁄£
, 
TIMER_REQUEST_RETRY_MS
);

953 
r
) {

954 
WAIT_OBJECT_0
:

955 
	`WaôF‹SögÀObje˘
(
timî_muãx
, 
INFINITE
);

956 *
ç
 = 
timî_ç
;

957 
	`Rñó£Muãx
(
timî_muãx
);

958  
LIBUSB_SUCCESS
;

959 
WAIT_TIMEOUT
:

960 
	`usbi_dbg
("couldÇot obtaináÅimer value withinÑeasonableÅimeframe -Åoo muchÜoad?");

963 
	`usbi_dbg
("WaôF‹SögÀObje˘ faûed: %s", 
	`wödows_îr‹_°r
(0));

964  
LIBUSB_ERROR_OTHER
;

969 
USBI_CLOCK_REALTIME
:

974 
	`GëSy°emTime
(&
°
);

975 
	`Sy°emTimeToFûeTime
(&
°
, &
fûëime
);

976 
πime
.
LowP¨t
 = 
fûëime
.
dwLowD©eTime
;

977 
πime
.
HighP¨t
 = 
fûëime
.
dwHighD©eTime
;

978 
πime
.
QuadP¨t
 -
ïoch_time
;

979 
ç
->
tv_£c
 = ()(
πime
.
QuadP¨t
 / 10000000);

980 
ç
->
tv_n£c
 = ()((
πime
.
QuadP¨t
 % 10000000)*100);

981  
LIBUSB_SUCCESS
;

983  
LIBUSB_ERROR_INVALID_PARAM
;

985 
	}
}

987 c⁄° 
usbi_os_backíd
 
	gwö˚_backíd
 = {

990 
wö˚_öô
,

991 
wö˚_exô
,

993 
wö˚_gë_devi˚_li°
,

994 
NULL
,

995 
wö˚_›í
,

996 
wö˚_˛o£
,

998 
wö˚_gë_devi˚_des¸ùt‹
,

999 
wö˚_gë_a˘ive_c⁄fig_des¸ùt‹
,

1000 
wö˚_gë_c⁄fig_des¸ùt‹
,

1001 
NULL
,

1003 
wö˚_gë_c⁄figuøti⁄
,

1004 
wö˚_£t_c⁄figuøti⁄
,

1005 
wö˚_˛aim_öãrÁ˚
,

1006 
wö˚_ªÀa£_öãrÁ˚
,

1008 
wö˚_£t_öãrÁ˚_Æt£âög
,

1009 
wö˚_˛ór_hÆt
,

1010 
wö˚_ª£t_devi˚
,

1012 
NULL
,

1013 
NULL
,

1015 
wö˚_kî√l_drivî_a˘ive
,

1016 
wö˚_dëach_kî√l_drivî
,

1017 
wö˚_©èch_kî√l_drivî
,

1019 
wö˚_de°roy_devi˚
,

1021 
wö˚_submô_å™s„r
,

1022 
wö˚_ˇn˚l_å™s„r
,

1023 
wö˚_˛ór_å™s„r_¥iv
,

1025 
wö˚_h™dÀ_evíts
,

1027 
wö˚_˛ock_gëtime
,

1028 (
wö˚_devi˚_¥iv
),

1029 (
wö˚_devi˚_h™dÀ_¥iv
),

1030 (
wö˚_å™s„r_¥iv
),

	@libusb/os/wince_usb.h

24 #¥agm®
⁄˚


26 
	~"wödows_comm⁄.h
"

28 
	~<wödows.h
>

29 
	~"pﬁl_wödows.h
"

31 
	#MAX_DEVICE_COUNT
 256

	)

41 
	gUKW_DEVICE_PRIV
;

42 
UKW_DEVICE_PRIV
 *
	tUKW_DEVICE
;

43 
UKW_DEVICE
 *
	tPUKW_DEVICE
, *
	tLPUKW_DEVICE
;

46 
UINT8
 
	mbLígth
;

47 
UINT8
 
	mbDes¸ùt‹Ty≥
;

48 
UINT16
 
	mbcdUSB
;

49 
UINT8
 
	mbDevi˚Cœss
;

50 
UINT8
 
	mbDevi˚SubCœss
;

51 
UINT8
 
	mbDevi˚PrŸocﬁ
;

52 
UINT8
 
	mbMaxPackëSize0
;

53 
UINT16
 
	midVíd‹
;

54 
UINT16
 
	midProdu˘
;

55 
UINT16
 
	mbcdDevi˚
;

56 
UINT8
 
	miM™uÁ˘uªr
;

57 
UINT8
 
	miProdu˘
;

58 
UINT8
 
	miSîülNumbî
;

59 
UINT8
 
	mbNumC⁄figuøti⁄s
;

60 } 
	tUKW_DEVICE_DESCRIPTOR
, *
	tPUKW_DEVICE_DESCRIPTOR
, *
	tLPUKW_DEVICE_DESCRIPTOR
;

63 
UINT8
 
	mbmReque°Ty≥
;

64 
UINT8
 
	mbReque°
;

65 
UINT16
 
	mwVÆue
;

66 
UINT16
 
	mwIndex
;

67 
UINT16
 
	mwLígth
;

68 } 
	tUKW_CONTROL_HEADER
, *
	tPUKW_CONTROL_HEADER
, *
	tLPUKW_CONTROL_HEADER
;

72 
	#UKW_TF_IN_TRANSFER
 0x00000001

	)

74 
	#UKW_TF_OUT_TRANSFER
 0x00000000

	)

77 
	#UKW_TF_NO_WAIT
 0x00000100

	)

79 
	#UKW_TF_SHORT_TRANSFER_OK
 0x00000200

	)

80 
	#UKW_TF_SEND_TO_DEVICE
 0x00010000

	)

81 
	#UKW_TF_SEND_TO_INTERFACE
 0x00020000

	)

82 
	#UKW_TF_SEND_TO_ENDPOINT
 0x00040000

	)

84 
	#UKW_TF_DONT_BLOCK_FOR_MEM
 0x00080000

	)

88 
	#UKW_ACTIVE_CONFIGURATION
 -1

	)

90 
DLL_DECLARE
(
WINAPI
, 
HANDLE
, 
UkwO≥nDrivî
, ());

91 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwGëDevi˚Li°
, (
HANDLE
, 
LPUKW_DEVICE
, 
DWORD
, 
LPDWORD
));

92 
DLL_DECLARE
(
WINAPI
, , 
UkwRñó£Devi˚Li°
, (
HANDLE
, 
LPUKW_DEVICE
, 
DWORD
));

93 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwGëDevi˚Addªss
, (
UKW_DEVICE
, *, *, *));

94 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwGëDevi˚Des¸ùt‹
, (
UKW_DEVICE
, 
LPUKW_DEVICE_DESCRIPTOR
));

95 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwGëC⁄figDes¸ùt‹
, (
UKW_DEVICE
, 
DWORD
, 
LPVOID
, DWORD, 
LPDWORD
));

96 
DLL_DECLARE
(
WINAPI
, , 
UkwClo£Drivî
, (
HANDLE
));

97 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwC™˚lTøns„r
, (
UKW_DEVICE
, 
LPOVERLAPPED
, 
DWORD
));

98 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwIssueC⁄åﬁTøns„r
, (
UKW_DEVICE
, 
DWORD
, 
LPUKW_CONTROL_HEADER
, 
LPVOID
, DWORD, 
LPDWORD
, 
LPOVERLAPPED
));

99 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwCœimI¡îÁ˚
, (
UKW_DEVICE
, 
DWORD
));

100 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwRñó£I¡îÁ˚
, (
UKW_DEVICE
, 
DWORD
));

101 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwSëI¡îÁ˚A…î«ãSëtög
, (
UKW_DEVICE
, 
DWORD
, DWORD));

102 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwCÀ¨HÆtHo°
, (
UKW_DEVICE
, 
UCHAR
));

103 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwCÀ¨HÆtDevi˚
, (
UKW_DEVICE
, 
UCHAR
));

104 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwGëC⁄fig
, (
UKW_DEVICE
, 
PUCHAR
));

105 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwSëC⁄fig
, (
UKW_DEVICE
, 
UCHAR
));

106 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwRe£tDevi˚
, (
UKW_DEVICE
));

107 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwKî√lDrivîA˘ive
, (
UKW_DEVICE
, 
DWORD
, 
PBOOL
));

108 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwAâachKî√lDrivî
, (
UKW_DEVICE
, 
DWORD
));

109 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwDëachKî√lDrivî
, (
UKW_DEVICE
, 
DWORD
));

110 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwIssueBulkTøns„r
, (
UKW_DEVICE
, 
DWORD
, 
UCHAR
, 
LPVOID
, DWORD, 
LPDWORD
, 
LPOVERLAPPED
));

111 
DLL_DECLARE
(
WINAPI
, 
BOOL
, 
UkwIsPùeHÆãd
, (
UKW_DEVICE
, 
UCHAR
, 
LPBOOL
));

114 
	#STATUS_HALT_FLAG
 0x1

	)

116 
	swö˚_devi˚_¥iv
 {

117 
UKW_DEVICE
 
	mdev
;

118 
UKW_DEVICE_DESCRIPTOR
 
	mdesc
;

121 
	swö˚_devi˚_h™dÀ_¥iv
 {

124 
	mª£rved
;

127 
	swö˚_å™s„r_¥iv
 {

128 
wöfd
 
	mpﬁœbÀ_fd
;

129 
uöt8_t
 
	möãrÁ˚_numbî
;

	@libusb/os/windows_common.h

27 #¥agm®
⁄˚


30 #i‡!
deföed
(
boﬁ
)

31 
	#boﬁ
 
BOOL


	)

33 #i‡!
deföed
(
åue
)

34 
	#åue
 
TRUE


	)

36 #i‡!
deföed
(
Ál£
)

37 
	#Ál£
 
FALSE


	)

40 
	#ß„_‰ì
(
p
Ëdÿ{i‡’ !
NULL
Ë{
	`‰ì
((*Ì);Ö = NULL;}} 0)

	)

41 
	#ß„_˛o£h™dÀ
(
h
Ëdÿ{i‡(h !
INVALID_HANDLE_VALUE
Ë{
	`Clo£H™dÀ
(h); h = INVALID_HANDLE_VALUE;}} 0)

	)

42 
	#ß„_mö
(
a
, 
b
Ë
	`mö
((
size_t
)◊), (size_t)(b))

	)

43 
	#ß„_°r˝
(
d°
, 
d°_max
, 
§c
, 
cou¡
Ëdÿ{
	`mem˝y
(d°, src, 
	`ß„_mö
(count, dst_max)); \

44 ((*)
d°
)[
	`ß„_mö
(
cou¡
, 
d°_max
)-1] = 0;} 0)

	)

45 
	#ß„_°r˝y
(
d°
, 
d°_max
, 
§c
Ë
	`ß„_°r˝
(d°, d°_max, src, 
	`ß„_°æí
(§c)+1)

	)

46 
	#ß„_°∫ˇt
(
d°
, 
d°_max
, 
§c
, 
cou¡
Ë
	`°∫ˇt
(d°, src, 
	`ß„_mö
(cou¡, d°_max - 
	`ß„_°æí
(d°Ë- 1))

	)

47 
	#ß„_°rˇt
(
d°
, 
d°_max
, 
§c
Ë
	`ß„_°∫ˇt
(d°, d°_max, src, 
	`ß„_°æí
(§c)+1)

	)

48 
	#ß„_°rcmp
(
°r1
, 
°r2
Ë
	`°rcmp
(((°r1==
NULL
)?"<NULL>":°r1), ((°r2==NULL)?"<NULL>":°r2))

	)

49 
	#ß„_°ricmp
(
°r1
, 
°r2
Ë
	`_°ricmp
(((°r1==
NULL
)?"<NULL>":°r1), ((°r2==NULL)?"<NULL>":°r2))

	)

50 
	#ß„_°∫cmp
(
°r1
, 
°r2
, 
cou¡
Ë
	`°∫cmp
(((°r1==
NULL
)?"<NULL>":°r1), ((°r2==NULL)?"<NULL>":°r2), cou¡)

	)

51 
	#ß„_°æí
(
°r
Ë((°r==
NULL
)?0:
	`°æí
(°r))

	)

52 
	#ß„_•rötf
(
d°
, 
cou¡
, ...Ëdÿ{
	`_¢¥ötf
(d°, cou¡, 
__VA_ARGS__
); (d°)[(cou¡)-1] = 0; } 0)

	)

53 
	#ß„_°¥ötf
 
_¢çrötf


	)

54 
	#ß„_tc¶í
(
°r
Ë((°r==
NULL
)?0:
	`_tc¶í
(°r))

	)

55 
	#ß„_uƒef_devi˚
(
dev
Ëdÿ{i‡(dev !
NULL
Ë{
	`libusb_uƒef_devi˚
(dev); dev = NULL;}} 0)

	)

56 
	#wch¨_to_utf8_ms
(
w°r
, 
°r
, 
°æí
Ë
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, w°r, -1, så, såÀn, 
NULL
, NULL)

	)

57 #i‚de‡
ARRAYSIZE


58 
	#ARRAYSIZE
(
A
Ë((A)/((A)[0]))

	)

61 
	#ERR_BUFFER_SIZE
 256

	)

62 
	#TIMER_REQUEST_RETRY_MS
 100

	)

63 
	#MAX_TIMER_SEMAPHORES
 128

	)

69 
	#DLL_DECLARE_PREFIXNAME
(
≠i
, 
ªt
, 
¥efix«me
, 
«me
, 
¨gs
) \

70 
	`ªt
 (
	t≠i
 * 
	t__dŒ_
##
	t«me
##
	t_t
)
	t¨gs
; \

71 
__dŒ_
##
«me
##
_t
 
¥efix«me
 = 
NULL


	)

73 #i‚de‡
_WIN32_WCE


74 
	#DLL_STRINGIFY
(
dŒ
Ë#dŒ

	)

75 
	#DLL_GET_MODULE_HANDLE
(
dŒ
Ë
	`GëModuÀH™dÀA
(
	`DLL_STRINGIFY
(dŒ))

	)

76 
	#DLL_LOAD_LIBRARY
(
dŒ
Ë
	`LﬂdLibøryA
(
	`DLL_STRINGIFY
(dŒ))

	)

78 
	#DLL_STRINGIFY
(
dŒ
Ë
L
#dŒ

	)

79 
	#DLL_GET_MODULE_HANDLE
(
dŒ
Ë
	`GëModuÀH™dÀ
(
	`DLL_STRINGIFY
(dŒ))

	)

80 
	#DLL_LOAD_LIBRARY
(
dŒ
Ë
	`LﬂdLibøry
(
	`DLL_STRINGIFY
(dŒ))

	)

83 
	#DLL_LOAD_PREFIXNAME
(
dŒ
, 
¥efix«me
, 
«me
, 
ªt_⁄_Áûuª
) \

85 
HMODULE
 
h
 = 
	`DLL_GET_MODULE_HANDLE
(
dŒ
); \

86 i‡(!
h
) \

87 
h
 = 
	`DLL_LOAD_LIBRARY
(
dŒ
); \

88 i‡(!
h
) { \

89 i‡(
ªt_⁄_Áûuª
Ë{  
LIBUSB_ERROR_NOT_FOUND
; } \

92 
¥efix«me
 = (
__dŒ_
##
«me
##
_t
)
	`GëProcAddªss
(
h
, \

93 
	`DLL_STRINGIFY
(
«me
)); \

94 i‡(
¥efix«me
) ; \

95 
¥efix«me
 = (
__dŒ_
##
«me
##
_t
)
	`GëProcAddªss
(
h
, \

96 
	`DLL_STRINGIFY
(
«me
ËDLL_STRINGIFY(
A
)); \

97 i‡(
¥efix«me
) ; \

98 
¥efix«me
 = (
__dŒ_
##
«me
##
_t
)
	`GëProcAddªss
(
h
, \

99 
	`DLL_STRINGIFY
(
«me
ËDLL_STRINGIFY(
W
)); \

100 i‡(
¥efix«me
) ; \

101 if(
ªt_⁄_Áûuª
) \

102  
LIBUSB_ERROR_NOT_FOUND
; \

103 } 0)

	)

105 
	#DLL_DECLARE
(
≠i
, 
ªt
, 
«me
, 
¨gs
Ë
	`DLL_DECLARE_PREFIXNAME
◊pi,Ñë,Çame,Çame,árgs)

	)

106 
	#DLL_LOAD
(
dŒ
, 
«me
, 
ªt_⁄_Áûuª
Ë
	`DLL_LOAD_PREFIXNAME
(dŒ,Çame,Çame,Ñë_⁄_Áûuª)

	)

107 
	#DLL_DECLARE_PREFIXED
(
≠i
, 
ªt
, 
¥efix
, 
«me
, 
¨gs
Ë
	`DLL_DECLARE_PREFIXNAME
◊pi,Ñë,Öªfix##«me,Çame,árgs)

	)

108 
	#DLL_LOAD_PREFIXED
(
dŒ
, 
¥efix
, 
«me
, 
ªt_⁄_Áûuª
Ë
	`DLL_LOAD_PREFIXNAME
(dŒ,Öªfix##«me,Çame,Ñë_⁄_Áûuª)

	)

	@libusb/os/windows_usb.c

25 
	~<c⁄fig.h
>

26 
	~<wödows.h
>

27 
	~<£tu∑pi.h
>

28 
	~<˘y≥.h
>

29 
	~<î∫o.h
>

30 
	~<f˙é.h
>

31 
	~<¥o˚ss.h
>

32 
	~<°dio.h
>

33 
	~<öây≥s.h
>

34 
	~<objba£.h
>

35 
	~<wöio˘l.h
>

37 
	~"libusbi.h
"

38 
	~"pﬁl_wödows.h
"

39 
	~"wödows_usb.h
"

42 
	#LOOP_CHECK
(
fˇŒ
Ë{ 
r
=fˇŒ; i‡‘ !
LIBUSB_SUCCESS
Ë; }

	)

43 
	#LOOP_BREAK
(
îr
Ë{ 
r
Ûº; ; }

	)

46 
wödows_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
);

47 
wödows_˛ock_gëtime
(
˛k_id
, 
time•ec
 *
ç
);

48 
__°dˇŒ
 
wödows_˛ock_gëtime_thªaded
(* 
∑øm
);

50 
comm⁄_c⁄figuª_ídpoöts
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

53 
wöusbx_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
);

54 
wöusbx_exô
(
sub_≠i
);

55 
wöusbx_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

56 
wöusbx_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

57 
wöusbx_c⁄figuª_ídpoöts
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

58 
wöusbx_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

59 
wöusbx_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

60 
wöusbx_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

61 
wöusbx_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
);

62 
wöusbx_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

63 
wöusbx_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
);

64 
wöusbx_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

65 
wöusbx_ab‹t_c⁄åﬁ
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

66 
wöusbx_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

67 
wöusbx_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
);

69 
hid_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
);

70 
hid_exô
(
sub_≠i
);

71 
hid_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

72 
hid_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

73 
hid_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

74 
hid_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

75 
hid_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
);

76 
hid_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

77 
hid_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

78 
hid_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
);

79 
hid_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

80 
hid_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

81 
hid_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
);

83 
composôe_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
);

84 
composôe_exô
(
sub_≠i
);

85 
composôe_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

86 
composôe_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

87 
composôe_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

88 
composôe_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
);

89 
composôe_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
);

90 
composôe_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

91 
composôe_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

92 
composôe_submô_iso_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

93 
composôe_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
);

94 
composôe_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

95 
composôe_ab‹t_c⁄åﬁ
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
);

96 
composôe_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
);

97 
composôe_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
);

101 
uöt64_t
 
	ghúes_‰equícy
, 
	ghúes_ticks_to_ps
;

102 c⁄° 
uöt64_t
 
	gïoch_time
 = 
UINT64_C
(116444736000000000);

103 
	gwödows_vîsi⁄
 = 
WINDOWS_UNDEFINED
;

104 
	gwödows_vîsi⁄_°r
[128] = "Windows Undefined";

106 
	gc⁄cuºít_ußge
 = -1;

107 
usbi_muãx_t
 
	gauto˛aim_lock
;

110 
HANDLE
 
	gtimî_thªad
 = 
NULL
;

111 
HANDLE
 
	gtimî_muãx
 = 
NULL
;

112 
time•ec
 
	gtimî_ç
;

113 vﬁ©ûê
LONG
 
	gªque°_cou¡
[2] = {0, 1};

114 
HANDLE
 
	gtimî_ªque°
[2] = { 
NULL
, NULL };

115 
HANDLE
 
	gtimî_ª•⁄£
 = 
NULL
;

117 
	#CHECK_WINUSBX_AVAILABLE
(
sub_≠i
Ëdÿ{ i‡(sub_≠ò=
SUB_API_NOTSET
Ësub_≠ò
¥iv
->sub_api; \

118 i‡(!
WöUSBX
[
sub_≠i
].
öôülized
Ë 
LIBUSB_ERROR_ACCESS
; } 0)

	)

119 
wöusb_öãrÁ˚
 
	gWöUSBX
[
SUB_API_MAX
];

120 c⁄° * 
	gsub_≠i_«me
[
SUB_API_MAX
] = 
WINUSBX_DRV_NAMES
;

121 
boﬁ
 
	g≠i_hid_avaûabÀ
 = 
Ál£
;

122 
	#CHECK_HID_AVAILABLE
 dÿ{ i‡(!
≠i_hid_avaûabÀ
Ë 
LIBUSB_ERROR_ACCESS
; } 0)

	)

124 
ölöe
 
BOOLEAN
 
	$guid_eq
(c⁄° 
GUID
 *
guid1
, c⁄° GUID *
guid2
) {

125 i‡((
guid1
 !
NULL
Ë&& (
guid2
 != NULL)) {

126  (
	`memcmp
(
guid1
, 
guid2
, (
GUID
)) == 0);

128  
Ál£
;

129 
	}
}

131 #i‡
deföed
(
ENABLE_LOGGING
)

132 * 
	$guid_to_°rög
(c⁄° 
GUID
* 
guid
)

134 
guid_°rög
[
MAX_GUID_STRING_LENGTH
];

136 i‡(
guid
 =
NULL
)  NULL;

137 
	`•rötf
(
guid_°rög
, "{%08X-%04X-%04X-%02X%02X-%02X%02X%02X%02X%02X%02X}",

138 ()
guid
->
D©a1
, guid->
D©a2
, guid->
D©a3
,

139 
guid
->
D©a4
[0], guid->Data4[1], guid->Data4[2], guid->Data4[3],

140 
guid
->
D©a4
[4], guid->Data4[5], guid->Data4[6], guid->Data4[7]);

141  
guid_°rög
;

142 
	}
}

149 #i‡
deföed
(
ENABLE_LOGGING
)

150 *
	$wödows_îr‹_°r
(
uöt32_t
 
ªtvÆ
)

152 
îr_°rög
[
ERR_BUFFER_SIZE
];

154 
DWORD
 
size
;

155 
ssize_t
 
i
;

156 
uöt32_t
 
îr‹_code
, 
f‹m©_îr‹
;

158 
îr‹_code
 = 
ªtvÆ
?ªtvÆ:
	`GëLa°Eº‹
();

160 
	`ß„_•rötf
(
îr_°rög
, 
ERR_BUFFER_SIZE
, "[%u] ", 
îr‹_code
);

165 
îr‹_code
 & 0xE0000000) {

167 
îr‹_code
 = 
	`HRESULT_FROM_WIN32
(error_code);

170 
îr‹_code
 = 0x80000000 | (
FACILITY_SETUPAPI
 << 16) | (error_code & 0x0000FFFF);

176 
size
 = 
	`F‹m©MesßgeA
(
FORMAT_MESSAGE_FROM_SYSTEM
, 
NULL
, 
îr‹_code
,

177 
	`MAKELANGID
(
LANG_NEUTRAL
, 
SUBLANG_DEFAULT
), &
îr_°rög
[
	`ß„_°æí
(err_string)],

178 
ERR_BUFFER_SIZE
 - (
DWORD
)
	`ß„_°æí
(
îr_°rög
), 
NULL
);

179 i‡(
size
 == 0) {

180 
f‹m©_îr‹
 = 
	`GëLa°Eº‹
();

181 i‡(
f‹m©_îr‹
)

182 
	`ß„_•rötf
(
îr_°rög
, 
ERR_BUFFER_SIZE
,

183 "Wödow†îr‹ codê%u (F‹m©Mesßgêîr‹ codê%u)", 
îr‹_code
, 
f‹m©_îr‹
);

185 
	`ß„_•rötf
(
îr_°rög
, 
ERR_BUFFER_SIZE
, "Unknow¿îr‹ codê%u", 
îr‹_code
);

188 
i
=
	`ß„_°æí
(
îr_°rög
)-1; (i>=0) && ((err_string[i]==0x0A) || (err_string[i]==0x0D)); i--) {

189 
îr_°rög
[
i
] = 0;

192  
îr_°rög
;

193 
	}
}

200 * 
	$ßnôize_∑th
(c⁄° * 
∑th
)

202 c⁄° 
roŸ_¥efix
[] = "\\\\.\\";

203 
size_t
 
j
, 
size
, 
roŸ_size
;

204 * 
ªt_∑th
 = 
NULL
;

205 
size_t
 
add_roŸ
 = 0;

207 i‡(
∑th
 =
NULL
)

208  
NULL
;

210 
size
 = 
	`ß„_°æí
(
∑th
)+1;

211 
roŸ_size
 = (
roŸ_¥efix
)-1;

214 i‡(!((
size
 > 3Ë&& (((
∑th
[0] == '\\') && (path[1] == '\\') && (path[3] == '\\')) ||

215 ((
∑th
[0] == '#') && (path[1] == '#') && (path[3] == '#'))))) {

216 
add_roŸ
 = 
roŸ_size
;

217 
size
 +
add_roŸ
;

220 i‡((
ªt_∑th
 = (*Ë
	`ˇŒoc
(
size
, 1)Ë=
NULL
)

221  
NULL
;

223 
	`ß„_°r˝y
(&
ªt_∑th
[
add_roŸ
], 
size
-add_roŸ, 
∑th
);

226 
j
=0; j<
roŸ_size
; j++)

227 
ªt_∑th
[
j
] = 
roŸ_¥efix
[j];

230 
j
=
roŸ_size
; j<
size
; j++) {

231 
ªt_∑th
[
j
] = ()
	`touµî
(()ret_path[j]);

232 i‡(
ªt_∑th
[
j
] == '\\')

233 
ªt_∑th
[
j
] = '#';

236  
ªt_∑th
;

237 
	}
}

242 
	$öô_dŒs
()

244 
	`DLL_LOAD
(
Cfgmgr32
.
dŒ
, 
CM_Gë_P¨ít
, 
TRUE
);

245 
	`DLL_LOAD
(
Cfgmgr32
.
dŒ
, 
CM_Gë_Chûd
, 
TRUE
);

246 
	`DLL_LOAD
(
Cfgmgr32
.
dŒ
, 
CM_Gë_Siblög
, 
TRUE
);

247 
	`DLL_LOAD
(
Cfgmgr32
.
dŒ
, 
CM_Gë_Devi˚_IDA
, 
TRUE
);

249 
	`DLL_LOAD_PREFIXED
(
OLE32
.
dŒ
, 
p
, 
CLSIDFromSåög
, 
TRUE
);

250 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiGëCœssDevsA
, 
TRUE
);

251 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiEnumDevi˚Info
, 
TRUE
);

252 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiEnumDevi˚I¡îÁ˚s
, 
TRUE
);

253 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiGëDevi˚I¡îÁ˚DëaûA
, 
TRUE
);

254 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiDe°royDevi˚InfoLi°
, 
TRUE
);

255 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiO≥nDevRegKey
, 
TRUE
);

256 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiGëDevi˚Regi°ryPr›îtyA
, 
TRUE
);

257 
	`DLL_LOAD_PREFIXED
(
SëupAPI
.
dŒ
, 
p
, 
SëupDiO≥nDevi˚I¡îÁ˚RegKey
, 
TRUE
);

258 
	`DLL_LOAD_PREFIXED
(
AdvAPI32
.
dŒ
, 
p
, 
RegQuîyVÆueExW
, 
TRUE
);

259 
	`DLL_LOAD_PREFIXED
(
AdvAPI32
.
dŒ
, 
p
, 
RegClo£Key
, 
TRUE
);

260  
LIBUSB_SUCCESS
;

261 
	}
}

276 
boﬁ
 
	$gë_devöfo_d©a
(
libusb_c⁄ãxt
 *
˘x
,

277 
HDEVINFO
 *
dev_öfo
, 
SP_DEVINFO_DATA
 *
dev_öfo_d©a
, c⁄° * 
usb_˛ass
, 
_ödex
)

279 i‡(
_ödex
 <= 0) {

280 *
dev_öfo
 = 
	`pSëupDiGëCœssDevsA
(
NULL
, 
usb_˛ass
, NULL, 
DIGCF_PRESENT
|
DIGCF_ALLCLASSES
);

281 i‡(*
dev_öfo
 =
INVALID_HANDLE_VALUE
) {

282  
Ál£
;

286 
dev_öfo_d©a
->
cbSize
 = (
SP_DEVINFO_DATA
);

287 i‡(!
	`pSëupDiEnumDevi˚Info
(*
dev_öfo
, 
_ödex
, 
dev_öfo_d©a
)) {

288 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_NO_MORE_ITEMS
) {

289 
	`usbi_îr
(
˘x
, "CouldÇot obtain device info data for index %u: %s",

290 
_ödex
, 
	`wödows_îr‹_°r
(0));

292 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

293 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

294  
Ál£
;

296  
åue
;

297 
	}
}

312 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
	$gë_öãrÁ˚_dëaûs
(
libusb_c⁄ãxt
 *
˘x
,

313 
HDEVINFO
 *
dev_öfo
, 
SP_DEVINFO_DATA
 *
dev_öfo_d©a
, c⁄° 
GUID
* 
guid
, 
_ödex
)

315 
SP_DEVICE_INTERFACE_DATA
 
dev_öãrÁ˚_d©a
;

316 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
dev_öãrÁ˚_dëaûs
 = 
NULL
;

317 
DWORD
 
size
;

319 i‡(
_ödex
 <= 0) {

320 *
dev_öfo
 = 
	`pSëupDiGëCœssDevsA
(
guid
, 
NULL
, NULL, 
DIGCF_PRESENT
|
DIGCF_DEVICEINTERFACE
);

323 i‡(
dev_öfo_d©a
 !
NULL
) {

324 
dev_öfo_d©a
->
cbSize
 = (
SP_DEVINFO_DATA
);

325 i‡(!
	`pSëupDiEnumDevi˚Info
(*
dev_öfo
, 
_ödex
, 
dev_öfo_d©a
)) {

326 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_NO_MORE_ITEMS
) {

327 
	`usbi_îr
(
˘x
, "CouldÇot obtain device info data for index %u: %s",

328 
_ödex
, 
	`wödows_îr‹_°r
(0));

330 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

331 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

332  
NULL
;

336 
dev_öãrÁ˚_d©a
.
cbSize
 = (
SP_DEVICE_INTERFACE_DATA
);

337 i‡(!
	`pSëupDiEnumDevi˚I¡îÁ˚s
(*
dev_öfo
, 
NULL
, 
guid
, 
_ödex
, &
dev_öãrÁ˚_d©a
)) {

338 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_NO_MORE_ITEMS
) {

339 
	`usbi_îr
(
˘x
, "CouldÇot obtain interface data for index %u: %s",

340 
_ödex
, 
	`wödows_îr‹_°r
(0));

342 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

343 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

344  
NULL
;

348 i‡(!
	`pSëupDiGëDevi˚I¡îÁ˚DëaûA
(*
dev_öfo
, &
dev_öãrÁ˚_d©a
, 
NULL
, 0, &
size
, NULL)) {

350 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_INSUFFICIENT_BUFFER
) {

351 
	`usbi_îr
(
˘x
, "couldÇotáccess interface data (dummy) for index %u: %s",

352 
_ödex
, 
	`wödows_îr‹_°r
(0));

353 
îr_exô
;

356 
	`usbi_îr
(
˘x
, "programássertion failed - http://msdn.microsoft.com/en-us/library/ms792901.aspx is wrong.");

357 
îr_exô
;

360 i‡((
dev_öãrÁ˚_dëaûs
 = (
SP_DEVICE_INTERFACE_DETAIL_DATA_A
*Ë
	`ˇŒoc
(
size
, 1)Ë=
NULL
) {

361 
	`usbi_îr
(
˘x
, "couldÇŸáŒoˇã i¡îÁ˚ d©®f‹ index %u.", 
_ödex
);

362 
îr_exô
;

365 
dev_öãrÁ˚_dëaûs
->
cbSize
 = (
SP_DEVICE_INTERFACE_DETAIL_DATA_A
);

366 i‡(!
	`pSëupDiGëDevi˚I¡îÁ˚DëaûA
(*
dev_öfo
, &
dev_öãrÁ˚_d©a
,

367 
dev_öãrÁ˚_dëaûs
, 
size
, &size, 
NULL
)) {

368 
	`usbi_îr
(
˘x
, "couldÇotáccess interface data (actual) for index %u: %s",

369 
_ödex
, 
	`wödows_îr‹_°r
(0));

372  
dev_öãrÁ˚_dëaûs
;

374 
îr_exô
:

375 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

376 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

377  
NULL
;

378 
	}
}

381 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
	$gë_öãrÁ˚_dëaûs_fûãr
(
libusb_c⁄ãxt
 *
˘x
,

382 
HDEVINFO
 *
dev_öfo
, 
SP_DEVINFO_DATA
 *
dev_öfo_d©a
, c⁄° 
GUID
* 
guid
, 
_ödex
, * 
fûãr_∑th
){

383 
SP_DEVICE_INTERFACE_DATA
 
dev_öãrÁ˚_d©a
;

384 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
dev_öãrÁ˚_dëaûs
 = 
NULL
;

385 
DWORD
 
size
;

386 i‡(
_ödex
 <= 0) {

387 *
dev_öfo
 = 
	`pSëupDiGëCœssDevsA
(
guid
, 
NULL
, NULL, 
DIGCF_PRESENT
|
DIGCF_DEVICEINTERFACE
);

389 i‡(
dev_öfo_d©a
 !
NULL
) {

390 
dev_öfo_d©a
->
cbSize
 = (
SP_DEVINFO_DATA
);

391 i‡(!
	`pSëupDiEnumDevi˚Info
(*
dev_öfo
, 
_ödex
, 
dev_öfo_d©a
)) {

392 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_NO_MORE_ITEMS
) {

393 
	`usbi_îr
(
˘x
, "CouldÇot obtain device info data for index %u: %s",

394 
_ödex
, 
	`wödows_îr‹_°r
(0));

396 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

397 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

398  
NULL
;

401 
dev_öãrÁ˚_d©a
.
cbSize
 = (
SP_DEVICE_INTERFACE_DATA
);

402 i‡(!
	`pSëupDiEnumDevi˚I¡îÁ˚s
(*
dev_öfo
, 
NULL
, 
guid
, 
_ödex
, &
dev_öãrÁ˚_d©a
)) {

403 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_NO_MORE_ITEMS
) {

404 
	`usbi_îr
(
˘x
, "CouldÇot obtain interface data for index %u: %s",

405 
_ödex
, 
	`wödows_îr‹_°r
(0));

407 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

408 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

409  
NULL
;

412 i‡(!
	`pSëupDiGëDevi˚I¡îÁ˚DëaûA
(*
dev_öfo
, &
dev_öãrÁ˚_d©a
, 
NULL
, 0, &
size
, NULL)) {

414 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_INSUFFICIENT_BUFFER
) {

415 
	`usbi_îr
(
˘x
, "couldÇotáccess interface data (dummy) for index %u: %s",

416 
_ödex
, 
	`wödows_îr‹_°r
(0));

417 
îr_exô
;

420 
	`usbi_îr
(
˘x
, "programássertion failed - http://msdn.microsoft.com/en-us/library/ms792901.aspx is wrong.");

421 
îr_exô
;

423 i‡((
dev_öãrÁ˚_dëaûs
 = 
	`mÆloc
(
size
)Ë=
NULL
) {

424 
	`usbi_îr
(
˘x
, "couldÇŸáŒoˇã i¡îÁ˚ d©®f‹ index %u.", 
_ödex
);

425 
îr_exô
;

427 
dev_öãrÁ˚_dëaûs
->
cbSize
 = (
SP_DEVICE_INTERFACE_DETAIL_DATA_A
);

428 i‡(!
	`pSëupDiGëDevi˚I¡îÁ˚DëaûA
(*
dev_öfo
, &
dev_öãrÁ˚_d©a
,

429 
dev_öãrÁ˚_dëaûs
, 
size
, &size, 
NULL
)) {

430 
	`usbi_îr
(
˘x
, "couldÇotáccess interface data (actual) for index %u: %s",

431 
_ödex
, 
	`wödows_îr‹_°r
(0));

434 i‡(
dev_öãrÁ˚_dëaûs
) {

435 
HKEY
 
hkey_devi˚_öãrÁ˚
=
	`pSëupDiO≥nDevi˚I¡îÁ˚RegKey
(*
dev_öfo
,&
dev_öãrÁ˚_d©a
,0,
KEY_READ
);

436 i‡(
hkey_devi˚_öãrÁ˚
 !
INVALID_HANDLE_VALUE
) {

437 
DWORD
 
libusb0_symbﬁi˛ök_ödex
=0;

438 
DWORD
 
vÆue_Àngth
=(DWORD);

439 
DWORD
 
vÆue_ty≥
=0;

440 
LONG
 
°©us
;

441 
°©us
 = 
	`pRegQuîyVÆueExW
(
hkey_devi˚_öãrÁ˚
, 
L
"LUsb0", 
NULL
, &
vÆue_ty≥
,

442 (
LPBYTE
Ë&
libusb0_symbﬁi˛ök_ödex
, &
vÆue_Àngth
);

443 i‡(
°©us
 =
ERROR_SUCCESS
) {

444 i‡(
libusb0_symbﬁi˛ök_ödex
 < 256) {

447 
	`ß„_•rötf
(
fûãr_∑th
, ("\\\\.\\libusb0-0000"), "\\\\.\\libusb0-%04d", 
libusb0_symbﬁi˛ök_ödex
);

448 
	`usbi_dbg
("assig√dÜibusb0 symbﬁi¯lök %s", 
fûãr_∑th
);

453 
	`pRegClo£Key
(
hkey_devi˚_öãrÁ˚
);

456  
dev_öãrÁ˚_dëaûs
;

457 
îr_exô
:

458 
	`pSëupDiDe°royDevi˚InfoLi°
(*
dev_öfo
);

459 *
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

460  
NULL
;
	}
}

465 
	shèb_íåy
 {

466 
	mu£d
;

467 * 
	m°r
;

468 } 
	thèb_íåy
;

469 
hèb_íåy
* 
	ghèb_èbÀ
 = 
NULL
;

470 
usbi_muãx_t
 
	ghèb_wrôe_muãx
 = 
NULL
;

471 
	ghèb_size
, 
	ghèb_fûÀd
;

477 
	$i•rime
(
numbî
)

480 
dividî
 = 3;

482 (
dividî
 * dividî < 
numbî
) && (number % divider != 0))

483 
dividî
 += 2;

485  (
numbî
 % 
dividî
 != 0);

486 
	}
}

492 
	$hèb_¸óã
(
libusb_c⁄ãxt
 *
˘x
, 
√l
)

494 i‡(
hèb_èbÀ
 !
NULL
) {

495 
	`usbi_îr
(
˘x
, "hashÅableálreadyállocated");

499 
	`usbi_muãx_öô
(&
hèb_wrôe_muãx
, 
NULL
);

502 
√l
 |= 1;

503 !
	`i•rime
(
√l
))

504 
√l
 += 2;

506 
hèb_size
 = 
√l
;

507 
	`usbi_dbg
("usög %dÉ¡rõ†hashÅabÀ", 
√l
);

508 
hèb_fûÀd
 = 0;

511 
hèb_èbÀ
 = (
hèb_íåy
*Ë
	`ˇŒoc
(
hèb_size
 + 1, (htab_entry));

512 i‡(
hèb_èbÀ
 =
NULL
) {

513 
	`usbi_îr
(
˘x
, "couldÇotállocate space for hashÅable");

518 
	}
}

521 
	$hèb_de°roy
()

523 
size_t
 
i
;

524 i‡(
hèb_èbÀ
 =
NULL
) {

528 
i
=0; i<
hèb_size
; i++) {

529 i‡(
hèb_èbÀ
[
i
].
u£d
) {

530 
	`ß„_‰ì
(
hèb_èbÀ
[
i
].
°r
);

533 
	`usbi_muãx_de°roy
(&
hèb_wrôe_muãx
);

534 
	`ß„_‰ì
(
hèb_èbÀ
);

535 
	}
}

545 
	$hèb_hash
(* 
°r
)

547 
hvÆ
, 
hvÆ2
;

548 
idx
;

549 
r
 = 5381;

550 
c
;

551 * 
sz
 = 
°r
;

553 i‡(
°r
 =
NULL
)

557 (
c
 = *
sz
++) != 0)

558 
r
 = (‘ << 5Ë+ÑË+ 
c
;

559 i‡(
r
 == 0)

560 ++
r
;

563 
hvÆ
 = 
r
 % 
hèb_size
;

564 i‡(
hvÆ
 == 0)

565 ++
hvÆ
;

568 
idx
 = 
hvÆ
;

570 i‡(
hèb_èbÀ
[
idx
].
u£d
) {

571 i‡–(
hèb_èbÀ
[
idx
].
u£d
 =
hvÆ
)

572 && (
	`ß„_°rcmp
(
°r
, 
hèb_èbÀ
[
idx
].str) == 0) ) {

574  
idx
;

576 
	`usbi_dbg
("hash cﬁlisi⁄ ('%s' v†'%s')", 
°r
, 
hèb_èbÀ
[
idx
].str);

579 
hvÆ2
 = 1 + 
hvÆ
 % (
hèb_size
 - 2);

583 i‡(
idx
 <
hvÆ2
) {

584 
idx
 = 
hèb_size
 + idx - 
hvÆ2
;

586 
idx
 -
hvÆ2
;

590 i‡(
idx
 =
hvÆ
) {

595 i‡–(
hèb_èbÀ
[
idx
].
u£d
 =
hvÆ
)

596 && (
	`ß„_°rcmp
(
°r
, 
hèb_èbÀ
[
idx
].str) == 0) ) {

597  
idx
;

600 
hèb_èbÀ
[
idx
].
u£d
);

606 i‡(
hèb_fûÀd
 >
hèb_size
) {

607 
	`usbi_îr
(
NULL
, "hashÅabÀ i†fuŒ (%dÉ¡rõs)", 
hèb_size
);

613 
	`usbi_muãx_lock
(&
hèb_wrôe_muãx
);

617 
	`ß„_‰ì
(
hèb_èbÀ
[
idx
].
°r
);

618 
hèb_èbÀ
[
idx
].
u£d
 = 
hvÆ
;

619 
hèb_èbÀ
[
idx
].
°r
 = (*Ë
	`mÆloc
(
	`ß„_°æí
(str)+1);

620 i‡(
hèb_èbÀ
[
idx
].
°r
 =
NULL
) {

621 
	`usbi_îr
(
NULL
, "couldÇot duplicate string for hashÅable");

622 
	`usbi_muãx_u∆ock
(&
hèb_wrôe_muãx
);

625 
	`mem˝y
(
hèb_èbÀ
[
idx
].
°r
, så, 
	`ß„_°æí
(str)+1);

626 ++
hèb_fûÀd
;

627 
	`usbi_muãx_u∆ock
(&
hèb_wrôe_muãx
);

629  
idx
;

630 
	}
}

636 
	$gë_™˚°‹_£ssi⁄_id
(
DWORD
 
devö°
, 
Àvñ
)

638 
DWORD
 
∑ª¡_devö°
;

639 
£ssi⁄_id
 = 0;

640 * 
ßnôized_∑th
 = 
NULL
;

641 
∑th
[
MAX_PATH_LENGTH
];

642 
i
;

644 i‡(
Àvñ
 < 1)  0;

645 
i
 = 0; i<
Àvñ
; i++) {

646 i‡(
	`CM_Gë_P¨ít
(&
∑ª¡_devö°
, 
devö°
, 0Ë!
CR_SUCCESS
) {

649 
devö°
 = 
∑ª¡_devö°
;

651 i‡(
	`CM_Gë_Devi˚_IDA
(
devö°
, 
∑th
, 
MAX_PATH_LENGTH
, 0Ë!
CR_SUCCESS
) {

655 
ßnôized_∑th
 = 
	`ßnôize_∑th
(
∑th
);

656 i‡(
ßnôized_∑th
 =
NULL
) {

659 
£ssi⁄_id
 = 
	`hèb_hash
(
ßnôized_∑th
);

660 
	`ß„_‰ì
(
ßnôized_∑th
);

661  
£ssi⁄_id
;

662 
	}
}

667 
	$wödows_assign_ídpoöts
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
)

669 
i
, 
r
;

670 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

671 
libusb_c⁄fig_des¸ùt‹
 *
c⁄f_desc
;

672 c⁄° 
libusb_öãrÁ˚_des¸ùt‹
 *
if_desc
;

673 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

675 
r
 = 
	`libusb_gë_c⁄fig_des¸ùt‹
(
dev_h™dÀ
->
dev
, 0, &
c⁄f_desc
);

676 i‡(
r
 !
LIBUSB_SUCCESS
) {

677 
	`usbi_w¨n
(
˘x
, "couldÇŸÑód c⁄fig des¸ùt‹:Éº‹ %d", 
r
);

678  
r
;

681 
if_desc
 = &
c⁄f_desc
->
öãrÁ˚
[
iÁ˚
].
Æt£âög
[altsetting];

682 
	`ß„_‰ì
(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
);

684 i‡(
if_desc
->
bNumEndpoöts
 == 0) {

685 
	`usbi_dbg
("nÿídpoöt†found f‹ i¡îÁ˚ %d", 
iÁ˚
);

686  
LIBUSB_SUCCESS
;

689 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
 = (
uöt8_t
*Ë
	`mÆloc
(
if_desc
->
bNumEndpoöts
);

690 i‡(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
 =
NULL
) {

691  
LIBUSB_ERROR_NO_MEM
;

694 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
nb_ídpoöts
 = 
if_desc
->
bNumEndpoöts
;

695 
i
=0; i<
if_desc
->
bNumEndpoöts
; i++) {

696 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
[
i
] = 
if_desc
->ídpoöt[i].
bEndpoötAddªss
;

697 
	`usbi_dbg
("‘eÔssig√dÉndpoöà%02XÅÿöãrÁ˚ %d", 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
[
i
], iface);

699 
	`libusb_‰ì_c⁄fig_des¸ùt‹
(
c⁄f_desc
);

702  
¥iv
->
≠ib
->
	`c⁄figuª_ídpoöts
(
SUB_API_NOTSET
, 
dev_h™dÀ
, 
iÁ˚
);

703 
	}
}

707 
	$gë_sub_≠i
(* 
drivî
, 
≠i
){

708 
i
;

709 c⁄° 
£p_°r
[2] = {
LIST_SEPARATOR
, 0};

710 *
tok
, *
tmp_°r
;

711 
size_t
 
Àn
 = 
	`ß„_°æí
(
drivî
);

713 i‡(
Àn
 =0Ë 
SUB_API_NOTSET
;

714 
tmp_°r
 = (*Ë
	`ˇŒoc
(
Àn
+1, 1);

715 i‡(
tmp_°r
 =
NULL
Ë 
SUB_API_NOTSET
;

716 
	`mem˝y
(
tmp_°r
, 
drivî
, 
Àn
+1);

717 
tok
 = 
	`°πok
(
tmp_°r
, 
£p_°r
);

718 
tok
 !
NULL
) {

719 
i
=0; i<
usb_≠i_backíd
[
≠i
].
nb_drivî_«mes
; i++) {

720 i‡(
	`ß„_°ricmp
(
tok
, 
usb_≠i_backíd
[
≠i
].
drivî_«me_li°
[
i
]) == 0) {

721 
	`‰ì
(
tmp_°r
);

722  
i
;

725 
tok
 = 
	`°πok
(
NULL
, 
£p_°r
);

727 
	`‰ì
 (
tmp_°r
);

728  
SUB_API_NOTSET
;

729 
	}
}

734 
	$auto_˛aim
(
libusb_å™s„r
 *
å™s„r
, *
öãrÁ˚_numbî
, 
≠i_ty≥
)

736 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

737 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(

738 
å™s„r
->
dev_h™dÀ
);

739 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

740 
cuºít_öãrÁ˚
 = *
öãrÁ˚_numbî
;

741 
r
 = 
LIBUSB_SUCCESS
;

743 
≠i_ty≥
) {

744 
USB_API_WINUSBX
:

745 
USB_API_HID
:

748  
LIBUSB_ERROR_INVALID_PARAM
;

751 
	`usbi_muãx_lock
(&
auto˛aim_lock
);

752 i‡(
cuºít_öãrÁ˚
 < 0)

754 
cuºít_öãrÁ˚
=0; cuºít_öãrÁ˚<
USB_MAXINTERFACES
; current_interface++) {

756 i‡–(
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
≠ib
->
id
 =
≠i_ty≥
)

757 && (
	`libusb_˛aim_öãrÁ˚
(
å™s„r
->
dev_h™dÀ
, 
cuºít_öãrÁ˚
Ë=
LIBUSB_SUCCESS
) ) {

758 
	`usbi_dbg
("auto-˛aimed i¡îÁ˚ %d f‹ c⁄åﬁÑeque°", 
cuºít_öãrÁ˚
);

759 i‡(
h™dÀ_¥iv
->
auto˛aim_cou¡
[
cuºít_öãrÁ˚
] != 0) {

760 
	`usbi_w¨n
(
˘x
, "programássertion failed -áutoclaim_count wasÇonzero");

762 
h™dÀ_¥iv
->
auto˛aim_cou¡
[
cuºít_öãrÁ˚
]++;

766 i‡(
cuºít_öãrÁ˚
 =
USB_MAXINTERFACES
) {

767 
	`usbi_îr
(
˘x
, "couldÇotáuto-claimány interface");

768 
r
 = 
LIBUSB_ERROR_NOT_FOUND
;

773 i‡(
h™dÀ_¥iv
->
auto˛aim_cou¡
[
cuºít_öãrÁ˚
] != 0) {

774 
h™dÀ_¥iv
->
auto˛aim_cou¡
[
cuºít_öãrÁ˚
]++;

777 
	`usbi_muãx_u∆ock
(&
auto˛aim_lock
);

779 *
öãrÁ˚_numbî
 = 
cuºít_öãrÁ˚
;

780  
r
;

782 
	}
}

784 
	$auto_ªÀa£
(
usbi_å™s„r
 *
ôøns„r
)

786 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

787 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

788 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
 = 
å™s„r
->dev_handle;

789 
wödows_devi˚_h™dÀ_¥iv
* 
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

790 
r
;

792 
	`usbi_muãx_lock
(&
auto˛aim_lock
);

793 i‡(
h™dÀ_¥iv
->
auto˛aim_cou¡
[
å™s„r_¥iv
->
öãrÁ˚_numbî
] > 0) {

794 
h™dÀ_¥iv
->
auto˛aim_cou¡
[
å™s„r_¥iv
->
öãrÁ˚_numbî
]--;

795 i‡(
h™dÀ_¥iv
->
auto˛aim_cou¡
[
å™s„r_¥iv
->
öãrÁ˚_numbî
] == 0) {

796 
r
 = 
	`libusb_ªÀa£_öãrÁ˚
(
dev_h™dÀ
, 
å™s„r_¥iv
->
öãrÁ˚_numbî
);

797 i‡(
r
 =
LIBUSB_SUCCESS
) {

798 
	`usbi_dbg
("auto-ªÀa£d i¡îÁ˚ %d", 
å™s„r_¥iv
->
öãrÁ˚_numbî
);

800 
	`usbi_dbg
("failedÅoáuto-release interface %d (%s)",

801 
å™s„r_¥iv
->
öãrÁ˚_numbî
, 
	`libusb_îr‹_«me
((
libusb_îr‹
)
r
));

805 
	`usbi_muãx_u∆ock
(&
auto˛aim_lock
);

806 
	}
}

809 
BOOL
 
	$is_x64
()

811 
BOOL
 
ªt
 = 
FALSE
;

813 i‡((
uöçå_t
) < 8) {

814 
	`DLL_LOAD_PREFIXED
(
Kî√l32
.
dŒ
, 
p
, 
IsWow64Pro˚ss
, 
FALSE
);

815 i‡(
pIsWow64Pro˚ss
 !
NULL
) {

816 (*
pIsWow64Pro˚ss
)(
	`GëCuºítPro˚ss
(), &
ªt
);

819 
ªt
 = 
TRUE
;

821  
ªt
;

822 
	}
}

824 
	$gë_wödows_vîsi⁄
()

826 
OSVERSIONINFOEXA
 
vi
, 
vi2
;

827 c⁄° * 
w
 = 0;

828 c⁄° * 
w64
 = "32 bit";

829 * 
v±r
;

830 
size_t
 
vÀn
;

831 
maj‹
, 
mö‹
;

832 
ULONGLONG
 
maj‹_equÆ
, 
mö‹_equÆ
;

833 
BOOL
 
ws
;

835 
	`mem£t
(&
vi
, 0, (vi));

836 
vi
.
dwOSVîsi⁄InfoSize
 = (vi);

837 i‡(!
	`GëVîsi⁄ExA
((
OSVERSIONINFOA
 *)&
vi
)) {

838 
	`mem£t
(&
vi
, 0, (vi));

839 
vi
.
dwOSVîsi⁄InfoSize
 = (
OSVERSIONINFOA
);

840 i‡(!
	`GëVîsi⁄ExA
((
OSVERSIONINFOA
 *)&
vi
))

844 i‡(
vi
.
dwPœtf‹mId
 =
VER_PLATFORM_WIN32_NT
) {

846 i‡(
vi
.
dwMaj‹Vîsi⁄
 > 6 || (vi.dwMaj‹Vîsi⁄ =6 && vi.
dwMö‹Vîsi⁄
 >= 2)) {

850 
maj‹_equÆ
 = 
	`VîSëC⁄dôi⁄Mask
(0, 
VER_MAJORVERSION
, 
VER_EQUAL
);

851 
maj‹
 = 
vi
.
dwMaj‹Vîsi⁄
; major <= 9; major++) {

852 
	`mem£t
(&
vi2
, 0, (vi2));

853 
vi2
.
dwOSVîsi⁄InfoSize
 = (vi2); vi2.
dwMaj‹Vîsi⁄
 = 
maj‹
;

854 i‡(!
	`VîifyVîsi⁄InfoA
(&
vi2
, 
VER_MAJORVERSION
, 
maj‹_equÆ
))

856 i‡(
vi
.
dwMaj‹Vîsi⁄
 < 
maj‹
) {

857 
vi
.
dwMaj‹Vîsi⁄
 = 
maj‹
; vi.
dwMö‹Vîsi⁄
 = 0;

860 
mö‹_equÆ
 = 
	`VîSëC⁄dôi⁄Mask
(0, 
VER_MINORVERSION
, 
VER_EQUAL
);

861 
mö‹
 = 
vi
.
dwMö‹Vîsi⁄
; minor <= 9; minor++) {

862 
	`mem£t
(&
vi2
, 0, (vi2)); vi2.
dwOSVîsi⁄InfoSize
 = (vi2);

863 
vi2
.
dwMö‹Vîsi⁄
 = 
mö‹
;

864 i‡(!
	`VîifyVîsi⁄InfoA
(&
vi2
, 
VER_MINORVERSION
, 
mö‹_equÆ
))

866 
vi
.
dwMö‹Vîsi⁄
 = 
mö‹
;

874 i‡(
vi
.
dwMaj‹Vîsi⁄
 <0x‡&& vi.
dwMö‹Vîsi⁄
 <= 0xf) {

875 
ws
 = (
vi
.
wProdu˘Ty≥
 <
VER_NT_WORKSTATION
);

876 
wödows_vîsi⁄
 = 
vi
.
dwMaj‹Vîsi⁄
 << 4 | vi.
dwMö‹Vîsi⁄
;

877 
wödows_vîsi⁄
) {

878 0x50: 
w
 = "2000";

880 0x51: 
w
 = "XP";

882 0x52: 
w
 = ("2003");

884 0x60: 
w
 = (
ws
?"Vista":"2008");

886 0x61: 
w
 = (
ws
?"7":"2008_R2");

888 0x62: 
w
 = (
ws
?"8":"2012");

890 0x63: 
w
 = (
ws
?"8.1":"2012_R2");

892 0x64: 
w
 = (
ws
?"8.2":"2012_R3");

895 i‡(
wödows_vîsi⁄
 < 0x50)

896 
wödows_vîsi⁄
 = 
WINDOWS_UNSUPPORTED
;

898 
w
 = "9 orÜater";

904 i‡(
	`is_x64
())

905 
w64
 = "64-bit";

907 
v±r
 = &
wödows_vîsi⁄_°r
[("Windows ") - 1];

908 
vÀn
 = (
wödows_vîsi⁄_°r
) - ("Windows ") - 1;

909 i‡(!
w
)

910 
	`ß„_•rötf
(
v±r
, 
vÀn
, "%†%u.%u %s", (
vi
.
dwPœtf‹mId
==
VER_PLATFORM_WIN32_NT
?"NT":"??"),

911 ()
vi
.
dwMaj‹Vîsi⁄
, ()vi.
dwMö‹Vîsi⁄
, 
w64
);

912 i‡(
vi
.
wSîvi˚PackMö‹
)

913 
	`ß„_•rötf
(
v±r
, 
vÀn
, "%†SP%u.%u %s", 
w
, 
vi
.
wSîvi˚PackMaj‹
, vi.
wSîvi˚PackMö‹
, 
w64
);

914 i‡(
vi
.
wSîvi˚PackMaj‹
)

915 
	`ß„_•rötf
(
v±r
, 
vÀn
, "%†SP%u %s", 
w
, 
vi
.
wSîvi˚PackMaj‹
, 
w64
);

917 
	`ß„_•rötf
(
v±r
, 
vÀn
, "%†%s", 
w
, 
w64
);

918 
	}
}

927 
	$wödows_öô
(
libusb_c⁄ãxt
 *
˘x
)

929 
i
, 
r
 = 
LIBUSB_ERROR_OTHER
;

930 
HANDLE
 
£m≠h‹e
;

931 
£m_«me
[11+1+8];

933 
	`•rötf
(
£m_«me
, "libusb_öô%08X", ()
	`GëCuºítPro˚ssId
()&0xFFFFFFFF);

934 
£m≠h‹e
 = 
	`Cª©eSem≠h‹eA
(
NULL
, 1, 1, 
£m_«me
);

935 i‡(
£m≠h‹e
 =
NULL
) {

936 
	`usbi_îr
(
˘x
, "couldÇŸ cª©ê£m≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

937  
LIBUSB_ERROR_NO_MEM
;

942 i‡(
	`WaôF‹SögÀObje˘
(
£m≠h‹e
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

943 
	`usbi_îr
(
˘x
, "ÁûuªÅÿac˚s†£m≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

944 
	`Clo£H™dÀ
(
£m≠h‹e
);

945  
LIBUSB_ERROR_NO_MEM
;

950 i‡–++
c⁄cuºít_ußge
 == 0 ) {

951 
	`gë_wödows_vîsi⁄
();

952 
	`usbi_dbg
(
wödows_vîsi⁄_°r
);

953 i‡(
wödows_vîsi⁄
 =
WINDOWS_UNSUPPORTED
) {

954 
	`usbi_îr
(
˘x
, "This version of Windows is NOT supported");

955 
r
 = 
LIBUSB_ERROR_NOT_SUPPORTED
;

956 
öô_exô
;

960 
	`usbi_muãx_öô
(&
auto˛aim_lock
, 
NULL
);

963 
	`öô_pﬁlög
();

966 i‡(
	`öô_dŒs
(Ë!
LIBUSB_SUCCESS
) {

967 
	`usbi_îr
(
˘x
, "couldÇotÑesolve DLL functions");

968  
LIBUSB_ERROR_NOT_FOUND
;

972 
i
=0; i<
USB_API_MAX
; i++) {

973 
usb_≠i_backíd
[
i
].
	`öô
(
SUB_API_NOTSET
, 
˘x
);

979 
r
 = 
LIBUSB_ERROR_NO_MEM
;

980 
i
 = 0; i < 2; i++) {

981 
timî_ªque°
[
i
] = 
	`Cª©eEvít
(
NULL
, 
TRUE
, 
FALSE
, NULL);

982 i‡(
timî_ªque°
[
i
] =
NULL
) {

983 
	`usbi_îr
(
˘x
, "couldÇŸ cª©êtimîÑeque°Évíà%d -áb‹tög", 
i
);

984 
öô_exô
;

987 
timî_ª•⁄£
 = 
	`Cª©eSem≠h‹e
(
NULL
, 0, 
MAX_TIMER_SEMAPHORES
, NULL);

988 i‡(
timî_ª•⁄£
 =
NULL
) {

989 
	`usbi_îr
(
˘x
, "couldÇot createÅimerÑesponse semaphore -áborting");

990 
öô_exô
;

992 
timî_muãx
 = 
	`Cª©eMuãx
(
NULL
, 
FALSE
, NULL);

993 i‡(
timî_muãx
 =
NULL
) {

994 
	`usbi_îr
(
˘x
, "couldÇot createÅimer mutex -áborting");

995 
öô_exô
;

997 
timî_thªad
 = (
HANDLE
)
	`_begöthªadex
(
NULL
, 0, 
wödows_˛ock_gëtime_thªaded
, NULL, 0, NULL);

998 i‡(
timî_thªad
 =
NULL
) {

999 
	`usbi_îr
(
˘x
, "UnableÅo createÅimerÅhread -áborting");

1000 
öô_exô
;

1002 
	`SëThªadAfföôyMask
(
timî_thªad
, 0);

1005 i‡(
	`WaôF‹SögÀObje˘
(
timî_ª•⁄£
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

1006 
	`usbi_îr
(
˘x
, "FailedÅo wait forÅimerÅhreadÅo becomeÑeady -áborting");

1007 
öô_exô
;

1011 
	`hèb_¸óã
(
˘x
, 
HTAB_SIZE
);

1014 
r
 = 
LIBUSB_SUCCESS
;

1016 
öô_exô
:

1017 i‡(!
c⁄cuºít_ußge
 && 
r
 !
LIBUSB_SUCCESS
) {

1018 i‡(
timî_thªad
) {

1019 
	`SëEvít
(
timî_ªque°
[1]);

1020 i‡(
WAIT_OBJECT_0
 !
	`WaôF‹SögÀObje˘
(
timî_thªad
, 
INFINITE
)) {

1021 
	`usbi_w¨n
(
˘x
, "couldÇot wait forÅimerÅhreadÅo quit");

1022 
	`Tîmö©eThªad
(
timî_thªad
, 1);

1025 
	`Clo£H™dÀ
(
timî_thªad
);

1026 
timî_thªad
 = 
NULL
;

1028 
i
 = 0; i < 2; i++) {

1029 i‡(
timî_ªque°
[
i
]) {

1030 
	`Clo£H™dÀ
(
timî_ªque°
[
i
]);

1031 
timî_ªque°
[
i
] = 
NULL
;

1034 i‡(
timî_ª•⁄£
) {

1035 
	`Clo£H™dÀ
(
timî_ª•⁄£
);

1036 
timî_ª•⁄£
 = 
NULL
;

1038 i‡(
timî_muãx
) {

1039 
	`Clo£H™dÀ
(
timî_muãx
);

1040 
timî_muãx
 = 
NULL
;

1042 
	`hèb_de°roy
();

1045 i‡(
r
 !
LIBUSB_SUCCESS
)

1046 --
c⁄cuºít_ußge
;

1048 
	`Rñó£Sem≠h‹e
(
£m≠h‹e
, 1, 
NULL
);

1049 
	`Clo£H™dÀ
(
£m≠h‹e
);

1050  
r
;

1051 
	}
}

1059 
	$f‹˚_hcd_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
)

1061 
wödows_devi˚_¥iv
 *
∑ª¡_¥iv
, *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1062 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

1063 
vid
, 
pid
;

1065 
dev
->
num_c⁄figuøti⁄s
 = 1;

1066 
¥iv
->
dev_des¸ùt‹
.
bLígth
 = (
USB_DEVICE_DESCRIPTOR
);

1067 
¥iv
->
dev_des¸ùt‹
.
bDes¸ùt‹Ty≥
 = 
USB_DEVICE_DESCRIPTOR_TYPE
;

1068 
¥iv
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
 = 1;

1069 
¥iv
->
a˘ive_c⁄fig
 = 1;

1071 i‡(
¥iv
->
∑ª¡_dev
 =
NULL
) {

1072 
	`usbi_îr
(
˘x
, "programássertion failed - HCD hub hasÇoÖarent");

1073  
LIBUSB_ERROR_NO_DEVICE
;

1075 
∑ª¡_¥iv
 = 
	`_devi˚_¥iv
(
¥iv
->
∑ª¡_dev
);

1076 i‡(
	`ssˇnf
(
∑ª¡_¥iv
->
∑th
, "\\\\.\\PCI#VEN_%04x&DEV_%04x%*s", &
vid
, &
pid
) == 2) {

1077 
¥iv
->
dev_des¸ùt‹
.
idVíd‹
 = (
uöt16_t
)
vid
;

1078 
¥iv
->
dev_des¸ùt‹
.
idProdu˘
 = (
uöt16_t
)
pid
;

1080 
	`usbi_w¨n
(
˘x
, "couldÇŸ in„∏VID/PID o‡HCD hub from '%s'", 
∑ª¡_¥iv
->
∑th
);

1081 
¥iv
->
dev_des¸ùt‹
.
idVíd‹
 = 0x1d6b;

1082 
¥iv
->
dev_des¸ùt‹
.
idProdu˘
 = 1;

1084  
LIBUSB_SUCCESS
;

1085 
	}
}

1090 
	$ˇche_c⁄fig_des¸ùt‹s
(
libusb_devi˚
 *
dev
, 
HANDLE
 
hub_h™dÀ
, * 
devi˚_id
)

1092 
DWORD
 
size
, 
ªt_size
;

1093 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev
);

1094 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1095 
r
;

1096 
uöt8_t
 
i
;

1098 
USB_CONFIGURATION_DESCRIPTOR_SHORT
 
cd_buf_sh‹t
;

1099 
PUSB_DESCRIPTOR_REQUEST
 
cd_buf_a˘uÆ
 = 
NULL
;

1100 
PUSB_CONFIGURATION_DESCRIPTOR
 
cd_d©a
 = 
NULL
;

1102 i‡(
dev
->
num_c⁄figuøti⁄s
 == 0)

1103  
LIBUSB_ERROR_INVALID_PARAM
;

1105 
¥iv
->
c⁄fig_des¸ùt‹
 = (**Ë
	`ˇŒoc
(
dev
->
num_c⁄figuøti⁄s
, (*));

1106 i‡(
¥iv
->
c⁄fig_des¸ùt‹
 =
NULL
)

1107  
LIBUSB_ERROR_NO_MEM
;

1108 
i
=0; i<
dev
->
num_c⁄figuøti⁄s
; i++)

1109 
¥iv
->
c⁄fig_des¸ùt‹
[
i
] = 
NULL
;

1111 
i
=0, 
r
=
LIBUSB_SUCCESS
; ; i++)

1114 
	`ß„_‰ì
(
cd_buf_a˘uÆ
);

1117 i‡((
i
 >
dev
->
num_c⁄figuøti⁄s
Ë|| (
r
 !
LIBUSB_SUCCESS
))

1120 
size
 = (
USB_CONFIGURATION_DESCRIPTOR_SHORT
);

1121 
	`mem£t
(&
cd_buf_sh‹t
, 0, 
size
);

1123 
cd_buf_sh‹t
.
ªq
.
C⁄√˘i⁄Index
 = (
ULONG
)
¥iv
->
p‹t
;

1124 
cd_buf_sh‹t
.
ªq
.
SëupPackë
.
bmReque°
 = 
LIBUSB_ENDPOINT_IN
;

1125 
cd_buf_sh‹t
.
ªq
.
SëupPackë
.
bReque°
 = 
USB_REQUEST_GET_DESCRIPTOR
;

1126 
cd_buf_sh‹t
.
ªq
.
SëupPackë
.
wVÆue
 = (
USB_CONFIGURATION_DESCRIPTOR_TYPE
 << 8Ë| 
i
;

1127 
cd_buf_sh‹t
.
ªq
.
SëupPackë
.
wIndex
 = 
i
;

1128 
cd_buf_sh‹t
.
ªq
.
SëupPackë
.
wLígth
 = (
USHORT
)(
size
 - (
USB_DESCRIPTOR_REQUEST
));

1133 i‡(!
	`Devi˚IoC⁄åﬁ
(
hub_h™dÀ
, 
IOCTL_USB_GET_DESCRIPTOR_FROM_NODE_CONNECTION
, &
cd_buf_sh‹t
, 
size
,

1134 &
cd_buf_sh‹t
, 
size
, &
ªt_size
, 
NULL
)) {

1135 
	`usbi_öfo
(
˘x
, "couldÇŸác˚s†c⁄figuøti⁄ des¸ùt‹ (dummyËf‹ '%s': %s", 
devi˚_id
, 
	`wödows_îr‹_°r
(0));

1136 
	`LOOP_BREAK
(
LIBUSB_ERROR_IO
);

1139 i‡((
ªt_size
 !
size
Ë|| (
cd_buf_sh‹t
.
d©a
.
wTŸÆLígth
 < (
USB_CONFIGURATION_DESCRIPTOR
))) {

1140 
	`usbi_öfo
(
˘x
, "u√x≥˘ed c⁄figuøti⁄ des¸ùt‹ sizê(dummyËf‹ '%s'.", 
devi˚_id
);

1141 
	`LOOP_BREAK
(
LIBUSB_ERROR_IO
);

1144 
size
 = (
USB_DESCRIPTOR_REQUEST
Ë+ 
cd_buf_sh‹t
.
d©a
.
wTŸÆLígth
;

1145 i‡((
cd_buf_a˘uÆ
 = (
PUSB_DESCRIPTOR_REQUEST
Ë
	`ˇŒoc
(1, 
size
)Ë=
NULL
) {

1146 
	`usbi_îr
(
˘x
, "couldÇŸáŒoˇã c⁄figuøti⁄ des¸ùt‹ buf„∏f‹ '%s'.", 
devi˚_id
);

1147 
	`LOOP_BREAK
(
LIBUSB_ERROR_NO_MEM
);

1149 
	`mem£t
(
cd_buf_a˘uÆ
, 0, 
size
);

1152 
cd_buf_a˘uÆ
->
C⁄√˘i⁄Index
 = (
ULONG
)
¥iv
->
p‹t
;

1153 
cd_buf_a˘uÆ
->
SëupPackë
.
bmReque°
 = 
LIBUSB_ENDPOINT_IN
;

1154 
cd_buf_a˘uÆ
->
SëupPackë
.
bReque°
 = 
USB_REQUEST_GET_DESCRIPTOR
;

1155 
cd_buf_a˘uÆ
->
SëupPackë
.
wVÆue
 = (
USB_CONFIGURATION_DESCRIPTOR_TYPE
 << 8Ë| 
i
;

1156 
cd_buf_a˘uÆ
->
SëupPackë
.
wIndex
 = 
i
;

1157 
cd_buf_a˘uÆ
->
SëupPackë
.
wLígth
 = (
USHORT
)(
size
 - (
USB_DESCRIPTOR_REQUEST
));

1159 i‡(!
	`Devi˚IoC⁄åﬁ
(
hub_h™dÀ
, 
IOCTL_USB_GET_DESCRIPTOR_FROM_NODE_CONNECTION
, 
cd_buf_a˘uÆ
, 
size
,

1160 
cd_buf_a˘uÆ
, 
size
, &
ªt_size
, 
NULL
)) {

1161 
	`usbi_îr
(
˘x
, "couldÇŸác˚s†c⁄figuøti⁄ des¸ùt‹ (a˘uÆËf‹ '%s': %s", 
devi˚_id
, 
	`wödows_îr‹_°r
(0));

1162 
	`LOOP_BREAK
(
LIBUSB_ERROR_IO
);

1165 
cd_d©a
 = (
PUSB_CONFIGURATION_DESCRIPTOR
)((
UCHAR
*)
cd_buf_a˘uÆ
+(
USB_DESCRIPTOR_REQUEST
));

1167 i‡((
size
 !
ªt_size
Ë|| (
cd_d©a
->
wTŸÆLígth
 !
cd_buf_sh‹t
.
d©a
.wTotalLength)) {

1168 
	`usbi_îr
(
˘x
, "u√x≥˘ed c⁄figuøti⁄ des¸ùt‹ sizê◊˘uÆËf‹ '%s'.", 
devi˚_id
);

1169 
	`LOOP_BREAK
(
LIBUSB_ERROR_IO
);

1172 i‡(
cd_d©a
->
bDes¸ùt‹Ty≥
 !
USB_CONFIGURATION_DESCRIPTOR_TYPE
) {

1173 
	`usbi_îr
(
˘x
, "nŸá c⁄figuøti⁄ des¸ùt‹ f‹ '%s'", 
devi˚_id
);

1174 
	`LOOP_BREAK
(
LIBUSB_ERROR_IO
);

1177 
	`usbi_dbg
("cached config descriptor %d (bConfigurationValue=%d, %d bytes)",

1178 
i
, 
cd_d©a
->
bC⁄figuøti⁄VÆue
, cd_d©a->
wTŸÆLígth
);

1181 
¥iv
->
c⁄fig_des¸ùt‹
[
i
] = (*Ë
	`mÆloc
(
cd_d©a
->
wTŸÆLígth
);

1182 i‡(
¥iv
->
c⁄fig_des¸ùt‹
[
i
] =
NULL
)

1183 
	`LOOP_BREAK
(
LIBUSB_ERROR_NO_MEM
);

1184 
	`mem˝y
(
¥iv
->
c⁄fig_des¸ùt‹
[
i
], 
cd_d©a
, cd_d©a->
wTŸÆLígth
);

1186  
LIBUSB_SUCCESS
;

1187 
	}
}

1192 
	$öô_devi˚
(
libusb_devi˚
* 
dev
, libusb_devi˚* 
∑ª¡_dev
,

1193 
uöt8_t
 
p‹t_numbî
, * 
devi˚_id
, 
DWORD
 
devö°
)

1195 
HANDLE
 
h™dÀ
;

1196 
DWORD
 
size
;

1197 
USB_NODE_CONNECTION_INFORMATION_EX
 
c⁄n_öfo
;

1198 
USB_NODE_CONNECTION_INFORMATION_EX_V2
 
c⁄n_öfo_v2
;

1199 
wödows_devi˚_¥iv
 *
¥iv
, *
∑ª¡_¥iv
;

1200 
libusb_c⁄ãxt
 *
˘x
;

1201 
libusb_devi˚
* 
tmp_dev
;

1202 
i
;

1204 i‡((
dev
 =
NULL
Ë|| (
∑ª¡_dev
 == NULL)) {

1205  
LIBUSB_ERROR_NOT_FOUND
;

1207 
˘x
 = 
	`DEVICE_CTX
(
dev
);

1208 
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1209 
∑ª¡_¥iv
 = 
	`_devi˚_¥iv
(
∑ª¡_dev
);

1210 i‡(
∑ª¡_¥iv
->
≠ib
->
id
 !
USB_API_HUB
) {

1211 
	`usbi_w¨n
(
˘x
, "∑ª¡ f‹ devi˚ '%s' i†nŸá hub", 
devi˚_id
);

1212  
LIBUSB_ERROR_NOT_FOUND
;

1217 i‡(
∑ª¡_dev
->
bus_numbî
 == 0) {

1218 
i
=2; ; i++) {

1219 
tmp_dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
	`gë_™˚°‹_£ssi⁄_id
(
devö°
, 
i
));

1220 i‡(
tmp_dev
 =
NULL
) ;

1221 i‡(
tmp_dev
->
bus_numbî
 != 0) {

1222 
	`usbi_dbg
("gŸ bu†numbî fromán˚°‹ #%d", 
i
);

1223 
∑ª¡_dev
->
bus_numbî
 = 
tmp_dev
->bus_number;

1224 
	`libusb_uƒef_devi˚
(
tmp_dev
);

1227 
	`libusb_uƒef_devi˚
(
tmp_dev
);

1230 i‡(
∑ª¡_dev
->
bus_numbî
 == 0) {

1231 
	`usbi_îr
(
˘x
, "¥ogømás£πi⁄ faûed: u«bÀÅÿfödán˚°‹ bu†numbî f‹ '%s'", 
devi˚_id
);

1232  
LIBUSB_ERROR_NOT_FOUND
;

1234 
dev
->
bus_numbî
 = 
∑ª¡_dev
->bus_number;

1235 
¥iv
->
p‹t
 = 
p‹t_numbî
;

1236 
dev
->
p‹t_numbî
 =Öort_number;

1237 
¥iv
->
dïth
 = 
∑ª¡_¥iv
->depth + 1;

1238 
¥iv
->
∑ª¡_dev
 =Öarent_dev;

1239 
dev
->
∑ª¡_dev
 =Öarent_dev;

1242 i‡(
dev
->
devi˚_addªss
 != 0) {

1243  
LIBUSB_SUCCESS
;

1245 
	`mem£t
(&
c⁄n_öfo
, 0, (conn_info));

1246 i‡(
¥iv
->
dïth
 != 0) {

1247 
h™dÀ
 = 
	`Cª©eFûeA
(
∑ª¡_¥iv
->
∑th
, 
GENERIC_WRITE
, 
FILE_SHARE_WRITE
, 
NULL
, 
OPEN_EXISTING
,

1248 
FILE_FLAG_OVERLAPPED
, 
NULL
);

1249 i‡(
h™dÀ
 =
INVALID_HANDLE_VALUE
) {

1250 
	`usbi_w¨n
(
˘x
, "couldÇŸ o≥¿hub %s: %s", 
∑ª¡_¥iv
->
∑th
, 
	`wödows_îr‹_°r
(0));

1251  
LIBUSB_ERROR_ACCESS
;

1253 
size
 = (
c⁄n_öfo
);

1254 
c⁄n_öfo
.
C⁄√˘i⁄Index
 = (
ULONG
)
p‹t_numbî
;

1256 i‡(!
	`Devi˚IoC⁄åﬁ
(
h™dÀ
, 
IOCTL_USB_GET_NODE_CONNECTION_INFORMATION_EX
, &
c⁄n_öfo
, 
size
,

1257 &
c⁄n_öfo
, 
size
, &size, 
NULL
)) {

1258 
	`usbi_w¨n
(
˘x
, "couldÇot getÇode connection information for device '%s': %s",

1259 
devi˚_id
, 
	`wödows_îr‹_°r
(0));

1260 
	`ß„_˛o£h™dÀ
(
h™dÀ
);

1261  
LIBUSB_ERROR_NO_DEVICE
;

1263 i‡(
c⁄n_öfo
.
C⁄√˘i⁄Sètus
 =
NoDevi˚C⁄√˘ed
) {

1264 
	`usbi_îr
(
˘x
, "devi˚ '%s' i†nÿl⁄gî c⁄√˘ed!", 
devi˚_id
);

1265 
	`ß„_˛o£h™dÀ
(
h™dÀ
);

1266  
LIBUSB_ERROR_NO_DEVICE
;

1268 
	`mem˝y
(&
¥iv
->
dev_des¸ùt‹
, &(
c⁄n_öfo
.
Devi˚Des¸ùt‹
), (
USB_DEVICE_DESCRIPTOR
));

1269 
dev
->
num_c⁄figuøti⁄s
 = 
¥iv
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
;

1270 
¥iv
->
a˘ive_c⁄fig
 = 
c⁄n_öfo
.
CuºítC⁄figuøti⁄VÆue
;

1271 
	`usbi_dbg
("found %d c⁄figuøti⁄†◊˘ivêc⁄f: %d)", 
dev
->
num_c⁄figuøti⁄s
, 
¥iv
->
a˘ive_c⁄fig
);

1273 i‡(
	`ˇche_c⁄fig_des¸ùt‹s
(
dev
, 
h™dÀ
, 
devi˚_id
Ë!
LIBUSB_SUCCESS
) {

1274 
dev
->
num_c⁄figuøti⁄s
 = 0;

1275 
¥iv
->
dev_des¸ùt‹
.
bNumC⁄figuøti⁄s
 = 0;

1279 i‡(
wödows_vîsi⁄
 >
WINDOWS_8
) {

1280 
	`mem£t
(&
c⁄n_öfo_v2
, 0, (conn_info_v2));

1281 
size
 = (
c⁄n_öfo_v2
);

1282 
c⁄n_öfo_v2
.
C⁄√˘i⁄Index
 = (
ULONG
)
p‹t_numbî
;

1283 
c⁄n_öfo_v2
.
Lígth
 = 
size
;

1284 
c⁄n_öfo_v2
.
Suµ‹ãdUsbPrŸocﬁs
.
Usb300
 = 1;

1285 i‡(!
	`Devi˚IoC⁄åﬁ
(
h™dÀ
, 
IOCTL_USB_GET_NODE_CONNECTION_INFORMATION_EX_V2
,

1286 &
c⁄n_öfo_v2
, 
size
, &c⁄n_öfo_v2, size, &size, 
NULL
)) {

1287 
	`usbi_w¨n
(
˘x
, "couldÇot getÇode connection information (V2) for device '%s': %s",

1288 
devi˚_id
, 
	`wödows_îr‹_°r
(0));

1289 } i‡(
c⁄n_öfo_v2
.
Fœgs
.
Devi˚IsO≥øtögAtSu≥rS≥edOrHighî
) {

1290 
c⁄n_öfo
.
S≥ed
 = 3;

1294 
	`ß„_˛o£h™dÀ
(
h™dÀ
);

1296 i‡(
c⁄n_öfo
.
Devi˚Addªss
 > 
UINT8_MAX
) {

1297 
	`usbi_îr
(
˘x
, "programássertion failed: deviceáddress overflow");

1299 
dev
->
devi˚_addªss
 = (
uöt8_t
)
c⁄n_öfo
.
Devi˚Addªss
 + 1;

1300 i‡(
dev
->
devi˚_addªss
 == 1) {

1301 
	`usbi_îr
(
˘x
, "programássertion failed: deviceáddress collision withÑoot hub");

1303 
c⁄n_öfo
.
S≥ed
) {

1304 0: 
dev
->
•ìd
 = 
LIBUSB_SPEED_LOW
; ;

1305 1: 
dev
->
•ìd
 = 
LIBUSB_SPEED_FULL
; ;

1306 2: 
dev
->
•ìd
 = 
LIBUSB_SPEED_HIGH
; ;

1307 3: 
dev
->
•ìd
 = 
LIBUSB_SPEED_SUPER
; ;

1309 
	`usbi_w¨n
(
˘x
, "GŸ unknow¿devi˚ s≥ed %d", 
c⁄n_öfo
.
S≥ed
);

1313 
dev
->
devi˚_addªss
 = 1;

1314 
	`f‹˚_hcd_devi˚_des¸ùt‹
(
dev
);

1317 
	`usbi_ßnôize_devi˚
(
dev
);

1319 
	`usbi_dbg
("(bus: %d,áddr: %d, depth: %d,Öort: %d): '%s'",

1320 
dev
->
bus_numbî
, dev->
devi˚_addªss
, 
¥iv
->
dïth
,Öriv->
p‹t
, 
devi˚_id
);

1322  
LIBUSB_SUCCESS
;

1323 
	}
}

1326 
	$gë_≠i_ty≥
(
libusb_c⁄ãxt
 *
˘x
, 
HDEVINFO
 *
dev_öfo
,

1327 
SP_DEVINFO_DATA
 *
dev_öfo_d©a
, *
≠i
, *
sub_≠i
)

1330 
drivî_lookup
 
lookup
[3] = {

1331 {"\0\0", 
SPDRP_SERVICE
, "driver"},

1332 {"\0\0", 
SPDRP_UPPERFILTERS
, "upper filter driver"},

1333 {"\0\0", 
SPDRP_LOWERFILTERS
, "lower filter driver"}

1335 
DWORD
 
size
, 
ªg_ty≥
;

1336 
k
, 
l
;

1337 
i
, 
j
;

1339 *
≠i
 = 
USB_API_UNSUPPORTED
;

1340 *
sub_≠i
 = 
SUB_API_NOTSET
;

1342 
k
=0; k<3; k++) {

1343 i‡(
	`pSëupDiGëDevi˚Regi°ryPr›îtyA
(*
dev_öfo
, 
dev_öfo_d©a
, 
lookup
[
k
].
ªg_¥›
,

1344 &
ªg_ty≥
, (
BYTE
*)
lookup
[
k
].
li°
, 
MAX_KEY_LENGTH
, &
size
)) {

1346 i‡(
lookup
[
k
].
ªg_¥›
 =
SPDRP_SERVICE
) {

1348 
lookup
[
k
].
li°
[
	`ß„_°æí
(lookup[k].list)+1] = 0;

1353 
l
=0; (
lookup
[
k
].
li°
[l] != 0) || (lookup[k].list[l+1] != 0);Ü++) {

1354 i‡(
lookup
[
k
].
li°
[
l
] == 0) {

1355 
lookup
[
k
].
li°
[
l
] = 
LIST_SEPARATOR
;

1358 
	`usbi_dbg
("%s(s): %s", 
lookup
[
k
].
desig«ti⁄
,Üookup[k].
li°
);

1360 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_INVALID_DATA
) {

1361 
	`usbi_dbg
("couldÇŸác˚s†%s: %s", 
lookup
[
k
].
desig«ti⁄
, 
	`wödows_îr‹_°r
(0));

1363 
lookup
[
k
].
li°
[0] = 0;

1367 
i
=1; i<
USB_API_MAX
; i++) {

1368 
k
=0; k<3; k++) {

1369 
j
 = 
	`gë_sub_≠i
(
lookup
[
k
].
li°
, 
i
);

1370 i‡(
j
 >= 0) {

1371 
	`usbi_dbg
("matched %sÇameágainst %s",

1372 
lookup
[
k
].
desig«ti⁄
, (
i
!=
USB_API_WINUSBX
)?
usb_≠i_backíd
[i].desig«ti⁄:
sub_≠i_«me
[
j
]);

1373 *
≠i
 = 
i
;

1374 *
sub_≠i
 = 
j
;

1379 
	}
}

1381 
	$£t_composôe_öãrÁ˚
(
libusb_c⁄ãxt
* 
˘x
, 
libusb_devi˚
* 
dev
,

1382 * 
dev_öãrÁ˚_∑th
, * 
devi˚_id
, 
≠i
, 
sub_≠i
)

1384 
i
;

1385 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1386 
öãrÁ˚_numbî
;

1388 i‡(
¥iv
->
≠ib
->
id
 !
USB_API_COMPOSITE
) {

1389 
	`usbi_îr
(
˘x
, "¥ogømás£πi⁄ faûed: '%s' i†nŸ composôe", 
devi˚_id
);

1390  
LIBUSB_ERROR_NO_DEVICE
;

1396 
öãrÁ˚_numbî
 = 0;

1397 
i
=0; 
devi˚_id
[i] != 0; ) {

1398 i‡–(
devi˚_id
[
i
++] == 'M') && (device_id[i++] == 'I')

1399 && (
devi˚_id
[
i
++] == '_') ) {

1400 
öãrÁ˚_numbî
 = (
devi˚_id
[
i
++] - '0')*10;

1401 
öãrÁ˚_numbî
 +
devi˚_id
[
i
] - '0';

1406 i‡(
devi˚_id
[
i
] == 0) {

1407 
	`usbi_w¨n
(
˘x
, "failureÅoÑead interfaceÇumber for %s. Using default value %d",

1408 
devi˚_id
, 
öãrÁ˚_numbî
);

1411 i‡(
¥iv
->
usb_öãrÁ˚
[
öãrÁ˚_numbî
].
∑th
 !
NULL
) {

1412 i‡(
≠i
 =
USB_API_HID
) {

1414 
	`usbi_dbg
("interface[%d]álready set - ignoring HID collection: %s",

1415 
öãrÁ˚_numbî
, 
devi˚_id
);

1416  
LIBUSB_ERROR_ACCESS
;

1419 
	`ß„_‰ì
(
¥iv
->
usb_öãrÁ˚
[
öãrÁ˚_numbî
].
∑th
);

1422 
	`usbi_dbg
("öãrÁ˚[%d] = %s", 
öãrÁ˚_numbî
, 
dev_öãrÁ˚_∑th
);

1423 
¥iv
->
usb_öãrÁ˚
[
öãrÁ˚_numbî
].
∑th
 = 
dev_öãrÁ˚_∑th
;

1424 
¥iv
->
usb_öãrÁ˚
[
öãrÁ˚_numbî
].
≠ib
 = &
usb_≠i_backíd
[
≠i
];

1425 
¥iv
->
usb_öãrÁ˚
[
öãrÁ˚_numbî
].
sub_≠i
 = sub_api;

1426 i‡((
≠i
 =
USB_API_HID
Ë&& (
¥iv
->
hid
 =
NULL
)) {

1427 
¥iv
->
hid
 = (
hid_devi˚_¥iv
*Ë
	`ˇŒoc
(1, (hid_device_priv));

1428 i‡(
¥iv
->
hid
 =
NULL
)

1429  
LIBUSB_ERROR_NO_MEM
;

1432  
LIBUSB_SUCCESS
;

1433 
	}
}

1435 
	$£t_hid_öãrÁ˚
(
libusb_c⁄ãxt
* 
˘x
, 
libusb_devi˚
* 
dev
,

1436 * 
dev_öãrÁ˚_∑th
)

1438 
i
;

1439 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1441 i‡(
¥iv
->
hid
 =
NULL
) {

1442 
	`usbi_îr
(
˘x
, "programássertion failed:Öarent isÇot HID");

1443  
LIBUSB_ERROR_NO_DEVICE
;

1445 i‡(
¥iv
->
hid
->
nb_öãrÁ˚s
 =
USB_MAXINTERFACES
) {

1446 
	`usbi_îr
(
˘x
, "programássertion failed: max USB interfacesÑeached for HID device");

1447  
LIBUSB_ERROR_NO_DEVICE
;

1449 
i
=0; i<
¥iv
->
hid
->
nb_öãrÁ˚s
; i++) {

1450 i‡(
	`ß„_°rcmp
(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
, 
dev_öãrÁ˚_∑th
) == 0) {

1451 
	`usbi_dbg
("öãrÁ˚[%d]áÃódy sëÅÿ%s", 
i
, 
dev_öãrÁ˚_∑th
);

1452  
LIBUSB_SUCCESS
;

1456 
¥iv
->
usb_öãrÁ˚
[¥iv->
hid
->
nb_öãrÁ˚s
].
∑th
 = 
dev_öãrÁ˚_∑th
;

1457 
¥iv
->
usb_öãrÁ˚
[¥iv->
hid
->
nb_öãrÁ˚s
].
≠ib
 = &
usb_≠i_backíd
[
USB_API_HID
];

1458 
	`usbi_dbg
("öãrÁ˚[%d] = %s", 
¥iv
->
hid
->
nb_öãrÁ˚s
, 
dev_öãrÁ˚_∑th
);

1459 
¥iv
->
hid
->
nb_öãrÁ˚s
++;

1460  
LIBUSB_SUCCESS
;

1461 
	}
}

1466 
	$wödows_gë_devi˚_li°
(
libusb_c⁄ãxt
 *
˘x
, 
discovîed_devs
 **
_discdevs
)

1468 
discovîed_devs
 *
discdevs
;

1469 
HDEVINFO
 
dev_öfo
 = { 0 };

1470 c⁄° * 
usb_˛ass
[] = {"USB", "NUSB3", "IUSB3"};

1471 
SP_DEVINFO_DATA
 
dev_öfo_d©a
 = { 0 };

1472 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
dev_öãrÁ˚_dëaûs
 = 
NULL
;

1473 
GUID
 
hid_guid
;

1474 
	#MAX_ENUM_GUIDS
 64

	)

1475 c⁄° 
GUID
* 
guid
[
MAX_ENUM_GUIDS
];

1476 
	#HCD_PASS
 0

	)

1477 
	#HUB_PASS
 1

	)

1478 
	#GEN_PASS
 2

	)

1479 
	#DEV_PASS
 3

	)

1480 
	#HID_PASS
 4

	)

1481 
r
 = 
LIBUSB_SUCCESS
;

1482 
≠i
, 
sub_≠i
;

1483 
size_t
 
˛ass_ödex
 = 0;

1484 
nb_guids
, 
∑ss
, 
i
, 
j
, 
™˚°‹
;

1485 
∑th
[
MAX_PATH_LENGTH
];

1486 
°rbuf
[
MAX_PATH_LENGTH
];

1487 
libusb_devi˚
 *
dev
, *
∑ª¡_dev
;

1488 
wödows_devi˚_¥iv
 *
¥iv
, *
∑ª¡_¥iv
;

1489 * 
dev_öãrÁ˚_∑th
 = 
NULL
;

1490 * 
dev_id_∑th
 = 
NULL
;

1491 
£ssi⁄_id
;

1492 
DWORD
 
size
, 
ªg_ty≥
, 
p‹t_ƒ
, 
ö°Æl_°©e
;

1493 
HKEY
 
key
;

1494 
WCHAR
 
guid_°rög_w
[
MAX_GUID_STRING_LENGTH
];

1495 
GUID
* 
if_guid
;

1496 
LONG
 
s
;

1498 
libusb_devi˚
** 
uƒef_li°
;

1499 
uƒef_size
 = 64;

1500 
uƒef_cur
 = 0;

1511 
guid
[
HCD_PASS
] = &
GUID_DEVINTERFACE_USB_HOST_CONTROLLER
;

1512 
guid
[
HUB_PASS
] = &
GUID_DEVINTERFACE_USB_HUB
;

1513 
guid
[
GEN_PASS
] = 
NULL
;

1514 
guid
[
DEV_PASS
] = &
GUID_DEVINTERFACE_USB_DEVICE
;

1515 
	`HidD_GëHidGuid
(&
hid_guid
);

1516 
guid
[
HID_PASS
] = &
hid_guid
;

1517 
nb_guids
 = 
HID_PASS
+1;

1519 
uƒef_li°
 = (
libusb_devi˚
**Ë
	`ˇŒoc
(
uƒef_size
, (libusb_device*));

1520 i‡(
uƒef_li°
 =
NULL
) {

1521  
LIBUSB_ERROR_NO_MEM
;

1524 
∑ss
 = 0; (’as†< 
nb_guids
Ë&& (
r
 =
LIBUSB_SUCCESS
));Öass++) {

1526 #ifde‡
ENUM_DEBUG


1527 c⁄° *
∑s¢ame
[] = { "HCD", "HUB", "GEN", "DEV", "HID", "EXT" };

1528 
	`usbi_dbg
("\n#### PROCESSING %s†%s", 
∑s¢ame
[(
∑ss
<=
HID_PASS
)?pass:HID_PASS+1],

1529 (
∑ss
!=
GEN_PASS
)?
	`guid_to_°rög
(
guid
[pass]):"");

1531 
i
 = 0; ; i++) {

1534 
	`ß„_‰ì
(
dev_öãrÁ˚_dëaûs
);

1535 
	`ß„_‰ì
(
dev_öãrÁ˚_∑th
);

1536 
	`ß„_‰ì
(
dev_id_∑th
);

1537 
¥iv
 = 
∑ª¡_¥iv
 = 
NULL
;

1538 
dev
 = 
∑ª¡_dev
 = 
NULL
;

1541 i‡(
r
 !
LIBUSB_SUCCESS
) {

1544 i‡((
∑ss
 =
HCD_PASS
Ë&& (
i
 =
UINT8_MAX
)) {

1545 
	`usbi_w¨n
(
˘x
, "¥ogømás£πi⁄ faûed - found m‹êth™ %d bu£s, skùpögÅhêª°.", 
UINT8_MAX
);

1548 i‡(
∑ss
 !
GEN_PASS
) {

1550 
dev_öãrÁ˚_dëaûs
 = 
	`gë_öãrÁ˚_dëaûs
(
˘x
, &
dev_öfo
, &
dev_öfo_d©a
, 
guid
[
∑ss
], 
i
);

1551 i‡(
dev_öãrÁ˚_dëaûs
 =
NULL
) {

1554 
dev_öãrÁ˚_∑th
 = 
	`ßnôize_∑th
(
dev_öãrÁ˚_dëaûs
->
Devi˚P©h
);

1555 i‡(
dev_öãrÁ˚_∑th
 =
NULL
) {

1556 
	`usbi_w¨n
(
˘x
, "couldÇŸ s™ôizêdevi˚ i¡îÁ˚Ö©h f‹ '%s'", 
dev_öãrÁ˚_dëaûs
->
Devi˚P©h
);

1564 ; 
˛ass_ödex
 < 
	`ARRAYSIZE
(
usb_˛ass
); class_index++) {

1565 i‡(
	`gë_devöfo_d©a
(
˘x
, &
dev_öfo
, &
dev_öfo_d©a
, 
usb_˛ass
[
˛ass_ödex
], 
i
))

1567 
i
 = 0;

1569 i‡(
˛ass_ödex
 >
	`ARRAYSIZE
(
usb_˛ass
))

1575 i‡(
	`CM_Gë_Devi˚_IDA
(
dev_öfo_d©a
.
DevIn°
, 
∑th
, ’©h), 0Ë!
CR_SUCCESS
) {

1576 
	`usbi_w¨n
(
˘x
, "couldÇotÑeadÅhe device idÖath for devinst %X, skipping",

1577 
dev_öfo_d©a
.
DevIn°
);

1580 
dev_id_∑th
 = 
	`ßnôize_∑th
(
∑th
);

1581 i‡(
dev_id_∑th
 =
NULL
) {

1582 
	`usbi_w¨n
(
˘x
, "couldÇot sanitize device idÖath for devinst %X, skipping",

1583 
dev_öfo_d©a
.
DevIn°
);

1586 #ifde‡
ENUM_DEBUG


1587 
	`usbi_dbg
("PRO: %s", 
dev_id_∑th
);

1591 
p‹t_ƒ
 = 0;

1592 i‡((
∑ss
 >
HUB_PASS
Ë&& (∑s†<
GEN_PASS
)) {

1593 i‡–(!
	`pSëupDiGëDevi˚Regi°ryPr›îtyA
(
dev_öfo
, &
dev_öfo_d©a
, 
SPDRP_ADDRESS
,

1594 &
ªg_ty≥
, (
BYTE
*)&
p‹t_ƒ
, 4, &
size
))

1595 || (
size
 != 4) ) {

1596 
	`usbi_w¨n
(
˘x
, "couldÇotÑetrieveÖortÇumber for device '%s', skipping: %s",

1597 
dev_id_∑th
, 
	`wödows_îr‹_°r
(0));

1603 
≠i
 = 
USB_API_UNSUPPORTED
;

1604 
sub_≠i
 = 
SUB_API_NOTSET
;

1605 
∑ss
) {

1606 
HCD_PASS
:

1608 
GEN_PASS
:

1610 
size
 = (
°rbuf
);

1611 i‡(!
	`pSëupDiGëDevi˚Regi°ryPr›îtyA
(
dev_öfo
, &
dev_öfo_d©a
, 
SPDRP_DRIVER
,

1612 &
ªg_ty≥
, (
BYTE
*)
°rbuf
, 
size
, &size)) {

1613 
	`usbi_öfo
(
˘x
, "Thêfﬁlowög devi˚ ha†nÿdrivî: '%s'", 
dev_id_∑th
);

1614 
	`usbi_öfo
(
˘x
, "libusb willÇot beábleÅoáccess it.");

1617 
key
 = 
	`pSëupDiO≥nDevRegKey
(
dev_öfo
, &
dev_öfo_d©a
, 
DICS_FLAG_GLOBAL
, 0, 
DIREG_DEV
, 
KEY_READ
);

1618 i‡(
key
 !
INVALID_HANDLE_VALUE
) {

1619 
size
 = (
guid_°rög_w
);

1620 
s
 = 
	`pRegQuîyVÆueExW
(
key
, 
L
"Devi˚I¡îÁ˚GUIDs", 
NULL
, &
ªg_ty≥
,

1621 (
BYTE
*)
guid_°rög_w
, &
size
);

1622 
	`pRegClo£Key
(
key
);

1623 i‡(
s
 =
ERROR_SUCCESS
) {

1624 i‡(
nb_guids
 >
MAX_ENUM_GUIDS
) {

1626 
	`usbi_îr
(
˘x
, "programássertion failed:Åoo many GUIDs");

1627 
	`LOOP_BREAK
(
LIBUSB_ERROR_OVERFLOW
);

1629 
if_guid
 = (
GUID
*Ë
	`ˇŒoc
(1, (GUID));

1630 
	`pCLSIDFromSåög
(
guid_°rög_w
, 
if_guid
);

1631 
guid
[
nb_guids
++] = 
if_guid
;

1632 
	`usbi_dbg
("exå®GUID: %s", 
	`guid_to_°rög
(
if_guid
));

1636 
HID_PASS
:

1637 
≠i
 = 
USB_API_HID
;

1641 i‡–(!
	`pSëupDiGëDevi˚Regi°ryPr›îtyA
(
dev_öfo
, &
dev_öfo_d©a
, 
SPDRP_INSTALL_STATE
,

1642 &
ªg_ty≥
, (
BYTE
*)&
ö°Æl_°©e
, 4, &
size
))

1643 || (
size
 != 4) ){

1644 
	`usbi_w¨n
(
˘x
, "couldÇot detect installation state of driver for '%s': %s",

1645 
dev_id_∑th
, 
	`wödows_îr‹_°r
(0));

1646 } i‡(
ö°Æl_°©e
 != 0) {

1647 
	`usbi_w¨n
(
˘x
, "driver for device '%s' isÑeportingán issue (code: %d) - skipping",

1648 
dev_id_∑th
, 
ö°Æl_°©e
);

1651 
	`gë_≠i_ty≥
(
˘x
, &
dev_öfo
, &
dev_öfo_d©a
, &
≠i
, &
sub_≠i
);

1656 
∑ss
) {

1657 
HCD_PASS
:

1658 
DEV_PASS
:

1659 
HUB_PASS
:

1663 
∑ª¡_dev
 = 
NULL
;

1664 
™˚°‹
 = 1; 
∑ª¡_dev
 =
NULL
;áncestor++) {

1665 
£ssi⁄_id
 = 
	`gë_™˚°‹_£ssi⁄_id
(
dev_öfo_d©a
.
DevIn°
, 
™˚°‹
);

1666 i‡(
£ssi⁄_id
 == 0) {

1669 
∑ª¡_dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
£ssi⁄_id
);

1671 i‡(
∑ª¡_dev
 =
NULL
) {

1672 
	`usbi_dbg
("u∆i°edán˚°‹ f‹ '%s' (n⁄ USB HID,Çewly c⁄√˘ed,Étc.Ë- ign‹ög", 
dev_id_∑th
);

1675 
∑ª¡_¥iv
 = 
	`_devi˚_¥iv
(
∑ª¡_dev
);

1677 i‡–(
∑ss
 =
GEN_PASS
Ë&& (
∑ª¡_¥iv
->
≠ib
->
id
 !
USB_API_HUB
) ) {

1678 
	`libusb_uƒef_devi˚
(
∑ª¡_dev
);

1685 i‡(
∑ss
 <
DEV_PASS
) {

1687 
£ssi⁄_id
 = 
	`hèb_hash
(
dev_id_∑th
);

1688 
dev
 = 
	`usbi_gë_devi˚_by_£ssi⁄_id
(
˘x
, 
£ssi⁄_id
);

1689 i‡(
dev
 =
NULL
) {

1690 i‡(
∑ss
 =
DEV_PASS
) {

1692 
	`usbi_w¨n
(
˘x
, "'%s' was only detected inÜateÖass (newly connected device?)"

1693 " - ign‹ög", 
dev_id_∑th
);

1696 
	`usbi_dbg
("ÆloˇtögÇew devi˚ f‹ sessi⁄ [%X]", 
£ssi⁄_id
);

1697 i‡((
dev
 = 
	`usbi_Æloc_devi˚
(
˘x
, 
£ssi⁄_id
)Ë=
NULL
) {

1698 
	`LOOP_BREAK
(
LIBUSB_ERROR_NO_MEM
);

1700 
	`wödows_devi˚_¥iv_öô
(
dev
);

1702 
	`usbi_dbg
("foundÉxisting device for session [%X] (%d.%d)",

1703 
£ssi⁄_id
, 
dev
->
bus_numbî
, dev->
devi˚_addªss
);

1706 
uƒef_li°
[
uƒef_cur
++] = 
dev
;

1707 i‡(
uƒef_cur
 >
uƒef_size
) {

1708 
uƒef_size
 += 64;

1709 
uƒef_li°
 = 
	`usbi_ªÆlocf
(uƒef_li°, 
uƒef_size
*(
libusb_devi˚
*));

1710 i‡(
uƒef_li°
 =
NULL
) {

1711 
	`usbi_îr
(
˘x
, "couldÇotÑeallocÜist for unref -áborting.");

1712 
	`LOOP_BREAK
(
LIBUSB_ERROR_NO_MEM
);

1715 
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1719 
∑ss
) {

1720 
HCD_PASS
:

1721 
dev
->
bus_numbî
 = (
uöt8_t
)(
i
 + 1);

1722 
dev
->
devi˚_addªss
 = 0;

1723 
dev
->
num_c⁄figuøti⁄s
 = 0;

1724 
¥iv
->
≠ib
 = &
usb_≠i_backíd
[
USB_API_HUB
];

1725 
¥iv
->
sub_≠i
 = 
SUB_API_NOTSET
;

1726 
¥iv
->
dïth
 = 
UINT8_MAX
;

1727 
¥iv
->
∑th
 = 
dev_öãrÁ˚_∑th
; dev_öãrÁ˚_∑th = 
NULL
;

1729 
HUB_PASS
:

1730 
DEV_PASS
:

1732 i‡(
¥iv
->
∑th
 !
NULL
)

1735 
¥iv
->
∑th
 = 
dev_öãrÁ˚_∑th
; dev_öãrÁ˚_∑th = 
NULL
;

1736 
¥iv
->
≠ib
 = &
usb_≠i_backíd
[
≠i
];

1737 
¥iv
->
sub_≠i
 = sub_api;

1738 
≠i
) {

1739 
USB_API_COMPOSITE
:

1740 
USB_API_HUB
:

1742 
USB_API_HID
:

1743 
¥iv
->
hid
 = 
	`ˇŒoc
(1, (
hid_devi˚_¥iv
));

1744 i‡(
¥iv
->
hid
 =
NULL
) {

1745 
	`LOOP_BREAK
(
LIBUSB_ERROR_NO_MEM
);

1747 
¥iv
->
hid
->
nb_öãrÁ˚s
 = 0;

1751 
¥iv
->
usb_öãrÁ˚
[0].
∑th
 = (*Ë
	`ˇŒoc
(
	`ß„_°æí
(priv->path)+1, 1);

1752 i‡(
¥iv
->
usb_öãrÁ˚
[0].
∑th
 !
NULL
) {

1753 
	`ß„_°r˝y
(
¥iv
->
usb_öãrÁ˚
[0].
∑th
, 
	`ß„_°æí
(priv->path)+1,Öriv->path);

1755 
	`usbi_w¨n
(
˘x
, "couldÇŸ du∂iˇã i¡îÁ˚Ö©h '%s'", 
¥iv
->
∑th
);

1759 
j
=0; j<
USB_MAXINTERFACES
; j++) {

1760 
¥iv
->
usb_öãrÁ˚
[
j
].
≠ib
 = &
usb_≠i_backíd
[
≠i
];

1765 
GEN_PASS
:

1766 
r
 = 
	`öô_devi˚
(
dev
, 
∑ª¡_dev
, (
uöt8_t
)
p‹t_ƒ
, 
dev_id_∑th
, 
dev_öfo_d©a
.
DevIn°
);

1767 i‡(
r
 =
LIBUSB_SUCCESS
) {

1769 
discdevs
 = 
	`discovîed_devs_≠≥nd
(*
_discdevs
, 
dev
);

1770 i‡(!
discdevs
) {

1771 
	`LOOP_BREAK
(
LIBUSB_ERROR_NO_MEM
);

1773 *
_discdevs
 = 
discdevs
;

1774 } i‡(
r
 =
LIBUSB_ERROR_NO_DEVICE
) {

1777 
r
 = 
LIBUSB_SUCCESS
;

1781 i‡(
∑ª¡_¥iv
->
≠ib
->
id
 =
USB_API_HID
) {

1782 
	`usbi_dbg
("£âög HID i¡îÁ˚ f‹ [%lX]:", 
∑ª¡_dev
->
£ssi⁄_d©a
);

1783 
r
 = 
	`£t_hid_öãrÁ˚
(
˘x
, 
∑ª¡_dev
, 
dev_öãrÁ˚_∑th
);

1784 i‡(
r
 !
LIBUSB_SUCCESS
Ë
	`LOOP_BREAK
(r);

1785 
dev_öãrÁ˚_∑th
 = 
NULL
;

1786 } i‡(
∑ª¡_¥iv
->
≠ib
->
id
 =
USB_API_COMPOSITE
) {

1787 
	`usbi_dbg
("£âög composôêöãrÁ˚ f‹ [%lX]:", 
∑ª¡_dev
->
£ssi⁄_d©a
);

1788 
	`£t_composôe_öãrÁ˚
(
˘x
, 
∑ª¡_dev
, 
dev_öãrÁ˚_∑th
, 
dev_id_∑th
, 
≠i
, 
sub_≠i
)) {

1789 
LIBUSB_SUCCESS
:

1790 
dev_öãrÁ˚_∑th
 = 
NULL
;

1792 
LIBUSB_ERROR_ACCESS
:

1796 
	`LOOP_BREAK
(
r
);

1800 
	`libusb_uƒef_devi˚
(
∑ª¡_dev
);

1807 
∑ss
 = 
HID_PASS
+1;Öas†< 
nb_guids
;Öass++) {

1808 
	`ß„_‰ì
(
guid
[
∑ss
]);

1812 i‡(
uƒef_li°
 !
NULL
) {

1813 
i
=0; i<
uƒef_cur
; i++) {

1814 
	`ß„_uƒef_devi˚
(
uƒef_li°
[
i
]);

1816 
	`‰ì
(
uƒef_li°
);

1819  
r
;

1820 
	}
}

1825 
	$wödows_exô
()

1827 
i
;

1828 
HANDLE
 
£m≠h‹e
;

1829 
£m_«me
[11+1+8];

1831 
	`•rötf
(
£m_«me
, "libusb_öô%08X", ()
	`GëCuºítPro˚ssId
()&0xFFFFFFFF);

1832 
£m≠h‹e
 = 
	`Cª©eSem≠h‹eA
(
NULL
, 1, 1, 
£m_«me
);

1833 i‡(
£m≠h‹e
 =
NULL
) {

1839 i‡(
	`WaôF‹SögÀObje˘
(
£m≠h‹e
, 
INFINITE
Ë!
WAIT_OBJECT_0
) {

1840 
	`Clo£H™dÀ
(
£m≠h‹e
);

1845 i‡(--
c⁄cuºít_ußge
 < 0) {

1846 
i
=0; i<
USB_API_MAX
; i++) {

1847 
usb_≠i_backíd
[
i
].
	`exô
(
SUB_API_NOTSET
);

1849 
	`exô_pﬁlög
();

1851 i‡(
timî_thªad
) {

1852 
	`SëEvít
(
timî_ªque°
[1]);

1853 i‡(
WAIT_OBJECT_0
 !
	`WaôF‹SögÀObje˘
(
timî_thªad
, 
INFINITE
)) {

1854 
	`usbi_dbg
("couldÇot wait forÅimerÅhreadÅo quit");

1855 
	`Tîmö©eThªad
(
timî_thªad
, 1);

1857 
	`Clo£H™dÀ
(
timî_thªad
);

1858 
timî_thªad
 = 
NULL
;

1860 
i
 = 0; i < 2; i++) {

1861 i‡(
timî_ªque°
[
i
]) {

1862 
	`Clo£H™dÀ
(
timî_ªque°
[
i
]);

1863 
timî_ªque°
[
i
] = 
NULL
;

1866 i‡(
timî_ª•⁄£
) {

1867 
	`Clo£H™dÀ
(
timî_ª•⁄£
);

1868 
timî_ª•⁄£
 = 
NULL
;

1870 i‡(
timî_muãx
) {

1871 
	`Clo£H™dÀ
(
timî_muãx
);

1872 
timî_muãx
 = 
NULL
;

1874 
	`hèb_de°roy
();

1877 
	`Rñó£Sem≠h‹e
(
£m≠h‹e
, 1, 
NULL
);

1878 
	`Clo£H™dÀ
(
£m≠h‹e
);

1879 
	}
}

1881 
	$wödows_gë_devi˚_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf„r
, *
ho°_ídün
)

1883 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1885 
	`mem˝y
(
buf„r
, &(
¥iv
->
dev_des¸ùt‹
), 
DEVICE_DESC_LENGTH
);

1886 *
ho°_ídün
 = 0;

1888  
LIBUSB_SUCCESS
;

1889 
	}
}

1891 
	$wödows_gë_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, 
uöt8_t
 
c⁄fig_ödex
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
)

1893 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1894 
PUSB_CONFIGURATION_DESCRIPTOR
 
c⁄fig_hódî
;

1895 
size_t
 
size
;

1898 i‡(
c⁄fig_ödex
 >
dev
->
num_c⁄figuøti⁄s
)

1899  
LIBUSB_ERROR_INVALID_PARAM
;

1901 i‡((
¥iv
->
c⁄fig_des¸ùt‹
 =
NULL
Ë|| (¥iv->c⁄fig_des¸ùt‹[
c⁄fig_ödex
] == NULL))

1902  
LIBUSB_ERROR_NOT_FOUND
;

1904 
c⁄fig_hódî
 = (
PUSB_CONFIGURATION_DESCRIPTOR
)
¥iv
->
c⁄fig_des¸ùt‹
[
c⁄fig_ödex
];

1906 
size
 = 
	`mö
(
c⁄fig_hódî
->
wTŸÆLígth
, 
Àn
);

1907 
	`mem˝y
(
buf„r
, 
¥iv
->
c⁄fig_des¸ùt‹
[
c⁄fig_ödex
], 
size
);

1908 *
ho°_ídün
 = 0;

1910  ()
size
;

1911 
	}
}

1916 
	$wödows_gë_a˘ive_c⁄fig_des¸ùt‹
(
libusb_devi˚
 *
dev
, *
buf„r
, 
size_t
 
Àn
, *
ho°_ídün
)

1918 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev
);

1920 i‡(
¥iv
->
a˘ive_c⁄fig
 == 0)

1921  
LIBUSB_ERROR_NOT_FOUND
;

1924  
	`wödows_gë_c⁄fig_des¸ùt‹
(
dev
, (
uöt8_t
)(
¥iv
->
a˘ive_c⁄fig
-1), 
buf„r
, 
Àn
, 
ho°_ídün
);

1925 
	}
}

1927 
	$wödows_›í
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

1929 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

1930 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

1932 i‡(
¥iv
->
≠ib
 =
NULL
) {

1933 
	`usbi_îr
(
˘x
, "programássertion failed - device isÇot initialized");

1934  
LIBUSB_ERROR_NO_DEVICE
;

1937  
¥iv
->
≠ib
->
	`›í
(
SUB_API_NOTSET
, 
dev_h™dÀ
);

1938 
	}
}

1940 
	$wödows_˛o£
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

1942 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

1944 
¥iv
->
≠ib
->
	`˛o£
(
SUB_API_NOTSET
, 
dev_h™dÀ
);

1945 
	}
}

1947 
	$wödows_gë_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, *
c⁄fig
)

1949 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

1951 i‡(
¥iv
->
a˘ive_c⁄fig
 == 0) {

1952 *
c⁄fig
 = 0;

1953  
LIBUSB_ERROR_NOT_FOUND
;

1956 *
c⁄fig
 = 
¥iv
->
a˘ive_c⁄fig
;

1957  
LIBUSB_SUCCESS
;

1958 
	}
}

1965 
	$wödows_£t_c⁄figuøti⁄
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
c⁄fig
)

1967 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

1968 
r
 = 
LIBUSB_SUCCESS
;

1970 i‡(
c⁄fig
 >
USB_MAXCONFIG
)

1971  
LIBUSB_ERROR_INVALID_PARAM
;

1973 
r
 = 
	`libusb_c⁄åﬁ_å™s„r
(
dev_h™dÀ
, 
LIBUSB_ENDPOINT_OUT
 |

1974 
LIBUSB_REQUEST_TYPE_STANDARD
 | 
LIBUSB_RECIPIENT_DEVICE
,

1975 
LIBUSB_REQUEST_SET_CONFIGURATION
, (
uöt16_t
)
c⁄fig
,

1976 0, 
NULL
, 0, 1000);

1978 i‡(
r
 =
LIBUSB_SUCCESS
) {

1979 
¥iv
->
a˘ive_c⁄fig
 = (
uöt8_t
)
c⁄fig
;

1981  
r
;

1982 
	}
}

1984 
	$wödows_˛aim_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

1986 
r
 = 
LIBUSB_SUCCESS
;

1987 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

1989 i‡(
iÁ˚
 >
USB_MAXINTERFACES
)

1990  
LIBUSB_ERROR_INVALID_PARAM
;

1992 
	`ß„_‰ì
(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
);

1993 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
nb_ídpoöts
= 0;

1995 
r
 = 
¥iv
->
≠ib
->
	`˛aim_öãrÁ˚
(
SUB_API_NOTSET
, 
dev_h™dÀ
, 
iÁ˚
);

1997 i‡(
r
 =
LIBUSB_SUCCESS
) {

1998 
r
 = 
	`wödows_assign_ídpoöts
(
dev_h™dÀ
, 
iÁ˚
, 0);

2001  
r
;

2002 
	}
}

2004 
	$wödows_£t_öãrÁ˚_Æt£âög
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
)

2006 
r
 = 
LIBUSB_SUCCESS
;

2007 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2009 
	`ß„_‰ì
(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
);

2010 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
nb_ídpoöts
= 0;

2012 
r
 = 
¥iv
->
≠ib
->
	`£t_öãrÁ˚_Æt£âög
(
SUB_API_NOTSET
, 
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
);

2014 i‡(
r
 =
LIBUSB_SUCCESS
) {

2015 
r
 = 
	`wödows_assign_ídpoöts
(
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
);

2018  
r
;

2019 
	}
}

2021 
	$wödows_ªÀa£_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2023 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2025  
¥iv
->
≠ib
->
	`ªÀa£_öãrÁ˚
(
SUB_API_NOTSET
, 
dev_h™dÀ
, 
iÁ˚
);

2026 
	}
}

2028 
	$wödows_˛ór_hÆt
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
)

2030 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2031  
¥iv
->
≠ib
->
	`˛ór_hÆt
(
SUB_API_NOTSET
, 
dev_h™dÀ
, 
ídpoöt
);

2032 
	}
}

2034 
	$wödows_ª£t_devi˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

2036 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2037  
¥iv
->
≠ib
->
	`ª£t_devi˚
(
SUB_API_NOTSET
, 
dev_h™dÀ
);

2038 
	}
}

2041 
	$wödows_kî√l_drivî_a˘ive
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2043  
LIBUSB_ERROR_NOT_SUPPORTED
;

2044 
	}
}

2046 
	$wödows_©èch_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2048  
LIBUSB_ERROR_NOT_SUPPORTED
;

2049 
	}
}

2051 
	$wödows_dëach_kî√l_drivî
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2053  
LIBUSB_ERROR_NOT_SUPPORTED
;

2054 
	}
}

2056 
	$wödows_de°roy_devi˚
(
libusb_devi˚
 *
dev
)

2058 
	`wödows_devi˚_¥iv_ªÀa£
(
dev
);

2059 
	}
}

2061 
	$wödows_˛ór_å™s„r_¥iv
(
usbi_å™s„r
 *
ôøns„r
)

2063 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2065 
	`usbi_‰ì_fd
(&
å™s„r_¥iv
->
pﬁœbÀ_fd
);

2066 
	`ß„_‰ì
(
å™s„r_¥iv
->
hid_buf„r
);

2068 
	`auto_ªÀa£
(
ôøns„r
);

2069 
	}
}

2071 
	$submô_bulk_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2073 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2074 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

2075 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2076 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

2077 
r
;

2079 
r
 = 
¥iv
->
≠ib
->
	`submô_bulk_å™s„r
(
SUB_API_NOTSET
, 
ôøns„r
);

2080 i‡(
r
 !
LIBUSB_SUCCESS
) {

2081  
r
;

2084 
	`usbi_add_pﬁlfd
(
˘x
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
,

2085 ()(
	`IS_XFERIN
(
å™s„r
Ë? 
POLLIN
 : 
POLLOUT
));

2087 
ôøns„r
->
Êags
 |
USBI_TRANSFER_UPDATED_FDS
;

2088  
LIBUSB_SUCCESS
;

2089 
	}
}

2091 
	$submô_iso_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2093 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2094 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

2095 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2096 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

2097 
r
;

2099 
r
 = 
¥iv
->
≠ib
->
	`submô_iso_å™s„r
(
SUB_API_NOTSET
, 
ôøns„r
);

2100 i‡(
r
 !
LIBUSB_SUCCESS
) {

2101  
r
;

2104 
	`usbi_add_pﬁlfd
(
˘x
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
,

2105 ()(
	`IS_XFERIN
(
å™s„r
Ë? 
POLLIN
 : 
POLLOUT
));

2107 
ôøns„r
->
Êags
 |
USBI_TRANSFER_UPDATED_FDS
;

2108  
LIBUSB_SUCCESS
;

2109 
	}
}

2111 
	$submô_c⁄åﬁ_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2113 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2114 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

2115 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

2116 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

2117 
r
;

2119 
r
 = 
¥iv
->
≠ib
->
	`submô_c⁄åﬁ_å™s„r
(
SUB_API_NOTSET
, 
ôøns„r
);

2120 i‡(
r
 !
LIBUSB_SUCCESS
) {

2121  
r
;

2124 
	`usbi_add_pﬁlfd
(
˘x
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
, 
POLLIN
);

2126 
ôøns„r
->
Êags
 |
USBI_TRANSFER_UPDATED_FDS
;

2127  
LIBUSB_SUCCESS
;

2129 
	}
}

2131 
	$wödows_submô_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2133 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2135 
å™s„r
->
ty≥
) {

2136 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2137  
	`submô_c⁄åﬁ_å™s„r
(
ôøns„r
);

2138 
LIBUSB_TRANSFER_TYPE_BULK
:

2139 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2140 i‡(
	`IS_XFEROUT
(
å™s„r
) &&

2141 
å™s„r
->
Êags
 & 
LIBUSB_TRANSFER_ADD_ZERO_PACKET
)

2142  
LIBUSB_ERROR_NOT_SUPPORTED
;

2143  
	`submô_bulk_å™s„r
(
ôøns„r
);

2144 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2145  
	`submô_iso_å™s„r
(
ôøns„r
);

2146 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2147  
LIBUSB_ERROR_NOT_SUPPORTED
;

2149 
	`usbi_îr
(
	`TRANSFER_CTX
(
å™s„r
), "unknow¿ídpoöàty≥ %d",Åøns„r->
ty≥
);

2150  
LIBUSB_ERROR_INVALID_PARAM
;

2152 
	}
}

2154 
	$wödows_ab‹t_c⁄åﬁ
(
usbi_å™s„r
 *
ôøns„r
)

2156 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2157 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

2159  
¥iv
->
≠ib
->
	`ab‹t_c⁄åﬁ
(
SUB_API_NOTSET
, 
ôøns„r
);

2160 
	}
}

2162 
	$wödows_ab‹t_å™s„rs
(
usbi_å™s„r
 *
ôøns„r
)

2164 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2165 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

2167  
¥iv
->
≠ib
->
	`ab‹t_å™s„rs
(
SUB_API_NOTSET
, 
ôøns„r
);

2168 
	}
}

2170 
	$wödows_ˇn˚l_å™s„r
(
usbi_å™s„r
 *
ôøns„r
)

2172 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2174 
å™s„r
->
ty≥
) {

2175 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2176  
	`wödows_ab‹t_c⁄åﬁ
(
ôøns„r
);

2177 
LIBUSB_TRANSFER_TYPE_BULK
:

2178 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2179 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2180  
	`wödows_ab‹t_å™s„rs
(
ôøns„r
);

2181 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2182  
LIBUSB_ERROR_NOT_SUPPORTED
;

2184 
	`usbi_îr
(
	`ITRANSFER_CTX
(
ôøns„r
), "unknow¿ídpoöàty≥ %d", 
å™s„r
->
ty≥
);

2185  
LIBUSB_ERROR_INVALID_PARAM
;

2187 
	}
}

2189 
	$wödows_å™s„r_ˇŒback
(
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_ªsu…
, uöt32_à
io_size
)

2191 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2192 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

2193 
°©us
, 
i°©us
;

2195 
	`usbi_dbg
("h™dlög I/O com∂ëi⁄ wôhÉºcodê%d, sizê%d", 
io_ªsu…
, 
io_size
);

2197 
io_ªsu…
) {

2198 
NO_ERROR
:

2199 
°©us
 = 
¥iv
->
≠ib
->
	`c›y_å™s„r_d©a
(
SUB_API_NOTSET
, 
ôøns„r
, 
io_size
);

2201 
ERROR_GEN_FAILURE
:

2202 
	`usbi_dbg
("detectedÉndpoint stall");

2203 
°©us
 = 
LIBUSB_TRANSFER_STALL
;

2205 
ERROR_SEM_TIMEOUT
:

2206 
	`usbi_dbg
("detected semaphoreÅimeout");

2207 
°©us
 = 
LIBUSB_TRANSFER_TIMED_OUT
;

2209 
ERROR_OPERATION_ABORTED
:

2210 
i°©us
 = 
¥iv
->
≠ib
->
	`c›y_å™s„r_d©a
(
SUB_API_NOTSET
, 
ôøns„r
, 
io_size
);

2211 i‡(
i°©us
 !
LIBUSB_TRANSFER_COMPLETED
) {

2212 
	`usbi_dbg
("FaûedÅÿc›yÖ¨tü»d©®öáb‹ãd o≥øti⁄: %d", 
i°©us
);

2214 i‡(
ôøns„r
->
Êags
 & 
USBI_TRANSFER_TIMED_OUT
) {

2215 
	`usbi_dbg
("detectedÅimeout");

2216 
°©us
 = 
LIBUSB_TRANSFER_TIMED_OUT
;

2218 
	`usbi_dbg
("detected operationáborted");

2219 
°©us
 = 
LIBUSB_TRANSFER_CANCELLED
;

2223 
	`usbi_îr
(
	`ITRANSFER_CTX
(
ôøns„r
), "dëe˘ed I/OÉº‹ %d: %s", 
io_ªsu…
, 
	`wödows_îr‹_°r
(io_result));

2224 
°©us
 = 
LIBUSB_TRANSFER_ERROR
;

2227 
	`wödows_˛ór_å™s„r_¥iv
(
ôøns„r
);

2228 
	`usbi_h™dÀ_å™s„r_com∂ëi⁄
(
ôøns„r
, (
libusb_å™s„r_°©us
)
°©us
);

2229 
	}
}

2231 
	$wödows_h™dÀ_ˇŒback
 (
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_ªsu…
, uöt32_à
io_size
)

2233 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

2235 
å™s„r
->
ty≥
) {

2236 
LIBUSB_TRANSFER_TYPE_CONTROL
:

2237 
LIBUSB_TRANSFER_TYPE_BULK
:

2238 
LIBUSB_TRANSFER_TYPE_INTERRUPT
:

2239 
LIBUSB_TRANSFER_TYPE_ISOCHRONOUS
:

2240 
	`wödows_å™s„r_ˇŒback
 (
ôøns„r
, 
io_ªsu…
, 
io_size
);

2242 
LIBUSB_TRANSFER_TYPE_BULK_STREAM
:

2243 
	`usbi_w¨n
(
	`ITRANSFER_CTX
(
ôøns„r
), "bulk streamÅransfersáreÇot yet supported onÅhisÖlatform");

2246 
	`usbi_îr
(
	`ITRANSFER_CTX
(
ôøns„r
), "unknow¿ídpoöàty≥ %d", 
å™s„r
->
ty≥
);

2248 
	}
}

2250 
	$wödows_h™dÀ_evíts
(
libusb_c⁄ãxt
 *
˘x
, 
pﬁlfd
 *
fds
, 
POLL_NFDS_TYPE
 
nfds
, 
num_ªady
)

2252 
wödows_å™s„r_¥iv
* 
å™s„r_¥iv
 = 
NULL
;

2253 
POLL_NFDS_TYPE
 
i
 = 0;

2254 
boﬁ
 
found
 = 
Ál£
;

2255 
usbi_å™s„r
 *
å™s„r
;

2256 
DWORD
 
io_size
, 
io_ªsu…
;

2258 
	`usbi_muãx_lock
(&
˘x
->
›í_devs_lock
);

2259 
i
 = 0; i < 
nfds
 && 
num_ªady
 > 0; i++) {

2261 
	`usbi_dbg
("checkög fd %d wôhÑevít†%04x", 
fds
[
i
].
fd
, fds[i].
ªvíts
);

2263 i‡(!
fds
[
i
].
ªvíts
) {

2267 
num_ªady
--;

2271 
	`usbi_muãx_lock
(&
˘x
->
Êyög_å™s„rs_lock
);

2272 
	`li°_f‹_óch_íåy
(
å™s„r
, &
˘x
->
Êyög_å™s„rs
, 
li°
, 
usbi_å™s„r
) {

2273 
å™s„r_¥iv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
å™s„r
);

2274 i‡(
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
 =
fds
[
i
].fd) {

2275 
found
 = 
åue
;

2279 
	`usbi_muãx_u∆ock
(&
˘x
->
Êyög_å™s„rs_lock
);

2281 i‡(
found
) {

2283 i‡(
	`HasOvîœµedIoCom∂ëedSync
(
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
)) {

2284 
io_ªsu…
 = 
NO_ERROR
;

2285 
io_size
 = (
DWORD
)
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
->
I¡î«lHigh
;

2287 } i‡(
	`GëOvîœµedResu…
(
å™s„r_¥iv
->
pﬁœbÀ_fd
.
h™dÀ
,

2288 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
ovîœµed
, &
io_size
, 
Ál£
)) {

2289 
io_ªsu…
 = 
NO_ERROR
;

2291 
io_ªsu…
 = 
	`GëLa°Eº‹
();

2293 
	`usbi_ªmove_pﬁlfd
(
˘x
, 
å™s„r_¥iv
->
pﬁœbÀ_fd
.
fd
);

2297 
	`wödows_h™dÀ_ˇŒback
(
å™s„r
, 
io_ªsu…
, 
io_size
);

2299 
	`usbi_îr
(
˘x
, "couldÇŸ födá m©chögÅøns„∏f‹ fd %x", 
fds
[
i
]);

2300  
LIBUSB_ERROR_NOT_FOUND
;

2304 
	`usbi_muãx_u∆ock
(&
˘x
->
›í_devs_lock
);

2305  
LIBUSB_SUCCESS
;

2306 
	}
}

2311 
__°dˇŒ
 
	$wödows_˛ock_gëtime_thªaded
(* 
∑øm
)

2313 
LARGE_INTEGER
 
húes_cou¡î
, 
li_‰equícy
;

2314 
LONG
 
nb_ª•⁄£s
;

2315 
timî_ödex
;

2318 i‡(!
	`QuîyPîf‹m™˚Fªquícy
(&
li_‰equícy
)) {

2319 
	`usbi_dbg
("no hiresÅimerávailable onÅhisÖlatform");

2320 
húes_‰equícy
 = 0;

2321 
húes_ticks_to_ps
 = 
	`UINT64_C
(0);

2323 
húes_‰equícy
 = 
li_‰equícy
.
QuadP¨t
;

2326 
húes_ticks_to_ps
 = 
	`UINT64_C
(1000000000000Ë/ 
húes_‰equícy
;

2327 
	`usbi_dbg
("húe†timîávaûabÀ (Fªquícy: %"
PRIu64
" Hz)", 
húes_‰equícy
);

2331 i‡(
	`Rñó£Sem≠h‹e
(
timî_ª•⁄£
, 1, 
NULL
) == 0) {

2332 
	`usbi_dbg
("u«bÀÅÿªÀa£Åimî sem≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

2337 
timî_ödex
 = 
	`WaôF‹Mu…ùÀObje˘s
(2, 
timî_ªque°
, 
FALSE
, 
INFINITE
Ë- 
WAIT_OBJECT_0
;

2338 i‡–(
timî_ödex
 != 0) && (timer_index != 1) ) {

2339 
	`usbi_dbg
("ÁûuªÅÿwaô o¿ªque°s: %s", 
	`wödows_îr‹_°r
(0));

2342 i‡(
ªque°_cou¡
[
timî_ödex
] == 0) {

2344 
	`Re£tEvít
(
timî_ªque°
[
timî_ödex
]);

2349 i‡(
ªque°_cou¡
[
timî_ödex
] == 0)

2352 
timî_ödex
) {

2354 
	`WaôF‹SögÀObje˘
(
timî_muãx
, 
INFINITE
);

2356 i‡((
	`QuîyPîf‹m™˚Cou¡î
(&
húes_cou¡î
Ë!0Ë&& (
húes_‰equícy
 != 0)) {

2357 
timî_ç
.
tv_£c
 = ()(
húes_cou¡î
.
QuadP¨t
 / 
húes_‰equícy
);

2358 
timî_ç
.
tv_n£c
 = ()(((
húes_cou¡î
.
QuadP¨t
 % 
húes_‰equícy
)/1000Ë* 
húes_ticks_to_ps
);

2362 
	`wödows_˛ock_gëtime
(
USBI_CLOCK_REALTIME
, &
timî_ç
);

2364 
	`Rñó£Muãx
(
timî_muãx
);

2366 
nb_ª•⁄£s
 = 
	`I¡îlockedExch™ge
((
LONG
*)&
ªque°_cou¡
[0], 0);

2367 i‡–(
nb_ª•⁄£s
)

2368 && (
	`Rñó£Sem≠h‹e
(
timî_ª•⁄£
, 
nb_ª•⁄£s
, 
NULL
) == 0) ) {

2369 
	`usbi_dbg
("u«bÀÅÿªÀa£Åimî sem≠h‹e: %s", 
	`wödows_îr‹_°r
(0));

2373 
	`usbi_dbg
("timerÅhread quitting");

2377 
	}
}

2379 
	$wödows_˛ock_gëtime
(
˛k_id
, 
time•ec
 *
ç
)

2381 
FILETIME
 
fûëime
;

2382 
ULARGE_INTEGER
 
πime
;

2383 
DWORD
 
r
;

2384 
˛k_id
) {

2385 
USBI_CLOCK_MONOTONIC
:

2386 i‡(
húes_‰equícy
 != 0) {

2388 
	`I¡îlockedIn¸emít
((
LONG
*)&
ªque°_cou¡
[0]);

2389 
	`SëEvít
(
timî_ªque°
[0]);

2390 
r
 = 
	`WaôF‹SögÀObje˘
(
timî_ª•⁄£
, 
TIMER_REQUEST_RETRY_MS
);

2391 
r
) {

2392 
WAIT_OBJECT_0
:

2393 
	`WaôF‹SögÀObje˘
(
timî_muãx
, 
INFINITE
);

2394 *
ç
 = 
timî_ç
;

2395 
	`Rñó£Muãx
(
timî_muãx
);

2396  
LIBUSB_SUCCESS
;

2397 
WAIT_TIMEOUT
:

2398 
	`usbi_dbg
("couldÇot obtaináÅimer value withinÑeasonableÅimeframe -Åoo muchÜoad?");

2401 
	`usbi_dbg
("WaôF‹SögÀObje˘ faûed: %s", 
	`wödows_îr‹_°r
(0));

2402  
LIBUSB_ERROR_OTHER
;

2407 
USBI_CLOCK_REALTIME
:

2412 
	`GëSy°emTimeAsFûeTime
(&
fûëime
);

2413 
πime
.
LowP¨t
 = 
fûëime
.
dwLowD©eTime
;

2414 
πime
.
HighP¨t
 = 
fûëime
.
dwHighD©eTime
;

2415 
πime
.
QuadP¨t
 -
ïoch_time
;

2416 
ç
->
tv_£c
 = ()(
πime
.
QuadP¨t
 / 10000000);

2417 
ç
->
tv_n£c
 = ()((
πime
.
QuadP¨t
 % 10000000)*100);

2418  
LIBUSB_SUCCESS
;

2420  
LIBUSB_ERROR_INVALID_PARAM
;

2422 
	}
}

2426 c⁄° 
usbi_os_backíd
 
	gwödows_backíd
 = {

2428 
USBI_CAP_HAS_HID_ACCESS
,

2429 
wödows_öô
,

2430 
wödows_exô
,

2432 
wödows_gë_devi˚_li°
,

2433 
NULL
,

2434 
wödows_›í
,

2435 
wödows_˛o£
,

2437 
wödows_gë_devi˚_des¸ùt‹
,

2438 
wödows_gë_a˘ive_c⁄fig_des¸ùt‹
,

2439 
wödows_gë_c⁄fig_des¸ùt‹
,

2440 
NULL
,

2442 
wödows_gë_c⁄figuøti⁄
,

2443 
wödows_£t_c⁄figuøti⁄
,

2444 
wödows_˛aim_öãrÁ˚
,

2445 
wödows_ªÀa£_öãrÁ˚
,

2447 
wödows_£t_öãrÁ˚_Æt£âög
,

2448 
wödows_˛ór_hÆt
,

2449 
wödows_ª£t_devi˚
,

2451 
NULL
,

2452 
NULL
,

2454 
wödows_kî√l_drivî_a˘ive
,

2455 
wödows_dëach_kî√l_drivî
,

2456 
wödows_©èch_kî√l_drivî
,

2458 
wödows_de°roy_devi˚
,

2460 
wödows_submô_å™s„r
,

2461 
wödows_ˇn˚l_å™s„r
,

2462 
wödows_˛ór_å™s„r_¥iv
,

2464 
wödows_h™dÀ_evíts
,

2466 
wödows_˛ock_gëtime
,

2467 #i‡
deföed
(
USBI_TIMERFD_AVAILABLE
)

2468 
NULL
,

2470 (
wödows_devi˚_¥iv
),

2471 (
wödows_devi˚_h™dÀ_¥iv
),

2472 (
wödows_å™s„r_¥iv
),

2480 
	$unsuµ‹ãd_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
) {

2481  
LIBUSB_SUCCESS
;

2482 
	}
}

2483 
	$unsuµ‹ãd_exô
(
sub_≠i
) {

2484  
LIBUSB_SUCCESS
;

2485 
	}
}

2486 
	$unsuµ‹ãd_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
) {

2487 
	`PRINT_UNSUPPORTED_API
(
›í
);

2488 
	}
}

2489 
	$unsuµ‹ãd_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
) {

2490 
	`usbi_dbg
("unsupported API call for 'close'");

2491 
	}
}

2492 
	$unsuµ‹ãd_c⁄figuª_ídpoöts
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

2493 
	`PRINT_UNSUPPORTED_API
(
c⁄figuª_ídpoöts
);

2494 
	}
}

2495 
	$unsuµ‹ãd_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

2496 
	`PRINT_UNSUPPORTED_API
(
˛aim_öãrÁ˚
);

2497 
	}
}

2498 
	$unsuµ‹ãd_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
) {

2499 
	`PRINT_UNSUPPORTED_API
(
£t_öãrÁ˚_Æt£âög
);

2500 
	}
}

2501 
	$unsuµ‹ãd_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

2502 
	`PRINT_UNSUPPORTED_API
(
ªÀa£_öãrÁ˚
);

2503 
	}
}

2504 
	$unsuµ‹ãd_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
) {

2505 
	`PRINT_UNSUPPORTED_API
(
˛ór_hÆt
);

2506 
	}
}

2507 
	$unsuµ‹ãd_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
) {

2508 
	`PRINT_UNSUPPORTED_API
(
ª£t_devi˚
);

2509 
	}
}

2510 
	$unsuµ‹ãd_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

2511 
	`PRINT_UNSUPPORTED_API
(
submô_bulk_å™s„r
);

2512 
	}
}

2513 
	$unsuµ‹ãd_submô_iso_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

2514 
	`PRINT_UNSUPPORTED_API
(
submô_iso_å™s„r
);

2515 
	}
}

2516 
	$unsuµ‹ãd_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

2517 
	`PRINT_UNSUPPORTED_API
(
submô_c⁄åﬁ_å™s„r
);

2518 
	}
}

2519 
	$unsuµ‹ãd_ab‹t_c⁄åﬁ
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

2520 
	`PRINT_UNSUPPORTED_API
(
ab‹t_c⁄åﬁ
);

2521 
	}
}

2522 
	$unsuµ‹ãd_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

2523 
	`PRINT_UNSUPPORTED_API
(
ab‹t_å™s„rs
);

2524 
	}
}

2525 
	$unsuµ‹ãd_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
) {

2526 
	`PRINT_UNSUPPORTED_API
(
c›y_å™s„r_d©a
);

2527 
	}
}

2528 
	$comm⁄_c⁄figuª_ídpoöts
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
) {

2529  
LIBUSB_SUCCESS
;

2530 
	}
}

2532 c⁄° * 
	ghub_drivî_«mes
[] = {"USBHUB", "USBHUB3", "USB3HUB", "NUSB3HUB", "RUSB3HUB", "FLXHCIH", "TIHUB3", "ETRONHUB3", "VIAHUB3", "ASMTHUB3", "IUSB3HUB", "VUSB3HUB", "AMDHUB30"};

2533 c⁄° * 
	gcomposôe_drivî_«mes
[] = {"USBCCGP"};

2534 c⁄° * 
	gwöusbx_drivî_«mes
[] = 
WINUSBX_DRV_NAMES
;

2535 c⁄° * 
	ghid_drivî_«mes
[] = {"HIDUSB", "MOUHID", "KBDHID"};

2536 c⁄° 
wödows_usb_≠i_backíd
 
	gusb_≠i_backíd
[
USB_API_MAX
] = {

2538 
USB_API_UNSUPPORTED
,

2540 
NULL
,

2542 
unsuµ‹ãd_öô
,

2543 
unsuµ‹ãd_exô
,

2544 
unsuµ‹ãd_›í
,

2545 
unsuµ‹ãd_˛o£
,

2546 
unsuµ‹ãd_c⁄figuª_ídpoöts
,

2547 
unsuµ‹ãd_˛aim_öãrÁ˚
,

2548 
unsuµ‹ãd_£t_öãrÁ˚_Æt£âög
,

2549 
unsuµ‹ãd_ªÀa£_öãrÁ˚
,

2550 
unsuµ‹ãd_˛ór_hÆt
,

2551 
unsuµ‹ãd_ª£t_devi˚
,

2552 
unsuµ‹ãd_submô_bulk_å™s„r
,

2553 
unsuµ‹ãd_submô_iso_å™s„r
,

2554 
unsuµ‹ãd_submô_c⁄åﬁ_å™s„r
,

2555 
unsuµ‹ãd_ab‹t_c⁄åﬁ
,

2556 
unsuµ‹ãd_ab‹t_å™s„rs
,

2557 
unsuµ‹ãd_c›y_å™s„r_d©a
,

2559 
USB_API_HUB
,

2561 
hub_drivî_«mes
,

2562 
ARRAYSIZE
(
hub_drivî_«mes
),

2563 
unsuµ‹ãd_öô
,

2564 
unsuµ‹ãd_exô
,

2565 
unsuµ‹ãd_›í
,

2566 
unsuµ‹ãd_˛o£
,

2567 
unsuµ‹ãd_c⁄figuª_ídpoöts
,

2568 
unsuµ‹ãd_˛aim_öãrÁ˚
,

2569 
unsuµ‹ãd_£t_öãrÁ˚_Æt£âög
,

2570 
unsuµ‹ãd_ªÀa£_öãrÁ˚
,

2571 
unsuµ‹ãd_˛ór_hÆt
,

2572 
unsuµ‹ãd_ª£t_devi˚
,

2573 
unsuµ‹ãd_submô_bulk_å™s„r
,

2574 
unsuµ‹ãd_submô_iso_å™s„r
,

2575 
unsuµ‹ãd_submô_c⁄åﬁ_å™s„r
,

2576 
unsuµ‹ãd_ab‹t_c⁄åﬁ
,

2577 
unsuµ‹ãd_ab‹t_å™s„rs
,

2578 
unsuµ‹ãd_c›y_å™s„r_d©a
,

2580 
USB_API_COMPOSITE
,

2582 
composôe_drivî_«mes
,

2583 
ARRAYSIZE
(
composôe_drivî_«mes
),

2584 
composôe_öô
,

2585 
composôe_exô
,

2586 
composôe_›í
,

2587 
composôe_˛o£
,

2588 
comm⁄_c⁄figuª_ídpoöts
,

2589 
composôe_˛aim_öãrÁ˚
,

2590 
composôe_£t_öãrÁ˚_Æt£âög
,

2591 
composôe_ªÀa£_öãrÁ˚
,

2592 
composôe_˛ór_hÆt
,

2593 
composôe_ª£t_devi˚
,

2594 
composôe_submô_bulk_å™s„r
,

2595 
composôe_submô_iso_å™s„r
,

2596 
composôe_submô_c⁄åﬁ_å™s„r
,

2597 
composôe_ab‹t_c⁄åﬁ
,

2598 
composôe_ab‹t_å™s„rs
,

2599 
composôe_c›y_å™s„r_d©a
,

2601 
USB_API_WINUSBX
,

2603 
wöusbx_drivî_«mes
,

2604 
ARRAYSIZE
(
wöusbx_drivî_«mes
),

2605 
wöusbx_öô
,

2606 
wöusbx_exô
,

2607 
wöusbx_›í
,

2608 
wöusbx_˛o£
,

2609 
wöusbx_c⁄figuª_ídpoöts
,

2610 
wöusbx_˛aim_öãrÁ˚
,

2611 
wöusbx_£t_öãrÁ˚_Æt£âög
,

2612 
wöusbx_ªÀa£_öãrÁ˚
,

2613 
wöusbx_˛ór_hÆt
,

2614 
wöusbx_ª£t_devi˚
,

2615 
wöusbx_submô_bulk_å™s„r
,

2616 
unsuµ‹ãd_submô_iso_å™s„r
,

2617 
wöusbx_submô_c⁄åﬁ_å™s„r
,

2618 
wöusbx_ab‹t_c⁄åﬁ
,

2619 
wöusbx_ab‹t_å™s„rs
,

2620 
wöusbx_c›y_å™s„r_d©a
,

2622 
USB_API_HID
,

2624 
hid_drivî_«mes
,

2625 
ARRAYSIZE
(
hid_drivî_«mes
),

2626 
hid_öô
,

2627 
hid_exô
,

2628 
hid_›í
,

2629 
hid_˛o£
,

2630 
comm⁄_c⁄figuª_ídpoöts
,

2631 
hid_˛aim_öãrÁ˚
,

2632 
hid_£t_öãrÁ˚_Æt£âög
,

2633 
hid_ªÀa£_öãrÁ˚
,

2634 
hid_˛ór_hÆt
,

2635 
hid_ª£t_devi˚
,

2636 
hid_submô_bulk_å™s„r
,

2637 
unsuµ‹ãd_submô_iso_å™s„r
,

2638 
hid_submô_c⁄åﬁ_å™s„r
,

2639 
hid_ab‹t_å™s„rs
,

2640 
hid_ab‹t_å™s„rs
,

2641 
hid_c›y_å™s„r_d©a
,

2649 
	#WöUSBX_Së
(
‚
Ëdÿ{ i‡(
«tive_wöusb
Ë
WöUSBX
[
i
].‚ = (
WöUsb_
##‚##
_t
Ë
	`GëProcAddªss
(
h
, "WinUsb_" #fn); \

2650 
	`pLibK_GëProcAddªss
((
PVOID
*)&
WöUSBX
[
i
].
‚
, i, 
KUSB_FNID_
##‚); } 0)

	)

2652 
	$wöusbx_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
)

2654 
HMODULE
 
h
 = 
NULL
;

2655 
boﬁ
 
«tive_wöusb
 = 
Ál£
;

2656 
i
;

2657 
KLIB_VERSION
 
LibK_Vîsi⁄
;

2658 
LibK_GëProcAddªss_t
 
pLibK_GëProcAddªss
 = 
NULL
;

2659 
LibK_GëVîsi⁄_t
 
pLibK_GëVîsi⁄
 = 
NULL
;

2661 
h
 = 
	`GëModuÀH™dÀA
("libusbK");

2662 i‡(
h
 =
NULL
) {

2663 
h
 = 
	`LﬂdLibøryA
("libusbK");

2665 i‡(
h
 =
NULL
) {

2666 
	`usbi_öfo
(
˘x
, "libusbK DLL isÇotávailable, will useÇative WinUSB");

2667 
h
 = 
	`GëModuÀH™dÀA
("WinUSB");

2668 i‡(
h
 =
NULL
) {

2669 
h
 = 
	`LﬂdLibøryA
("WinUSB");

2670 } i‡(
h
 =
NULL
) {

2671 
	`usbi_w¨n
(
˘x
, "WinUSB DLL isÇotávailableÉither,\n"

2673  
LIBUSB_ERROR_NOT_FOUND
;

2676 
	`usbi_dbg
("usingÜibusbK DLL for universaláccess");

2677 
pLibK_GëVîsi⁄
 = (
LibK_GëVîsi⁄_t
Ë
	`GëProcAddªss
(
h
, "LibK_GetVersion");

2678 i‡(
pLibK_GëVîsi⁄
 !
NULL
) {

2679 
	`pLibK_GëVîsi⁄
(&
LibK_Vîsi⁄
);

2680 
	`usbi_dbg
("libusbK vîsi⁄: %d.%d.%d.%d", 
LibK_Vîsi⁄
.
Maj‹
, LibK_Vîsi⁄.
Mö‹
,

2681 
LibK_Vîsi⁄
.
Mi¸o
, LibK_Vîsi⁄.
N™o
);

2683 
pLibK_GëProcAddªss
 = (
LibK_GëProcAddªss_t
Ë
	`GëProcAddªss
(
h
, "LibK_GetProcAddress");

2684 i‡(
pLibK_GëProcAddªss
 =
NULL
) {

2685 
	`usbi_îr
(
˘x
, "LibK_GetProcAddress()Çot found inÜibusbK DLL");

2686  
LIBUSB_ERROR_NOT_FOUND
;

2689 
«tive_wöusb
 = (
pLibK_GëProcAddªss
 =
NULL
);

2690 
i
=
SUB_API_LIBUSBK
; i<
SUB_API_MAX
; i++) {

2691 
	`WöUSBX_Së
(
Ab‹tPùe
);

2692 
	`WöUSBX_Së
(
C⁄åﬁTøns„r
);

2693 
	`WöUSBX_Së
(
FlushPùe
);

2694 
	`WöUSBX_Së
(
Fªe
);

2695 
	`WöUSBX_Së
(
GëAssocüãdI¡îÁ˚
);

2696 
	`WöUSBX_Së
(
GëCuºítA…î«ãSëtög
);

2697 
	`WöUSBX_Së
(
GëDes¸ùt‹
);

2698 
	`WöUSBX_Së
(
GëOvîœµedResu…
);

2699 
	`WöUSBX_Së
(
GëPùePﬁicy
);

2700 
	`WöUSBX_Së
(
GëPowîPﬁicy
);

2701 
	`WöUSBX_Së
(
Inôülize
);

2702 
	`WöUSBX_Së
(
QuîyDevi˚Inf‹m©i⁄
);

2703 
	`WöUSBX_Së
(
QuîyI¡îÁ˚Sëtögs
);

2704 
	`WöUSBX_Së
(
QuîyPùe
);

2705 
	`WöUSBX_Së
(
RódPùe
);

2706 
	`WöUSBX_Së
(
Re£tPùe
);

2707 
	`WöUSBX_Së
(
SëCuºítA…î«ãSëtög
);

2708 
	`WöUSBX_Së
(
SëPùePﬁicy
);

2709 
	`WöUSBX_Së
(
SëPowîPﬁicy
);

2710 
	`WöUSBX_Së
(
WrôePùe
);

2711 i‡(!
«tive_wöusb
) {

2712 
	`WöUSBX_Së
(
Re£tDevi˚
);

2714 i‡(
WöUSBX
[
i
].
Inôülize
 !
NULL
) {

2715 
WöUSBX
[
i
].
öôülized
 = 
åue
;

2716 
	`usbi_dbg
("öôÆized sub API %s", 
sub_≠i_«me
[
i
]);

2718 
	`usbi_w¨n
(
˘x
, "FaûedÅÿöôÆizêsub API %s", 
sub_≠i_«me
[
i
]);

2719 
WöUSBX
[
i
].
öôülized
 = 
Ál£
;

2722  
LIBUSB_SUCCESS
;

2723 
	}
}

2725 
	$wöusbx_exô
(
sub_≠i
)

2727  
LIBUSB_SUCCESS
;

2728 
	}
}

2733 
	$wöusbx_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

2735 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

2736 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2737 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

2739 
HANDLE
 
fûe_h™dÀ
;

2740 
i
;

2742 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

2745 
i
 = 0; i < 
USB_MAXINTERFACES
; i++) {

2746 i‡–(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
 !
NULL
)

2747 && (
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
USB_API_WINUSBX
) ) {

2748 
fûe_h™dÀ
 = 
	`Cª©eFûeA
(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
, 
GENERIC_WRITE
 | 
GENERIC_READ
, 
FILE_SHARE_WRITE
 | 
FILE_SHARE_READ
,

2749 
NULL
, 
OPEN_EXISTING
, 
FILE_ATTRIBUTE_NORMAL
 | 
FILE_FLAG_OVERLAPPED
, NULL);

2750 i‡(
fûe_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

2751 
	`usbi_îr
(
˘x
, "couldÇŸ o≥¿devi˚ %†(öãrÁ˚ %d): %s", 
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
, i, 
	`wödows_îr‹_°r
(0));

2752 
	`GëLa°Eº‹
()) {

2753 
ERROR_FILE_NOT_FOUND
:

2754  
LIBUSB_ERROR_NO_DEVICE
;

2755 
ERROR_ACCESS_DENIED
:

2756  
LIBUSB_ERROR_ACCESS
;

2758  
LIBUSB_ERROR_IO
;

2761 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
dev_h™dÀ
 = 
fûe_h™dÀ
;

2765  
LIBUSB_SUCCESS
;

2766 
	}
}

2768 
	$wöusbx_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

2770 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

2771 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2772 
HANDLE
 
fûe_h™dÀ
;

2773 
i
;

2775 i‡(
sub_≠i
 =
SUB_API_NOTSET
)

2776 
sub_≠i
 = 
¥iv
->sub_api;

2777 i‡(!
WöUSBX
[
sub_≠i
].
öôülized
)

2780 
i
 = 0; i < 
USB_MAXINTERFACES
; i++) {

2781 i‡(
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
USB_API_WINUSBX
) {

2782 
fûe_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
dev_h™dÀ
;

2783 i‡–(
fûe_h™dÀ
 !0Ë&& (fûe_h™dÀ !
INVALID_HANDLE_VALUE
)) {

2784 
	`Clo£H™dÀ
(
fûe_h™dÀ
);

2788 
	}
}

2790 
	$wöusbx_c⁄figuª_ídpoöts
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2792 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

2793 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2794 
HANDLE
 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
;

2795 
UCHAR
 
pﬁicy
;

2796 
ULONG
 
timeout
 = 0;

2797 
uöt8_t
 
ídpoöt_addªss
;

2798 
i
;

2800 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

2804 
i
=-1; i<
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
nb_ídpoöts
; i++) {

2805 
ídpoöt_addªss
 =(
i
==-1)?0:
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
ídpoöt
[i];

2806 i‡(!
WöUSBX
[
sub_≠i
].
	`SëPùePﬁicy
(
wöusb_h™dÀ
, 
ídpoöt_addªss
,

2807 
PIPE_TRANSFER_TIMEOUT
, (
ULONG
), &
timeout
)) {

2808 
	`usbi_dbg
("ÁûedÅÿ£àPIPE_TRANSFER_TIMEOUT f‹ c⁄åﬁÉndpoöà%02X", 
ídpoöt_addªss
);

2810 i‡((
i
 =-1Ë|| (
sub_≠i
 =
SUB_API_LIBUSB0
)) {

2813 
pﬁicy
 = 
Ál£
;

2814 i‡(!
WöUSBX
[
sub_≠i
].
	`SëPùePﬁicy
(
wöusb_h™dÀ
, 
ídpoöt_addªss
,

2815 
SHORT_PACKET_TERMINATE
, (
UCHAR
), &
pﬁicy
)) {

2816 
	`usbi_dbg
("ÁûedÅÿdißbÀ SHORT_PACKET_TERMINATE f‹Éndpoöà%02X", 
ídpoöt_addªss
);

2818 i‡(!
WöUSBX
[
sub_≠i
].
	`SëPùePﬁicy
(
wöusb_h™dÀ
, 
ídpoöt_addªss
,

2819 
IGNORE_SHORT_PACKETS
, (
UCHAR
), &
pﬁicy
)) {

2820 
	`usbi_dbg
("ÁûedÅÿdißbÀ IGNORE_SHORT_PACKETS f‹Éndpoöà%02X", 
ídpoöt_addªss
);

2822 
pﬁicy
 = 
åue
;

2825 i‡(!
WöUSBX
[
sub_≠i
].
	`SëPùePﬁicy
(
wöusb_h™dÀ
, 
ídpoöt_addªss
,

2826 
ALLOW_PARTIAL_READS
, (
UCHAR
), &
pﬁicy
)) {

2827 
	`usbi_dbg
("ÁûedÅÿíabÀ ALLOW_PARTIAL_READS f‹Éndpoöà%02X", 
ídpoöt_addªss
);

2829 i‡(!
WöUSBX
[
sub_≠i
].
	`SëPùePﬁicy
(
wöusb_h™dÀ
, 
ídpoöt_addªss
,

2830 
AUTO_CLEAR_STALL
, (
UCHAR
), &
pﬁicy
)) {

2831 
	`usbi_dbg
("ÁûedÅÿíabÀ AUTO_CLEAR_STALL f‹Éndpoöà%02X", 
ídpoöt_addªss
);

2835  
LIBUSB_SUCCESS
;

2836 
	}
}

2838 
	$wöusbx_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2840 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

2841 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

2842 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2843 
boﬁ
 
is_usög_usbccgp
 = (
¥iv
->
≠ib
->
id
 =
USB_API_COMPOSITE
);

2844 
HANDLE
 
fûe_h™dÀ
, 
wöusb_h™dÀ
;

2845 
DWORD
 
îr
;

2846 
i
;

2847 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
dev_öãrÁ˚_dëaûs
 = 
NULL
;

2848 
HDEVINFO
 
dev_öfo
 = 
INVALID_HANDLE_VALUE
;

2849 
SP_DEVINFO_DATA
 
dev_öfo_d©a
;

2850 * 
dev_∑th_no_guid
 = 
NULL
;

2851 
fûãr_∑th
[] = "\\\\.\\libusb0-0000";

2852 
boﬁ
 
found_fûãr
 = 
Ál£
;

2854 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

2858 i‡((
is_usög_usbccgp
Ë|| (
iÁ˚
 == 0)) {

2860 
fûe_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
dev_h™dÀ
;

2861 i‡((
fûe_h™dÀ
 =0Ë|| (fûe_h™dÀ =
INVALID_HANDLE_VALUE
)) {

2862  
LIBUSB_ERROR_NOT_FOUND
;

2865 i‡(!
WöUSBX
[
sub_≠i
].
	`Inôülize
(
fûe_h™dÀ
, &
wöusb_h™dÀ
)) {

2866 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

2867 
îr
 = 
	`GëLa°Eº‹
();

2868 
îr
) {

2869 
ERROR_BAD_COMMAND
:

2871 
	`usbi_îr
(
˘x
, "couldÇŸác˚s†öãrÁ˚ %d: %s", 
iÁ˚
, 
	`wödows_îr‹_°r
(0));

2872  
LIBUSB_ERROR_NO_DEVICE
;

2876 
i
 = 0; ; i++) {

2877 
	`ß„_‰ì
(
dev_öãrÁ˚_dëaûs
);

2878 
	`ß„_‰ì
(
dev_∑th_no_guid
);

2879 
dev_öãrÁ˚_dëaûs
 = 
	`gë_öãrÁ˚_dëaûs_fûãr
(
˘x
, &
dev_öfo
, &
dev_öfo_d©a
, &
GUID_DEVINTERFACE_LIBUSB0_FILTER
, 
i
, 
fûãr_∑th
);

2880 i‡((
found_fûãr
Ë|| (
dev_öãrÁ˚_dëaûs
 =
NULL
)) {

2884 
dev_∑th_no_guid
 = 
	`ßnôize_∑th
(
	`°πok
(
dev_öãrÁ˚_dëaûs
->
Devi˚P©h
, "{"));

2885 i‡(
	`ß„_°∫cmp
(
dev_∑th_no_guid
, 
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
∑th
, 
	`ß„_°æí
(dev_path_no_guid)) == 0) {

2886 
fûe_h™dÀ
 = 
	`Cª©eFûeA
(
fûãr_∑th
, 
GENERIC_WRITE
 | 
GENERIC_READ
, 
FILE_SHARE_WRITE
 | 
FILE_SHARE_READ
,

2887 
NULL
, 
OPEN_EXISTING
, 
FILE_ATTRIBUTE_NORMAL
 | 
FILE_FLAG_OVERLAPPED
, NULL);

2888 i‡(
fûe_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

2889 
	`usbi_îr
(
˘x
, "couldÇŸ o≥¿devi˚ %s: %s", 
fûãr_∑th
, 
	`wödows_îr‹_°r
(0));

2891 
WöUSBX
[
sub_≠i
].
	`Fªe
(
wöusb_h™dÀ
);

2892 i‡(
WöUSBX
[
sub_≠i
].
	`Inôülize
(
fûe_h™dÀ
, &
wöusb_h™dÀ
))

2893 
found_fûãr
 = 
åue
;

2895 
	`usbi_îr
(
˘x
, "couldÇŸ inôülizêfûã∏drivî f‹ %s", 
fûãr_∑th
);

2899 i‡(!
found_fûãr
) {

2900 
	`usbi_îr
(
˘x
, "couldÇŸác˚s†öãrÁ˚ %d: %s", 
iÁ˚
, 
	`wödows_îr‹_°r
(
îr
));

2901  
LIBUSB_ERROR_ACCESS
;

2905 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
 = 
wöusb_h™dÀ
;

2908 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[0].
≠i_h™dÀ
;

2911 i‡((
wöusb_h™dÀ
 =0Ë|| (wöusb_h™dÀ =
INVALID_HANDLE_VALUE
)) {

2912 
fûe_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[0].
dev_h™dÀ
;

2913 i‡(
WöUSBX
[
sub_≠i
].
	`Inôülize
(
fûe_h™dÀ
, &
wöusb_h™dÀ
)) {

2914 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[0].
≠i_h™dÀ
 = 
wöusb_h™dÀ
;

2915 
	`usbi_w¨n
(
˘x
, "auto-˛aimed i¡îÁ˚ 0 (ªquúedÅÿ˛aim %d wôh WöUSB)", 
iÁ˚
);

2917 
	`usbi_w¨n
(
˘x
, "ÁûedÅÿauto-˛aim i¡îÁ˚ 0 (ªquúedÅÿ˛aim %d wôh WöUSB): %s", 
iÁ˚
, 
	`wödows_îr‹_°r
(0));

2918  
LIBUSB_ERROR_ACCESS
;

2921 i‡(!
WöUSBX
[
sub_≠i
].
	`GëAssocüãdI¡îÁ˚
(
wöusb_h™dÀ
, (
UCHAR
)(
iÁ˚
-1),

2922 &
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
)) {

2923 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

2924 
	`GëLa°Eº‹
()) {

2925 
ERROR_NO_MORE_ITEMS
:

2926  
LIBUSB_ERROR_NOT_FOUND
;

2927 
ERROR_BAD_COMMAND
:

2928  
LIBUSB_ERROR_NO_DEVICE
;

2929 
ERROR_ALREADY_EXISTS
:

2930  
LIBUSB_ERROR_BUSY
;

2932 
	`usbi_îr
(
˘x
, "couldÇŸ cœim i¡îÁ˚ %d: %s", 
iÁ˚
, 
	`wödows_îr‹_°r
(0));

2933  
LIBUSB_ERROR_ACCESS
;

2937 
	`usbi_dbg
("˛aimed i¡îÁ˚ %d", 
iÁ˚
);

2938 
h™dÀ_¥iv
->
a˘ive_öãrÁ˚
 = 
iÁ˚
;

2940  
LIBUSB_SUCCESS
;

2941 
	}
}

2943 
	$wöusbx_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

2945 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

2946 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2947 
HANDLE
 
wöusb_h™dÀ
;

2949 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

2951 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
;

2952 i‡((
wöusb_h™dÀ
 =0Ë|| (wöusb_h™dÀ =
INVALID_HANDLE_VALUE
)) {

2953  
LIBUSB_ERROR_NOT_FOUND
;

2956 
WöUSBX
[
sub_≠i
].
	`Fªe
(
wöusb_h™dÀ
);

2957 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

2959  
LIBUSB_SUCCESS
;

2960 
	}
}

2965 
	$gë_vÆid_öãrÁ˚
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
≠i_id
)

2967 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

2968 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

2969 
i
;

2971 i‡((
≠i_id
 < 
USB_API_WINUSBX
Ë|| (≠i_id > 
USB_API_HID
)) {

2972 
	`usbi_dbg
("unsupported API ID");

2976 
i
=0; i<
USB_MAXINTERFACES
; i++) {

2977 i‡–(
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
dev_h™dÀ
 != 0)

2978 && (
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
dev_h™dÀ
 !
INVALID_HANDLE_VALUE
)

2979 && (
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
 != 0)

2980 && (
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
 !
INVALID_HANDLE_VALUE
)

2981 && (
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
≠i_id
) ) {

2982  
i
;

2986 
	}
}

2991 
	$öãrÁ˚_by_ídpoöt
(
wödows_devi˚_¥iv
 *
¥iv
,

2992 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
, 
uöt8_t
 
ídpoöt_addªss
)

2994 
i
, 
j
;

2995 
i
=0; i<
USB_MAXINTERFACES
; i++) {

2996 i‡(
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
 =
INVALID_HANDLE_VALUE
)

2998 i‡(
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
 == 0)

3000 i‡(
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
 =
NULL
)

3002 
j
=0; j<
¥iv
->
usb_öãrÁ˚
[
i
].
nb_ídpoöts
; j++) {

3003 i‡(
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
] =
ídpoöt_addªss
) {

3004  
i
;

3009 
	}
}

3011 
	$wöusbx_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

3013 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

3014 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

3015 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

3016 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

3017 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(

3018 
å™s„r
->
dev_h™dÀ
);

3019 
WINUSB_SETUP_PACKET
 *
£tup
 = (WINUSB_SETUP_PACKET *Ë
å™s„r
->
buf„r
;

3020 
ULONG
 
size
;

3021 
HANDLE
 
wöusb_h™dÀ
;

3022 
cuºít_öãrÁ˚
;

3023 
wöfd
 
wfd
;

3025 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

3027 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
INVALID_WINFD
;

3028 
size
 = 
å™s„r
->
Àngth
 - 
LIBUSB_CONTROL_SETUP_SIZE
;

3030 i‡(
size
 > 
MAX_CTRL_BUFFER_LENGTH
)

3031  
LIBUSB_ERROR_INVALID_PARAM
;

3033 
cuºít_öãrÁ˚
 = 
	`gë_vÆid_öãrÁ˚
(
å™s„r
->
dev_h™dÀ
, 
USB_API_WINUSBX
);

3034 i‡(
cuºít_öãrÁ˚
 < 0) {

3035 i‡(
	`auto_˛aim
(
å™s„r
, &
cuºít_öãrÁ˚
, 
USB_API_WINUSBX
Ë!
LIBUSB_SUCCESS
) {

3036  
LIBUSB_ERROR_NOT_FOUND
;

3040 
	`usbi_dbg
("wû»u£ i¡îÁ˚ %d", 
cuºít_öãrÁ˚
);

3041 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

3043 
wfd
 = 
	`usbi_¸óã_fd
(
wöusb_h™dÀ
, 
RW_READ
, 
NULL
, NULL);

3045 i‡(
wfd
.
fd
 < 0) {

3046  
LIBUSB_ERROR_NO_MEM
;

3050 i‡–((
£tup
->
ªque°_ty≥
 & (0x03 << 5)Ë=
LIBUSB_REQUEST_TYPE_STANDARD
)

3051 && (
£tup
->
ªque°
 =
LIBUSB_REQUEST_SET_CONFIGURATION
) ) {

3052 i‡(
£tup
->
vÆue
 !
¥iv
->
a˘ive_c⁄fig
) {

3053 
	`usbi_w¨n
(
˘x
, "cannot set configuration otherÅhanÅhe default one");

3054 
	`usbi_‰ì_fd
(&
wfd
);

3055  
LIBUSB_ERROR_INVALID_PARAM
;

3057 
wfd
.
ovîœµed
->
I¡î«l
 = 
STATUS_COMPLETED_SYNCHRONOUSLY
;

3058 
wfd
.
ovîœµed
->
I¡î«lHigh
 = 0;

3060 i‡(!
WöUSBX
[
sub_≠i
].
	`C⁄åﬁTøns„r
(
wfd
.
h™dÀ
, *
£tup
, 
å™s„r
->
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
, 
size
, 
NULL
, wfd.
ovîœµed
)) {

3061 if(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

3062 
	`usbi_w¨n
(
˘x
, "C⁄åﬁTøns„∏Áûed: %s", 
	`wödows_îr‹_°r
(0));

3063 
	`usbi_‰ì_fd
(&
wfd
);

3064  
LIBUSB_ERROR_IO
;

3067 
wfd
.
ovîœµed
->
I¡î«l
 = 
STATUS_COMPLETED_SYNCHRONOUSLY
;

3068 
wfd
.
ovîœµed
->
I¡î«lHigh
 = (
DWORD
)
size
;

3073 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
wfd
;

3074 
å™s„r_¥iv
->
öãrÁ˚_numbî
 = (
uöt8_t
)
cuºít_öãrÁ˚
;

3076  
LIBUSB_SUCCESS
;

3077 
	}
}

3079 
	$wöusbx_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
)

3081 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

3082 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3083 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3084 
HANDLE
 
wöusb_h™dÀ
;

3086 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

3088 i‡(
Æt£âög
 > 255) {

3089  
LIBUSB_ERROR_INVALID_PARAM
;

3092 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
≠i_h™dÀ
;

3093 i‡((
wöusb_h™dÀ
 =0Ë|| (wöusb_h™dÀ =
INVALID_HANDLE_VALUE
)) {

3094 
	`usbi_îr
(
˘x
, "interface must be claimed first");

3095  
LIBUSB_ERROR_NOT_FOUND
;

3098 i‡(!
WöUSBX
[
sub_≠i
].
	`SëCuºítA…î«ãSëtög
(
wöusb_h™dÀ
, (
UCHAR
)
Æt£âög
)) {

3099 
	`usbi_îr
(
˘x
, "SëCuºítA…î«ãSëtög faûed: %s", 
	`wödows_îr‹_°r
(0));

3100  
LIBUSB_ERROR_IO
;

3103  
LIBUSB_SUCCESS
;

3104 
	}
}

3106 
	$wöusbx_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

3108 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

3109 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

3110 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

3111 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

3112 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

3113 
HANDLE
 
wöusb_h™dÀ
;

3114 
boﬁ
 
ªt
;

3115 
cuºít_öãrÁ˚
;

3116 
wöfd
 
wfd
;

3118 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

3120 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
INVALID_WINFD
;

3122 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
å™s„r
->
ídpoöt
);

3123 i‡(
cuºít_öãrÁ˚
 < 0) {

3124 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cancellingÅransfer");

3125  
LIBUSB_ERROR_NOT_FOUND
;

3128 
	`usbi_dbg
("m©chedÉndpoöà%02X wôh i¡îÁ˚ %d", 
å™s„r
->
ídpoöt
, 
cuºít_öãrÁ˚
);

3130 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

3132 
wfd
 = 
	`usbi_¸óã_fd
(
wöusb_h™dÀ
, 
	`IS_XFERIN
(
å™s„r
Ë? 
RW_READ
 : 
RW_WRITE
, 
NULL
, NULL);

3134 i‡(
wfd
.
fd
 < 0) {

3135  
LIBUSB_ERROR_NO_MEM
;

3138 i‡(
	`IS_XFERIN
(
å™s„r
)) {

3139 
	`usbi_dbg
("ªadög %d byãs", 
å™s„r
->
Àngth
);

3140 
ªt
 = 
WöUSBX
[
sub_≠i
].
	`RódPùe
(
wfd
.
h™dÀ
, 
å™s„r
->
ídpoöt
,Åøns„r->
buf„r
,Åøns„r->
Àngth
, 
NULL
, wfd.
ovîœµed
);

3142 
	`usbi_dbg
("wrôög %d byãs", 
å™s„r
->
Àngth
);

3143 
ªt
 = 
WöUSBX
[
sub_≠i
].
	`WrôePùe
(
wfd
.
h™dÀ
, 
å™s„r
->
ídpoöt
,Åøns„r->
buf„r
,Åøns„r->
Àngth
, 
NULL
, wfd.
ovîœµed
);

3145 i‡(!
ªt
) {

3146 if(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

3147 
	`usbi_îr
(
˘x
, "RódPùe/WrôePùêÁûed: %s", 
	`wödows_îr‹_°r
(0));

3148 
	`usbi_‰ì_fd
(&
wfd
);

3149  
LIBUSB_ERROR_IO
;

3152 
wfd
.
ovîœµed
->
I¡î«l
 = 
STATUS_COMPLETED_SYNCHRONOUSLY
;

3153 
wfd
.
ovîœµed
->
I¡î«lHigh
 = (
DWORD
)
å™s„r
->
Àngth
;

3156 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
wfd
;

3157 
å™s„r_¥iv
->
öãrÁ˚_numbî
 = (
uöt8_t
)
cuºít_öãrÁ˚
;

3159  
LIBUSB_SUCCESS
;

3160 
	}
}

3162 
	$wöusbx_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
)

3164 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

3165 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3166 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3167 
HANDLE
 
wöusb_h™dÀ
;

3168 
cuºít_öãrÁ˚
;

3170 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

3172 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
ídpoöt
);

3173 i‡(
cuºít_öãrÁ˚
 < 0) {

3174 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cannot clear");

3175  
LIBUSB_ERROR_NOT_FOUND
;

3178 
	`usbi_dbg
("m©chedÉndpoöà%02X wôh i¡îÁ˚ %d", 
ídpoöt
, 
cuºít_öãrÁ˚
);

3179 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

3181 i‡(!
WöUSBX
[
sub_≠i
].
	`Re£tPùe
(
wöusb_h™dÀ
, 
ídpoöt
)) {

3182 
	`usbi_îr
(
˘x
, "Re£tPùêÁûed: %s", 
	`wödows_îr‹_°r
(0));

3183  
LIBUSB_ERROR_NO_DEVICE
;

3186  
LIBUSB_SUCCESS
;

3187 
	}
}

3195 
	$wöusbx_ab‹t_c⁄åﬁ
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

3198  
LIBUSB_SUCCESS
;

3199 
	}
}

3201 
	$wöusbx_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

3203 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

3204 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

3205 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

3206 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

3207 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

3208 
HANDLE
 
wöusb_h™dÀ
;

3209 
cuºít_öãrÁ˚
;

3211 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

3213 
cuºít_öãrÁ˚
 = 
å™s„r_¥iv
->
öãrÁ˚_numbî
;

3214 i‡((
cuºít_öãrÁ˚
 < 0Ë|| (cuºít_öãrÁ˚ >
USB_MAXINTERFACES
)) {

3215 
	`usbi_îr
(
˘x
, "programássertion failed: invalid interface_number");

3216  
LIBUSB_ERROR_NOT_FOUND
;

3218 
	`usbi_dbg
("wû»u£ i¡îÁ˚ %d", 
cuºít_öãrÁ˚
);

3220 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

3222 i‡(!
WöUSBX
[
sub_≠i
].
	`Ab‹tPùe
(
wöusb_h™dÀ
, 
å™s„r
->
ídpoöt
)) {

3223 
	`usbi_îr
(
˘x
, "Ab‹tPùêÁûed: %s", 
	`wödows_îr‹_°r
(0));

3224  
LIBUSB_ERROR_NO_DEVICE
;

3227  
LIBUSB_SUCCESS
;

3228 
	}
}

3239 
	$wöusbx_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

3241 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

3242 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3243 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3244 
wöfd
 
wfd
;

3245 
HANDLE
 
wöusb_h™dÀ
;

3246 
i
, 
j
;

3248 
	`CHECK_WINUSBX_AVAILABLE
(
sub_≠i
);

3251 
i
=0; i<
USB_MAXINTERFACES
; i++) {

3252 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
;

3253 
wfd
 = 
	`h™dÀ_to_wöfd
(
wöusb_h™dÀ
); wfd.
fd
 > 0;)

3256 
	`usbi_ªmove_pﬁlfd
(
˘x
, 
wfd
.
fd
);

3257 
	`usbi_‰ì_fd
(&
wfd
);

3258 
wfd
 = 
	`h™dÀ_to_wöfd
(
wöusb_h™dÀ
);

3261 i‡–(
wöusb_h™dÀ
 !0Ë&& (wöusb_h™dÀ !
INVALID_HANDLE_VALUE
)) {

3262 
j
=0; j<
¥iv
->
usb_öãrÁ˚
[
i
].
nb_ídpoöts
; j++) {

3263 
	`usbi_dbg
("ª£âögÉ∞%02X", 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
]);

3264 i‡(!
WöUSBX
[
sub_≠i
].
	`Ab‹tPùe
(
wöusb_h™dÀ
, 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
])) {

3265 
	`usbi_îr
(
˘x
, "AbortPipe (pipeáddress %02X) failed: %s",

3266 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
], 
	`wödows_îr‹_°r
(0));

3269 i‡(
	`IS_EPIN
(
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
])

3270 && (!
WöUSBX
[
sub_≠i
].
	`FlushPùe
(
wöusb_h™dÀ
, 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
])) ) {

3271 
	`usbi_îr
(
˘x
, "FlushPipe (pipeáddress %02X) failed: %s",

3272 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
], 
	`wödows_îr‹_°r
(0));

3274 i‡(!
WöUSBX
[
sub_≠i
].
	`Re£tPùe
(
wöusb_h™dÀ
, 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
])) {

3275 
	`usbi_îr
(
˘x
, "ResetPipe (pipeáddress %02X) failed: %s",

3276 
¥iv
->
usb_öãrÁ˚
[
i
].
ídpoöt
[
j
], 
	`wödows_îr‹_°r
(0));

3283 i‡(
WöUSBX
[
sub_≠i
].
Re£tDevi˚
 !
NULL
) {

3284 
wöusb_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[0].
≠i_h™dÀ
;

3285 i‡–(
wöusb_h™dÀ
 !0Ë&& (wöusb_h™dÀ !
INVALID_HANDLE_VALUE
)) {

3286 
WöUSBX
[
sub_≠i
].
	`Re£tDevi˚
(
wöusb_h™dÀ
);

3289  
LIBUSB_SUCCESS
;

3290 
	}
}

3292 
	$wöusbx_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
)

3294 
ôøns„r
->
å™s„ºed
 +
io_size
;

3295  
LIBUSB_TRANSFER_COMPLETED
;

3296 
	}
}

3303 
_hid_gë_hid_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, *
d©a
, 
size_t
 *
size
);

3304 
_hid_gë_ªp‹t_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, *
d©a
, 
size_t
 *
size
);

3306 
	$_hid_wc¶í
(
WCHAR
 *
°r
)

3308 
i
 = 0;

3309 
°r
[
i
] && (str[i] != 0x409)) {

3310 
i
++;

3312  
i
;

3313 
	}
}

3315 
	$_hid_gë_devi˚_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, *
d©a
, 
size_t
 *
size
)

3317 
libusb_devi˚_des¸ùt‹
 
d
;

3319 
d
.
bLígth
 = 
LIBUSB_DT_DEVICE_SIZE
;

3320 
d
.
bDes¸ùt‹Ty≥
 = 
LIBUSB_DT_DEVICE
;

3321 
d
.
bcdUSB
 = 0x0200;

3322 
d
.
bDevi˚Cœss
 = 0;

3323 
d
.
bDevi˚SubCœss
 = 0;

3324 
d
.
bDevi˚PrŸocﬁ
 = 0;

3325 
d
.
bMaxPackëSize0
 = 64;

3326 
d
.
idVíd‹
 = (
uöt16_t
)
dev
->
vid
;

3327 
d
.
idProdu˘
 = (
uöt16_t
)
dev
->
pid
;

3328 
d
.
bcdDevi˚
 = 0x0100;

3329 
d
.
iM™uÁ˘uªr
 = 
dev
->
°rög_ödex
[0];

3330 
d
.
iProdu˘
 = 
dev
->
°rög_ödex
[1];

3331 
d
.
iSîülNumbî
 = 
dev
->
°rög_ödex
[2];

3332 
d
.
bNumC⁄figuøti⁄s
 = 1;

3334 i‡(*
size
 > 
LIBUSB_DT_DEVICE_SIZE
)

3335 *
size
 = 
LIBUSB_DT_DEVICE_SIZE
;

3336 
	`mem˝y
(
d©a
, &
d
, *
size
);

3337  
LIBUSB_COMPLETED
;

3338 
	}
}

3340 
	$_hid_gë_c⁄fig_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, *
d©a
, 
size_t
 *
size
)

3342 
num_ídpoöts
 = 0;

3343 
size_t
 
c⁄fig_tŸÆ_Àn
 = 0;

3344 
tmp
[
HID_MAX_CONFIG_DESC_SIZE
];

3345 
libusb_c⁄fig_des¸ùt‹
 *
cd
;

3346 
libusb_öãrÁ˚_des¸ùt‹
 *
id
;

3347 
libusb_hid_des¸ùt‹
 *
hd
;

3348 
libusb_ídpoöt_des¸ùt‹
 *
ed
;

3349 
size_t
 
tmp_size
;

3351 i‡(
dev
->
öput_ªp‹t_size
)

3352 
num_ídpoöts
++;

3353 i‡(
dev
->
ouçut_ªp‹t_size
)

3354 
num_ídpoöts
++;

3356 
c⁄fig_tŸÆ_Àn
 = 
LIBUSB_DT_CONFIG_SIZE
 + 
LIBUSB_DT_INTERFACE_SIZE


3357 + 
LIBUSB_DT_HID_SIZE
 + 
num_ídpoöts
 * 
LIBUSB_DT_ENDPOINT_SIZE
;

3360 
cd
 = (
libusb_c⁄fig_des¸ùt‹
 *)
tmp
;

3361 
id
 = (
libusb_öãrÁ˚_des¸ùt‹
 *)(
tmp
 + 
LIBUSB_DT_CONFIG_SIZE
);

3362 
hd
 = (
libusb_hid_des¸ùt‹
 *)(
tmp
 + 
LIBUSB_DT_CONFIG_SIZE


3363 + 
LIBUSB_DT_INTERFACE_SIZE
);

3364 
ed
 = (
libusb_ídpoöt_des¸ùt‹
 *)(
tmp
 + 
LIBUSB_DT_CONFIG_SIZE


3365 + 
LIBUSB_DT_INTERFACE_SIZE


3366 + 
LIBUSB_DT_HID_SIZE
);

3368 
cd
->
bLígth
 = 
LIBUSB_DT_CONFIG_SIZE
;

3369 
cd
->
bDes¸ùt‹Ty≥
 = 
LIBUSB_DT_CONFIG
;

3370 
cd
->
wTŸÆLígth
 = (
uöt16_t
Ë
c⁄fig_tŸÆ_Àn
;

3371 
cd
->
bNumI¡îÁ˚s
 = 1;

3372 
cd
->
bC⁄figuøti⁄VÆue
 = 1;

3373 
cd
->
iC⁄figuøti⁄
 = 0;

3374 
cd
->
bmAâribuãs
 = 1 << 7;

3375 
cd
->
MaxPowî
 = 50;

3377 
id
->
bLígth
 = 
LIBUSB_DT_INTERFACE_SIZE
;

3378 
id
->
bDes¸ùt‹Ty≥
 = 
LIBUSB_DT_INTERFACE
;

3379 
id
->
bI¡îÁ˚Numbî
 = 0;

3380 
id
->
bA…î«ãSëtög
 = 0;

3381 
id
->
bNumEndpoöts
 = 
num_ídpoöts
;

3382 
id
->
bI¡îÁ˚Cœss
 = 3;

3383 
id
->
bI¡îÁ˚SubCœss
 = 0;

3384 
id
->
bI¡îÁ˚PrŸocﬁ
 = 0;

3385 
id
->
iI¡îÁ˚
 = 0;

3387 
tmp_size
 = 
LIBUSB_DT_HID_SIZE
;

3388 
	`_hid_gë_hid_des¸ùt‹
(
dev
, 
hd
, &
tmp_size
);

3390 i‡(
dev
->
öput_ªp‹t_size
) {

3391 
ed
->
bLígth
 = 
LIBUSB_DT_ENDPOINT_SIZE
;

3392 
ed
->
bDes¸ùt‹Ty≥
 = 
LIBUSB_DT_ENDPOINT
;

3393 
ed
->
bEndpoötAddªss
 = 
HID_IN_EP
;

3394 
ed
->
bmAâribuãs
 = 3;

3395 
ed
->
wMaxPackëSize
 = 
dev
->
öput_ªp‹t_size
 - 1;

3396 
ed
->
bI¡îvÆ
 = 10;

3397 
ed
 = (
libusb_ídpoöt_des¸ùt‹
 *)((*Îd + 
LIBUSB_DT_ENDPOINT_SIZE
);

3400 i‡(
dev
->
ouçut_ªp‹t_size
) {

3401 
ed
->
bLígth
 = 
LIBUSB_DT_ENDPOINT_SIZE
;

3402 
ed
->
bDes¸ùt‹Ty≥
 = 
LIBUSB_DT_ENDPOINT
;

3403 
ed
->
bEndpoötAddªss
 = 
HID_OUT_EP
;

3404 
ed
->
bmAâribuãs
 = 3;

3405 
ed
->
wMaxPackëSize
 = 
dev
->
ouçut_ªp‹t_size
 - 1;

3406 
ed
->
bI¡îvÆ
 = 10;

3409 i‡(*
size
 > 
c⁄fig_tŸÆ_Àn
)

3410 *
size
 = 
c⁄fig_tŸÆ_Àn
;

3411 
	`mem˝y
(
d©a
, 
tmp
, *
size
);

3412  
LIBUSB_COMPLETED
;

3413 
	}
}

3415 
	$_hid_gë_°rög_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, 
_ödex
,

3416 *
d©a
, 
size_t
 *
size
)

3418 *
tmp
 = 
NULL
;

3419 
size_t
 
tmp_size
 = 0;

3420 
i
;

3423 
°rög_œngid
[] = {

3428 i‡((*
size
 < 2) || (*size > 255)) {

3429  
LIBUSB_ERROR_OVERFLOW
;

3432 i‡(
_ödex
 == 0) {

3433 
tmp
 = 
°rög_œngid
;

3434 
tmp_size
 = (
°rög_œngid
)+2;

3436 
i
=0; i<3; i++) {

3437 i‡(
_ödex
 =(
dev
->
°rög_ödex
[
i
])) {

3438 
tmp
 = 
dev
->
°rög
[
i
];

3439 
tmp_size
 = (
	`_hid_wc¶í
(
dev
->
°rög
[
i
])+1Ë* (
WCHAR
);

3443 i‡(
i
 == 3) {

3444  
LIBUSB_ERROR_INVALID_PARAM
;

3448 if(!
tmp_size
) {

3449  
LIBUSB_ERROR_INVALID_PARAM
;

3452 i‡(
tmp_size
 < *
size
) {

3453 *
size
 = 
tmp_size
;

3456 ((
uöt8_t
*)
d©a
)[0] = (uöt8_t)*
size
;

3457 ((
uöt8_t
*)
d©a
)[1] = 
LIBUSB_DT_STRING
;

3458 
	`mem˝y
((
uöt8_t
*)
d©a
+2, 
tmp
, *
size
-2);

3459  
LIBUSB_COMPLETED
;

3460 
	}
}

3462 
	$_hid_gë_hid_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, *
d©a
, 
size_t
 *
size
)

3464 
libusb_hid_des¸ùt‹
 
d
;

3465 
uöt8_t
 
tmp
[
MAX_HID_DESCRIPTOR_SIZE
];

3466 
size_t
 
ªp‹t_Àn
 = 
MAX_HID_DESCRIPTOR_SIZE
;

3468 
	`_hid_gë_ªp‹t_des¸ùt‹
(
dev
, 
tmp
, &
ªp‹t_Àn
);

3470 
d
.
bLígth
 = 
LIBUSB_DT_HID_SIZE
;

3471 
d
.
bDes¸ùt‹Ty≥
 = 
LIBUSB_DT_HID
;

3472 
d
.
bcdHID
 = 0x0110;

3473 
d
.
bCou¡ryCode
 = 0;

3474 
d
.
bNumDes¸ùt‹s
 = 1;

3475 
d
.
bCœssDes¸ùt‹Ty≥
 = 
LIBUSB_DT_REPORT
;

3476 
d
.
wCœssDes¸ùt‹Lígth
 = (
uöt16_t
)
ªp‹t_Àn
;

3478 i‡(*
size
 > 
LIBUSB_DT_HID_SIZE
)

3479 *
size
 = 
LIBUSB_DT_HID_SIZE
;

3480 
	`mem˝y
(
d©a
, &
d
, *
size
);

3481  
LIBUSB_COMPLETED
;

3482 
	}
}

3484 
	$_hid_gë_ªp‹t_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, *
d©a
, 
size_t
 *
size
)

3486 
uöt8_t
 
d
[
MAX_HID_DESCRIPTOR_SIZE
];

3487 
size_t
 
i
 = 0;

3490 
d
[
i
++] = 0x06; d[i++] = 0xA0; d[i++] = 0xFF;

3492 
d
[
i
++] = 0x09; d[i++] = 0x01;

3494 
d
[
i
++] = 0xA1; d[i++] = 0x01;

3496 i‡(
dev
->
öput_ªp‹t_size
) {

3498 
d
[
i
++] = 0x09; d[i++] = 0x01;

3500 
d
[
i
++] = 0x15; d[i++] = 0x00;

3502 
d
[
i
++] = 0x25; d[i++] = 0xFF;

3504 
d
[
i
++] = 0x75; d[i++] = 0x08;

3506 
d
[
i
++] = 0x95; d[i++] = (
uöt8_t
)
dev
->
öput_ªp‹t_size
 - 1;

3508 
d
[
i
++] = 0x81; d[i++] = 0x00;

3511 i‡(
dev
->
ouçut_ªp‹t_size
) {

3513 
d
[
i
++] = 0x09; d[i++] = 0x02;

3515 
d
[
i
++] = 0x15; d[i++] = 0x00;

3517 
d
[
i
++] = 0x25; d[i++] = 0xFF;

3519 
d
[
i
++] = 0x75; d[i++] = 0x08;

3521 
d
[
i
++] = 0x95; d[i++] = (
uöt8_t
)
dev
->
ouçut_ªp‹t_size
 - 1;

3523 
d
[
i
++] = 0x91; d[i++] = 0x00;

3526 i‡(
dev
->
„©uª_ªp‹t_size
) {

3528 
d
[
i
++] = 0x09; d[i++] = 0x03;

3530 
d
[
i
++] = 0x15; d[i++] = 0x00;

3532 
d
[
i
++] = 0x25; d[i++] = 0xFF;

3534 
d
[
i
++] = 0x75; d[i++] = 0x08;

3536 
d
[
i
++] = 0x95; d[i++] = (
uöt8_t
)
dev
->
„©uª_ªp‹t_size
 - 1;

3538 
d
[
i
++] = 0xb2; d[i++] = 0x02; d[i++] = 0x01;

3542 
d
[
i
++] = 0xC0;

3544 i‡(*
size
 > 
i
)

3545 *
size
 = 
i
;

3546 
	`mem˝y
(
d©a
, 
d
, *
size
);

3547  
LIBUSB_COMPLETED
;

3548 
	}
}

3550 
	$_hid_gë_des¸ùt‹
(
hid_devi˚_¥iv
* 
dev
, 
HANDLE
 
hid_h™dÀ
, 
ªcùõ¡
,

3551 
ty≥
, 
_ödex
, *
d©a
, 
size_t
 *
size
)

3553 
ty≥
) {

3554 
LIBUSB_DT_DEVICE
:

3555 
	`usbi_dbg
("LIBUSB_DT_DEVICE");

3556  
	`_hid_gë_devi˚_des¸ùt‹
(
dev
, 
d©a
, 
size
);

3557 
LIBUSB_DT_CONFIG
:

3558 
	`usbi_dbg
("LIBUSB_DT_CONFIG");

3559 i‡(!
_ödex
)

3560  
	`_hid_gë_c⁄fig_des¸ùt‹
(
dev
, 
d©a
, 
size
);

3561  
LIBUSB_ERROR_INVALID_PARAM
;

3562 
LIBUSB_DT_STRING
:

3563 
	`usbi_dbg
("LIBUSB_DT_STRING");

3564  
	`_hid_gë_°rög_des¸ùt‹
(
dev
, 
_ödex
, 
d©a
, 
size
);

3565 
LIBUSB_DT_HID
:

3566 
	`usbi_dbg
("LIBUSB_DT_HID");

3567 i‡(!
_ödex
)

3568  
	`_hid_gë_hid_des¸ùt‹
(
dev
, 
d©a
, 
size
);

3569  
LIBUSB_ERROR_INVALID_PARAM
;

3570 
LIBUSB_DT_REPORT
:

3571 
	`usbi_dbg
("LIBUSB_DT_REPORT");

3572 i‡(!
_ödex
)

3573  
	`_hid_gë_ªp‹t_des¸ùt‹
(
dev
, 
d©a
, 
size
);

3574  
LIBUSB_ERROR_INVALID_PARAM
;

3575 
LIBUSB_DT_PHYSICAL
:

3576 
	`usbi_dbg
("LIBUSB_DT_PHYSICAL");

3577 i‡(
	`HidD_GëPhysiˇlDes¸ùt‹
(
hid_h™dÀ
, 
d©a
, (
ULONG
)*
size
))

3578  
LIBUSB_COMPLETED
;

3579  
LIBUSB_ERROR_OTHER
;

3581 
	`usbi_dbg
("unsupported");

3582  
LIBUSB_ERROR_INVALID_PARAM
;

3583 
	}
}

3585 
	$_hid_gë_ªp‹t
(
hid_devi˚_¥iv
* 
dev
, 
HANDLE
 
hid_h™dÀ
, 
id
, *
d©a
,

3586 
wödows_å™s„r_¥iv
 *
ç
, 
size_t
 *
size
, 
OVERLAPPED
* 
ovîœµed
,

3587 
ªp‹t_ty≥
)

3589 
uöt8_t
 *
buf
;

3590 
DWORD
 
io˘l_code
, 
ªad_size
, 
ex≥˘ed_size
 = (DWORD)*
size
;

3591 
r
 = 
LIBUSB_SUCCESS
;

3593 i‡(
ç
->
hid_buf„r
 !
NULL
) {

3594 
	`usbi_dbg
("programássertion failed: hid_buffer isÇot NULL");

3597 i‡((*
size
 =0Ë|| (*sizê> 
MAX_HID_REPORT_SIZE
)) {

3598 
	`usbi_dbg
("övÆid sizê(%d)", *
size
);

3599  
LIBUSB_ERROR_INVALID_PARAM
;

3602 
ªp‹t_ty≥
) {

3603 
HID_REPORT_TYPE_INPUT
:

3604 
io˘l_code
 = 
IOCTL_HID_GET_INPUT_REPORT
;

3606 
HID_REPORT_TYPE_FEATURE
:

3607 
io˘l_code
 = 
IOCTL_HID_GET_FEATURE
;

3610 
	`usbi_dbg
("unknow¿HIDÑï‹àty≥ %d", 
ªp‹t_ty≥
);

3611  
LIBUSB_ERROR_INVALID_PARAM
;

3615 
buf
 = (
uöt8_t
*)
	`ˇŒoc
(
ex≥˘ed_size
+1, 1);

3616 i‡(
buf
 =
NULL
) {

3617  
LIBUSB_ERROR_NO_MEM
;

3619 
buf
[0] = (
uöt8_t
)
id
;

3620 
	`usbi_dbg
("ªp‹àID: 0x%02X", 
buf
[0]);

3622 
ç
->
hid_ex≥˘ed_size
 = 
ex≥˘ed_size
;

3623 
ªad_size
 = 
ex≥˘ed_size
;

3626 i‡(!
	`Devi˚IoC⁄åﬁ
(
hid_h™dÀ
, 
io˘l_code
, 
buf
, 
ex≥˘ed_size
+1,

3627 
buf
, 
ex≥˘ed_size
+1, &
ªad_size
, 
ovîœµed
)) {

3628 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

3629 
	`usbi_dbg
("FaûedÅÿRód HID Rï‹t: %s", 
	`wödows_îr‹_°r
(0));

3630 
	`ß„_‰ì
(
buf
);

3631  
LIBUSB_ERROR_IO
;

3634 
ç
->
hid_buf„r
 = 
buf
;

3635 
ç
->
hid_de°
 = (
uöt8_t
*)
d©a
;

3636  
LIBUSB_SUCCESS
;

3640 i‡(
ªad_size
 == 0) {

3641 
	`usbi_w¨n
(
NULL
, "programássertion failed -Ñead completed synchronously, butÇo data wasÑead");

3642 *
size
 = 0;

3644 i‡(
buf
[0] !
id
) {

3645 
	`usbi_w¨n
(
NULL
, "mism©chedÑï‹àID (d©®i†%02X,Ö¨amëî i†%02X)", 
buf
[0], 
id
);

3647 i‡((
size_t
)
ªad_size
 > 
ex≥˘ed_size
) {

3648 
r
 = 
LIBUSB_ERROR_OVERFLOW
;

3649 
	`usbi_dbg
("OVERFLOW!");

3651 
r
 = 
LIBUSB_COMPLETED
;

3654 *
size
 = 
	`MIN
((
size_t
)
ªad_size
, *size);

3655 i‡(
id
 == 0) {

3657 
	`mem˝y
(
d©a
, 
buf
+1, *
size
);

3659 
	`mem˝y
(
d©a
, 
buf
, *
size
);

3662 
	`ß„_‰ì
(
buf
);

3663  
r
;

3664 
	}
}

3666 
	$_hid_£t_ªp‹t
(
hid_devi˚_¥iv
* 
dev
, 
HANDLE
 
hid_h™dÀ
, 
id
, *
d©a
,

3667 
wödows_å™s„r_¥iv
 *
ç
, 
size_t
 *
size
, 
OVERLAPPED
* 
ovîœµed
,

3668 
ªp‹t_ty≥
)

3670 
uöt8_t
 *
buf
 = 
NULL
;

3671 
DWORD
 
io˘l_code
, 
wrôe_size
(DWORD)*
size
;

3673 i‡(
ç
->
hid_buf„r
 !
NULL
) {

3674 
	`usbi_dbg
("programássertion failed: hid_buffer isÇot NULL");

3677 i‡((*
size
 =0Ë|| (*sizê> 
MAX_HID_REPORT_SIZE
)) {

3678 
	`usbi_dbg
("övÆid sizê(%d)", *
size
);

3679  
LIBUSB_ERROR_INVALID_PARAM
;

3682 
ªp‹t_ty≥
) {

3683 
HID_REPORT_TYPE_OUTPUT
:

3684 
io˘l_code
 = 
IOCTL_HID_SET_OUTPUT_REPORT
;

3686 
HID_REPORT_TYPE_FEATURE
:

3687 
io˘l_code
 = 
IOCTL_HID_SET_FEATURE
;

3690 
	`usbi_dbg
("unknow¿HIDÑï‹àty≥ %d", 
ªp‹t_ty≥
);

3691  
LIBUSB_ERROR_INVALID_PARAM
;

3694 
	`usbi_dbg
("ªp‹àID: 0x%02X", 
id
);

3697 i‡(
id
 == 0) {

3698 
wrôe_size
++;

3700 
buf
 = (
uöt8_t
*Ë
	`mÆloc
(
wrôe_size
);

3701 i‡(
buf
 =
NULL
) {

3702  
LIBUSB_ERROR_NO_MEM
;

3704 i‡(
id
 == 0) {

3705 
buf
[0] = 0;

3706 
	`mem˝y
(
buf
 + 1, 
d©a
, *
size
);

3710 
	`mem˝y
(
buf
, 
d©a
, *
size
);

3711 i‡(
buf
[0] !
id
) {

3712 
	`usbi_w¨n
(
NULL
, "mism©chedÑï‹àID (d©®i†%02X,Ö¨amëî i†%02X)", 
buf
[0], 
id
);

3717 i‡(!
	`Devi˚IoC⁄åﬁ
(
hid_h™dÀ
, 
io˘l_code
, 
buf
, 
wrôe_size
,

3718 
buf
, 
wrôe_size
, &wrôe_size, 
ovîœµed
)) {

3719 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

3720 
	`usbi_dbg
("FaûedÅÿWrôêHID OuçuàRï‹t: %s", 
	`wödows_îr‹_°r
(0));

3721 
	`ß„_‰ì
(
buf
);

3722  
LIBUSB_ERROR_IO
;

3724 
ç
->
hid_buf„r
 = 
buf
;

3725 
ç
->
hid_de°
 = 
NULL
;

3726  
LIBUSB_SUCCESS
;

3730 *
size
 = 
wrôe_size
;

3731 i‡(
wrôe_size
 == 0) {

3732 
	`usbi_dbg
("programássertion failed - write completed synchronously, butÇo data was written");

3734 
	`ß„_‰ì
(
buf
);

3735  
LIBUSB_COMPLETED
;

3736 
	}
}

3738 
	$_hid_˛ass_ªque°
(
hid_devi˚_¥iv
* 
dev
, 
HANDLE
 
hid_h™dÀ
, 
ªque°_ty≥
,

3739 
ªque°
, 
vÆue
, 
_ödex
, *
d©a
, 
wödows_å™s„r_¥iv
 *
ç
,

3740 
size_t
 *
size
, 
OVERLAPPED
* 
ovîœµed
)

3742 
ªp‹t_ty≥
 = (
vÆue
 >> 8) & 0xFF;

3743 
ªp‹t_id
 = 
vÆue
 & 0xFF;

3745 i‡–(
	`LIBUSB_REQ_RECIPIENT
(
ªque°_ty≥
Ë!
LIBUSB_RECIPIENT_INTERFACE
)

3746 && (
	`LIBUSB_REQ_RECIPIENT
(
ªque°_ty≥
Ë!
LIBUSB_RECIPIENT_DEVICE
) )

3747  
LIBUSB_ERROR_INVALID_PARAM
;

3749 i‡(
	`LIBUSB_REQ_OUT
(
ªque°_ty≥
Ë&& 
ªque°
 =
HID_REQ_SET_REPORT
)

3750  
	`_hid_£t_ªp‹t
(
dev
, 
hid_h™dÀ
, 
ªp‹t_id
, 
d©a
, 
ç
, 
size
, 
ovîœµed
, 
ªp‹t_ty≥
);

3752 i‡(
	`LIBUSB_REQ_IN
(
ªque°_ty≥
Ë&& 
ªque°
 =
HID_REQ_GET_REPORT
)

3753  
	`_hid_gë_ªp‹t
(
dev
, 
hid_h™dÀ
, 
ªp‹t_id
, 
d©a
, 
ç
, 
size
, 
ovîœµed
, 
ªp‹t_ty≥
);

3755  
LIBUSB_ERROR_INVALID_PARAM
;

3756 
	}
}

3762 
	$hid_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
)

3764 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëAâribuãs
, 
TRUE
);

3765 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëHidGuid
, 
TRUE
);

3766 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëPª∑r£dD©a
, 
TRUE
);

3767 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_FªePª∑r£dD©a
, 
TRUE
);

3768 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëM™uÁ˘uªrSåög
, 
TRUE
);

3769 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëProdu˘Såög
, 
TRUE
);

3770 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëSîülNumbîSåög
, 
TRUE
);

3771 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidP_GëC≠s
, 
TRUE
);

3772 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_SëNumI≈utBuf„rs
, 
TRUE
);

3773 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_SëFótuª
, 
TRUE
);

3774 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëFótuª
, 
TRUE
);

3775 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëPhysiˇlDes¸ùt‹
, 
TRUE
);

3776 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_GëI≈utRï‹t
, 
FALSE
);

3777 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_SëOuçutRï‹t
, 
FALSE
);

3778 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidD_FlushQueue
, 
TRUE
);

3779 
	`DLL_LOAD
(
hid
.
dŒ
, 
HidP_GëVÆueC≠s
, 
TRUE
);

3781 
≠i_hid_avaûabÀ
 = 
åue
;

3782  
LIBUSB_SUCCESS
;

3783 
	}
}

3785 
	$hid_exô
(
sub_≠i
)

3787  
LIBUSB_SUCCESS
;

3788 
	}
}

3793 
	$hid_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

3795 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

3796 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3797 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3799 
HIDD_ATTRIBUTES
 
hid_©åibuãs
;

3800 
PHIDP_PREPARSED_DATA
 
¥ï¨£d_d©a
 = 
NULL
;

3801 
HIDP_CAPS
 
ˇ∑bûôõs
;

3802 
HIDP_VALUE_CAPS
 *
vÆue_ˇps
;

3804 
HANDLE
 
hid_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

3805 
i
, 
j
;

3807 
ULONG
 
size
[3];

3808 c⁄° * 
ty≥
[3] = {"input", "output", "feature"};

3809 
nb_ids
[2];

3811 
CHECK_HID_AVAILABLE
;

3812 i‡(
¥iv
->
hid
 =
NULL
) {

3813 
	`usbi_îr
(
˘x
, "programássertion failed -Örivate HID structure is unitialized");

3814  
LIBUSB_ERROR_NOT_FOUND
;

3817 
i
 = 0; i < 
USB_MAXINTERFACES
; i++) {

3818 i‡–(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
 !
NULL
)

3819 && (
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
USB_API_HID
) ) {

3820 
hid_h™dÀ
 = 
	`Cª©eFûeA
(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
, 
GENERIC_WRITE
 | 
GENERIC_READ
, 
FILE_SHARE_WRITE
 | 
FILE_SHARE_READ
,

3821 
NULL
, 
OPEN_EXISTING
, 
FILE_ATTRIBUTE_NORMAL
 | 
FILE_FLAG_OVERLAPPED
, NULL);

3829 i‡(
hid_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

3830 
	`usbi_w¨n
(
˘x
, "couldÇot open HID device in R/W mode (keyboard or mouse?) -Årying without");

3831 
hid_h™dÀ
 = 
	`Cª©eFûeA
(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
, 0, 
FILE_SHARE_WRITE
 | 
FILE_SHARE_READ
,

3832 
NULL
, 
OPEN_EXISTING
, 
FILE_ATTRIBUTE_NORMAL
 | 
FILE_FLAG_OVERLAPPED
, NULL);

3833 i‡(
hid_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

3834 
	`usbi_îr
(
˘x
, "couldÇŸ o≥¿devi˚ %†(öãrÁ˚ %d): %s", 
¥iv
->
∑th
, 
i
, 
	`wödows_îr‹_°r
(0));

3835 
	`GëLa°Eº‹
()) {

3836 
ERROR_FILE_NOT_FOUND
:

3837  
LIBUSB_ERROR_NO_DEVICE
;

3838 
ERROR_ACCESS_DENIED
:

3839  
LIBUSB_ERROR_ACCESS
;

3841  
LIBUSB_ERROR_IO
;

3844 
¥iv
->
usb_öãrÁ˚
[
i
].
ª°ri˘ed_fun˘i⁄Æôy
 = 
åue
;

3846 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
 = 
hid_h™dÀ
;

3850 
hid_©åibuãs
.
Size
 = (hid_attributes);

3852 i‡(!
	`HidD_GëAâribuãs
(
hid_h™dÀ
, &
hid_©åibuãs
)) {

3853 
	`usbi_îr
(
˘x
, "couldÇot gaináccessÅo HIDÅop collection (HidD_GetAttributes)");

3857 
¥iv
->
hid
->
vid
 = 
hid_©åibuãs
.
Víd‹ID
;

3858 
¥iv
->
hid
->
pid
 = 
hid_©åibuãs
.
Produ˘ID
;

3861 
i
=32; 
	`HidD_SëNumI≈utBuf„rs
(
hid_h™dÀ
, i); i*=2);

3862 
	`usbi_dbg
("£àmaximum i≈uàbuf„∏sizêtÿ%d", 
i
/2);

3865 i‡(!
	`HidD_GëPª∑r£dD©a
(
hid_h™dÀ
, &
¥ï¨£d_d©a
) || !preparsed_data) {

3866 
	`usbi_îr
(
˘x
, "couldÇotÑead HIDÖreparsed data (HidD_GetPreparsedData)");

3869 i‡(
	`HidP_GëC≠s
(
¥ï¨£d_d©a
, &
ˇ∑bûôõs
Ë!
HIDP_STATUS_SUCCESS
) {

3870 
	`usbi_îr
(
˘x
, "couldÇotÖarse HID capabilities (HidP_GetCaps)");

3875 
size
[0] = 
ˇ∑bûôõs
.
NumbîI≈utVÆueC≠s
;

3876 
size
[1] = 
ˇ∑bûôõs
.
NumbîOuçutVÆueC≠s
;

3877 
size
[2] = 
ˇ∑bûôõs
.
NumbîFótuªVÆueC≠s
;

3878 
j
=
HidP_I≈ut
; j<=
HidP_Fótuª
; j++) {

3879 
	`usbi_dbg
("%d HID %†ªp‹àvÆue(sËfound", 
size
[
j
], 
ty≥
[j]);

3880 
¥iv
->
hid
->
u£s_ªp‹t_ids
[
j
] = 
Ál£
;

3881 i‡(
size
[
j
] > 0) {

3882 
vÆue_ˇps
 = (
HIDP_VALUE_CAPS
*Ë
	`ˇŒoc
(
size
[
j
], (HIDP_VALUE_CAPS));

3883 i‡–(
vÆue_ˇps
 !
NULL
)

3884 && (
	`HidP_GëVÆueC≠s
((
HIDP_REPORT_TYPE
)
j
, 
vÆue_ˇps
, &
size
[j], 
¥ï¨£d_d©a
Ë=
HIDP_STATUS_SUCCESS
)

3885 && (
size
[
j
] >= 1) ) {

3886 
nb_ids
[0] = 0;

3887 
nb_ids
[1] = 0;

3888 
i
=0; i<()
size
[
j
]; i++) {

3889 
	`usbi_dbg
(" Rï‹àID: 0x%02X", 
vÆue_ˇps
[
i
].
Rï‹tID
);

3890 i‡(
vÆue_ˇps
[
i
].
Rï‹tID
 != 0) {

3891 
nb_ids
[1]++;

3893 
nb_ids
[0]++;

3896 i‡(
nb_ids
[1] != 0) {

3897 i‡(
nb_ids
[0] != 0) {

3898 
	`usbi_w¨n
(
˘x
, "programássertion failed: zeroándÇonzeroÑeport IDs used for %s",

3899 
ty≥
[
j
]);

3901 
¥iv
->
hid
->
u£s_ªp‹t_ids
[
j
] = 
åue
;

3904 
	`usbi_w¨n
(
˘x
, " couldÇŸÖro˚s†%†ªp‹àIDs", 
ty≥
[
j
]);

3906 
	`ß„_‰ì
(
vÆue_ˇps
);

3911 
¥iv
->
hid
->
öput_ªp‹t_size
 = 
ˇ∑bûôõs
.
I≈utRï‹tByãLígth
;

3912 
¥iv
->
hid
->
ouçut_ªp‹t_size
 = 
ˇ∑bûôõs
.
OuçutRï‹tByãLígth
;

3913 
¥iv
->
hid
->
„©uª_ªp‹t_size
 = 
ˇ∑bûôõs
.
FótuªRï‹tByãLígth
;

3916 
¥iv
->
hid
->
°rög_ödex
[0] =Öriv->
dev_des¸ùt‹
.
iM™uÁ˘uªr
;

3917 i‡(
¥iv
->
hid
->
°rög_ödex
[0] != 0) {

3918 
	`HidD_GëM™uÁ˘uªrSåög
(
hid_h™dÀ
, 
¥iv
->
hid
->
°rög
[0],

3919 (
¥iv
->
hid
->
°rög
[0]));

3921 
¥iv
->
hid
->
°rög
[0][0] = 0;

3923 
¥iv
->
hid
->
°rög_ödex
[1] =Öriv->
dev_des¸ùt‹
.
iProdu˘
;

3924 i‡(
¥iv
->
hid
->
°rög_ödex
[1] != 0) {

3925 
	`HidD_GëProdu˘Såög
(
hid_h™dÀ
, 
¥iv
->
hid
->
°rög
[1],

3926 (
¥iv
->
hid
->
°rög
[1]));

3928 
¥iv
->
hid
->
°rög
[1][0] = 0;

3930 
¥iv
->
hid
->
°rög_ödex
[2] =Öriv->
dev_des¸ùt‹
.
iSîülNumbî
;

3931 i‡(
¥iv
->
hid
->
°rög_ödex
[2] != 0) {

3932 
	`HidD_GëSîülNumbîSåög
(
hid_h™dÀ
, 
¥iv
->
hid
->
°rög
[2],

3933 (
¥iv
->
hid
->
°rög
[2]));

3935 
¥iv
->
hid
->
°rög
[2][0] = 0;

3939 i‡(
¥ï¨£d_d©a
) {

3940 
	`HidD_FªePª∑r£dD©a
(
¥ï¨£d_d©a
);

3943  
LIBUSB_SUCCESS
;

3944 
	}
}

3946 
	$hid_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

3948 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3949 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3950 
HANDLE
 
fûe_h™dÀ
;

3951 
i
;

3953 i‡(!
≠i_hid_avaûabÀ
)

3956 
i
 = 0; i < 
USB_MAXINTERFACES
; i++) {

3957 i‡(
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
USB_API_HID
) {

3958 
fûe_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
i
].
≠i_h™dÀ
;

3959 i‡–(
fûe_h™dÀ
 !0Ë&& (fûe_h™dÀ !
INVALID_HANDLE_VALUE
)) {

3960 
	`Clo£H™dÀ
(
fûe_h™dÀ
);

3964 
	}
}

3966 
	$hid_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

3968 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3969 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3971 
CHECK_HID_AVAILABLE
;

3974 i‡(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
∑th
 =
NULL
) {

3975  
LIBUSB_ERROR_NOT_FOUND
;

3979 i‡(
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
dev_h™dÀ
 =
INTERFACE_CLAIMED
) {

3980  
LIBUSB_ERROR_BUSY
;

3983 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
dev_h™dÀ
 = 
INTERFACE_CLAIMED
;

3985 
	`usbi_dbg
("˛aimed i¡îÁ˚ %d", 
iÁ˚
);

3986 
h™dÀ_¥iv
->
a˘ive_öãrÁ˚
 = 
iÁ˚
;

3988  
LIBUSB_SUCCESS
;

3989 
	}
}

3991 
	$hid_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

3993 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

3994 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

3996 
CHECK_HID_AVAILABLE
;

3998 i‡(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
∑th
 =
NULL
) {

3999  
LIBUSB_ERROR_NOT_FOUND
;

4002 i‡(
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
dev_h™dÀ
 !
INTERFACE_CLAIMED
) {

4003  
LIBUSB_ERROR_NOT_FOUND
;

4006 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
iÁ˚
].
dev_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

4008  
LIBUSB_SUCCESS
;

4009 
	}
}

4011 
	$hid_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
)

4013 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

4015 
CHECK_HID_AVAILABLE
;

4017 i‡(
Æt£âög
 > 255) {

4018  
LIBUSB_ERROR_INVALID_PARAM
;

4021 i‡(
Æt£âög
 != 0) {

4022 
	`usbi_îr
(
˘x
, "set interfaceáltsettingÇot supported foráltsetting >0");

4023  
LIBUSB_ERROR_NOT_SUPPORTED
;

4026  
LIBUSB_SUCCESS
;

4027 
	}
}

4029 
	$hid_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

4031 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4032 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4033 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

4034 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4035 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

4036 
WINUSB_SETUP_PACKET
 *
£tup
 = (WINUSB_SETUP_PACKET *Ë
å™s„r
->
buf„r
;

4037 
HANDLE
 
hid_h™dÀ
;

4038 
wöfd
 
wfd
;

4039 
cuºít_öãrÁ˚
, 
c⁄fig
;

4040 
size_t
 
size
;

4041 
r
 = 
LIBUSB_ERROR_INVALID_PARAM
;

4043 
CHECK_HID_AVAILABLE
;

4045 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
INVALID_WINFD
;

4046 
	`ß„_‰ì
(
å™s„r_¥iv
->
hid_buf„r
);

4047 
å™s„r_¥iv
->
hid_de°
 = 
NULL
;

4048 
size
 = 
å™s„r
->
Àngth
 - 
LIBUSB_CONTROL_SETUP_SIZE
;

4050 i‡(
size
 > 
MAX_CTRL_BUFFER_LENGTH
) {

4051  
LIBUSB_ERROR_INVALID_PARAM
;

4054 
cuºít_öãrÁ˚
 = 
	`gë_vÆid_öãrÁ˚
(
å™s„r
->
dev_h™dÀ
, 
USB_API_HID
);

4055 i‡(
cuºít_öãrÁ˚
 < 0) {

4056 i‡(
	`auto_˛aim
(
å™s„r
, &
cuºít_öãrÁ˚
, 
USB_API_HID
Ë!
LIBUSB_SUCCESS
) {

4057  
LIBUSB_ERROR_NOT_FOUND
;

4061 
	`usbi_dbg
("wû»u£ i¡îÁ˚ %d", 
cuºít_öãrÁ˚
);

4062 
hid_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

4064 
wfd
 = 
	`usbi_¸óã_fd
(
hid_h™dÀ
, 
RW_READ
, 
NULL
, NULL);

4065 i‡(
wfd
.
fd
 < 0) {

4066  
LIBUSB_ERROR_NOT_FOUND
;

4069 
	`LIBUSB_REQ_TYPE
(
£tup
->
ªque°_ty≥
)) {

4070 
LIBUSB_REQUEST_TYPE_STANDARD
:

4071 
£tup
->
ªque°
) {

4072 
LIBUSB_REQUEST_GET_DESCRIPTOR
:

4073 
r
 = 
	`_hid_gë_des¸ùt‹
(
¥iv
->
hid
, 
wfd
.
h™dÀ
, 
	`LIBUSB_REQ_RECIPIENT
(
£tup
->
ªque°_ty≥
),

4074 (
£tup
->
vÆue
 >> 8Ë& 0xFF, sëup->vÆuê& 0xFF, 
å™s„r
->
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
, &
size
);

4076 
LIBUSB_REQUEST_GET_CONFIGURATION
:

4077 
r
 = 
	`wödows_gë_c⁄figuøti⁄
(
å™s„r
->
dev_h™dÀ
, &
c⁄fig
);

4078 i‡(
r
 =
LIBUSB_SUCCESS
) {

4079 
size
 = 1;

4080 ((
uöt8_t
*)
å™s„r
->
buf„r
)[
LIBUSB_CONTROL_SETUP_SIZE
] = (uöt8_t)
c⁄fig
;

4081 
r
 = 
LIBUSB_COMPLETED
;

4084 
LIBUSB_REQUEST_SET_CONFIGURATION
:

4085 i‡(
£tup
->
vÆue
 =
¥iv
->
a˘ive_c⁄fig
) {

4086 
r
 = 
LIBUSB_COMPLETED
;

4088 
	`usbi_w¨n
(
˘x
, "cannot set configuration otherÅhanÅhe default one");

4089 
r
 = 
LIBUSB_ERROR_INVALID_PARAM
;

4092 
LIBUSB_REQUEST_GET_INTERFACE
:

4093 
size
 = 1;

4094 ((
uöt8_t
*)
å™s„r
->
buf„r
)[
LIBUSB_CONTROL_SETUP_SIZE
] = 0;

4095 
r
 = 
LIBUSB_COMPLETED
;

4097 
LIBUSB_REQUEST_SET_INTERFACE
:

4098 
r
 = 
	`hid_£t_öãrÁ˚_Æt£âög
(0, 
å™s„r
->
dev_h™dÀ
, 
£tup
->
ödex
, sëup->
vÆue
);

4099 i‡(
r
 =
LIBUSB_SUCCESS
) {

4100 
r
 = 
LIBUSB_COMPLETED
;

4104 
	`usbi_w¨n
(
˘x
, "unsupported HID controlÑequest");

4105 
r
 = 
LIBUSB_ERROR_INVALID_PARAM
;

4109 
LIBUSB_REQUEST_TYPE_CLASS
:

4110 
r
 =
	`_hid_˛ass_ªque°
(
¥iv
->
hid
, 
wfd
.
h™dÀ
, 
£tup
->
ªque°_ty≥
, sëup->
ªque°
, sëup->
vÆue
,

4111 
£tup
->
ödex
, 
å™s„r
->
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
, 
å™s„r_¥iv
,

4112 &
size
, 
wfd
.
ovîœµed
);

4115 
	`usbi_w¨n
(
˘x
, "unsupported HID controlÑequest");

4116 
r
 = 
LIBUSB_ERROR_INVALID_PARAM
;

4120 i‡(
r
 =
LIBUSB_COMPLETED
) {

4122 
wfd
.
ovîœµed
->
I¡î«l
 = 
STATUS_COMPLETED_SYNCHRONOUSLY
;

4125 
wfd
.
ovîœµed
->
I¡î«lHigh
 = (
DWORD
)
size
;

4126 
r
 = 
LIBUSB_SUCCESS
;

4129 i‡(
r
 =
LIBUSB_SUCCESS
) {

4131 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
wfd
;

4132 
å™s„r_¥iv
->
öãrÁ˚_numbî
 = (
uöt8_t
)
cuºít_öãrÁ˚
;

4134 
	`usbi_‰ì_fd
(&
wfd
);

4137  
r
;

4138 
	}
}

4140 
	$hid_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

4141 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4142 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4143 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

4144 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

4145 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4146 
wöfd
 
wfd
;

4147 
HANDLE
 
hid_h™dÀ
;

4148 
boﬁ
 
dúe˘i⁄_ö
, 
ªt
;

4149 
cuºít_öãrÁ˚
, 
Àngth
;

4150 
DWORD
 
size
;

4151 
r
 = 
LIBUSB_SUCCESS
;

4153 
CHECK_HID_AVAILABLE
;

4155 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
INVALID_WINFD
;

4156 
å™s„r_¥iv
->
hid_de°
 = 
NULL
;

4157 
	`ß„_‰ì
(
å™s„r_¥iv
->
hid_buf„r
);

4159 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
å™s„r
->
ídpoöt
);

4160 i‡(
cuºít_öãrÁ˚
 < 0) {

4161 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cancellingÅransfer");

4162  
LIBUSB_ERROR_NOT_FOUND
;

4165 
	`usbi_dbg
("m©chedÉndpoöà%02X wôh i¡îÁ˚ %d", 
å™s„r
->
ídpoöt
, 
cuºít_öãrÁ˚
);

4167 
hid_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

4168 
dúe˘i⁄_ö
 = 
å™s„r
->
ídpoöt
 & 
LIBUSB_ENDPOINT_IN
;

4170 
wfd
 = 
	`usbi_¸óã_fd
(
hid_h™dÀ
, 
dúe˘i⁄_ö
?
RW_READ
:
RW_WRITE
, 
NULL
, NULL);

4172 i‡(
wfd
.
fd
 < 0) {

4173  
LIBUSB_ERROR_NO_MEM
;

4177 i‡–((
dúe˘i⁄_ö
Ë&& (!
¥iv
->
hid
->
u£s_ªp‹t_ids
[0]))

4178 || ((!
dúe˘i⁄_ö
Ë&& (!
¥iv
->
hid
->
u£s_ªp‹t_ids
[1])) ) {

4179 
Àngth
 = 
å™s„r
->length+1;

4181 
Àngth
 = 
å™s„r
->length;

4184 
å™s„r_¥iv
->
hid_buf„r
 = (
uöt8_t
*)
	`ˇŒoc
(
Àngth
+1, 1);

4185 i‡(
å™s„r_¥iv
->
hid_buf„r
 =
NULL
) {

4186  
LIBUSB_ERROR_NO_MEM
;

4188 
å™s„r_¥iv
->
hid_ex≥˘ed_size
 = 
Àngth
;

4190 i‡(
dúe˘i⁄_ö
) {

4191 
å™s„r_¥iv
->
hid_de°
 = 
å™s„r
->
buf„r
;

4192 
	`usbi_dbg
("ªadög %d byã†‘ï‹àID: 0x00)", 
Àngth
);

4193 
ªt
 = 
	`RódFûe
(
wfd
.
h™dÀ
, 
å™s„r_¥iv
->
hid_buf„r
, 
Àngth
+1, &
size
, wfd.
ovîœµed
);

4195 i‡(!
¥iv
->
hid
->
u£s_ªp‹t_ids
[1]) {

4196 
	`mem˝y
(
å™s„r_¥iv
->
hid_buf„r
+1, 
å™s„r
->
buf„r
,Åøns„r->
Àngth
);

4199 
	`mem˝y
(
å™s„r_¥iv
->
hid_buf„r
, 
å™s„r
->
buf„r
,Åøns„r->
Àngth
);

4201 
	`usbi_dbg
("wrôög %d byã†‘ï‹àID: 0x%02X)", 
Àngth
, 
å™s„r_¥iv
->
hid_buf„r
[0]);

4202 
ªt
 = 
	`WrôeFûe
(
wfd
.
h™dÀ
, 
å™s„r_¥iv
->
hid_buf„r
, 
Àngth
, &
size
, wfd.
ovîœµed
);

4204 i‡(!
ªt
) {

4205 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

4206 
	`usbi_îr
(
˘x
, "HIDÅøns„∏Áûed: %s", 
	`wödows_îr‹_°r
(0));

4207 
	`usbi_‰ì_fd
(&
wfd
);

4208 
	`ß„_‰ì
(
å™s„r_¥iv
->
hid_buf„r
);

4209  
LIBUSB_ERROR_IO
;

4214 i‡(!
dúe˘i⁄_ö
) {

4215 
	`ß„_‰ì
(
å™s„r_¥iv
->
hid_buf„r
);

4217 i‡(
size
 == 0) {

4218 
	`usbi_îr
(
˘x
, "programássertion failed -Ço data wasÅransferred");

4219 
size
 = 1;

4221 i‡(
size
 > (
size_t
)
Àngth
) {

4222 
	`usbi_îr
(
˘x
, "OVERFLOW!");

4223 
r
 = 
LIBUSB_ERROR_OVERFLOW
;

4225 
wfd
.
ovîœµed
->
I¡î«l
 = 
STATUS_COMPLETED_SYNCHRONOUSLY
;

4226 
wfd
.
ovîœµed
->
I¡î«lHigh
 = 
size
;

4229 
å™s„r_¥iv
->
pﬁœbÀ_fd
 = 
wfd
;

4230 
å™s„r_¥iv
->
öãrÁ˚_numbî
 = (
uöt8_t
)
cuºít_öãrÁ˚
;

4232  
r
;

4233 
	}
}

4235 
	$hid_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

4237 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4238 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = (wödows_å™s„r_¥iv*)
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4239 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

4240 
HANDLE
 
hid_h™dÀ
;

4241 
cuºít_öãrÁ˚
;

4243 
CHECK_HID_AVAILABLE
;

4245 
cuºít_öãrÁ˚
 = 
å™s„r_¥iv
->
öãrÁ˚_numbî
;

4246 
hid_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

4247 
	`C™˚lIo
(
hid_h™dÀ
);

4249  
LIBUSB_SUCCESS
;

4250 
	}
}

4252 
	$hid_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

4254 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

4255 
HANDLE
 
hid_h™dÀ
;

4256 
cuºít_öãrÁ˚
;

4258 
CHECK_HID_AVAILABLE
;

4261 
cuºít_öãrÁ˚
 = 0; cuºít_öãrÁ˚ < 
USB_MAXINTERFACES
; current_interface++) {

4262 
hid_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

4263 i‡((
hid_h™dÀ
 !0Ë&& (hid_h™dÀ !
INVALID_HANDLE_VALUE
)) {

4264 
	`HidD_FlushQueue
(
hid_h™dÀ
);

4267  
LIBUSB_SUCCESS
;

4268 
	}
}

4270 
	$hid_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
)

4272 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

4273 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

4274 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4275 
HANDLE
 
hid_h™dÀ
;

4276 
cuºít_öãrÁ˚
;

4278 
CHECK_HID_AVAILABLE
;

4280 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
ídpoöt
);

4281 i‡(
cuºít_öãrÁ˚
 < 0) {

4282 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cannot clear");

4283  
LIBUSB_ERROR_NOT_FOUND
;

4286 
	`usbi_dbg
("m©chedÉndpoöà%02X wôh i¡îÁ˚ %d", 
ídpoöt
, 
cuºít_öãrÁ˚
);

4287 
hid_h™dÀ
 = 
h™dÀ_¥iv
->
öãrÁ˚_h™dÀ
[
cuºít_öãrÁ˚
].
≠i_h™dÀ
;

4291 i‡(!
	`HidD_FlushQueue
(
hid_h™dÀ
)) {

4292 
	`usbi_îr
(
˘x
, "Flushög o‡HID queuêÁûed: %s", 
	`wödows_îr‹_°r
(0));

4294  
LIBUSB_ERROR_NO_DEVICE
;

4297  
LIBUSB_SUCCESS
;

4298 
	}
}

4301 
	$hid_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
) {

4302 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4303 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

4304 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4305 
r
 = 
LIBUSB_TRANSFER_COMPLETED
;

4306 
uöt32_t
 
c‹ª˘ed_size
 = 
io_size
;

4308 i‡(
å™s„r_¥iv
->
hid_buf„r
 !
NULL
) {

4310 i‡(
å™s„r_¥iv
->
hid_de°
 !
NULL
) {

4311 i‡(
c‹ª˘ed_size
 > 0) {

4313 i‡(
c‹ª˘ed_size
 > 
å™s„r_¥iv
->
hid_ex≥˘ed_size
) {

4314 
	`usbi_îr
(
˘x
, "OVERFLOW!");

4315 
c‹ª˘ed_size
 = (
uöt32_t
)
å™s„r_¥iv
->
hid_ex≥˘ed_size
;

4316 #ifde‡
YS_PRINT_API


4317 
	`YSPRINT
("%s:%d %s: ===============\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

4319 
r
 = 
LIBUSB_TRANSFER_OVERFLOW
;

4322 i‡(
å™s„r_¥iv
->
hid_buf„r
[0] == 0) {

4324 
c‹ª˘ed_size
--;

4325 
	`mem˝y
(
å™s„r_¥iv
->
hid_de°
,Åøns„r_¥iv->
hid_buf„r
+1, 
c‹ª˘ed_size
);

4327 
	`mem˝y
(
å™s„r_¥iv
->
hid_de°
,Åøns„r_¥iv->
hid_buf„r
, 
c‹ª˘ed_size
);

4330 
å™s„r_¥iv
->
hid_de°
 = 
NULL
;

4333 
	`ß„_‰ì
(
å™s„r_¥iv
->
hid_buf„r
);

4335 
ôøns„r
->
å™s„ºed
 +
c‹ª˘ed_size
;

4336  
r
;

4337 
	}
}

4343 
	$composôe_öô
(
sub_≠i
, 
libusb_c⁄ãxt
 *
˘x
)

4345  
LIBUSB_SUCCESS
;

4346 
	}
}

4348 
	$composôe_exô
(
sub_≠i
)

4350  
LIBUSB_SUCCESS
;

4351 
	}
}

4353 
	$composôe_›í
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

4355 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4356 
r
 = 
LIBUSB_ERROR_NOT_FOUND
;

4357 
uöt8_t
 
i
;

4359 
boﬁ
 
avaûabÀ
[
SUB_API_MAX
+1] = {0};

4361 
i
=0; i<
USB_MAXINTERFACES
; i++) {

4362 
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
) {

4363 
USB_API_WINUSBX
:

4364 i‡(
¥iv
->
usb_öãrÁ˚
[
i
].
sub_≠i
 !
SUB_API_NOTSET
)

4365 
avaûabÀ
[
¥iv
->
usb_öãrÁ˚
[
i
].
sub_≠i
] = 
åue
;

4367 
USB_API_HID
:

4368 
avaûabÀ
[
SUB_API_MAX
] = 
åue
;

4375 
i
=0; i<
SUB_API_MAX
; i++) {

4376 i‡(
avaûabÀ
[
i
]) {

4377 
r
 = 
usb_≠i_backíd
[
USB_API_WINUSBX
].
	`›í
(
i
, 
dev_h™dÀ
);

4378 i‡(
r
 !
LIBUSB_SUCCESS
) {

4379  
r
;

4383 i‡(
avaûabÀ
[
SUB_API_MAX
]) {

4384 
r
 = 
	`hid_›í
(
SUB_API_NOTSET
, 
dev_h™dÀ
);

4386  
r
;

4387 
	}
}

4389 
	$composôe_˛o£
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

4391 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4392 
uöt8_t
 
i
;

4393 
boﬁ
 
avaûabÀ
[
SUB_API_MAX
];

4395 
i
 = 0; i<
SUB_API_MAX
; i++) {

4396 
avaûabÀ
[
i
] = 
Ál£
;

4399 
i
=0; i<
USB_MAXINTERFACES
; i++) {

4400 i‡–(
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
USB_API_WINUSBX
)

4401 && (
¥iv
->
usb_öãrÁ˚
[
i
].
sub_≠i
 !
SUB_API_NOTSET
) ) {

4402 
avaûabÀ
[
¥iv
->
usb_öãrÁ˚
[
i
].
sub_≠i
] = 
åue
;

4406 
i
=0; i<
SUB_API_MAX
; i++) {

4407 i‡(
avaûabÀ
[
i
]) {

4408 
usb_≠i_backíd
[
USB_API_WINUSBX
].
	`˛o£
(
i
, 
dev_h™dÀ
);

4411 
	}
}

4413 
	$composôe_˛aim_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

4415 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4416  
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
≠ib
->

4417 
	`˛aim_öãrÁ˚
(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
sub_≠i
, 
dev_h™dÀ
, iface);

4418 
	}
}

4420 
	$composôe_£t_öãrÁ˚_Æt£âög
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
, 
Æt£âög
)

4422 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4423  
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
≠ib
->

4424 
	`£t_öãrÁ˚_Æt£âög
(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
sub_≠i
, 
dev_h™dÀ
, iÁ˚, 
Æt£âög
);

4425 
	}
}

4427 
	$composôe_ªÀa£_öãrÁ˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
iÁ˚
)

4429 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4430  
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
≠ib
->

4431 
	`ªÀa£_öãrÁ˚
(
¥iv
->
usb_öãrÁ˚
[
iÁ˚
].
sub_≠i
, 
dev_h™dÀ
, iface);

4432 
	}
}

4434 
	$composôe_submô_c⁄åﬁ_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

4436 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4437 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

4438 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4439 
i
, 
∑ss
;

4443 
∑ss
 = 0;Öass < 2;Öass++) {

4444 
i
=0; i<
USB_MAXINTERFACES
; i++) {

4445 i‡(
¥iv
->
usb_öãrÁ˚
[
i
].
∑th
 !
NULL
) {

4446 i‡((
∑ss
 =0Ë&& (
¥iv
->
usb_öãrÁ˚
[
i
].
ª°ri˘ed_fun˘i⁄Æôy
)) {

4447 
	`usbi_dbg
("åyögÅÿskùÑe°ri˘ed i¡îÁ˚ #%d (HID keybﬂrd o∏mou£?)", 
i
);

4450 
	`usbi_dbg
("usög i¡îÁ˚ %d", 
i
);

4451  
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
	`submô_c⁄åﬁ_å™s„r
’riv->usb_öãrÁ˚[i].
sub_≠i
, 
ôøns„r
);

4456 
	`usbi_îr
(
˘x
, "noÜibusb supported interfacesÅo completeÑequest");

4457  
LIBUSB_ERROR_NOT_FOUND
;

4458 
	}
}

4460 
	$composôe_submô_bulk_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

4461 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4462 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

4463 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

4464 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4465 
cuºít_öãrÁ˚
;

4467 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
å™s„r
->
ídpoöt
);

4468 i‡(
cuºít_öãrÁ˚
 < 0) {

4469 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cancellingÅransfer");

4470  
LIBUSB_ERROR_NOT_FOUND
;

4473  
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
≠ib
->

4474 
	`submô_bulk_å™s„r
(
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
sub_≠i
, 
ôøns„r
);
	}
}

4476 
	$composôe_submô_iso_å™s„r
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
) {

4477 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4478 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
å™s„r
->
dev_h™dÀ
->
dev
);

4479 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
å™s„r
->
dev_h™dÀ
);

4480 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4481 
cuºít_öãrÁ˚
;

4483 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
å™s„r
->
ídpoöt
);

4484 i‡(
cuºít_öãrÁ˚
 < 0) {

4485 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cancellingÅransfer");

4486  
LIBUSB_ERROR_NOT_FOUND
;

4489  
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
≠ib
->

4490 
	`submô_iso_å™s„r
(
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
sub_≠i
, 
ôøns„r
);
	}
}

4492 
	$composôe_˛ór_hÆt
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
)

4494 
libusb_c⁄ãxt
 *
˘x
 = 
	`DEVICE_CTX
(
dev_h™dÀ
->
dev
);

4495 
wödows_devi˚_h™dÀ_¥iv
 *
h™dÀ_¥iv
 = 
	`_devi˚_h™dÀ_¥iv
(
dev_h™dÀ
);

4496 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4497 
cuºít_öãrÁ˚
;

4499 
cuºít_öãrÁ˚
 = 
	`öãrÁ˚_by_ídpoöt
(
¥iv
, 
h™dÀ_¥iv
, 
ídpoöt
);

4500 i‡(
cuºít_öãrÁ˚
 < 0) {

4501 
	`usbi_îr
(
˘x
, "unableÅo matchÉndpointÅoán open interface - cannot clear");

4502  
LIBUSB_ERROR_NOT_FOUND
;

4505  
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
≠ib
->

4506 
	`˛ór_hÆt
(
¥iv
->
usb_öãrÁ˚
[
cuºít_öãrÁ˚
].
sub_≠i
, 
dev_h™dÀ
, 
ídpoöt
);
	}
}

4508 
	$composôe_ab‹t_c⁄åﬁ
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

4510 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4511 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4512 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4514  
¥iv
->
usb_öãrÁ˚
[
å™s„r_¥iv
->
öãrÁ˚_numbî
].
≠ib
->

4515 
	`ab‹t_c⁄åﬁ
(
¥iv
->
usb_öãrÁ˚
[
å™s„r_¥iv
->
öãrÁ˚_numbî
].
sub_≠i
, 
ôøns„r
);
	}
}

4517 
	$composôe_ab‹t_å™s„rs
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
)

4519 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4520 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4521 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4523  
¥iv
->
usb_öãrÁ˚
[
å™s„r_¥iv
->
öãrÁ˚_numbî
].
≠ib
->

4524 
	`ab‹t_å™s„rs
(
¥iv
->
usb_öãrÁ˚
[
å™s„r_¥iv
->
öãrÁ˚_numbî
].
sub_≠i
, 
ôøns„r
);
	}
}

4526 
	$composôe_ª£t_devi˚
(
sub_≠i
, 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
)

4528 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
dev_h™dÀ
->
dev
);

4529 
r
;

4530 
uöt8_t
 
i
;

4531 
boﬁ
 
avaûabÀ
[
SUB_API_MAX
];

4532 
i
 = 0; i<
SUB_API_MAX
; i++) {

4533 
avaûabÀ
[
i
] = 
Ál£
;

4535 
i
=0; i<
USB_MAXINTERFACES
; i++) {

4536 i‡–(
¥iv
->
usb_öãrÁ˚
[
i
].
≠ib
->
id
 =
USB_API_WINUSBX
)

4537 && (
¥iv
->
usb_öãrÁ˚
[
i
].
sub_≠i
 !
SUB_API_NOTSET
) ) {

4538 
avaûabÀ
[
¥iv
->
usb_öãrÁ˚
[
i
].
sub_≠i
] = 
åue
;

4541 
i
=0; i<
SUB_API_MAX
; i++) {

4542 i‡(
avaûabÀ
[
i
]) {

4543 
r
 = 
usb_≠i_backíd
[
USB_API_WINUSBX
].
	`ª£t_devi˚
(
i
, 
dev_h™dÀ
);

4544 i‡(
r
 !
LIBUSB_SUCCESS
) {

4545  
r
;

4549  
LIBUSB_SUCCESS
;

4550 
	}
}

4552 
	$composôe_c›y_å™s„r_d©a
(
sub_≠i
, 
usbi_å™s„r
 *
ôøns„r
, 
uöt32_t
 
io_size
)

4554 
libusb_å™s„r
 *
å™s„r
 = 
	`USBI_TRANSFER_TO_LIBUSB_TRANSFER
(
ôøns„r
);

4555 
wödows_å™s„r_¥iv
 *
å™s„r_¥iv
 = 
	`usbi_å™s„r_gë_os_¥iv
(
ôøns„r
);

4556 
wödows_devi˚_¥iv
 *
¥iv
 = 
	`_devi˚_¥iv
(
å™s„r
->
dev_h™dÀ
->
dev
);

4558  
¥iv
->
usb_öãrÁ˚
[
å™s„r_¥iv
->
öãrÁ˚_numbî
].
≠ib
->

4559 
	`c›y_å™s„r_d©a
(
¥iv
->
usb_öãrÁ˚
[
å™s„r_¥iv
->
öãrÁ˚_numbî
].
sub_≠i
, 
ôøns„r
, 
io_size
);

4560 
	}
}

	@libusb/os/windows_usb.h

23 #¥agm®
⁄˚


25 
	~"wödows_comm⁄.h
"

27 #i‡
deföed
(
_MSC_VER
)

29 #¥agm®
w¨nög
(
dißbÀ
:4127)

30 #¥agm®
w¨nög
(
dißbÀ
:4100)

31 #¥agm®
w¨nög
(
dißbÀ
:4214)

32 #¥agm®
w¨nög
(
dißbÀ
:4201)

36 #i‡!
deföed
(
SPDRP_ADDRESS
)

37 
	#SPDRP_ADDRESS
 28

	)

39 #i‡!
deföed
(
SPDRP_INSTALL_STATE
)

40 
	#SPDRP_INSTALL_STATE
 34

	)

44 #i‡!
deföed
(
FACILITY_SETUPAPI
)

45 
	#FACILITY_SETUPAPI
 15

	)

48 #i‡
deföed
(
__CYGWIN__
 )

49 
	#_°ricmp
 
°ricmp


	)

51 
_¢¥ötf
(*
buf„r
, 
size_t
 
cou¡
, c⁄° *
f‹m©
, ...);

52 *
_°rdup
(c⁄° *
°rSour˚
);

54 
	#_begöthªadex
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
Ë
	`Cª©eThªad
◊, b, (
LPTHREAD_START_ROUTINE
)c, d,É, f)

	)

57 
	#MAX_CTRL_BUFFER_LENGTH
 4096

	)

58 
	#MAX_USB_DEVICES
 256

	)

59 
	#MAX_USB_STRING_LENGTH
 128

	)

60 
	#MAX_HID_REPORT_SIZE
 1024

	)

61 
	#MAX_HID_DESCRIPTOR_SIZE
 256

	)

62 
	#MAX_GUID_STRING_LENGTH
 40

	)

63 
	#MAX_PATH_LENGTH
 128

	)

64 
	#MAX_KEY_LENGTH
 256

	)

65 
	#LIST_SEPARATOR
 ';'

	)

66 
	#HTAB_SIZE
 1021

	)

69 
	#INTERFACE_CLAIMED
 ((
HANDLE
)(
öçå_t
)0xD1B5)

	)

71 
	#LIBUSB_COMPLETED
 (
LIBUSB_SUCCESS
 + 1)

	)

76 #i‡!
deföed
(
GUID_DEVINTERFACE_USB_HOST_CONTROLLER
)

77 c⁄° 
GUID
 
	gGUID_DEVINTERFACE_USB_HOST_CONTROLLER
 = { 0x3ABF6F2D, 0x71C4, 0x462A, {0x8A, 0x92, 0x1E, 0x68, 0x61, 0xE6, 0xAF, 0x27} };

79 #i‡!
deföed
(
GUID_DEVINTERFACE_USB_DEVICE
)

80 c⁄° 
GUID
 
	gGUID_DEVINTERFACE_USB_DEVICE
 = { 0xA5DCBF10, 0x6530, 0x11D2, {0x90, 0x1F, 0x00, 0xC0, 0x4F, 0xB9, 0x51, 0xED} };

82 #i‡!
deföed
(
GUID_DEVINTERFACE_USB_HUB
)

83 c⁄° 
GUID
 
	gGUID_DEVINTERFACE_USB_HUB
 = { 0xF18A0E88, 0xC30C, 0x11D0, {0x88, 0x15, 0x00, 0xA0, 0xC9, 0x06, 0xBE, 0xD8} };

85 #i‡!
deföed
(
GUID_DEVINTERFACE_LIBUSB0_FILTER
)

86 c⁄° 
GUID
 
	gGUID_DEVINTERFACE_LIBUSB0_FILTER
 = { 0xF9F3FF14, 0xAE21, 0x48A0, {0x8A, 0x25, 0x80, 0x11, 0xA7, 0xA9, 0x31, 0xD9} };

93 
	#USB_API_UNSUPPORTED
 0

	)

94 
	#USB_API_HUB
 1

	)

95 
	#USB_API_COMPOSITE
 2

	)

96 
	#USB_API_WINUSBX
 3

	)

97 
	#USB_API_HID
 4

	)

98 
	#USB_API_MAX
 5

	)

100 
	#USB_API_SET
 (1<<
USB_API_MAX
)

	)

104 
	#SUB_API_NOTSET
 -1

	)

105 
	#SUB_API_LIBUSBK
 0

	)

106 
	#SUB_API_LIBUSB0
 1

	)

107 
	#SUB_API_WINUSB
 2

	)

108 
	#SUB_API_MAX
 3

	)

110 
	#WINUSBX_DRV_NAMES
 { "libusbK", "libusb0", "WöUSB"}

	)

112 
	swödows_usb_≠i_backíd
 {

113 c⁄° 
uöt8_t
 
	mid
;

114 c⁄° * 
	mdesig«ti⁄
;

115 c⁄° **
	mdrivî_«me_li°
;

116 c⁄° 
uöt8_t
 
	mnb_drivî_«mes
;

117 (*
	möô
)(
	msub_≠i
, 
libusb_c⁄ãxt
 *
	m˘x
);

118 (*
	mexô
)(
	msub_≠i
);

119 (*
	m›í
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
);

120 (*
	m˛o£
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
);

121 (*
	mc⁄figuª_ídpoöts
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
, 
	miÁ˚
);

122 (*
	m˛aim_öãrÁ˚
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
, 
	miÁ˚
);

123 (*
	m£t_öãrÁ˚_Æt£âög
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
, 
	miÁ˚
, 
	mÆt£âög
);

124 (*
	mªÀa£_öãrÁ˚
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
, 
	miÁ˚
);

125 (*
	m˛ór_hÆt
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
, 
	mídpoöt
);

126 (*
	mª£t_devi˚
)(
	msub_≠i
, 
libusb_devi˚_h™dÀ
 *
	mdev_h™dÀ
);

127 (*
	msubmô_bulk_å™s„r
)(
	msub_≠i
, 
usbi_å™s„r
 *
	môøns„r
);

128 (*
	msubmô_iso_å™s„r
)(
	msub_≠i
, 
usbi_å™s„r
 *
	môøns„r
);

129 (*
	msubmô_c⁄åﬁ_å™s„r
)(
	msub_≠i
, 
usbi_å™s„r
 *
	môøns„r
);

130 (*
	mab‹t_c⁄åﬁ
)(
	msub_≠i
, 
usbi_å™s„r
 *
	môøns„r
);

131 (*
	mab‹t_å™s„rs
)(
	msub_≠i
, 
usbi_å™s„r
 *
	môøns„r
);

132 (*
	mc›y_å™s„r_d©a
)(
	msub_≠i
, 
usbi_å™s„r
 *
	môøns„r
, 
uöt32_t
 
	mio_size
);

135 c⁄° 
wödows_usb_≠i_backíd
 
usb_≠i_backíd
[
USB_API_MAX
];

137 
	#PRINT_UNSUPPORTED_API
(
‚ame
) \

138 
	`usbi_dbg
("unsupported API call for '" \

140  
LIBUSB_ERROR_NOT_SUPPORTED
;

	)

148 
	slibusb_hid_des¸ùt‹
 {

149 
uöt8_t
 
	mbLígth
;

150 
uöt8_t
 
	mbDes¸ùt‹Ty≥
;

151 
uöt16_t
 
	mbcdHID
;

152 
uöt8_t
 
	mbCou¡ryCode
;

153 
uöt8_t
 
	mbNumDes¸ùt‹s
;

154 
uöt8_t
 
	mbCœssDes¸ùt‹Ty≥
;

155 
uöt16_t
 
	mwCœssDes¸ùt‹Lígth
;

157 
	#LIBUSB_DT_HID_SIZE
 9

	)

158 
	#HID_MAX_CONFIG_DESC_SIZE
 (
LIBUSB_DT_CONFIG_SIZE
 + 
LIBUSB_DT_INTERFACE_SIZE
 \

159 + 
LIBUSB_DT_HID_SIZE
 + 2 * 
LIBUSB_DT_ENDPOINT_SIZE
)

	)

160 
	#HID_MAX_REPORT_SIZE
 1024

	)

161 
	#HID_IN_EP
 0x81

	)

162 
	#HID_OUT_EP
 0x02

	)

163 
	#LIBUSB_REQ_RECIPIENT
(
ªque°_ty≥
Ë(‘eque°_ty≥Ë& 0x1F)

	)

164 
	#LIBUSB_REQ_TYPE
(
ªque°_ty≥
Ë(‘eque°_ty≥Ë& (0x03 << 5))

	)

165 
	#LIBUSB_REQ_IN
(
ªque°_ty≥
Ë(‘eque°_ty≥Ë& 
LIBUSB_ENDPOINT_IN
)

	)

166 
	#LIBUSB_REQ_OUT
(
ªque°_ty≥
Ë(!
	`LIBUSB_REQ_IN
‘eque°_ty≥))

	)

169 
	#HID_CTL_CODE
(
id
) \

170 
	`CTL_CODE
 (
FILE_DEVICE_KEYBOARD
, (
id
), 
METHOD_NEITHER
, 
FILE_ANY_ACCESS
)

	)

171 
	#HID_BUFFER_CTL_CODE
(
id
) \

172 
	`CTL_CODE
 (
FILE_DEVICE_KEYBOARD
, (
id
), 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

173 
	#HID_IN_CTL_CODE
(
id
) \

174 
	`CTL_CODE
 (
FILE_DEVICE_KEYBOARD
, (
id
), 
METHOD_IN_DIRECT
, 
FILE_ANY_ACCESS
)

	)

175 
	#HID_OUT_CTL_CODE
(
id
) \

176 
	`CTL_CODE
 (
FILE_DEVICE_KEYBOARD
, (
id
), 
METHOD_OUT_DIRECT
, 
FILE_ANY_ACCESS
)

	)

178 
	#IOCTL_HID_GET_FEATURE
 
	`HID_OUT_CTL_CODE
(100)

	)

179 
	#IOCTL_HID_GET_INPUT_REPORT
 
	`HID_OUT_CTL_CODE
(104)

	)

180 
	#IOCTL_HID_SET_FEATURE
 
	`HID_IN_CTL_CODE
(100)

	)

181 
	#IOCTL_HID_SET_OUTPUT_REPORT
 
	`HID_IN_CTL_CODE
(101)

	)

183 
	elibusb_hid_ªque°_ty≥
 {

184 
	mHID_REQ_GET_REPORT
 = 0x01,

185 
	mHID_REQ_GET_IDLE
 = 0x02,

186 
	mHID_REQ_GET_PROTOCOL
 = 0x03,

187 
	mHID_REQ_SET_REPORT
 = 0x09,

188 
	mHID_REQ_SET_IDLE
 = 0x0A,

189 
	mHID_REQ_SET_PROTOCOL
 = 0x0B

192 
	elibusb_hid_ªp‹t_ty≥
 {

193 
	mHID_REPORT_TYPE_INPUT
 = 0x01,

194 
	mHID_REPORT_TYPE_OUTPUT
 = 0x02,

195 
	mHID_REPORT_TYPE_FEATURE
 = 0x03

198 
	shid_devi˚_¥iv
 {

199 
uöt16_t
 
	mvid
;

200 
uöt16_t
 
	mpid
;

201 
uöt8_t
 
	mc⁄fig
;

202 
uöt8_t
 
	mnb_öãrÁ˚s
;

203 
boﬁ
 
	mu£s_ªp‹t_ids
[3];

204 
uöt16_t
 
	möput_ªp‹t_size
;

205 
uöt16_t
 
	mouçut_ªp‹t_size
;

206 
uöt16_t
 
	m„©uª_ªp‹t_size
;

207 
WCHAR
 
	m°rög
[3][
MAX_USB_STRING_LENGTH
];

208 
uöt8_t
 
	m°rög_ödex
[3];

211 
libusb_devi˚_des¸ùt‹
 
	tUSB_DEVICE_DESCRIPTOR
, *
	tPUSB_DEVICE_DESCRIPTOR
;

212 
	swödows_devi˚_¥iv
 {

213 
uöt8_t
 
	mdïth
;

214 
uöt8_t
 
	mp‹t
;

215 
uöt8_t
 
	ma˘ive_c⁄fig
;

216 
libusb_devi˚
 *
	m∑ª¡_dev
;

217 
wödows_usb_≠i_backíd
 c⁄° *
	m≠ib
;

218 *
	m∑th
;

219 
	msub_≠i
;

221 *
	m∑th
;

222 
wödows_usb_≠i_backíd
 c⁄° *
	m≠ib
;

223 
	msub_≠i
;

224 
öt8_t
 
	mnb_ídpoöts
;

225 
uöt8_t
 *
	mídpoöt
;

226 
boﬁ
 
	mª°ri˘ed_fun˘i⁄Æôy
;

228 } 
	musb_öãrÁ˚
[
USB_MAXINTERFACES
];

229 
hid_devi˚_¥iv
 *
	mhid
;

230 
USB_DEVICE_DESCRIPTOR
 
	mdev_des¸ùt‹
;

231 **
	mc⁄fig_des¸ùt‹
;

234 
ölöe
 
wödows_devi˚_¥iv
 *
	$_devi˚_¥iv
(
libusb_devi˚
 *
dev
) {

235  (
wödows_devi˚_¥iv
 *)
dev
->
os_¥iv
;

236 
	}
}

238 
ölöe
 
	$wödows_devi˚_¥iv_öô
(
libusb_devi˚
* 
dev
) {

239 
wödows_devi˚_¥iv
* 
p
 = 
	`_devi˚_¥iv
(
dev
);

240 
i
;

241 
p
->
dïth
 = 0;

242 
p
->
p‹t
 = 0;

243 
p
->
∑ª¡_dev
 = 
NULL
;

244 
p
->
∑th
 = 
NULL
;

245 
p
->
≠ib
 = &
usb_≠i_backíd
[
USB_API_UNSUPPORTED
];

246 
p
->
sub_≠i
 = 
SUB_API_NOTSET
;

247 
p
->
hid
 = 
NULL
;

248 
p
->
a˘ive_c⁄fig
 = 0;

249 
p
->
c⁄fig_des¸ùt‹
 = 
NULL
;

250 
	`mem£t
(&(
p
->
dev_des¸ùt‹
), 0, (
USB_DEVICE_DESCRIPTOR
));

251 
i
=0; i<
USB_MAXINTERFACES
; i++) {

252 
p
->
usb_öãrÁ˚
[
i
].
∑th
 = 
NULL
;

253 
p
->
usb_öãrÁ˚
[
i
].
≠ib
 = &
usb_≠i_backíd
[
USB_API_UNSUPPORTED
];

254 
p
->
usb_öãrÁ˚
[
i
].
sub_≠i
 = 
SUB_API_NOTSET
;

255 
p
->
usb_öãrÁ˚
[
i
].
nb_ídpoöts
 = 0;

256 
p
->
usb_öãrÁ˚
[
i
].
ídpoöt
 = 
NULL
;

257 
p
->
usb_öãrÁ˚
[
i
].
ª°ri˘ed_fun˘i⁄Æôy
 = 
Ál£
;

259 
	}
}

261 
ölöe
 
	$wödows_devi˚_¥iv_ªÀa£
(
libusb_devi˚
* 
dev
) {

262 
wödows_devi˚_¥iv
* 
p
 = 
	`_devi˚_¥iv
(
dev
);

263 
i
;

264 
	`ß„_‰ì
(
p
->
∑th
);

265 i‡((
dev
->
num_c⁄figuøti⁄s
 > 0Ë&& (
p
->
c⁄fig_des¸ùt‹
 !
NULL
)) {

266 
i
=0; i < 
dev
->
num_c⁄figuøti⁄s
; i++)

267 
	`ß„_‰ì
(
p
->
c⁄fig_des¸ùt‹
[
i
]);

269 
	`ß„_‰ì
(
p
->
c⁄fig_des¸ùt‹
);

270 
	`ß„_‰ì
(
p
->
hid
);

271 
i
=0; i<
USB_MAXINTERFACES
; i++) {

272 
	`ß„_‰ì
(
p
->
usb_öãrÁ˚
[
i
].
∑th
);

273 
	`ß„_‰ì
(
p
->
usb_öãrÁ˚
[
i
].
ídpoöt
);

275 
	}
}

277 
	söãrÁ˚_h™dÀ_t
 {

278 
HANDLE
 
	mdev_h™dÀ
;

279 
HANDLE
 
	m≠i_h™dÀ
;

282 
	swödows_devi˚_h™dÀ_¥iv
 {

283 
	ma˘ive_öãrÁ˚
;

284 
öãrÁ˚_h™dÀ_t
 
	möãrÁ˚_h™dÀ
[
USB_MAXINTERFACES
];

285 
	mauto˛aim_cou¡
[
USB_MAXINTERFACES
];

288 
ölöe
 
wödows_devi˚_h™dÀ_¥iv
 *
	$_devi˚_h™dÀ_¥iv
(

289 
libusb_devi˚_h™dÀ
 *
h™dÀ
)

291  (
wödows_devi˚_h™dÀ_¥iv
 *Ë
h™dÀ
->
os_¥iv
;

292 
	}
}

295 
	swödows_å™s„r_¥iv
 {

296 
wöfd
 
	mpﬁœbÀ_fd
;

297 
uöt8_t
 
	möãrÁ˚_numbî
;

298 
uöt8_t
 *
	mhid_buf„r
;

299 
uöt8_t
 *
	mhid_de°
;

300 
size_t
 
	mhid_ex≥˘ed_size
;

304 
	sdrivî_lookup
 {

305 
	mli°
[
MAX_KEY_LENGTH
+1];

306 c⁄° 
DWORD
 
	mªg_¥›
;

307 c⁄° * 
	mdesig«ti⁄
;

311 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
HRESULT
, 
p
, 
CLSIDFromSåög
, (
LPCOLESTR
, 
LPCLSID
));

314 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
BOOL
, 
p
, 
IsWow64Pro˚ss
, (
HANDLE
, 
PBOOL
));

317 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
HDEVINFO
, 
p
, 
SëupDiGëCœssDevsA
, (c⁄° 
GUID
*, 
PCSTR
, 
HWND
, 
DWORD
));

318 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
BOOL
, 
p
, 
SëupDiEnumDevi˚Info
, (
HDEVINFO
, 
DWORD
, 
PSP_DEVINFO_DATA
));

319 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
BOOL
, 
p
, 
SëupDiEnumDevi˚I¡îÁ˚s
, (
HDEVINFO
, 
PSP_DEVINFO_DATA
,

320 c⁄° 
GUID
*, 
DWORD
, 
PSP_DEVICE_INTERFACE_DATA
));

321 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
BOOL
, 
p
, 
SëupDiGëDevi˚I¡îÁ˚DëaûA
, (
HDEVINFO
, 
PSP_DEVICE_INTERFACE_DATA
,

322 
PSP_DEVICE_INTERFACE_DETAIL_DATA_A
, 
DWORD
, 
PDWORD
, 
PSP_DEVINFO_DATA
));

323 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
BOOL
, 
p
, 
SëupDiDe°royDevi˚InfoLi°
, (
HDEVINFO
));

324 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
HKEY
, 
p
, 
SëupDiO≥nDevRegKey
, (
HDEVINFO
, 
PSP_DEVINFO_DATA
, 
DWORD
, DWORD, DWORD, 
REGSAM
));

325 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
BOOL
, 
p
, 
SëupDiGëDevi˚Regi°ryPr›îtyA
, (
HDEVINFO
,

326 
PSP_DEVINFO_DATA
, 
DWORD
, 
PDWORD
, 
PBYTE
, DWORD, PDWORD));

327 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
HKEY
, 
p
, 
SëupDiO≥nDevi˚I¡îÁ˚RegKey
, (
HDEVINFO
, 
PSP_DEVICE_INTERFACE_DATA
, 
DWORD
, DWORD));

328 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
LONG
, 
p
, 
RegQuîyVÆueExW
, (
HKEY
, 
LPCWSTR
, 
LPDWORD
, LPDWORD, 
LPBYTE
, LPDWORD));

329 
DLL_DECLARE_PREFIXED
(
WINAPI
, 
LONG
, 
p
, 
RegClo£Key
, (
HKEY
));

334 
DWORD
 
	tDEVNODE
, 
	tDEVINST
;

335 
DEVNODE
 *
	tPDEVNODE
, *
	tPDEVINST
;

336 
DWORD
 
	tRETURN_TYPE
;

337 
RETURN_TYPE
 
	tCONFIGRET
;

339 
	#CR_SUCCESS
 0x00000000

	)

340 
	#CR_NO_SUCH_DEVNODE
 0x0000000D

	)

342 
	#USB_DEVICE_DESCRIPTOR_TYPE
 
LIBUSB_DT_DEVICE


	)

343 
	#USB_CONFIGURATION_DESCRIPTOR_TYPE
 
LIBUSB_DT_CONFIG


	)

344 
	#USB_STRING_DESCRIPTOR_TYPE
 
LIBUSB_DT_STRING


	)

345 
	#USB_INTERFACE_DESCRIPTOR_TYPE
 
LIBUSB_DT_INTERFACE


	)

346 
	#USB_ENDPOINT_DESCRIPTOR_TYPE
 
LIBUSB_DT_ENDPOINT


	)

348 
	#USB_REQUEST_GET_STATUS
 
LIBUSB_REQUEST_GET_STATUS


	)

349 
	#USB_REQUEST_CLEAR_FEATURE
 
LIBUSB_REQUEST_CLEAR_FEATURE


	)

350 
	#USB_REQUEST_SET_FEATURE
 
LIBUSB_REQUEST_SET_FEATURE


	)

351 
	#USB_REQUEST_SET_ADDRESS
 
LIBUSB_REQUEST_SET_ADDRESS


	)

352 
	#USB_REQUEST_GET_DESCRIPTOR
 
LIBUSB_REQUEST_GET_DESCRIPTOR


	)

353 
	#USB_REQUEST_SET_DESCRIPTOR
 
LIBUSB_REQUEST_SET_DESCRIPTOR


	)

354 
	#USB_REQUEST_GET_CONFIGURATION
 
LIBUSB_REQUEST_GET_CONFIGURATION


	)

355 
	#USB_REQUEST_SET_CONFIGURATION
 
LIBUSB_REQUEST_SET_CONFIGURATION


	)

356 
	#USB_REQUEST_GET_INTERFACE
 
LIBUSB_REQUEST_GET_INTERFACE


	)

357 
	#USB_REQUEST_SET_INTERFACE
 
LIBUSB_REQUEST_SET_INTERFACE


	)

358 
	#USB_REQUEST_SYNC_FRAME
 
LIBUSB_REQUEST_SYNCH_FRAME


	)

360 
	#USB_GET_NODE_INFORMATION
 258

	)

361 
	#USB_GET_DESCRIPTOR_FROM_NODE_CONNECTION
 260

	)

362 
	#USB_GET_NODE_CONNECTION_NAME
 261

	)

363 
	#USB_GET_HUB_CAPABILITIES
 271

	)

364 #i‡!
deföed
(
USB_GET_NODE_CONNECTION_INFORMATION_EX
)

365 
	#USB_GET_NODE_CONNECTION_INFORMATION_EX
 274

	)

367 #i‡!
deföed
(
USB_GET_HUB_CAPABILITIES_EX
)

368 
	#USB_GET_HUB_CAPABILITIES_EX
 276

	)

370 #i‡!
deföed
(
USB_GET_NODE_CONNECTION_INFORMATION_EX_V2
)

371 
	#USB_GET_NODE_CONNECTION_INFORMATION_EX_V2
 279

	)

374 #i‚de‡
METHOD_BUFFERED


375 
	#METHOD_BUFFERED
 0

	)

377 #i‚de‡
FILE_ANY_ACCESS


378 
	#FILE_ANY_ACCESS
 0x00000000

	)

380 #i‚de‡
FILE_DEVICE_UNKNOWN


381 
	#FILE_DEVICE_UNKNOWN
 0x00000022

	)

383 #i‚de‡
FILE_DEVICE_USB


384 
	#FILE_DEVICE_USB
 
FILE_DEVICE_UNKNOWN


	)

387 #i‚de‡
CTL_CODE


388 
	#CTL_CODE
(
Devi˚Ty≥
, 
Fun˘i⁄
, 
Mëhod
, 
Ac˚ss
)( \

389 ((
Devi˚Ty≥
Ë<< 16Ë| ((
Ac˚ss
Ë<< 14Ë| ((
Fun˘i⁄
Ë<< 2Ë| (
Mëhod
))

	)

392 
	eUSB_CONNECTION_STATUS
 {

393 
	mNoDevi˚C⁄√˘ed
,

394 
	mDevi˚C⁄√˘ed
,

395 
	mDevi˚FaûedEnumî©i⁄
,

396 
	mDevi˚GíîÆFaûuª
,

397 
	mDevi˚Cau£dOvîcuºít
,

398 
	mDevi˚NŸEnoughPowî
,

399 
	mDevi˚NŸEnoughB™dwidth
,

400 
	mDevi˚HubNe°edTooDì∂y
,

401 
	mDevi˚InLegacyHub


402 } 
	tUSB_CONNECTION_STATUS
, *
	tPUSB_CONNECTION_STATUS
;

404 
	eUSB_HUB_NODE
 {

405 
	mUsbHub
,

406 
	mUsbMIP¨ít


407 } 
	tUSB_HUB_NODE
;

410 
DLL_DECLARE
(
WINAPI
, 
CONFIGRET
, 
CM_Gë_P¨ít
, (
PDEVINST
, 
DEVINST
, 
ULONG
));

411 
DLL_DECLARE
(
WINAPI
, 
CONFIGRET
, 
CM_Gë_Chûd
, (
PDEVINST
, 
DEVINST
, 
ULONG
));

412 
DLL_DECLARE
(
WINAPI
, 
CONFIGRET
, 
CM_Gë_Siblög
, (
PDEVINST
, 
DEVINST
, 
ULONG
));

413 
DLL_DECLARE
(
WINAPI
, 
CONFIGRET
, 
CM_Gë_Devi˚_IDA
, (
DEVINST
, 
PCHAR
, 
ULONG
, ULONG));

415 
	#IOCTL_USB_GET_HUB_CAPABILITIES_EX
 \

416 
	`CTL_CODE
–
FILE_DEVICE_USB
, 
USB_GET_HUB_CAPABILITIES_EX
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

418 
	#IOCTL_USB_GET_HUB_CAPABILITIES
 \

419 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_HUB_CAPABILITIES
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

421 
	#IOCTL_USB_GET_DESCRIPTOR_FROM_NODE_CONNECTION
 \

422 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_DESCRIPTOR_FROM_NODE_CONNECTION
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

424 
	#IOCTL_USB_GET_ROOT_HUB_NAME
 \

425 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
HCD_GET_ROOT_HUB_NAME
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

427 
	#IOCTL_USB_GET_NODE_INFORMATION
 \

428 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_NODE_INFORMATION
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

430 
	#IOCTL_USB_GET_NODE_CONNECTION_INFORMATION_EX
 \

431 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_NODE_CONNECTION_INFORMATION_EX
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

433 
	#IOCTL_USB_GET_NODE_CONNECTION_INFORMATION_EX_V2
 \

434 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_NODE_CONNECTION_INFORMATION_EX_V2
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

436 
	#IOCTL_USB_GET_NODE_CONNECTION_ATTRIBUTES
 \

437 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_NODE_CONNECTION_ATTRIBUTES
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

439 
	#IOCTL_USB_GET_NODE_CONNECTION_NAME
 \

440 
	`CTL_CODE
(
FILE_DEVICE_USB
, 
USB_GET_NODE_CONNECTION_NAME
, 
METHOD_BUFFERED
, 
FILE_ANY_ACCESS
)

	)

443 #¥agm®
∑ck
(
push
, 1)

445 
	sUSB_INTERFACE_DESCRIPTOR
 {

446 
UCHAR
 
	mbLígth
;

447 
UCHAR
 
	mbDes¸ùt‹Ty≥
;

448 
UCHAR
 
	mbI¡îÁ˚Numbî
;

449 
UCHAR
 
	mbA…î«ãSëtög
;

450 
UCHAR
 
	mbNumEndpoöts
;

451 
UCHAR
 
	mbI¡îÁ˚Cœss
;

452 
UCHAR
 
	mbI¡îÁ˚SubCœss
;

453 
UCHAR
 
	mbI¡îÁ˚PrŸocﬁ
;

454 
UCHAR
 
	miI¡îÁ˚
;

455 } 
	tUSB_INTERFACE_DESCRIPTOR
, *
	tPUSB_INTERFACE_DESCRIPTOR
;

457 
	sUSB_CONFIGURATION_DESCRIPTOR
 {

458 
UCHAR
 
	mbLígth
;

459 
UCHAR
 
	mbDes¸ùt‹Ty≥
;

460 
USHORT
 
	mwTŸÆLígth
;

461 
UCHAR
 
	mbNumI¡îÁ˚s
;

462 
UCHAR
 
	mbC⁄figuøti⁄VÆue
;

463 
UCHAR
 
	miC⁄figuøti⁄
;

464 
UCHAR
 
	mbmAâribuãs
;

465 
UCHAR
 
	mMaxPowî
;

466 } 
	tUSB_CONFIGURATION_DESCRIPTOR
, *
	tPUSB_CONFIGURATION_DESCRIPTOR
;

468 
	sUSB_CONFIGURATION_DESCRIPTOR_SHORT
 {

470 
ULONG
 
	mC⁄√˘i⁄Index
;

472 
UCHAR
 
	mbmReque°
;

473 
UCHAR
 
	mbReque°
;

474 
USHORT
 
	mwVÆue
;

475 
USHORT
 
	mwIndex
;

476 
USHORT
 
	mwLígth
;

477 } 
	mSëupPackë
;

478 } 
	mªq
;

479 
USB_CONFIGURATION_DESCRIPTOR
 
	md©a
;

480 } 
	tUSB_CONFIGURATION_DESCRIPTOR_SHORT
;

482 
	sUSB_ENDPOINT_DESCRIPTOR
 {

483 
UCHAR
 
	mbLígth
;

484 
UCHAR
 
	mbDes¸ùt‹Ty≥
;

485 
UCHAR
 
	mbEndpoötAddªss
;

486 
UCHAR
 
	mbmAâribuãs
;

487 
USHORT
 
	mwMaxPackëSize
;

488 
UCHAR
 
	mbI¡îvÆ
;

489 } 
	tUSB_ENDPOINT_DESCRIPTOR
, *
	tPUSB_ENDPOINT_DESCRIPTOR
;

491 
	sUSB_DESCRIPTOR_REQUEST
 {

492 
ULONG
 
	mC⁄√˘i⁄Index
;

494 
UCHAR
 
	mbmReque°
;

495 
UCHAR
 
	mbReque°
;

496 
USHORT
 
	mwVÆue
;

497 
USHORT
 
	mwIndex
;

498 
USHORT
 
	mwLígth
;

499 } 
	mSëupPackë
;

501 } 
	tUSB_DESCRIPTOR_REQUEST
, *
	tPUSB_DESCRIPTOR_REQUEST
;

503 
	sUSB_HUB_DESCRIPTOR
 {

504 
UCHAR
 
	mbDes¸ùt‹Lígth
;

505 
UCHAR
 
	mbDes¸ùt‹Ty≥
;

506 
UCHAR
 
	mbNumbîOfP‹ts
;

507 
USHORT
 
	mwHubCh¨a˘îi°ics
;

508 
UCHAR
 
	mbPowîOnToPowîGood
;

509 
UCHAR
 
	mbHubC⁄åﬁCuºít
;

510 
UCHAR
 
	mbRemoveAndPowîMask
[64];

511 } 
	tUSB_HUB_DESCRIPTOR
, *
	tPUSB_HUB_DESCRIPTOR
;

513 
	sUSB_ROOT_HUB_NAME
 {

514 
ULONG
 
	mA˘uÆLígth
;

515 
WCHAR
 
	mRoŸHubName
[1];

516 } 
	tUSB_ROOT_HUB_NAME
, *
	tPUSB_ROOT_HUB_NAME
;

518 
	sUSB_ROOT_HUB_NAME_FIXED
 {

519 
ULONG
 
	mA˘uÆLígth
;

520 
WCHAR
 
	mRoŸHubName
[
MAX_PATH_LENGTH
];

521 } 
	tUSB_ROOT_HUB_NAME_FIXED
;

523 
	sUSB_NODE_CONNECTION_NAME
 {

524 
ULONG
 
	mC⁄√˘i⁄Index
;

525 
ULONG
 
	mA˘uÆLígth
;

526 
WCHAR
 
	mNodeName
[1];

527 } 
	tUSB_NODE_CONNECTION_NAME
, *
	tPUSB_NODE_CONNECTION_NAME
;

529 
	sUSB_NODE_CONNECTION_NAME_FIXED
 {

530 
ULONG
 
	mC⁄√˘i⁄Index
;

531 
ULONG
 
	mA˘uÆLígth
;

532 
WCHAR
 
	mNodeName
[
MAX_PATH_LENGTH
];

533 } 
	tUSB_NODE_CONNECTION_NAME_FIXED
;

535 
	sUSB_HUB_NAME_FIXED
 {

537 
USB_ROOT_HUB_NAME_FIXED
 
	mroŸ
;

538 
USB_NODE_CONNECTION_NAME_FIXED
 
	mnode
;

539 } 
	mu
;

540 } 
	tUSB_HUB_NAME_FIXED
;

542 
	sUSB_HUB_INFORMATION
 {

543 
USB_HUB_DESCRIPTOR
 
	mHubDes¸ùt‹
;

544 
BOOLEAN
 
	mHubIsBusPowîed
;

545 } 
	tUSB_HUB_INFORMATION
, *
	tPUSB_HUB_INFORMATION
;

547 
	sUSB_MI_PARENT_INFORMATION
 {

548 
ULONG
 
	mNumbîOfI¡îÁ˚s
;

549 } 
	tUSB_MI_PARENT_INFORMATION
, *
	tPUSB_MI_PARENT_INFORMATION
;

551 
	sUSB_NODE_INFORMATION
 {

552 
USB_HUB_NODE
 
	mNodeTy≥
;

554 
USB_HUB_INFORMATION
 
	mHubInf‹m©i⁄
;

555 
USB_MI_PARENT_INFORMATION
 
	mMiP¨ítInf‹m©i⁄
;

556 } 
	mu
;

557 } 
	tUSB_NODE_INFORMATION
, *
	tPUSB_NODE_INFORMATION
;

559 
	sUSB_PIPE_INFO
 {

560 
USB_ENDPOINT_DESCRIPTOR
 
	mEndpoötDes¸ùt‹
;

561 
ULONG
 
	mScheduÀOff£t
;

562 } 
	tUSB_PIPE_INFO
, *
	tPUSB_PIPE_INFO
;

564 
	sUSB_NODE_CONNECTION_INFORMATION_EX
 {

565 
ULONG
 
	mC⁄√˘i⁄Index
;

566 
USB_DEVICE_DESCRIPTOR
 
	mDevi˚Des¸ùt‹
;

567 
UCHAR
 
	mCuºítC⁄figuøti⁄VÆue
;

568 
UCHAR
 
	mS≥ed
;

569 
BOOLEAN
 
	mDevi˚IsHub
;

570 
USHORT
 
	mDevi˚Addªss
;

571 
ULONG
 
	mNumbîOfO≥nPùes
;

572 
USB_CONNECTION_STATUS
 
	mC⁄√˘i⁄Sètus
;

574 } 
	tUSB_NODE_CONNECTION_INFORMATION_EX
, *
	tPUSB_NODE_CONNECTION_INFORMATION_EX
;

576 
	u_USB_PROTOCOLS
 {

577 
ULONG
 
	mul
;

579 
ULONG
 
	mUsb110
:1;

580 
ULONG
 
	mUsb200
:1;

581 
ULONG
 
	mUsb300
:1;

582 
ULONG
 
	mRe£rvedMBZ
:29;

584 } 
	tUSB_PROTOCOLS
, *
	tPUSB_PROTOCOLS
;

586 
	u_USB_NODE_CONNECTION_INFORMATION_EX_V2_FLAGS
 {

587 
ULONG
 
	mul
;

589 
ULONG
 
	mDevi˚IsO≥øtögAtSu≥rS≥edOrHighî
:1;

590 
ULONG
 
	mDevi˚IsSu≥rS≥edC≠abÀOrHighî
:1;

591 
ULONG
 
	mRe£rvedMBZ
:30;

593 } 
	tUSB_NODE_CONNECTION_INFORMATION_EX_V2_FLAGS
, *
	tPUSB_NODE_CONNECTION_INFORMATION_EX_V2_FLAGS
;

595 
	s_USB_NODE_CONNECTION_INFORMATION_EX_V2
 {

596 
ULONG
 
	mC⁄√˘i⁄Index
;

597 
ULONG
 
	mLígth
;

598 
USB_PROTOCOLS
 
	mSuµ‹ãdUsbPrŸocﬁs
;

599 
USB_NODE_CONNECTION_INFORMATION_EX_V2_FLAGS
 
	mFœgs
;

600 } 
	tUSB_NODE_CONNECTION_INFORMATION_EX_V2
, *
	tPUSB_NODE_CONNECTION_INFORMATION_EX_V2
;

602 
	sUSB_HUB_CAP_FLAGS
 {

603 
ULONG
 
	mHubIsHighS≥edC≠abÀ
:1;

604 
ULONG
 
	mHubIsHighS≥ed
:1;

605 
ULONG
 
	mHubIsMu…iTtC≠abÀ
:1;

606 
ULONG
 
	mHubIsMu…iTt
:1;

607 
ULONG
 
	mHubIsRoŸ
:1;

608 
ULONG
 
	mHubIsArmedWakeOnC⁄√˘
:1;

609 
ULONG
 
	mRe£rvedMBZ
:26;

610 } 
	tUSB_HUB_CAP_FLAGS
, *
	tPUSB_HUB_CAP_FLAGS
;

612 
	sUSB_HUB_CAPABILITIES
 {

613 
ULONG
 
	mHubIs2xC≠abÀ
 : 1;

614 } 
	tUSB_HUB_CAPABILITIES
, *
	tPUSB_HUB_CAPABILITIES
;

616 
	sUSB_HUB_CAPABILITIES_EX
 {

617 
USB_HUB_CAP_FLAGS
 
	mC≠abûôyFœgs
;

618 } 
	tUSB_HUB_CAPABILITIES_EX
, *
	tPUSB_HUB_CAPABILITIES_EX
;

620 #¥agm®
∑ck
(
p›
)

624 
	#SHORT_PACKET_TERMINATE
 0x01

	)

625 
	#AUTO_CLEAR_STALL
 0x02

	)

626 
	#PIPE_TRANSFER_TIMEOUT
 0x03

	)

627 
	#IGNORE_SHORT_PACKETS
 0x04

	)

628 
	#ALLOW_PARTIAL_READS
 0x05

	)

629 
	#AUTO_FLUSH
 0x06

	)

630 
	#RAW_IO
 0x07

	)

631 
	#MAXIMUM_TRANSFER_SIZE
 0x08

	)

632 
	#AUTO_SUSPEND
 0x81

	)

633 
	#SUSPEND_DELAY
 0x83

	)

634 
	#DEVICE_SPEED
 0x01

	)

635 
	#LowS≥ed
 0x01

	)

636 
	#FuŒS≥ed
 0x02

	)

637 
	#HighS≥ed
 0x03

	)

639 
	eUSBD_PIPE_TYPE
 {

640 
	mUsbdPùeTy≥C⁄åﬁ
,

641 
	mUsbdPùeTy≥Isochr⁄ous
,

642 
	mUsbdPùeTy≥Bulk
,

643 
	mUsbdPùeTy≥I¡îru±


644 } 
	tUSBD_PIPE_TYPE
;

647 
USBD_PIPE_TYPE
 
	mPùeTy≥
;

648 
UCHAR
 
	mPùeId
;

649 
USHORT
 
	mMaximumPackëSize
;

650 
UCHAR
 
	mI¡îvÆ
;

651 } 
	tWINUSB_PIPE_INFORMATION
, *
	tPWINUSB_PIPE_INFORMATION
;

653 #¥agm®
∑ck
(1)

655 
UCHAR
 
	mªque°_ty≥
;

656 
UCHAR
 
	mªque°
;

657 
USHORT
 
	mvÆue
;

658 
USHORT
 
	mödex
;

659 
USHORT
 
	mÀngth
;

660 } 
	tWINUSB_SETUP_PACKET
, *
	tPWINUSB_SETUP_PACKET
;

661 #¥agm®
∑ck
()

663 *
	tWINUSB_INTERFACE_HANDLE
, *
	tPWINUSB_INTERFACE_HANDLE
;

665 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_Ab‹tPùe_t
)(

666 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

667 
	tUCHAR
 
	tPùeID


669 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_C⁄åﬁTøns„r_t
)(

670 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

671 
	tWINUSB_SETUP_PACKET
 
	tSëupPackë
,

672 
	tPUCHAR
 
	tBuf„r
,

673 
	tULONG
 
	tBuf„rLígth
,

674 
	tPULONG
 
	tLígthTøns„ºed
,

675 
	tLPOVERLAPPED
 
	tOvîœµed


677 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_FlushPùe_t
)(

678 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

679 
	tUCHAR
 
	tPùeID


681 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_Fªe_t
)(

682 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ


684 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_GëAssocüãdI¡îÁ˚_t
)(

685 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

686 
	tUCHAR
 
	tAssocüãdI¡îÁ˚Index
,

687 
	tPWINUSB_INTERFACE_HANDLE
 
	tAssocüãdI¡îÁ˚H™dÀ


689 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_GëCuºítA…î«ãSëtög_t
)(

690 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

691 
	tPUCHAR
 
	tA…î«ãSëtög


693 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_GëDes¸ùt‹_t
)(

694 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

695 
	tUCHAR
 
	tDes¸ùt‹Ty≥
,

696 
	tUCHAR
 
	tIndex
,

697 
	tUSHORT
 
	tL™guageID
,

698 
	tPUCHAR
 
	tBuf„r
,

699 
	tULONG
 
	tBuf„rLígth
,

700 
	tPULONG
 
	tLígthTøns„ºed


702 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_GëOvîœµedResu…_t
)(

703 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

704 
	tLPOVERLAPPED
 
	tÕOvîœµed
,

705 
	tLPDWORD
 
	tÕNumbîOfByãsTøns„ºed
,

706 
	tBOOL
 
	tbWaô


708 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_GëPùePﬁicy_t
)(

709 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

710 
	tUCHAR
 
	tPùeID
,

711 
	tULONG
 
	tPﬁicyTy≥
,

712 
	tPULONG
 
	tVÆueLígth
,

713 
	tPVOID
 
	tVÆue


715 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_GëPowîPﬁicy_t
)(

716 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

717 
	tULONG
 
	tPﬁicyTy≥
,

718 
	tPULONG
 
	tVÆueLígth
,

719 
	tPVOID
 
	tVÆue


721 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_Inôülize_t
)(

722 
	tHANDLE
 
	tDevi˚H™dÀ
,

723 
	tPWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ


725 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_QuîyDevi˚Inf‹m©i⁄_t
)(

726 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

727 
	tULONG
 
	tInf‹m©i⁄Ty≥
,

728 
	tPULONG
 
	tBuf„rLígth
,

729 
	tPVOID
 
	tBuf„r


731 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_QuîyI¡îÁ˚Sëtögs_t
)(

732 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

733 
	tUCHAR
 
	tA…î«ãSëtögNumbî
,

734 
	tPUSB_INTERFACE_DESCRIPTOR
 
	tUsbA…I¡îÁ˚Des¸ùt‹


736 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_QuîyPùe_t
)(

737 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

738 
	tUCHAR
 
	tA…î«ãI¡îÁ˚Numbî
,

739 
	tUCHAR
 
	tPùeIndex
,

740 
	tPWINUSB_PIPE_INFORMATION
 
	tPùeInf‹m©i⁄


742 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_RódPùe_t
)(

743 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

744 
	tUCHAR
 
	tPùeID
,

745 
	tPUCHAR
 
	tBuf„r
,

746 
	tULONG
 
	tBuf„rLígth
,

747 
	tPULONG
 
	tLígthTøns„ºed
,

748 
	tLPOVERLAPPED
 
	tOvîœµed


750 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_Re£tPùe_t
)(

751 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

752 
	tUCHAR
 
	tPùeID


754 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_SëCuºítA…î«ãSëtög_t
)(

755 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

756 
	tUCHAR
 
	tA…î«ãSëtög


758 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_SëPùePﬁicy_t
)(

759 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

760 
	tUCHAR
 
	tPùeID
,

761 
	tULONG
 
	tPﬁicyTy≥
,

762 
	tULONG
 
	tVÆueLígth
,

763 
	tPVOID
 
	tVÆue


765 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_SëPowîPﬁicy_t
)(

766 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

767 
	tULONG
 
	tPﬁicyTy≥
,

768 
	tULONG
 
	tVÆueLígth
,

769 
	tPVOID
 
	tVÆue


771 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_WrôePùe_t
)(

772 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ
,

773 
	tUCHAR
 
	tPùeID
,

774 
	tPUCHAR
 
	tBuf„r
,

775 
	tULONG
 
	tBuf„rLígth
,

776 
	tPULONG
 
	tLígthTøns„ºed
,

777 
	tLPOVERLAPPED
 
	tOvîœµed


779 
	$BOOL
 (
	tWINAPI
 *
	tWöUsb_Re£tDevi˚_t
)(

780 
	tWINUSB_INTERFACE_HANDLE
 
	tI¡îÁ˚H™dÀ


784 
	e_KUSB_FNID


786 
KUSB_FNID_Inô
,

787 
KUSB_FNID_Fªe
,

788 
KUSB_FNID_CœimI¡îÁ˚
,

789 
KUSB_FNID_Rñó£I¡îÁ˚
,

790 
KUSB_FNID_SëA…I¡îÁ˚
,

791 
KUSB_FNID_GëA…I¡îÁ˚
,

792 
KUSB_FNID_GëDes¸ùt‹
,

793 
KUSB_FNID_C⁄åﬁTøns„r
,

794 
KUSB_FNID_SëPowîPﬁicy
,

795 
KUSB_FNID_GëPowîPﬁicy
,

796 
KUSB_FNID_SëC⁄figuøti⁄
,

797 
KUSB_FNID_GëC⁄figuøti⁄
,

798 
KUSB_FNID_Re£tDevi˚
,

799 
KUSB_FNID_Inôülize
,

800 
KUSB_FNID_Sñe˘I¡îÁ˚
,

801 
KUSB_FNID_GëAssocüãdI¡îÁ˚
,

802 
KUSB_FNID_Cl⁄e
,

803 
KUSB_FNID_QuîyI¡îÁ˚Sëtögs
,

804 
KUSB_FNID_QuîyDevi˚Inf‹m©i⁄
,

805 
KUSB_FNID_SëCuºítA…î«ãSëtög
,

806 
KUSB_FNID_GëCuºítA…î«ãSëtög
,

807 
KUSB_FNID_QuîyPùe
,

808 
KUSB_FNID_SëPùePﬁicy
,

809 
KUSB_FNID_GëPùePﬁicy
,

810 
KUSB_FNID_RódPùe
,

811 
KUSB_FNID_WrôePùe
,

812 
KUSB_FNID_Re£tPùe
,

813 
KUSB_FNID_Ab‹tPùe
,

814 
KUSB_FNID_FlushPùe
,

815 
KUSB_FNID_IsoRódPùe
,

816 
KUSB_FNID_IsoWrôePùe
,

817 
KUSB_FNID_GëCuºítFømeNumbî
,

818 
KUSB_FNID_GëOvîœµedResu…
,

819 
KUSB_FNID_GëPr›îty
,

820 
KUSB_FNID_COUNT
,

821 } 
	tKUSB_FNID
;

823 
	s_KLIB_VERSION
 {

824 
INT
 
Maj‹
;

825 
INT
 
Mö‹
;

826 
INT
 
Mi¸o
;

827 
INT
 
N™o
;

828 } 
	tKLIB_VERSION
;

829 
KLIB_VERSION
* 
	tPKLIB_VERSION
;

831 
	$BOOL
 (
	tWINAPI
 *
	tLibK_GëProcAddªss_t
)(

832 
	tPVOID
* 
	tProcAddªss
,

833 
	tULONG
 
	tDrivîID
,

834 
	tULONG
 
	tFun˘i⁄ID


837 
	$VOID
 (
	tWINAPI
 *
	tLibK_GëVîsi⁄_t
)(

838 
	tPKLIB_VERSION
 
	tVîsi⁄


841 
	swöusb_öãrÁ˚
 {

842 
boﬁ
 
öôülized
;

843 
WöUsb_Ab‹tPùe_t
 
Ab‹tPùe
;

844 
WöUsb_C⁄åﬁTøns„r_t
 
C⁄åﬁTøns„r
;

845 
WöUsb_FlushPùe_t
 
FlushPùe
;

846 
WöUsb_Fªe_t
 
Fªe
;

847 
WöUsb_GëAssocüãdI¡îÁ˚_t
 
GëAssocüãdI¡îÁ˚
;

848 
WöUsb_GëCuºítA…î«ãSëtög_t
 
GëCuºítA…î«ãSëtög
;

849 
WöUsb_GëDes¸ùt‹_t
 
GëDes¸ùt‹
;

850 
WöUsb_GëOvîœµedResu…_t
 
GëOvîœµedResu…
;

851 
WöUsb_GëPùePﬁicy_t
 
GëPùePﬁicy
;

852 
WöUsb_GëPowîPﬁicy_t
 
GëPowîPﬁicy
;

853 
WöUsb_Inôülize_t
 
Inôülize
;

854 
WöUsb_QuîyDevi˚Inf‹m©i⁄_t
 
QuîyDevi˚Inf‹m©i⁄
;

855 
WöUsb_QuîyI¡îÁ˚Sëtögs_t
 
QuîyI¡îÁ˚Sëtögs
;

856 
WöUsb_QuîyPùe_t
 
QuîyPùe
;

857 
WöUsb_RódPùe_t
 
RódPùe
;

858 
WöUsb_Re£tPùe_t
 
Re£tPùe
;

859 
WöUsb_SëCuºítA…î«ãSëtög_t
 
SëCuºítA…î«ãSëtög
;

860 
WöUsb_SëPùePﬁicy_t
 
SëPùePﬁicy
;

861 
WöUsb_SëPowîPﬁicy_t
 
SëPowîPﬁicy
;

862 
WöUsb_WrôePùe_t
 
WrôePùe
;

863 
WöUsb_Re£tDevi˚_t
 
Re£tDevi˚
;

868 
	#HIDP_STATUS_SUCCESS
 0x110000

	)

869 * 
	tPHIDP_PREPARSED_DATA
;

871 #¥agm®
	`∑ck
(1)

873 
ULONG
 
Size
;

874 
USHORT
 
Víd‹ID
;

875 
USHORT
 
Produ˘ID
;

876 
USHORT
 
Vîsi⁄Numbî
;

877 } 
	tHIDD_ATTRIBUTES
, *
	tPHIDD_ATTRIBUTES
;

878 #¥agm®
	`∑ck
()

880 
USHORT
 
	tUSAGE
;

882 
USAGE
 
Ußge
;

883 
USAGE
 
UßgePage
;

884 
USHORT
 
I≈utRï‹tByãLígth
;

885 
USHORT
 
OuçutRï‹tByãLígth
;

886 
USHORT
 
FótuªRï‹tByãLígth
;

887 
USHORT
 
Re£rved
[17];

888 
USHORT
 
NumbîLökCﬁÀ˘i⁄Nodes
;

889 
USHORT
 
NumbîI≈utBuâ⁄C≠s
;

890 
USHORT
 
NumbîI≈utVÆueC≠s
;

891 
USHORT
 
NumbîI≈utD©aIndi˚s
;

892 
USHORT
 
NumbîOuçutBuâ⁄C≠s
;

893 
USHORT
 
NumbîOuçutVÆueC≠s
;

894 
USHORT
 
NumbîOuçutD©aIndi˚s
;

895 
USHORT
 
NumbîFótuªBuâ⁄C≠s
;

896 
USHORT
 
NumbîFótuªVÆueC≠s
;

897 
USHORT
 
NumbîFótuªD©aIndi˚s
;

898 } 
	tHIDP_CAPS
, *
	tPHIDP_CAPS
;

900 
	e_HIDP_REPORT_TYPE
 {

901 
HidP_I≈ut
,

902 
HidP_Ouçut
,

903 
HidP_Fótuª


904 } 
	tHIDP_REPORT_TYPE
;

906 
	s_HIDP_VALUE_CAPS
 {

907 
USAGE
 
UßgePage
;

908 
UCHAR
 
Rï‹tID
;

909 
BOOLEAN
 
IsAlüs
;

910 
USHORT
 
BôFõld
;

911 
USHORT
 
LökCﬁÀ˘i⁄
;

912 
USAGE
 
LökUßge
;

913 
USAGE
 
LökUßgePage
;

914 
BOOLEAN
 
IsR™ge
;

915 
BOOLEAN
 
IsSåögR™ge
;

916 
BOOLEAN
 
IsDesig«t‹R™ge
;

917 
BOOLEAN
 
IsAbsﬁuã
;

918 
BOOLEAN
 
HasNuŒ
;

919 
UCHAR
 
Re£rved
;

920 
USHORT
 
BôSize
;

921 
USHORT
 
Rï‹tCou¡
;

922 
USHORT
 
Re£rved2
[5];

923 
ULONG
 
UnôsExp
;

924 
ULONG
 
Unôs
;

925 
LONG
 
LogiˇlMö
, 
LogiˇlMax
;

926 
LONG
 
PhysiˇlMö
, 
PhysiˇlMax
;

929 
USAGE
 
UßgeMö
, 
UßgeMax
;

930 
USHORT
 
SåögMö
, 
SåögMax
;

931 
USHORT
 
Desig«t‹Mö
, 
Desig«t‹Max
;

932 
USHORT
 
D©aIndexMö
, 
D©aIndexMax
;

933 } 
R™ge
;

935 
USAGE
 
Ußge
, 
Re£rved1
;

936 
USHORT
 
SåögIndex
, 
Re£rved2
;

937 
USHORT
 
Desig«t‹Index
, 
Re£rved3
;

938 
USHORT
 
D©aIndex
, 
Re£rved4
;

939 } 
NŸR™ge
;

940 } 
u
;

941 } 
	tHIDP_VALUE_CAPS
, *
	tPHIDP_VALUE_CAPS
;

943 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëAâribuãs
, (
HANDLE
, 
PHIDD_ATTRIBUTES
));

944 
	`DLL_DECLARE
(
WINAPI
, 
VOID
, 
HidD_GëHidGuid
, (
LPGUID
));

945 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëPª∑r£dD©a
, (
HANDLE
, 
PHIDP_PREPARSED_DATA
 *));

946 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_FªePª∑r£dD©a
, (
PHIDP_PREPARSED_DATA
));

947 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëM™uÁ˘uªrSåög
, (
HANDLE
, 
PVOID
, 
ULONG
));

948 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëProdu˘Såög
, (
HANDLE
, 
PVOID
, 
ULONG
));

949 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëSîülNumbîSåög
, (
HANDLE
, 
PVOID
, 
ULONG
));

950 
	`DLL_DECLARE
(
WINAPI
, 
LONG
, 
HidP_GëC≠s
, (
PHIDP_PREPARSED_DATA
, 
PHIDP_CAPS
));

951 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_SëNumI≈utBuf„rs
, (
HANDLE
, 
ULONG
));

952 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_SëFótuª
, (
HANDLE
, 
PVOID
, 
ULONG
));

953 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëFótuª
, (
HANDLE
, 
PVOID
, 
ULONG
));

954 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëPhysiˇlDes¸ùt‹
, (
HANDLE
, 
PVOID
, 
ULONG
));

955 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_GëI≈utRï‹t
, (
HANDLE
, 
PVOID
, 
ULONG
));

956 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_SëOuçutRï‹t
, (
HANDLE
, 
PVOID
, 
ULONG
));

957 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidD_FlushQueue
, (
HANDLE
));

958 
	`DLL_DECLARE
(
WINAPI
, 
BOOL
, 
HidP_GëVÆueC≠s
, (
HIDP_REPORT_TYPE
, 
PHIDP_VALUE_CAPS
, 
PULONG
, 
PHIDP_PREPARSED_DATA
));

	@libusb/strerror.c

19 
	~"c⁄fig.h
"

21 
	~<loˇÀ.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

25 
	~"libusb.h
"

26 
	~"libusbi.h
"

28 #i‡
deföed
(
_MSC_VER
)

29 
	#°∫ˇ£cmp
 
_°∫icmp


	)

32 
size_t
 
	gusbi_loˇÀ
 = 0;

60 c⁄° * 
	gusbi_loˇÀ_suµ‹ãd
[] = { "en", "nl", "fr", "ru" };

61 c⁄° * 
	gusbi_loˇlized_îr‹s
[
ARRAYSIZE
(
usbi_loˇÀ_suµ‹ãd
)][
LIBUSB_ERROR_COUNT
] = {

155 
API_EXPORTED
 
	$libusb_£éoˇÀ
(c⁄° *
loˇÀ
)

157 
size_t
 
i
;

159 i‡–(
loˇÀ
 =
NULL
Ë|| (
	`°æí
(locale) < 2)

160 || ((
	`°æí
(
loˇÀ
) > 2) && (locale[2] != '-') && (locale[2] != '_') && (locale[2] != '.')) )

161  
LIBUSB_ERROR_INVALID_PARAM
;

163 
i
=0; i<
	`ARRAYSIZE
(
usbi_loˇÀ_suµ‹ãd
); i++) {

164 i‡(
	`°∫ˇ£cmp
(
usbi_loˇÀ_suµ‹ãd
[
i
], 
loˇÀ
, 2) == 0)

167 i‡(
i
 >
	`ARRAYSIZE
(
usbi_loˇÀ_suµ‹ãd
)) {

168  
LIBUSB_ERROR_NOT_FOUND
;

171 
usbi_loˇÀ
 = 
i
;

173  
LIBUSB_SUCCESS
;

174 
	}
}

189 
DEFAULT_VISIBILITY
 c⁄° * 
LIBUSB_CALL
 
	$libusb_°ªº‹
(
libusb_îr‹
 
îrcode
)

191 
îrcode_ödex
 = -
îrcode
;

193 i‡((
îrcode_ödex
 < 0Ë|| (îrcode_ödex >
LIBUSB_ERROR_COUNT
)) {

195 
îrcode_ödex
 = 
LIBUSB_ERROR_COUNT
 - 1;

198  
usbi_loˇlized_îr‹s
[
usbi_loˇÀ
][
îrcode_ödex
];

199 
	}
}

	@libusb/sync.c

20 
	~"c⁄fig.h
"

21 
	~<î∫o.h
>

22 
	~<°döt.h
>

23 
	~<°dio.h
>

24 
	~<°dlib.h
>

25 
	~<°rög.h
>

27 
	~"libusbi.h
"

37 
LIBUSB_CALL
 
	$sync_å™s„r_cb
(
libusb_å™s„r
 *
å™s„r
)

39 *
com∂ëed
 = 
å™s„r
->
u£r_d©a
;

40 *
com∂ëed
 = 1;

41 
	`usbi_dbg
("a˘uÆ_Àngth=%d", 
å™s„r
->
a˘uÆ_Àngth
);

43 
	}
}

45 
	$sync_å™s„r_waô_f‹_com∂ëi⁄
(
libusb_å™s„r
 *
å™s„r
)

47 
r
, *
com∂ëed
 = 
å™s„r
->
u£r_d©a
;

48 
libusb_c⁄ãxt
 *
˘x
 = 
	`HANDLE_CTX
(
å™s„r
->
dev_h™dÀ
);

49 
cou¡
 = 0;

51 !*
com∂ëed
) {

52 
cou¡
 ++;

53 
r
 = 
	`libusb_h™dÀ_evíts_com∂ëed
(
˘x
, 
com∂ëed
);

54 i‡(
r
 < 0) {

55 i‡(
r
 =
LIBUSB_ERROR_INTERRUPTED
) {

56 #ifde‡
YS_PRINT_API


57 
	`YSPRINT
("%s:%d %s: LIBUSB_ERROR_INTERRUPTED\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
);

61 
	`usbi_îr
(
˘x
, "libusb_handle_events failed: %s, cancellingÅransferándÑetrying",

62 
	`libusb_îr‹_«me
(
r
));

63 #ifde‡
YS_PRINT_API


64 
	`YSPRINT
("%s:%d %s:Üibusb_h™dÀ_evít†Áûed: %s, c™˚ŒögÅøns„∏™dÑëryög\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
	`libusb_îr‹_«me
(
r
));

66 
	`libusb_ˇn˚l_å™s„r
(
å™s„r
);

69 #ifde‡
YS_PRINT_API


70 
	`YSPRINT
("%s:%d %s: waô f‹ com∂ëi⁄ %d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
cou¡
);

73 
	}
}

103 
API_EXPORTED
 
	$libusb_c⁄åﬁ_å™s„r
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

104 
uöt8_t
 
bmReque°Ty≥
, uöt8_à
bReque°
, 
uöt16_t
 
wVÆue
, uöt16_à
wIndex
,

105 *
d©a
, 
uöt16_t
 
wLígth
, 
timeout
)

107 
libusb_å™s„r
 *
å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

108 *
buf„r
;

109 
com∂ëed
 = 0;

110 
r
;

112 i‡(!
å™s„r
)

113  
LIBUSB_ERROR_NO_MEM
;

115 
buf„r
 = (*Ë
	`mÆloc
(
LIBUSB_CONTROL_SETUP_SIZE
 + 
wLígth
);

116 i‡(!
buf„r
) {

117 
	`libusb_‰ì_å™s„r
(
å™s„r
);

118  
LIBUSB_ERROR_NO_MEM
;

121 
	`libusb_fûl_c⁄åﬁ_£tup
(
buf„r
, 
bmReque°Ty≥
, 
bReque°
, 
wVÆue
, 
wIndex
,

122 
wLígth
);

123 i‡((
bmReque°Ty≥
 & 
LIBUSB_ENDPOINT_DIR_MASK
Ë=
LIBUSB_ENDPOINT_OUT
)

124 
	`mem˝y
(
buf„r
 + 
LIBUSB_CONTROL_SETUP_SIZE
, 
d©a
, 
wLígth
);

126 
	`libusb_fûl_c⁄åﬁ_å™s„r
(
å™s„r
, 
dev_h™dÀ
, 
buf„r
,

127 
sync_å™s„r_cb
, &
com∂ëed
, 
timeout
);

128 
å™s„r
->
Êags
 = 
LIBUSB_TRANSFER_FREE_BUFFER
;

129 
r
 = 
	`libusb_submô_å™s„r
(
å™s„r
);

130 i‡(
r
 < 0) {

131 
	`libusb_‰ì_å™s„r
(
å™s„r
);

132  
r
;

135 
	`sync_å™s„r_waô_f‹_com∂ëi⁄
(
å™s„r
);

137 i‡((
bmReque°Ty≥
 & 
LIBUSB_ENDPOINT_DIR_MASK
Ë=
LIBUSB_ENDPOINT_IN
)

138 
	`mem˝y
(
d©a
, 
	`libusb_c⁄åﬁ_å™s„r_gë_d©a
(
å™s„r
),

139 
å™s„r
->
a˘uÆ_Àngth
);

141 
å™s„r
->
°©us
) {

142 
LIBUSB_TRANSFER_COMPLETED
:

143 
r
 = 
å™s„r
->
a˘uÆ_Àngth
;

145 
LIBUSB_TRANSFER_TIMED_OUT
:

146 
r
 = 
LIBUSB_ERROR_TIMEOUT
;

148 
LIBUSB_TRANSFER_STALL
:

149 
r
 = 
LIBUSB_ERROR_PIPE
;

151 
LIBUSB_TRANSFER_NO_DEVICE
:

152 #ifde‡
YS_PRINT_API


153 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

155 
r
 = 
LIBUSB_ERROR_NO_DEVICE
;

157 
LIBUSB_TRANSFER_OVERFLOW
:

158 
r
 = 
LIBUSB_ERROR_OVERFLOW
;

160 
LIBUSB_TRANSFER_ERROR
:

161 
LIBUSB_TRANSFER_CANCELLED
:

162 
r
 = 
LIBUSB_ERROR_IO
;

165 
	`usbi_w¨n
(
	`HANDLE_CTX
(
dev_h™dÀ
),

166 "uƒecogni£d sètu†codê%d", 
å™s„r
->
°©us
);

167 
r
 = 
LIBUSB_ERROR_OTHER
;

170 
	`libusb_‰ì_å™s„r
(
å™s„r
);

171  
r
;

172 
	}
}

174 
	$do_sync_bulk_å™s„r
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

175 
ídpoöt
, *
buf„r
, 
Àngth
,

176 *
å™s„ºed
, 
timeout
, 
ty≥
)

178 
libusb_å™s„r
 *
å™s„r
 = 
	`libusb_Æloc_å™s„r
(0);

179 
com∂ëed
 = 0;

180 
r
;

182 i‡(!
å™s„r
) {

183 #ifde‡
YS_PRINT_API


184 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

186  
LIBUSB_ERROR_NO_MEM
;

189 
	`libusb_fûl_bulk_å™s„r
(
å™s„r
, 
dev_h™dÀ
, 
ídpoöt
, 
buf„r
, 
Àngth
,

190 
sync_å™s„r_cb
, &
com∂ëed
, 
timeout
);

191 
å™s„r
->
ty≥
 =Åype;

193 
r
 = 
	`libusb_submô_å™s„r
(
å™s„r
);

194 i‡(
r
 < 0) {

195 
	`libusb_‰ì_å™s„r
(
å™s„r
);

196 #ifde‡
YS_PRINT_API


197 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

199  
r
;

202 
	`sync_å™s„r_waô_f‹_com∂ëi⁄
(
å™s„r
);

204 *
å™s„ºed
 = 
å™s„r
->
a˘uÆ_Àngth
;

205 
å™s„r
->
°©us
) {

206 
LIBUSB_TRANSFER_COMPLETED
:

207 
r
 = 0;

209 
LIBUSB_TRANSFER_TIMED_OUT
:

210 #ifde‡
YS_PRINT_API


211 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

213 
r
 = 
LIBUSB_ERROR_TIMEOUT
;

215 
LIBUSB_TRANSFER_STALL
:

216 #ifde‡
YS_PRINT_API


217 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

219 
r
 = 
LIBUSB_ERROR_PIPE
;

221 
LIBUSB_TRANSFER_OVERFLOW
:

222 #ifde‡
YS_PRINT_API


223 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

225 
r
 = 
LIBUSB_ERROR_OVERFLOW
;

227 
LIBUSB_TRANSFER_NO_DEVICE
:

228 #ifde‡
YS_PRINT_API


229 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

231 
r
 = 
LIBUSB_ERROR_NO_DEVICE
;

233 
LIBUSB_TRANSFER_ERROR
:

234 
LIBUSB_TRANSFER_CANCELLED
:

235 #ifde‡
YS_PRINT_API


236 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

238 
r
 = 
LIBUSB_ERROR_IO
;

241 
	`usbi_w¨n
(
	`HANDLE_CTX
(
dev_h™dÀ
),

242 "uƒecogni£d sètu†codê%d", 
å™s„r
->
°©us
);

243 #ifde‡
YS_PRINT_API


244 
	`YSPRINT
("%s:%d %s:Åøns„r->°©u†%d\n", 
__FILE__
, 
__LINE__
, 
__FUNCTION__
, 
å™s„r
->
°©us
);

246 
r
 = 
LIBUSB_ERROR_OTHER
;

249 
	`libusb_‰ì_å™s„r
(
å™s„r
);

250  
r
;

251 
	}
}

293 
API_EXPORTED
 
	$libusb_bulk_å™s„r
(
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
,

294 
ídpoöt
, *
d©a
, 
Àngth
, *
å™s„ºed
,

295 
timeout
)

297  
	`do_sync_bulk_å™s„r
(
dev_h™dÀ
, 
ídpoöt
, 
d©a
, 
Àngth
,

298 
å™s„ºed
, 
timeout
, 
LIBUSB_TRANSFER_TYPE_BULK
);

299 
	}
}

342 
API_EXPORTED
 
	$libusb_öãºu±_å™s„r
(

343 
libusb_devi˚_h™dÀ
 *
dev_h™dÀ
, 
ídpoöt
,

344 *
d©a
, 
Àngth
, *
å™s„ºed
, 
timeout
)

346  
	`do_sync_bulk_å™s„r
(
dev_h™dÀ
, 
ídpoöt
, 
d©a
, 
Àngth
,

347 
å™s„ºed
, 
timeout
, 
LIBUSB_TRANSFER_TYPE_INTERRUPT
);

348 
	}
}

	@libusb/version.h

2 
	~"vîsi⁄_«no.h
"

3 #i‚de‡
LIBUSB_MAJOR


4 
	#LIBUSB_MAJOR
 1

	)

6 #i‚de‡
LIBUSB_MINOR


7 
	#LIBUSB_MINOR
 0

	)

9 #i‚de‡
LIBUSB_MICRO


10 
	#LIBUSB_MICRO
 19

	)

12 #i‚de‡
LIBUSB_NANO


13 
	#LIBUSB_NANO
 0

	)

16 #i‚de‡
LIBUSB_RC


17 
	#LIBUSB_RC
 ""

	)

	@libusb/version_nano.h

1 
	#LIBUSB_NANO
 10903

	)

	@msvc/config.h

3 #i‚de‡
_MSC_VER


9 #¥agm®
w¨nög
(
dißbÀ
:4200)

11 #¥agm®
w¨nög
(
dißbÀ
: 6258)

12 #i‡
deföed
(
_PREFAST_
)

14 #¥agm®
w¨nög
(
dißbÀ
:28719)

16 #¥agm®
w¨nög
(
dißbÀ
:28125)

20 
	#DEFAULT_VISIBILITY


	)

23 
	#ENABLE_LOGGING
 1

	)

32 
	#POLL_NFDS_TYPE
 

	)

35 #i‡
deföed
(
_WIN32_WCE
)

36 
	#OS_WINCE
 1

	)

37 
	#HAVE_MISSING_H


	)

39 
	#OS_WINDOWS
 1

	)

40 
	#HAVE_SIGNAL_H
 1

	)

41 
	#HAVE_SYS_TYPES_H
 1

	)

	@msvc/errno.h

11 #i‚de‡
_ERRNO_H_


12 
	#_ERRNO_H_


	)

14 
	~<¸tdefs.h
>

24 
	#EPERM
 1

	)

25 
	#ENOFILE
 2

	)

26 
	#ENOENT
 2

	)

27 
	#ESRCH
 3

	)

28 
	#EINTR
 4

	)

29 
	#EIO
 5

	)

30 
	#ENXIO
 6

	)

31 
	#E2BIG
 7

	)

32 
	#ENOEXEC
 8

	)

33 
	#EBADF
 9

	)

34 
	#ECHILD
 10

	)

35 
	#EAGAIN
 11

	)

36 
	#ENOMEM
 12

	)

37 
	#EACCES
 13

	)

38 
	#EFAULT
 14

	)

40 
	#EBUSY
 16

	)

41 
	#EEXIST
 17

	)

42 
	#EXDEV
 18

	)

43 
	#ENODEV
 19

	)

44 
	#ENOTDIR
 20

	)

45 
	#EISDIR
 21

	)

46 
	#EINVAL
 22

	)

47 
	#ENFILE
 23

	)

48 
	#EMFILE
 24

	)

49 
	#ENOTTY
 25

	)

51 
	#EFBIG
 27

	)

52 
	#ENOSPC
 28

	)

53 
	#ESPIPE
 29

	)

54 
	#EROFS
 30

	)

55 
	#EMLINK
 31

	)

56 
	#EPIPE
 32

	)

57 
	#EDOM
 33

	)

58 
	#ERANGE
 34

	)

60 
	#EDEADLOCK
 36

	)

61 
	#EDEADLK
 36

	)

64 
	#ENAMETOOLONG
 38

	)

65 
	#ENOLCK
 39

	)

66 
	#ENOSYS
 40

	)

67 
	#ENOTEMPTY
 41

	)

68 
	#EILSEQ
 42

	)

78 #i‚def 
RC_INVOKED


80 #ifdef 
__˝lu•lus


88 #i‡
deföed
(
_UWIN
Ë|| deföed(
_WIN32_WCE
)

89 #unde‡
î∫o


90 
î∫o
;

92 
_CRTIMP
 * 
__cde˛
 
_î∫o
();

93 
	#î∫o
 (*
	`_î∫o
())

	)

96 #ifdef 
__˝lu•lus


	@msvc/inttypes.h

22 #i‚de‡
_MSC_VER


23 #îr‹ 
This
 
hódî
 
should
 
⁄ly
 
be
 
u£d
 
wôh
 
Mi¸oso·
 
compûîs


28 #i‚de‡
_INTTYPES_H_


29 
	#_INTTYPES_H_


	)

31 
	~<°döt.h
>

33 #ifdef 
__˝lu•lus


38 
ötmax_t
 
quŸ
;

39 
ötmax_t
 
ªm
;

40 } 
	timaxdiv_t
;

52 
	#PRId8
 "d"

	)

53 
	#PRId16
 "d"

	)

54 
	#PRId32
 "d"

	)

55 
	#PRId64
 "I64d"

	)

57 
	#PRIdLEAST8
 "d"

	)

58 
	#PRIdLEAST16
 "d"

	)

59 
	#PRIdLEAST32
 "d"

	)

60 
	#PRIdLEAST64
 "I64d"

	)

62 
	#PRIdFAST8
 "d"

	)

63 
	#PRIdFAST16
 "d"

	)

64 
	#PRIdFAST32
 "d"

	)

65 
	#PRIdFAST64
 "I64d"

	)

67 
	#PRIdMAX
 "I64d"

	)

69 
	#PRIi8
 "i"

	)

70 
	#PRIi16
 "i"

	)

71 
	#PRIi32
 "i"

	)

72 
	#PRIi64
 "I64i"

	)

74 
	#PRIiLEAST8
 "i"

	)

75 
	#PRIiLEAST16
 "i"

	)

76 
	#PRIiLEAST32
 "i"

	)

77 
	#PRIiLEAST64
 "I64i"

	)

79 
	#PRIiFAST8
 "i"

	)

80 
	#PRIiFAST16
 "i"

	)

81 
	#PRIiFAST32
 "i"

	)

82 
	#PRIiFAST64
 "I64i"

	)

84 
	#PRIiMAX
 "I64i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 "I64o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 "I64o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 "o"

	)

98 
	#PRIoFAST32
 "o"

	)

99 
	#PRIoFAST64
 "I64o"

	)

101 
	#PRIoMAX
 "I64o"

	)

104 
	#PRIu8
 "u"

	)

105 
	#PRIu16
 "u"

	)

106 
	#PRIu32
 "u"

	)

107 
	#PRIu64
 "I64u"

	)

110 
	#PRIuLEAST8
 "u"

	)

111 
	#PRIuLEAST16
 "u"

	)

112 
	#PRIuLEAST32
 "u"

	)

113 
	#PRIuLEAST64
 "I64u"

	)

115 
	#PRIuFAST8
 "u"

	)

116 
	#PRIuFAST16
 "u"

	)

117 
	#PRIuFAST32
 "u"

	)

118 
	#PRIuFAST64
 "I64u"

	)

120 
	#PRIuMAX
 "I64u"

	)

122 
	#PRIx8
 "x"

	)

123 
	#PRIx16
 "x"

	)

124 
	#PRIx32
 "x"

	)

125 
	#PRIx64
 "I64x"

	)

127 
	#PRIxLEAST8
 "x"

	)

128 
	#PRIxLEAST16
 "x"

	)

129 
	#PRIxLEAST32
 "x"

	)

130 
	#PRIxLEAST64
 "I64x"

	)

132 
	#PRIxFAST8
 "x"

	)

133 
	#PRIxFAST16
 "x"

	)

134 
	#PRIxFAST32
 "x"

	)

135 
	#PRIxFAST64
 "I64x"

	)

137 
	#PRIxMAX
 "I64x"

	)

139 
	#PRIX8
 "X"

	)

140 
	#PRIX16
 "X"

	)

141 
	#PRIX32
 "X"

	)

142 
	#PRIX64
 "I64X"

	)

144 
	#PRIXLEAST8
 "X"

	)

145 
	#PRIXLEAST16
 "X"

	)

146 
	#PRIXLEAST32
 "X"

	)

147 
	#PRIXLEAST64
 "I64X"

	)

149 
	#PRIXFAST8
 "X"

	)

150 
	#PRIXFAST16
 "X"

	)

151 
	#PRIXFAST32
 "X"

	)

152 
	#PRIXFAST64
 "I64X"

	)

154 
	#PRIXMAX
 "I64X"

	)

163 
	#SCNd16
 "hd"

	)

164 
	#SCNd32
 "d"

	)

165 
	#SCNd64
 "I64d"

	)

167 
	#SCNdLEAST16
 "hd"

	)

168 
	#SCNdLEAST32
 "d"

	)

169 
	#SCNdLEAST64
 "I64d"

	)

171 
	#SCNdFAST16
 "hd"

	)

172 
	#SCNdFAST32
 "d"

	)

173 
	#SCNdFAST64
 "I64d"

	)

175 
	#SCNdMAX
 "I64d"

	)

177 
	#SCNi16
 "hi"

	)

178 
	#SCNi32
 "i"

	)

179 
	#SCNi64
 "I64i"

	)

181 
	#SCNiLEAST16
 "hi"

	)

182 
	#SCNiLEAST32
 "i"

	)

183 
	#SCNiLEAST64
 "I64i"

	)

185 
	#SCNiFAST16
 "hi"

	)

186 
	#SCNiFAST32
 "i"

	)

187 
	#SCNiFAST64
 "I64i"

	)

189 
	#SCNiMAX
 "I64i"

	)

191 
	#SCNo16
 "ho"

	)

192 
	#SCNo32
 "o"

	)

193 
	#SCNo64
 "I64o"

	)

195 
	#SCNoLEAST16
 "ho"

	)

196 
	#SCNoLEAST32
 "o"

	)

197 
	#SCNoLEAST64
 "I64o"

	)

199 
	#SCNoFAST16
 "ho"

	)

200 
	#SCNoFAST32
 "o"

	)

201 
	#SCNoFAST64
 "I64o"

	)

203 
	#SCNoMAX
 "I64o"

	)

205 
	#SCNx16
 "hx"

	)

206 
	#SCNx32
 "x"

	)

207 
	#SCNx64
 "I64x"

	)

209 
	#SCNxLEAST16
 "hx"

	)

210 
	#SCNxLEAST32
 "x"

	)

211 
	#SCNxLEAST64
 "I64x"

	)

213 
	#SCNxFAST16
 "hx"

	)

214 
	#SCNxFAST32
 "x"

	)

215 
	#SCNxFAST64
 "I64x"

	)

217 
	#SCNxMAX
 "I64x"

	)

221 
	#SCNu16
 "hu"

	)

222 
	#SCNu32
 "u"

	)

223 
	#SCNu64
 "I64u"

	)

225 
	#SCNuLEAST16
 "hu"

	)

226 
	#SCNuLEAST32
 "u"

	)

227 
	#SCNuLEAST64
 "I64u"

	)

229 
	#SCNuFAST16
 "hu"

	)

230 
	#SCNuFAST32
 "u"

	)

231 
	#SCNuFAST64
 "I64u"

	)

233 
	#SCNuMAX
 "I64u"

	)

235 #ifde‡
_WIN64


236 
	#PRIdPTR
 "I64d"

	)

237 
	#PRIiPTR
 "I64i"

	)

238 
	#PRIoPTR
 "I64o"

	)

239 
	#PRIuPTR
 "I64u"

	)

240 
	#PRIxPTR
 "I64x"

	)

241 
	#PRIXPTR
 "I64X"

	)

242 
	#SCNdPTR
 "I64d"

	)

243 
	#SCNiPTR
 "I64i"

	)

244 
	#SCNoPTR
 "I64o"

	)

245 
	#SCNxPTR
 "I64x"

	)

246 
	#SCNuPTR
 "I64u"

	)

248 
	#PRIdPTR
 "d"

	)

249 
	#PRIiPTR
 "i"

	)

250 
	#PRIoPTR
 "o"

	)

251 
	#PRIuPTR
 "u"

	)

252 
	#PRIxPTR
 "x"

	)

253 
	#PRIXPTR
 "X"

	)

254 
	#SCNdPTR
 "d"

	)

255 
	#SCNiPTR
 "i"

	)

256 
	#SCNoPTR
 "o"

	)

257 
	#SCNxPTR
 "x"

	)

258 
	#SCNuPTR
 "u"

	)

261 #i‡
deföed
 (
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

268 
	#SCNd8
 "hhd"

	)

269 
	#SCNdLEAST8
 "hhd"

	)

270 
	#SCNdFAST8
 "hhd"

	)

272 
	#SCNi8
 "hhi"

	)

273 
	#SCNiLEAST8
 "hhi"

	)

274 
	#SCNiFAST8
 "hhi"

	)

276 
	#SCNo8
 "hho"

	)

277 
	#SCNoLEAST8
 "hho"

	)

278 
	#SCNoFAST8
 "hho"

	)

280 
	#SCNx8
 "hhx"

	)

281 
	#SCNxLEAST8
 "hhx"

	)

282 
	#SCNxFAST8
 "hhx"

	)

285 
	#SCNu8
 "hhu"

	)

286 
	#SCNuLEAST8
 "hhu"

	)

287 
	#SCNuFAST8
 "hhu"

	)

291 #ifdef 
__˝lu•lus


	@msvc/missing.c

20 
	~"missög.h
"

22 
	~<c⁄fig.h
>

23 
	~<libusbi.h
>

25 
	~<wödows.h
>

28 
	#ENVIRONMENT_REG_PATH
 
	`_T
("So·w¨e\\libusb\\ívú⁄mít")

	)

32 *
	$gëív
(c⁄° *
«me
)

34 
vÆue
[
MAX_PATH
];

35 
TCHAR
 
wVÆue
[
MAX_PATH
];

36 
WCHAR
 
wName
[
MAX_PATH
];

37 
DWORD
 
dwTy≥
, 
dwD©a
;

38 
HKEY
 
hkey
;

39 
LONG
 
rc
;

41 i‡(!
«me
)

42  
NULL
;

44 i‡(
	`Mu…iByãToWideCh¨
(
CP_UTF8
, 0, 
«me
, -1, 
wName
, 
MAX_PATH
) <= 0) {

45 
	`usbi_dbg
("FailedÅo convertÉnvironment variableÇameÅo wide string");

46  
NULL
;

48 
wName
[
MAX_PATH
 - 1] = 0;

50 
rc
 = 
	`RegO≥nKeyEx
(
HKEY_LOCAL_MACHINE
, 
ENVIRONMENT_REG_PATH
, 0, 
KEY_QUERY_VALUE
, &
hkey
);

51 i‡(
rc
 !
ERROR_SUCCESS
) {

52 
	`usbi_dbg
("FaûedÅÿ›íÑegi°ry key f‹ gëív wôhÉº‹ %d", 
rc
);

53  
NULL
;

57 
dwD©a
 = (
wVÆue
);

58 
rc
 = 
	`RegQuîyVÆueEx
(
hkey
, 
wName
, 
NULL
, &
dwTy≥
,

59 (
LPBYTE
)&
wVÆue
, &
dwD©a
);

60 
	`RegClo£Key
(
hkey
);

61 i‡(
rc
 !
ERROR_SUCCESS
) {

62 
	`usbi_dbg
("FaûedÅÿªadÑegi°ry key vÆuêf‹ gëív wôhÉº‹ %d", 
rc
);

63  
NULL
;

65 i‡(
dwTy≥
 !
REG_SZ
) {

66 
	`usbi_dbg
("Regi°ry vÆuêwa†o‡ty≥ %d in°ód o‡REG_SZ", 
dwTy≥
);

67  
NULL
;

71 i‡(
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0,

72 
wVÆue
, 
dwD©a
 / (*wValue),

73 
vÆue
, 
MAX_PATH
,

74 
NULL
, NULL) <= 0) {

75 
	`usbi_dbg
("FailedÅo convertÉnvironment variable valueÅoÇarrow string");

76  
NULL
;

78 
vÆue
[
MAX_PATH
 - 1] = 0;

79  
vÆue
;

80 
	}
}

	@msvc/missing.h

20 #i‚de‡
MISSING_H


21 
	#MISSING_H


	)

24 
	#SÀïEx
(
m
, 
a
Ë
	`SÀï
(m)

	)

30 *
gëív
(c⁄° *
«me
);

	@msvc/stdint.h

25 #i‚de‡
_MSC_VER


26 #îr‹ 
This
 
hódî
 
should
 
⁄ly
 
be
 
u£d
 
wôh
 
Mi¸oso·
 
compûîs


29 #i‚de‡
_STDINT_H


30 
	#_STDINT_H


	)

32 #i‚de‡
_INTPTR_T_DEFINED


33 
	#_INTPTR_T_DEFINED


	)

34 #i‚de‡
__öçå_t_deföed


35 
	#__öçå_t_deföed


	)

36 #unde‡
öçå_t


37 #ifde‡
_WIN64


38 
__öt64
 
	töçå_t
;

40 
	töçå_t
;

45 #i‚de‡
_UINTPTR_T_DEFINED


46 
	#_UINTPTR_T_DEFINED


	)

47 #i‚de‡
__uöçå_t_deföed


48 
	#__uöçå_t_deföed


	)

49 #unde‡
uöçå_t


50 #ifde‡
_WIN64


51 
	t__öt64
 
	tuöçå_t
;

53 
	tuöçå_t
;

58 #i‚de‡
_PTRDIFF_T_DEFINED


59 
	#_PTRDIFF_T_DEFINED


	)

60 #i‚de‡
_PTRDIFF_T_


61 
	#_PTRDIFF_T_


	)

62 #unde‡
±rdiff_t


63 #ifde‡
_WIN64


64 
__öt64
 
	t±rdiff_t
;

66 
	t±rdiff_t
;

71 #i‚de‡
_WCHAR_T_DEFINED


72 
	#_WCHAR_T_DEFINED


	)

73 #i‚de‡
__˝lu•lus


74 
	twch¨_t
;

78 #i‚de‡
_WCTYPE_T_DEFINED


79 
	#_WCTYPE_T_DEFINED


	)

80 #i‚de‡
_WINT_T


81 
	#_WINT_T


	)

82 
	twöt_t
;

83 
	tw˘y≥_t
;

88 
__öt8
 
	töt8_t
;

89 
	t__öt8
 
	tuöt8_t
;

90 
__öt16
 
	töt16_t
;

91 
	t__öt16
 
	tuöt16_t
;

92 
__öt32
 
	töt32_t
;

93 
	t__öt32
 
	tuöt32_t
;

94 
__öt64
 
	töt64_t
;

95 
	t__öt64
 
	tuöt64_t
;

98 sig√d 
	töt_Àa°8_t
;

99 
	tuöt_Àa°8_t
;

100 
	töt_Àa°16_t
;

101 
	tuöt_Àa°16_t
;

102 
	töt_Àa°32_t
;

103 
	tuöt_Àa°32_t
;

104 
__öt64
 
	töt_Àa°64_t
;

105 
	t__öt64
 
	tuöt_Àa°64_t
;

111 
__öt8
 
	töt_Á°8_t
;

112 
	t__öt8
 
	tuöt_Á°8_t
;

113 
__öt16
 
	töt_Á°16_t
;

114 
	t__öt16
 
	tuöt_Á°16_t
;

115 
__öt32
 
	töt_Á°32_t
;

116 
	t__öt32
 
	tuöt_Á°32_t
;

117 
__öt64
 
	töt_Á°64_t
;

118 
	t__öt64
 
	tuöt_Á°64_t
;

121 
__öt64
 
	tötmax_t
;

122 
	t__öt64
 
	tuötmax_t
;

127 
	#INT8_MIN
 (-128)

	)

128 
	#INT16_MIN
 (-32768)

	)

129 
	#INT32_MIN
 (-2147483647 - 1)

	)

130 
	#INT64_MIN
 (-9223372036854775807LL - 1)

	)

132 
	#INT8_MAX
 127

	)

133 
	#INT16_MAX
 32767

	)

134 
	#INT32_MAX
 2147483647

	)

135 
	#INT64_MAX
 9223372036854775807LL

	)

137 
	#UINT8_MAX
 255

	)

138 
	#UINT16_MAX
 65535

	)

139 
	#UINT32_MAX
 0xffffffffU

	)

140 
	#UINT64_MAX
 0xffffffffffffffffULL

	)

143 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

144 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

145 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

146 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

148 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

149 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

150 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

151 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

153 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

154 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

155 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

156 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

159 
	#INT_FAST8_MIN
 
INT8_MIN


	)

160 
	#INT_FAST16_MIN
 
INT16_MIN


	)

161 
	#INT_FAST32_MIN
 
INT32_MIN


	)

162 
	#INT_FAST64_MIN
 
INT64_MIN


	)

164 
	#INT_FAST8_MAX
 
INT8_MAX


	)

165 
	#INT_FAST16_MAX
 
INT16_MAX


	)

166 
	#INT_FAST32_MAX
 
INT32_MAX


	)

167 
	#INT_FAST64_MAX
 
INT64_MAX


	)

169 
	#UINT_FAST8_MAX
 
UINT8_MAX


	)

170 
	#UINT_FAST16_MAX
 
UINT16_MAX


	)

171 
	#UINT_FAST32_MAX
 
UINT32_MAX


	)

172 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

176 #ifde‡
_WIN64


177 
	#INTPTR_MIN
 
INT64_MIN


	)

178 
	#INTPTR_MAX
 
INT64_MAX


	)

179 
	#UINTPTR_MAX
 
UINT64_MAX


	)

181 
	#INTPTR_MIN
 
INT32_MIN


	)

182 
	#INTPTR_MAX
 
INT32_MAX


	)

183 
	#UINTPTR_MAX
 
UINT32_MAX


	)

187 
	#INTMAX_MIN
 
INT64_MIN


	)

188 
	#INTMAX_MAX
 
INT64_MAX


	)

189 
	#UINTMAX_MAX
 
UINT64_MAX


	)

192 #ifde‡
_WIN64


193 
	#PTRDIFF_MIN
 
INT64_MIN


	)

194 
	#PTRDIFF_MAX
 
INT64_MAX


	)

196 
	#PTRDIFF_MIN
 
INT32_MIN


	)

197 
	#PTRDIFF_MAX
 
INT32_MAX


	)

200 
	#SIG_ATOMIC_MIN
 
INT32_MIN


	)

201 
	#SIG_ATOMIC_MAX
 
INT32_MAX


	)

203 #i‚de‡
SIZE_MAX


204 #ifde‡
_WIN64


205 
	#SIZE_MAX
 
UINT64_MAX


	)

207 
	#SIZE_MAX
 
UINT32_MAX


	)

211 #i‚de‡
WCHAR_MIN


212 
	#WCHAR_MIN
 0U

	)

213 
	#WCHAR_MAX
 0xffffU

	)

219 
	#WINT_MIN
 0U

	)

220 
	#WINT_MAX
 0xffffU

	)

240 
	#INT8_C
(
vÆ
Ë(
INT_LEAST8_MAX
-INT_LEAST8_MAX+(vÆ))

	)

241 
	#INT16_C
(
vÆ
Ë(
INT_LEAST16_MAX
-INT_LEAST16_MAX+(vÆ))

	)

242 
	#INT32_C
(
vÆ
Ë(
INT_LEAST32_MAX
-INT_LEAST32_MAX+(vÆ))

	)

245 
	#INT64_C
(
vÆ
ËvÆ##
i64


	)

247 
	#UINT8_C
(
vÆ
Ë(vÆ)

	)

248 
	#UINT16_C
(
vÆ
Ë(vÆ)

	)

249 
	#UINT32_C
(
vÆ
Ë(vÆ##
i32
)

	)

250 
	#UINT64_C
(
vÆ
ËvÆ##
ui64


	)

253 
	#INTMAX_C
(
vÆ
ËvÆ##
i64


	)

254 
	#UINTMAX_C
(
vÆ
ËvÆ##
ui64


	)

	@tests/libusb_testlib.h

20 #i‚de‡
LIBUSB_TESTLIB_H


21 
	#LIBUSB_TESTLIB_H


	)

23 
	~<°dio.h
>

25 #i‡!
deföed
(
boﬁ
)

26 
	#boﬁ
 

	)

28 #i‡!
deföed
(
åue
)

29 
	#åue
 (1 =1)

	)

31 #i‡!
deföed
(
Ál£
)

32 
	#Ál£
 (!
åue
)

	)

38 
	mTEST_STATUS_SUCCESS
,

40 
	mTEST_STATUS_FAILURE
,

42 
	mTEST_STATUS_ERROR
,

45 
	mTEST_STATUS_SKIP


46 } 
	tlibusb_ã°lib_ªsu…
;

52 ** 
	mã°_«mes
;

53 
	mã°_cou¡
;

54 
boﬁ
 
	mli°_ã°s
;

55 
boﬁ
 
	mvîbo£
;

56 
	mﬁd_°dout
;

57 
	mﬁd_°dîr
;

58 
FILE
* 
	mouçut_fûe
;

59 
	mnuŒ_fd
;

60 } 
	tlibusb_ã°lib_˘x
;

65 
libusb_ã°lib_logf
(
libusb_ã°lib_˘x
 * 
˘x
,

66 c⁄° * 
fmt
, ...);

73 
	glibusb_ã°lib_ªsu…


74 (*
	tlibusb_ã°lib_ã°_fun˘i⁄
)(
	tlibusb_ã°lib_˘x
 * 
	t˘x
);

81 c⁄° * 
	m«me
;

83 
libusb_ã°lib_ã°_fun˘i⁄
 
	mfun˘i⁄
;

84 } 
	tlibusb_ã°lib_ã°
;

90 
	#LIBUSB_NULL_TEST
 {
NULL
, NULL}

	)

103 
libusb_ã°lib_run_ã°s
(
¨gc
,

104 ** 
¨gv
,

105 c⁄° 
libusb_ã°lib_ã°
 * 
ã°s
);

	@tests/stress.c

20 
	~<°dio.h
>

21 
	~<°rög.h
>

22 
	~<mem‹y.h
>

24 
	~"libusb.h
"

25 
	~"libusb_ã°lib.h
"

29 
libusb_ã°lib_ªsu…
 
	$ã°_öô_™d_exô
(
libusb_ã°lib_˘x
 * 
t˘x
)

31 
libusb_c⁄ãxt
 * 
˘x
 = 
NULL
;

32 
i
;

33 
i
 = 0; i < 10000; ++i) {

34 
r
 = 
	`libusb_öô
(&
˘x
);

35 i‡(
r
 !
LIBUSB_SUCCESS
) {

36 
	`libusb_ã°lib_logf
(
t˘x
,

38 
i
, 
r
);

39  
TEST_STATUS_FAILURE
;

41 
	`libusb_exô
(
˘x
);

42 
˘x
 = 
NULL
;

45  
TEST_STATUS_SUCCESS
;

46 
	}
}

49 
libusb_ã°lib_ªsu…
 
	$ã°_gë_devi˚_li°
(
libusb_ã°lib_˘x
 * 
t˘x
)

51 
libusb_c⁄ãxt
 * 
˘x
 = 
NULL
;

52 
r
, 
i
;

53 
r
 = 
	`libusb_öô
(&
˘x
);

54 i‡(
r
 !
LIBUSB_SUCCESS
) {

55 
	`libusb_ã°lib_logf
(
t˘x
, "FaûedÅÿöôÜibusb: %d", 
r
);

56  
TEST_STATUS_FAILURE
;

58 
i
 = 0; i < 1000; ++i) {

59 
libusb_devi˚
 ** 
devi˚_li°
;

60 
ssize_t
 
li°_size
 = 
	`libusb_gë_devi˚_li°
(
˘x
, &
devi˚_li°
);

61 i‡(
li°_size
 < 0 || 
devi˚_li°
 =
NULL
) {

62 
	`libusb_ã°lib_logf
(
t˘x
,

64 
i
, -
li°_size
, 
devi˚_li°
);

65  
TEST_STATUS_FAILURE
;

67 
	`libusb_‰ì_devi˚_li°
(
devi˚_li°
, 1);

69 
	`libusb_exô
(
˘x
);

70  
TEST_STATUS_SUCCESS
;

71 
	}
}

74 
libusb_ã°lib_ªsu…
 
	$ã°_m™y_devi˚_li°s
(
libusb_ã°lib_˘x
 * 
t˘x
)

76 
	#LIST_COUNT
 100

	)

77 
libusb_c⁄ãxt
 * 
˘x
 = 
NULL
;

78 
libusb_devi˚
 ** 
devi˚_li°s
[
LIST_COUNT
];

79 
r
, 
i
;

80 
	`mem£t
(
devi˚_li°s
, 0, (device_lists));

82 
r
 = 
	`libusb_öô
(&
˘x
);

83 i‡(
r
 !
LIBUSB_SUCCESS
) {

84 
	`libusb_ã°lib_logf
(
t˘x
, "FaûedÅÿöôÜibusb: %d", 
r
);

85  
TEST_STATUS_FAILURE
;

89 
i
 = 0; i < 
LIST_COUNT
; ++i) {

90 
ssize_t
 
li°_size
 = 
	`libusb_gë_devi˚_li°
(
˘x
, &(
devi˚_li°s
[
i
]));

91 i‡(
li°_size
 < 0 || 
devi˚_li°s
[
i
] =
NULL
) {

92 
	`libusb_ã°lib_logf
(
t˘x
,

94 
i
, -
li°_size
, 
devi˚_li°s
[i]);

95  
TEST_STATUS_FAILURE
;

100 
i
 = 0; i < 
LIST_COUNT
; ++i) {

101 i‡(
devi˚_li°s
[
i
]) {

102 
	`libusb_‰ì_devi˚_li°
(
devi˚_li°s
[
i
], 1);

103 
devi˚_li°s
[
i
] = 
NULL
;

107 
	`libusb_exô
(
˘x
);

108  
TEST_STATUS_SUCCESS
;

109 #unde‡
LIST_COUNT


110 
	}
}

115 
libusb_ã°lib_ªsu…
 
	$ã°_deÁu…_c⁄ãxt_ch™ge
(
libusb_ã°lib_˘x
 * 
t˘x
)

117 
libusb_c⁄ãxt
 * 
˘x
 = 
NULL
;

118 
r
, 
i
;

120 
i
 = 0; i < 100; ++i) {

122 
r
 = 
	`libusb_öô
(&
˘x
);

123 i‡(
r
 !
LIBUSB_SUCCESS
) {

124 
	`libusb_ã°lib_logf
(
t˘x
, "FaûedÅÿöôÜibusb: %d", 
r
);

125  
TEST_STATUS_FAILURE
;

129 
	`libusb_£t_debug
(
NULL
, 
LIBUSB_LOG_LEVEL_DEBUG
);

130 
	`libusb_£t_debug
(
˘x
, 
LIBUSB_LOG_LEVEL_DEBUG
);

133 
r
 = 
	`libusb_öô
(
NULL
);

134 i‡(
r
 !
LIBUSB_SUCCESS
) {

135 
	`libusb_ã°lib_logf
(
t˘x
, "FaûedÅÿöôÜibusb: %d", 
r
);

136  
TEST_STATUS_FAILURE
;

140 
	`libusb_exô
(
˘x
);

142 
	`libusb_exô
(
NULL
);

145  
TEST_STATUS_SUCCESS
;

146 
	}
}

149 c⁄° 
libusb_ã°lib_ã°
 
	gã°s
[] = {

150 {"öô_™d_exô", &
ã°_öô_™d_exô
},

151 {"gë_devi˚_li°", &
ã°_gë_devi˚_li°
},

152 {"m™y_devi˚_li°s", &
ã°_m™y_devi˚_li°s
},

153 {"deÁu…_c⁄ãxt_ch™ge", &
ã°_deÁu…_c⁄ãxt_ch™ge
},

154 
LIBUSB_NULL_TEST


157 
	$maö
 (
¨gc
, ** 
¨gv
)

159  
	`libusb_ã°lib_run_ã°s
(
¨gc
, 
¨gv
, 
ã°s
);

160 
	}
}

	@tests/testlib.c

20 
	~"libusb_ã°lib.h
"

22 
	~<°dio.h
>

23 
	~<°d¨g.h
>

24 
	~<°rög.h
>

25 
	~<î∫o.h
>

26 #i‡!
deföed
(
_WIN32_WCE
)

27 
	~<sys/ty≥s.h
>

28 
	~<sys/°©.h
>

29 
	~<f˙é.h
>

32 #i‡
deföed
(
_WIN32_WCE
)

34 
	#DISABLE_STDOUT_REDIRECTION


	)

35 
	#STDOUT_FILENO
 1

	)

36 #ñi‡
deföed
(
_WIN32
)

37 
	~<io.h
>

38 
	#dup
 
_dup


	)

39 
	#dup2
 
_dup2


	)

40 
	#›í
 
_›í


	)

41 
	#˛o£
 
_˛o£


	)

42 
	#fd›í
 
_fd›í


	)

43 
	#NULL_PATH
 "nul"

	)

44 
	#STDOUT_FILENO
 1

	)

45 
	#STDERR_FILENO
 2

	)

47 
	~<uni°d.h
>

48 
	#NULL_PATH
 "/dev/nuŒ"

	)

50 
	#INVALID_FD
 -1

	)

51 
	#IGNORE_RETVAL
(
ex¥
Ëdÿ{ ()”x¥); } 0)

	)

56 c⁄° * 
	$ã°_ªsu…_to_°r
(
libusb_ã°lib_ªsu…
 
ªsu…
)

58 
ªsu…
) {

59 
TEST_STATUS_SUCCESS
:

61 
TEST_STATUS_FAILURE
:

63 
TEST_STATUS_ERROR
:

65 
TEST_STATUS_SKIP
:

70 
	}
}

72 
	$¥öt_ußge
(
¨gc
, ** 
¨gv
)

74 
	`¥ötf
("Usage: %s [-l] [-v] [<test_name> ...]\n",

75 
¨gc
 > 0 ? 
¨gv
[0] : "test_*");

76 
	`¥ötf
(" -l ListávailableÅests\n");

77 
	`¥ötf
(" -v Don'tÑedirect STDERR/STDOUT duringÅests\n");

78 
	}
}

80 
	$˛ónup_ã°_ouçut
(
libusb_ã°lib_˘x
 * 
˘x
)

82 #i‚de‡
DISABLE_STDOUT_REDIRECTION


83 i‡(!
˘x
->
vîbo£
) {

84 i‡(
˘x
->
ﬁd_°dout
 !
INVALID_FD
) {

85 
	`IGNORE_RETVAL
(
	`dup2
(
˘x
->
ﬁd_°dout
, 
STDOUT_FILENO
));

86 
˘x
->
ﬁd_°dout
 = 
INVALID_FD
;

88 i‡(
˘x
->
ﬁd_°dîr
 !
INVALID_FD
) {

89 
	`IGNORE_RETVAL
(
	`dup2
(
˘x
->
ﬁd_°dîr
, 
STDERR_FILENO
));

90 
˘x
->
ﬁd_°dîr
 = 
INVALID_FD
;

92 i‡(
˘x
->
nuŒ_fd
 !
INVALID_FD
) {

93 
	`˛o£
(
˘x
->
nuŒ_fd
);

94 
˘x
->
nuŒ_fd
 = 
INVALID_FD
;

96 i‡(
˘x
->
ouçut_fûe
 !
°dout
) {

97 
	`f˛o£
(
˘x
->
ouçut_fûe
);

98 
˘x
->
ouçut_fûe
 = 
°dout
;

102 
	}
}

108 
	$£tup_ã°_ouçut
(
libusb_ã°lib_˘x
 * 
˘x
)

110 #i‚de‡
DISABLE_STDOUT_REDIRECTION


112 i‡(!
˘x
->
vîbo£
) {

114 
˘x
->
ﬁd_°dout
 = 
	`dup
(
STDOUT_FILENO
);

115 i‡(
˘x
->
ﬁd_°dout
 < 0) {

116 
˘x
->
ﬁd_°dout
 = 
INVALID_FD
;

117 
	`¥ötf
("FaûedÅÿdu∂iˇã stdouàh™dÀ: %d\n", 
î∫o
);

120 
˘x
->
ﬁd_°dîr
 = 
	`dup
(
STDERR_FILENO
);

121 i‡(
˘x
->
ﬁd_°dîr
 < 0) {

122 
˘x
->
ﬁd_°dîr
 = 
INVALID_FD
;

123 
	`˛ónup_ã°_ouçut
(
˘x
);

124 
	`¥ötf
("FaûedÅÿdu∂iˇã stdî∏h™dÀ: %d\n", 
î∫o
);

128 
˘x
->
nuŒ_fd
 = 
	`›í
(
NULL_PATH
, 
O_WRONLY
);

129 i‡(
˘x
->
nuŒ_fd
 < 0) {

130 
˘x
->
nuŒ_fd
 = 
INVALID_FD
;

131 
	`˛ónup_ã°_ouçut
(
˘x
);

132 
	`¥ötf
("FaûedÅÿ›íÇuŒ h™dÀ: %d\n", 
î∫o
);

135 i‡((
	`dup2
(
˘x
->
nuŒ_fd
, 
STDOUT_FILENO
) < 0) ||

136 (
	`dup2
(
˘x
->
nuŒ_fd
, 
STDERR_FILENO
) < 0)) {

137 
	`˛ónup_ã°_ouçut
(
˘x
);

140 
˘x
->
ouçut_fûe
 = 
	`fd›í
(˘x->
ﬁd_°dout
, "w");

141 i‡(!
˘x
->
ouçut_fûe
) {

142 
˘x
->
ouçut_fûe
 = 
°dout
;

143 
	`˛ónup_ã°_ouçut
(
˘x
);

144 
	`¥ötf
("FaûedÅÿ›í FILE f‹ ouçuàh™dÀ: %d\n", 
î∫o
);

150 
	}
}

152 
	$libusb_ã°lib_logf
(
libusb_ã°lib_˘x
 * 
˘x
,

153 c⁄° * 
fmt
, ...)

155 
va_li°
 
va
;

156 
	`va_°¨t
(
va
, 
fmt
);

157 
	`vÂrötf
(
˘x
->
ouçut_fûe
, 
fmt
, 
va
);

158 
	`va_íd
(
va
);

159 
	`Ârötf
(
˘x
->
ouçut_fûe
, "\n");

160 
	`fÊush
(
˘x
->
ouçut_fûe
);

161 
	}
}

163 
	$libusb_ã°lib_run_ã°s
(
¨gc
,

164 ** 
¨gv
,

165 c⁄° 
libusb_ã°lib_ã°
 * 
ã°s
)

167 
run_cou¡
 = 0;

168 
idx
 = 0;

169 
∑ss_cou¡
 = 0;

170 
Áû_cou¡
 = 0;

171 
îr‹_cou¡
 = 0;

172 
skù_cou¡
 = 0;

173 
r
, 
j
;

174 
size_t
 
¨gÀn
;

175 
libusb_ã°lib_ªsu…
 
ã°_ªsu…
;

176 
libusb_ã°lib_˘x
 
˘x
;

179 
˘x
.
ã°_«mes
 = 
NULL
;

180 
˘x
.
ã°_cou¡
 = 0;

181 
˘x
.
li°_ã°s
 = 
Ál£
;

182 
˘x
.
vîbo£
 = 
Ál£
;

183 
˘x
.
ﬁd_°dout
 = 
INVALID_FD
;

184 
˘x
.
ﬁd_°dîr
 = 
INVALID_FD
;

185 
˘x
.
ouçut_fûe
 = 
°dout
;

186 
˘x
.
nuŒ_fd
 = 
INVALID_FD
;

189 i‡(
¨gc
 >= 2) {

190 
j
 = 1; j < 
¨gc
; j++) {

191 
¨gÀn
 = 
	`°æí
(
¨gv
[
j
]);

192 i‡–((
¨gv
[
j
][0] == '-') || (argv[j][0] == '/')) &&

193 
¨gÀn
 >=2 ) {

194 
¨gv
[
j
][1]) {

196 
˘x
.
li°_ã°s
 = 
åue
;

199 
˘x
.
vîbo£
 = 
åue
;

202 
	`¥ötf
("Unknow¿›ti⁄: '%s'\n", 
¨gv
[
j
]);

203 
	`¥öt_ußge
(
¨gc
, 
¨gv
);

208 
˘x
.
ã°_«mes
 = 
¨gv
 + 
j
;

209 
˘x
.
ã°_cou¡
 = 
¨gc
 - 
j
;

216 i‡(
˘x
.
ã°_«mes
 && ctx.
li°_ã°s
) {

217 
	`¥ötf
("List ofÅestsÑequested butÅestÜistÖrovided\n");

218 
	`¥öt_ußge
(
¨gc
, 
¨gv
);

223 
r
 = 
	`£tup_ã°_ouçut
(&
˘x
);

224 i‡(
r
 != 0)

225  
r
;

228 i‡(
˘x
.
li°_ã°s
) {

229 
ã°s
[
idx
].
fun˘i⁄
 !
NULL
) {

230 
	`libusb_ã°lib_logf
(&
˘x
, 
ã°s
[
idx
].
«me
);

231 ++
idx
;

233 
	`˛ónup_ã°_ouçut
(&
˘x
);

238 
ã°s
[
idx
].
fun˘i⁄
 !
NULL
) {

239 c⁄° 
libusb_ã°lib_ã°
 * 
ã°
 = &
ã°s
[
idx
];

240 ++
idx
;

241 i‡(
˘x
.
ã°_cou¡
 > 0) {

243 
i
;

244 
i
 = 0; i < 
˘x
.
ã°_cou¡
; ++i) {

245 i‡(
	`°rcmp
(
˘x
.
ã°_«mes
[
i
], 
ã°
->
«me
) == 0)

249 i‡(
i
 >
˘x
.
ã°_cou¡
) {

254 
	`libusb_ã°lib_logf
(&
˘x
,

255 "SèπögÅe°Ñun: %s...", 
ã°
->
«me
);

256 
ã°_ªsu…
 = 
ã°
->
	`fun˘i⁄
(&
˘x
);

257 
	`libusb_ã°lib_logf
(&
˘x
,

259 
	`ã°_ªsu…_to_°r
(
ã°_ªsu…
),Åest_result);

260 
ã°_ªsu…
) {

261 
TEST_STATUS_SUCCESS
: 
∑ss_cou¡
++; ;

262 
TEST_STATUS_FAILURE
: 
Áû_cou¡
++; ;

263 
TEST_STATUS_ERROR
: 
îr‹_cou¡
++; ;

264 
TEST_STATUS_SKIP
: 
skù_cou¡
++; ;

266 ++
run_cou¡
;

268 
	`libusb_ã°lib_logf
(&
˘x
, "---");

269 
	`libusb_ã°lib_logf
(&
˘x
, "R™ %dÅe°s", 
run_cou¡
);

270 
	`libusb_ã°lib_logf
(&
˘x
, "Pas£d %dÅe°s", 
∑ss_cou¡
);

271 
	`libusb_ã°lib_logf
(&
˘x
, "Faûed %dÅe°s", 
Áû_cou¡
);

272 
	`libusb_ã°lib_logf
(&
˘x
, "Eº‹ i¿%dÅe°s", 
îr‹_cou¡
);

273 
	`libusb_ã°lib_logf
(&
˘x
, "Skù≥d %dÅe°s", 
skù_cou¡
);

275 
	`˛ónup_ã°_ouçut
(&
˘x
);

276  
∑ss_cou¡
 !
run_cou¡
;

277 
	}
}

	@/usr/include/arpa/inet.h

19 #i‚de‡
_ARPA_INET_H


20 
	#_ARPA_INET_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<√töë/ö.h
>

26 #i‚de‡
__sockÀn_t_deföed


27 
__sockÀn_t
 
	tsockÀn_t
;

28 
	#__sockÀn_t_deföed


	)

31 
__BEGIN_DECLS


35 
ö_addr_t
 
	$öë_addr
 (
__c⁄°
 *
__˝
Ë
__THROW
;

38 
ö_addr_t
 
	$öë_ aof
 (
ö_addr
 
__ö
Ë
__THROW
;

42 
ö_addr
 
	$öë_makóddr
 (
ö_addr_t
 
__√t
, in_addr_à
__ho°
)

43 
__THROW
;

46 
ö_addr_t
 
	$öë_√tof
 (
ö_addr
 
__ö
Ë
__THROW
;

50 
ö_addr_t
 
	$öë_√tw‹k
 (
__c⁄°
 *
__˝
Ë
__THROW
;

54 *
	$öë_¡ﬂ
 (
ö_addr
 
__ö
Ë
__THROW
;

59 
	$öë_±⁄
 (
__af
, 
__c⁄°
 *
__ª°ri˘
 
__˝
,

60 *
__ª°ri˘
 
__buf
Ë
__THROW
;

65 
__c⁄°
 *
	$öë_¡›
 (
__af
, 
__c⁄°
 *
__ª°ri˘
 
__˝
,

66 *
__ª°ri˘
 
__buf
, 
sockÀn_t
 
__Àn
)

67 
__THROW
;

71 #ifde‡
__USE_MISC


74 
	$öë_©⁄
 (
__c⁄°
 *
__˝
, 
ö_addr
 *
__öp
Ë
__THROW
;

78 *
	$öë_√è
 (
ö_addr_t
 
__√t
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

83 *
	$öë_√t_¡›
 (
__af
, 
__c⁄°
 *
__˝
, 
__bôs
,

84 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

89 
	$öë_√t_±⁄
 (
__af
, 
__c⁄°
 *
__˝
,

90 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

95 
	$öë_nßp_addr
 (
__c⁄°
 *
__˝
,

96 *
__buf
, 
__Àn
Ë
__THROW
;

100 *
	$öë_nßp_¡ﬂ
 (
__Àn
, 
__c⁄°
 *
__˝
,

101 *
__buf
Ë
__THROW
;

104 
__END_DECLS


	@/usr/include/asm/types.h

1 #i‚de‡
_ASM_X86_TYPES_H


2 
	#_ASM_X86_TYPES_H


	)

4 
	#dma_addr_t
 
dma_addr_t


	)

6 
	~<asm-gíîic/ty≥s.h
>

	@/usr/include/assert.h

24 #ifdef 
_ASSERT_H


26 #unde‡
_ASSERT_H


27 #unde‡
as£π


28 #unde‡
__ASSERT_VOID_CAST


30 #ifdef 
__USE_GNU


31 #unde‡
as£π_≥º‹


36 
	#_ASSERT_H
 1

	)

37 
	~<„©uªs.h
>

39 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

40 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

42 
	#__ASSERT_VOID_CAST
 ()

	)

50 #ifdef 
NDEBUG


52 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

60 #ifdef 
__USE_GNU


61 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

66 #i‚de‡
_ASSERT_H_DECLS


67 
	#_ASSERT_H_DECLS


	)

68 
__BEGIN_DECLS


71 
	$__as£π_Áû
 (
__c⁄°
 *
__as£πi⁄
, __c⁄° *
__fûe
,

72 
__löe
, 
__c⁄°
 *
__fun˘i⁄
)

73 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

76 
	$__as£π_≥º‹_Áû
 (
__î∫um
, 
__c⁄°
 *
__fûe
,

77 
__löe
,

78 
__c⁄°
 *
__fun˘i⁄
)

79 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

84 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

85 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

88 
__END_DECLS


91 
	#as£π
(
ex¥
) \

92 ((
ex¥
) \

93 ? 
	`__ASSERT_VOID_CAST
 (0) \

94 : 
	`__as£π_Áû
 (
	`__STRING
(
ex¥
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #ifdef 
__USE_GNU


97 
	#as£π_≥º‹
(
î∫um
) \

98 (!(
î∫um
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

108 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

109 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

111 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

112 
	#__ASSERT_FUNCTION
 
__func__


	)

114 
	#__ASSERT_FUNCTION
 ((
__c⁄°
 *Ë0)

	)

	@/usr/include/ctype.h

24 #i‚def 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<„©uªs.h
>

28 
	~<bôs/ty≥s.h
>

30 
	g__BEGIN_DECLS


32 #i‚de‡
_ISbô


41 
	~<ídün.h
>

42 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


43 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

45 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

50 
	m_ISuµî
 = 
_ISbô
 (0),

51 
	m_ISlowî
 = 
_ISbô
 (1),

52 
	m_ISÆpha
 = 
_ISbô
 (2),

53 
	m_ISdigô
 = 
_ISbô
 (3),

54 
	m_ISxdigô
 = 
_ISbô
 (4),

55 
	m_IS•a˚
 = 
_ISbô
 (5),

56 
	m_IS¥öt
 = 
_ISbô
 (6),

57 
	m_ISgøph
 = 
_ISbô
 (7),

58 
	m_ISbœnk
 = 
_ISbô
 (8),

59 
	m_IS˙ål
 = 
_ISbô
 (9),

60 
	m_ISpun˘
 = 
_ISbô
 (10),

61 
	m_ISÆnum
 = 
_ISbô
 (11)

81 
__c⁄°
 **
	$__˘y≥_b_loc
 ()

82 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

83 
__c⁄°
 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

84 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

85 
__c⁄°
 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

86 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

88 
	#__is˘y≥
(
c
, 
ty≥
) \

89 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

91 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

92 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

94 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

96 
__BEGIN_NAMESPACE_STD


102 
	`__ex˘y≥
 (
iß um
);

103 
	`__ex˘y≥
 (
ißÕha
);

104 
	`__ex˘y≥
 (
is˙ål
);

105 
	`__ex˘y≥
 (
isdigô
);

106 
	`__ex˘y≥
 (
i¶owî
);

107 
	`__ex˘y≥
 (
isgøph
);

108 
	`__ex˘y≥
 (
i•röt
);

109 
	`__ex˘y≥
 (
i•un˘
);

110 
	`__ex˘y≥
 (
is•a˚
);

111 
	`__ex˘y≥
 (
isuµî
);

112 
	`__ex˘y≥
 (
isxdigô
);

116 
	$tﬁowî
 (
__c
Ë
__THROW
;

119 
	$touµî
 (
__c
Ë
__THROW
;

121 
__END_NAMESPACE_STD


125 #ifdef 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
	`__ex˘y≥
 (
isbœnk
);

130 
__END_NAMESPACE_C99


133 #ifde‡
__USE_GNU


135 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

138 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


142 
	$ißscii
 (
__c
Ë
__THROW
;

146 
	$tﬂscii
 (
__c
Ë
__THROW
;

150 
	`__ex˘y≥
 (
_touµî
);

151 
	`__ex˘y≥
 (
_tﬁowî
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

156 (
__exãnsi⁄__
 \

157 ({ 
__ªs
; \

158 i‡( (
c
) > 1) \

160 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

166 
__ªs
 = 
f
 
¨gs
; \

169 
__ªs
 = (
a
)[(Ë(
c
)]; \

170 
__ªs
; 
	}
}))

	)

172 #i‡!
deföed
 
__NO_CTYPE
 && !deföed 
__˝lu•lus


173 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

174 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

175 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

176 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

177 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

178 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

179 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

180 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

181 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

182 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

183 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

185 #ifde‡
__USE_ISOC99


186 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

189 #ifde‡
__USE_EXTERN_INLINES


190 
__exã∫_ölöe
 

191 
__NTH
 (
	$tﬁowî
 (
__c
))

193  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

194 
	}
}

196 
__exã∫_ölöe
 

197 
__NTH
 (
	$touµî
 (
__c
))

199  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

200 
	}
}

203 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


204 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

205 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

208 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


209 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

210 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

212 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

213 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

219 #ifde‡
__USE_XOPEN2K8


233 
	~<xloˇÀ.h
>

237 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

238 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

240 
	#__ex˘y≥_l
(
«me
) \

241 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

247 
__ex˘y≥_l
 (
iß um_l
);

248 
__ex˘y≥_l
 (
ißÕha_l
);

249 
__ex˘y≥_l
 (
is˙ål_l
);

250 
__ex˘y≥_l
 (
isdigô_l
);

251 
__ex˘y≥_l
 (
i¶owî_l
);

252 
__ex˘y≥_l
 (
isgøph_l
);

253 
__ex˘y≥_l
 (
i•röt_l
);

254 
__ex˘y≥_l
 (
i•un˘_l
);

255 
__ex˘y≥_l
 (
is•a˚_l
);

256 
__ex˘y≥_l
 (
isuµî_l
);

257 
__ex˘y≥_l
 (
isxdigô_l
);

259 
__ex˘y≥_l
 (
isbœnk_l
);

263 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

264 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

267 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

268 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

270 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


271 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

272 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

273 
	#__touµî_l
(
c
, 
loˇÀ
) \

274 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

275 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

276 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

280 #i‚de‡
__NO_CTYPE


281 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

282 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

283 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

284 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

285 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

286 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

287 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

288 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

289 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

290 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

291 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

293 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

295 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


296 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

297 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

300 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

301 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

302 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

303 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

304 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

305 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

306 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

307 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

308 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

309 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

310 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

312 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

314 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


315 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

316 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

323 
__END_DECLS


	@/usr/include/dirent.h

23 #i‚def 
_DIRENT_H


24 
	#_DIRENT_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


30 
	~<bôs/ty≥s.h
>

32 #ifde‡
__USE_XOPEN


33 #i‚de‡
__öo_t_deföed


34 #i‚de‡
__USE_FILE_OFFSET64


35 
__öo_t
 
	töo_t
;

37 
__öo64_t
 
	töo_t
;

39 
	#__öo_t_deföed


	)

41 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


42 
__öo64_t
 
	töo64_t
;

43 
	#__öo64_t_deföed


	)

62 
	~<bôs/dúít.h
>

64 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
Ë&& !deföed 
d_fûío


65 
	#d_öo
 
d_fûío


	)

82 #ifde‡
_DIRENT_HAVE_D_NAMLEN


83 
	#_D_EXACT_NAMLEN
(
d
Ë((d)->
d_«mÀn
)

	)

84 
	#_D_ALLOC_NAMLEN
(
d
Ë(
	`_D_EXACT_NAMLEN
 (dË+ 1)

	)

86 
	#_D_EXACT_NAMLEN
(
d
Ë(
	`°æí
 ((d)->
d_«me
))

	)

87 #ifde‡
_DIRENT_HAVE_D_RECLEN


88 
	#_D_ALLOC_NAMLEN
(
d
Ë(((*Ë(dË+ (d)->
d_ª˛í
Ë- &(d)->
d_«me
[0])

	)

90 
	#_D_ALLOC_NAMLEN
(
d
Ë( (d)->
d_«me
 > 1 ?  (d)->d_name : \

91 
	`_D_EXACT_NAMLEN
 (
d
Ë+ 1)

	)

96 #ifde‡
__USE_BSD


100 
	mDT_UNKNOWN
 = 0,

101 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

102 
	mDT_FIFO
 = 1,

103 
	#DT_FIFO
 
DT_FIFO


	)

104 
	mDT_CHR
 = 2,

105 
	#DT_CHR
 
DT_CHR


	)

106 
	mDT_DIR
 = 4,

107 
	#DT_DIR
 
DT_DIR


	)

108 
	mDT_BLK
 = 6,

109 
	#DT_BLK
 
DT_BLK


	)

110 
	mDT_REG
 = 8,

111 
	#DT_REG
 
DT_REG


	)

112 
	mDT_LNK
 = 10,

113 
	#DT_LNK
 
DT_LNK


	)

114 
	mDT_SOCK
 = 12,

115 
	#DT_SOCK
 
DT_SOCK


	)

116 
	mDT_WHT
 = 14

117 
	#DT_WHT
 
DT_WHT


	)

121 
	#IFTODT
(
mode
Ë(((modeË& 0170000Ë>> 12)

	)

122 
	#DTTOIF
(
dúty≥
Ë((dúty≥Ë<< 12)

	)

128 
__dú°ªam
 
	tDIR
;

135 
DIR
 *
	$›ídú
 (
__c⁄°
 *
__«me
Ë
	`__n⁄nuŒ
 ((1));

137 #ifde‡
__USE_XOPEN2K8


142 
DIR
 *
	`fd›ídú
 (
__fd
);

150 
	$˛o£dú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

162 #i‚de‡
__USE_FILE_OFFSET64


163 
dúít
 *
	$ªaddú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

165 #ifde‡
__REDIRECT


166 
dúít
 *
	`__REDIRECT
 (
ªaddú
, (
DIR
 *
__dúp
), 
ªaddú64
)

167 
	`__n⁄nuŒ
 ((1));

169 
	#ªaddú
 
ªaddú64


	)

173 #ifde‡
__USE_LARGEFILE64


174 
dúít64
 *
	$ªaddú64
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

177 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


183 #i‚de‡
__USE_FILE_OFFSET64


184 
	$ªaddú_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

185 
dúít
 *
__ª°ri˘
 
__íåy
,

186 
dúít
 **
__ª°ri˘
 
__ªsu…
)

187 
	`__n⁄nuŒ
 ((1, 2, 3));

189 #ifde‡
__REDIRECT


190 
	`__REDIRECT
 (
ªaddú_r
,

191 (
DIR
 *
__ª°ri˘
 
__dúp
,

192 
dúít
 *
__ª°ri˘
 
__íåy
,

193 
dúít
 **
__ª°ri˘
 
__ªsu…
),

194 
ªaddú64_r
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

196 
	#ªaddú_r
 
ªaddú64_r


	)

200 #ifde‡
__USE_LARGEFILE64


201 
	$ªaddú64_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

202 
dúít64
 *
__ª°ri˘
 
__íåy
,

203 
dúít64
 **
__ª°ri˘
 
__ªsu…
)

204 
	`__n⁄nuŒ
 ((1, 2, 3));

209 
	$ªwöddú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

211 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


212 
	~<bôs/ty≥s.h
>

215 
	$£ekdú
 (
DIR
 *
__dúp
, 
__pos
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

218 
	$ãŒdú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

221 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__XOPEN2K8


224 
	$dúfd
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

226 #i‡
deföed
 
__OPTIMIZE__
 && deföed 
_DIR_dúfd


227 
	#dúfd
(
dúp
Ë
	`_DIR_dúfd
 (dúp)

	)

230 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


231 #i‚de‡
MAXNAMLEN


233 
	~<bôs/posix1_lim.h
>

236 #ifde‡
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__√ed_size_t


	)

245 
	~<°ddef.h
>

251 #i‚de‡
__USE_FILE_OFFSET64


252 
	`sˇndú
 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

253 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

254 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

255 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

256 
__c⁄°
 
dúít
 **))

257 
	`__n⁄nuŒ
 ((1, 2));

259 #ifde‡
__REDIRECT


260 
	`__REDIRECT
 (
sˇndú
,

261 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

262 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

263 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

264 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

265 
__c⁄°
 
dúít
 **)),

266 
sˇndú64
Ë
	`__n⁄nuŒ
 ((1, 2));

268 
	#sˇndú
 
sˇndú64


	)

272 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


275 
	`sˇndú64
 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

276 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

277 (*
__£À˘‹
Ë(
__c⁄°
 
dúít64
 *),

278 (*
__cmp
Ë(
__c⁄°
 
dúít64
 **,

279 
__c⁄°
 
dúít64
 **))

280 
	`__n⁄nuŒ
 ((1, 2));

284 #i‚de‡
__USE_FILE_OFFSET64


285 
	$Æphas‹t
 (
__c⁄°
 
dúít
 **
__e1
,

286 
__c⁄°
 
dúít
 **
__e2
)

287 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

289 #ifde‡
__REDIRECT


290 
	`__REDIRECT_NTH
 (
Æphas‹t
,

291 (
__c⁄°
 
dúít
 **
__e1
,

292 
__c⁄°
 
dúít
 **
__e2
),

293 
Æphas‹t64
Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

295 
	#Æphas‹t
 
Æphas‹t64


	)

299 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


300 
	$Æphas‹t64
 (
__c⁄°
 
dúít64
 **
__e1
,

301 
__c⁄°
 
dúít64
 **
__e2
)

302 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

307 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


312 #i‚de‡
__USE_FILE_OFFSET64


313 
__ssize_t
 
	$gëdúíåõs
 (
__fd
, *
__ª°ri˘
 
__buf
,

314 
size_t
 
__nbyãs
,

315 
__off_t
 *
__ª°ri˘
 
__ba£p
)

316 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

318 #ifde‡
__REDIRECT


319 
__ssize_t
 
	`__REDIRECT_NTH
 (
gëdúíåõs
,

320 (
__fd
, *
__ª°ri˘
 
__buf
,

321 
size_t
 
__nbyãs
,

322 
__off64_t
 *
__ª°ri˘
 
__ba£p
),

323 
gëdúíåõs64
Ë
	`__n⁄nuŒ
 ((2, 4));

325 
	#gëdúíåõs
 
gëdúíåõs64


	)

329 #ifde‡
__USE_LARGEFILE64


330 
__ssize_t
 
	$gëdúíåõs64
 (
__fd
, *
__ª°ri˘
 
__buf
,

331 
size_t
 
__nbyãs
,

332 
__off64_t
 *
__ª°ri˘
 
__ba£p
)

333 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

337 #ifde‡
__USE_GNU


339 #i‚de‡
__USE_FILE_OFFSET64


340 
	$vîsi⁄s‹t
 (
__c⁄°
 
dúít
 **
__e1
,

341 
__c⁄°
 
dúít
 **
__e2
)

342 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

344 #ifde‡
__REDIRECT


345 
	`__REDIRECT_NTH
 (
vîsi⁄s‹t
,

346 (
__c⁄°
 
dúít
 **
__e1
,

347 
__c⁄°
 
dúít
 **
__e2
),

348 
vîsi⁄s‹t64
)

349 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

351 
	#vîsi⁄s‹t
 
vîsi⁄s‹t64


	)

355 #ifde‡
__USE_LARGEFILE64


356 
	$vîsi⁄s‹t64
 (
__c⁄°
 
dúít64
 **
__e1
,

357 
__c⁄°
 
dúít64
 **
__e2
)

358 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

362 
__END_DECLS


	@/usr/include/errno.h

23 #i‚def 
_ERRNO_H


27 #i‚def 
__√ed_Em©h


28 
	#_ERRNO_H
 1

	)

29 
	~<„©uªs.h
>

32 
	g__BEGIN_DECLS


36 
	~<bôs/î∫o.h
>

37 #unde‡
__√ed_Em©h


39 #ifdef 
_ERRNO_H


46 #i‚def 
î∫o


47 
î∫o
;

50 #ifde‡
__USE_GNU


55 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

59 
	g__END_DECLS


67 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


68 #i‚de‡
__îr‹_t_deföed


69 
	tîr‹_t
;

70 
	#__îr‹_t_deföed
 1

	)

72 #unde‡
__√ed_îr‹_t


	@/usr/include/fcntl.h

24 #i‚def 
_FCNTL_H


25 
	#_FCNTL_H
 1

	)

27 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 
	~<bôs/f˙é.h
>

37 #ifde‡
__USE_XOPEN


38 
	~<sys/°©.h
>

41 #ifdef 
__USE_MISC


42 #i‚de‡
R_OK


45 
	#R_OK
 4

	)

46 
	#W_OK
 2

	)

47 
	#X_OK
 1

	)

48 
	#F_OK
 0

	)

53 #ifde‡
__USE_XOPEN


54 
	#SEEK_SET
 0

	)

55 
	#SEEK_CUR
 1

	)

56 
	#SEEK_END
 2

	)

64 
f˙é
 (
__fd
, 
__cmd
, ...);

72 #i‚de‡
__USE_FILE_OFFSET64


73 
	$›í
 (
__c⁄°
 *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

75 #ifde‡
__REDIRECT


76 
	`__REDIRECT
 (
›í
, (
__c⁄°
 *
__fûe
, 
__oÊag
, ...), 
›í64
)

77 
	`__n⁄nuŒ
 ((1));

79 
	#›í
 
›í64


	)

82 #ifde‡
__USE_LARGEFILE64


83 
	$›í64
 (
__c⁄°
 *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

86 #ifde‡
__USE_ATFILE


96 #i‚de‡
__USE_FILE_OFFSET64


97 
	$›í©
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
, ...)

98 
	`__n⁄nuŒ
 ((2));

100 #ifde‡
__REDIRECT


101 
	`__REDIRECT
 (
›í©
, (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
,

102 ...), 
›í©64
Ë
	`__n⁄nuŒ
 ((2));

104 
	#›í©
 
›í©64


	)

108 
	$›í©64
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
, ...)

109 
	`__n⁄nuŒ
 ((2));

117 #i‚de‡
__USE_FILE_OFFSET64


118 
	$¸ót
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

120 #ifde‡
__REDIRECT


121 
	`__REDIRECT
 (
¸ót
, (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
),

122 
¸ót64
Ë
	`__n⁄nuŒ
 ((1));

124 
	#¸ót
 
¸ót64


	)

127 #ifde‡
__USE_LARGEFILE64


128 
	$¸ót64
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

131 #i‡!
deföed
 
F_LOCK
 && (deföed 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

132 && !
deföed
 
__USE_POSIX
))

141 
	#F_ULOCK
 0

	)

142 
	#F_LOCK
 1

	)

143 
	#F_TLOCK
 2

	)

144 
	#F_TEST
 3

	)

146 #i‚de‡
__USE_FILE_OFFSET64


147 
	`lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
);

149 #ifde‡
__REDIRECT


150 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
), 
lockf64
);

152 
	#lockf
 
lockf64


	)

155 #ifde‡
__USE_LARGEFILE64


156 
	`lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
);

160 #ifde‡
__USE_XOPEN2K


163 #i‚de‡
__USE_FILE_OFFSET64


164 
	$posix_Ádvi£
 (
__fd
, 
__off_t
 
__off£t
, __off_à
__Àn
,

165 
__advi£
Ë
__THROW
;

167 #ifde‡
__REDIRECT_NTH


168 
	`__REDIRECT_NTH
 (
posix_Ádvi£
, (
__fd
, 
__off64_t
 
__off£t
,

169 
__off64_t
 
__Àn
, 
__advi£
),

170 
posix_Ádvi£64
);

172 
	#posix_Ádvi£
 
posix_Ádvi£64


	)

175 #ifde‡
__USE_LARGEFILE64


176 
	$posix_Ádvi£64
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__Àn
,

177 
__advi£
Ë
__THROW
;

185 #i‚de‡
__USE_FILE_OFFSET64


186 
	`posix_ÁŒoˇã
 (
__fd
, 
__off_t
 
__off£t
, __off_à
__Àn
);

188 #ifde‡
__REDIRECT


189 
	`__REDIRECT
 (
posix_ÁŒoˇã
, (
__fd
, 
__off64_t
 
__off£t
,

190 
__off64_t
 
__Àn
),

191 
posix_ÁŒoˇã64
);

193 
	#posix_ÁŒoˇã
 
posix_ÁŒoˇã64


	)

196 #ifde‡
__USE_LARGEFILE64


197 
	`posix_ÁŒoˇã64
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__Àn
);

203 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe
 \

204 && 
deföed
 
__va_¨g_∑ck_Àn


205 
	~<bôs/f˙é2.h
>

208 
__END_DECLS


	@/usr/include/getopt.h

21 #i‚de‡
_GETOPT_H


23 #i‚de‡
__√ed_gë›t


24 
	#_GETOPT_H
 1

	)

34 #i‡!
deföed
 
__GNU_LIBRARY__


35 
	~<˘y≥.h
>

38 #i‚de‡
__THROW


39 #i‚de‡
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

42 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__˝lu•lus


59 *
›èrg
;

73 
›töd
;

78 
›ãº
;

82 
›t›t
;

84 #i‚de‡
__√ed_gë›t


106 
	s›ti⁄


108 c⁄° *
	g«me
;

111 
	ghas_¨g
;

112 *
	gÊag
;

113 
	gvÆ
;

118 
	#no_¨gumít
 0

	)

119 
	#ªquúed_¨gumít
 1

	)

120 
	#›ti⁄Æ_¨gumít
 2

	)

148 #ifde‡
__GNU_LIBRARY__


152 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

153 
__THROW
;

155 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

156 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


160 #ifde‡
__REDIRECT


161 
__REDIRECT
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

162 c⁄° *
__sh‹t›ts
),

163 
__posix_gë›t
Ë
__THROW
;

165 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

166 c⁄° *
__sh‹t›ts
Ë
__THROW
;

167 
	#gë›t
 
__posix_gë›t


	)

171 
gë›t
 ();

174 #i‚de‡
__√ed_gë›t


175 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

176 c⁄° *
__sh‹t›ts
,

177 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

178 
__THROW
;

179 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

180 c⁄° *
__sh‹t›ts
,

181 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

182 
__THROW
;

186 #ifdef 
__˝lu•lus


191 #unde‡
__√ed_gë›t


	@/usr/include/gnu-versions.h

20 #i‚de‡
_GNU_VERSIONS_H


21 
	#_GNU_VERSIONS_H
 1

	)

47 
	#_GNU_OBSTACK_INTERFACE_VERSION
 1

	)

48 
	#_GNU_REGEX_INTERFACE_VERSION
 1

	)

49 
	#_GNU_GLOB_INTERFACE_VERSION
 1

	)

50 
	#_GNU_GETOPT_INTERFACE_VERSION
 2

	)

	@/usr/include/inttypes.h

23 #i‚de‡
_INTTYPES_H


24 
	#_INTTYPES_H
 1

	)

26 
	~<„©uªs.h
>

28 
	~<°döt.h
>

31 #i‚de‡
____gwch¨_t_deföed


32 #ifde‡
__˝lu•lus


33 
	#__gwch¨_t
 
wch¨_t


	)

34 #ñi‡
deföed
 
__WCHAR_TYPE__


35 
__WCHAR_TYPE__
 
	t__gwch¨_t
;

37 
	#__√ed_wch¨_t


	)

38 
	~<°ddef.h
>

39 
wch¨_t
 
	t__gwch¨_t
;

41 
	#____gwch¨_t_deföed
 1

	)

47 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_FORMAT_MACROS


49 #i‡
__WORDSIZE
 == 64

50 
	#__PRI64_PREFIX
 "l"

	)

51 
	#__PRIPTR_PREFIX
 "l"

	)

53 
	#__PRI64_PREFIX
 "Œ"

	)

54 
	#__PRIPTR_PREFIX


	)

60 
	#PRId8
 "d"

	)

61 
	#PRId16
 "d"

	)

62 
	#PRId32
 "d"

	)

63 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

65 
	#PRIdLEAST8
 "d"

	)

66 
	#PRIdLEAST16
 "d"

	)

67 
	#PRIdLEAST32
 "d"

	)

68 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIdFAST8
 "d"

	)

71 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

72 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

73 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

76 
	#PRIi8
 "i"

	)

77 
	#PRIi16
 "i"

	)

78 
	#PRIi32
 "i"

	)

79 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

81 
	#PRIiLEAST8
 "i"

	)

82 
	#PRIiLEAST16
 "i"

	)

83 
	#PRIiLEAST32
 "i"

	)

84 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIiFAST8
 "i"

	)

87 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

88 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

89 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

92 
	#PRIo8
 "o"

	)

93 
	#PRIo16
 "o"

	)

94 
	#PRIo32
 "o"

	)

95 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

97 
	#PRIoLEAST8
 "o"

	)

98 
	#PRIoLEAST16
 "o"

	)

99 
	#PRIoLEAST32
 "o"

	)

100 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIoFAST8
 "o"

	)

103 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

104 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

105 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

108 
	#PRIu8
 "u"

	)

109 
	#PRIu16
 "u"

	)

110 
	#PRIu32
 "u"

	)

111 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

113 
	#PRIuLEAST8
 "u"

	)

114 
	#PRIuLEAST16
 "u"

	)

115 
	#PRIuLEAST32
 "u"

	)

116 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIuFAST8
 "u"

	)

119 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

120 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

121 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

124 
	#PRIx8
 "x"

	)

125 
	#PRIx16
 "x"

	)

126 
	#PRIx32
 "x"

	)

127 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

129 
	#PRIxLEAST8
 "x"

	)

130 
	#PRIxLEAST16
 "x"

	)

131 
	#PRIxLEAST32
 "x"

	)

132 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIxFAST8
 "x"

	)

135 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

136 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

137 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

140 
	#PRIX8
 "X"

	)

141 
	#PRIX16
 "X"

	)

142 
	#PRIX32
 "X"

	)

143 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

145 
	#PRIXLEAST8
 "X"

	)

146 
	#PRIXLEAST16
 "X"

	)

147 
	#PRIXLEAST32
 "X"

	)

148 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

150 
	#PRIXFAST8
 "X"

	)

151 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

152 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

153 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

157 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

158 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

159 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

160 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

161 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

162 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

166 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

167 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

168 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

169 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

170 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

171 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

177 
	#SCNd8
 "hhd"

	)

178 
	#SCNd16
 "hd"

	)

179 
	#SCNd32
 "d"

	)

180 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

182 
	#SCNdLEAST8
 "hhd"

	)

183 
	#SCNdLEAST16
 "hd"

	)

184 
	#SCNdLEAST32
 "d"

	)

185 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNdFAST8
 "hhd"

	)

188 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

189 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

190 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

193 
	#SCNi8
 "hhi"

	)

194 
	#SCNi16
 "hi"

	)

195 
	#SCNi32
 "i"

	)

196 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

198 
	#SCNiLEAST8
 "hhi"

	)

199 
	#SCNiLEAST16
 "hi"

	)

200 
	#SCNiLEAST32
 "i"

	)

201 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNiFAST8
 "hhi"

	)

204 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

205 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

206 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

209 
	#SCNu8
 "hhu"

	)

210 
	#SCNu16
 "hu"

	)

211 
	#SCNu32
 "u"

	)

212 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

214 
	#SCNuLEAST8
 "hhu"

	)

215 
	#SCNuLEAST16
 "hu"

	)

216 
	#SCNuLEAST32
 "u"

	)

217 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNuFAST8
 "hhu"

	)

220 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

221 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

222 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

225 
	#SCNo8
 "hho"

	)

226 
	#SCNo16
 "ho"

	)

227 
	#SCNo32
 "o"

	)

228 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

230 
	#SCNoLEAST8
 "hho"

	)

231 
	#SCNoLEAST16
 "ho"

	)

232 
	#SCNoLEAST32
 "o"

	)

233 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNoFAST8
 "hho"

	)

236 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

237 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

238 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

241 
	#SCNx8
 "hhx"

	)

242 
	#SCNx16
 "hx"

	)

243 
	#SCNx32
 "x"

	)

244 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

246 
	#SCNxLEAST8
 "hhx"

	)

247 
	#SCNxLEAST16
 "hx"

	)

248 
	#SCNxLEAST32
 "x"

	)

249 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

251 
	#SCNxFAST8
 "hhx"

	)

252 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

253 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

254 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

258 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

259 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

260 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

261 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

262 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

265 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

266 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

267 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

268 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

269 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

274 
	g__BEGIN_DECLS


276 #i‡
__WORDSIZE
 == 64

281 
	mquŸ
;

282 
	mªm
;

283 } 
	timaxdiv_t
;

290 
	mquŸ
;

291 
	mªm
;

292 } 
	timaxdiv_t
;

298 
ötmax_t
 
	$imaxabs
 (
ötmax_t
 
__n
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

301 
imaxdiv_t
 
	$imaxdiv
 (
ötmax_t
 
__numî
, i¡max_à
__díom
)

302 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

305 
ötmax_t
 
	$°πoimax
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

306 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

309 
uötmax_t
 
	$°πoumax
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

310 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

313 
ötmax_t
 
	$wc°oimax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

314 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

315 
__THROW
;

318 
uötmax_t
 
	$wc°oumax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

319 
__gwch¨_t
 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
)

320 
__THROW
;

322 #ifde‡
__USE_EXTERN_INLINES


324 #i‡
__WORDSIZE
 == 64

326 
	$__°πﬁ_öã∫Æ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

327 **
__ª°ri˘
 
__íd±r
,

328 
__ba£
, 
__group
)

329 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

331 
__exã∫_ölöe
 
ötmax_t


332 
	`__NTH
 (
	$°πoimax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

333 
ba£
))

335  
	`__°πﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

336 
	}
}

338 
	$__°πoul_öã∫Æ
 (
__c⁄°
 *

339 
__ª°ri˘
 
__≈å
,

340 ** 
__ª°ri˘
 
__íd±r
,

341 
__ba£
, 
__group
)

342 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

344 
__exã∫_ölöe
 
uötmax_t


345 
	`__NTH
 (
	$°πoumax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

346 
ba£
))

348  
	`__°πoul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

349 
	}
}

351 
	$__wc°ﬁ_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 * 
__ª°ri˘
 
__≈å
,

352 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

353 
__ba£
, 
__group
)

354 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

356 
__exã∫_ölöe
 
ötmax_t


357 
	`__NTH
 (
	$wc°oimax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

358 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

360  
	`__wc°ﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

361 
	}
}

363 
	$__wc°oul_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 *

364 
__ª°ri˘
 
__≈å
,

365 
__gwch¨_t
 **

366 
__ª°ri˘
 
__íd±r
,

367 
__ba£
, 
__group
)

368 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

370 
__exã∫_ölöe
 
uötmax_t


371 
	`__NTH
 (
	$wc°oumax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

372 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

374  
	`__wc°oul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

375 
	}
}

379 
__exãnsi⁄__


380 
	$__°πﬁl_öã∫Æ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

381 **
__ª°ri˘
 
__íd±r
,

382 
__ba£
, 
__group
)

383 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

385 
__exã∫_ölöe
 
ötmax_t


386 
	`__NTH
 (
	$°πoimax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

387 
ba£
))

389  
	`__°πﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

390 
	}
}

392 
__exãnsi⁄__


393 
	$__°πouŒ_öã∫Æ
 (
__c⁄°
 *

394 
__ª°ri˘
 
__≈å
,

396 
__ª°ri˘
 
__íd±r
,

397 
__ba£
,

398 
__group
)

399 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

401 
__exã∫_ölöe
 
uötmax_t


402 
	`__NTH
 (
	$°πoumax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

403 
ba£
))

405  
	`__°πouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

406 
	}
}

408 
__exãnsi⁄__


409 
	$__wc°ﬁl_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 *

410 
__ª°ri˘
 
__≈å
,

411 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

412 
__ba£
, 
__group
)

413 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

415 
__exã∫_ölöe
 
ötmax_t


416 
	`__NTH
 (
	$wc°oimax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

417 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

419  
	`__wc°ﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

420 
	}
}

423 
__exãnsi⁄__


424 
	$__wc°ouŒ_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 *

425 
__ª°ri˘
 
__≈å
,

426 
__gwch¨_t
 **

427 
__ª°ri˘
 
__íd±r
,

428 
__ba£
,

429 
__group
)

430 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

432 
__exã∫_ölöe
 
uötmax_t


433 
	`__NTH
 (
	$wc°oumax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

434 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

436  
	`__wc°ouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

437 
	}
}

442 
	g__END_DECLS


	@/usr/include/libintl.h

21 #i‚de‡
_LIBINTL_H


22 
	#_LIBINTL_H
 1

	)

24 
	~<„©uªs.h
>

28 
	#__USE_GNU_GETTEXT
 1

	)

32 
	#__GNU_GETTEXT_SUPPORTED_REVISION
(
maj‹
) \

33 ((
maj‹
Ë=0 ? 1 : -1)

	)

35 
__BEGIN_DECLS


40 *
	$gëãxt
 (
__c⁄°
 *
__msgid
)

41 
__THROW
 
	`__©åibuã_f‹m©_¨g__
 (1);

45 *
	$dgëãxt
 (
__c⁄°
 *
__domaö«me
, __c⁄° *
__msgid
)

46 
__THROW
 
	`__©åibuã_f‹m©_¨g__
 (2);

47 *
	$__dgëãxt
 (
__c⁄°
 *
__domaö«me
, __c⁄° *
__msgid
)

48 
__THROW
 
	`__©åibuã_f‹m©_¨g__
 (2);

52 *
	$dcgëãxt
 (
__c⁄°
 *
__domaö«me
,

53 
__c⁄°
 *
__msgid
, 
__ˇãg‹y
)

54 
__THROW
 
	`__©åibuã_f‹m©_¨g__
 (2);

55 *
	$__dcgëãxt
 (
__c⁄°
 *
__domaö«me
,

56 
__c⁄°
 *
__msgid
, 
__ˇãg‹y
)

57 
__THROW
 
	`__©åibuã_f‹m©_¨g__
 (2);

62 *
	$ngëãxt
 (
__c⁄°
 *
__msgid1
, __c⁄° *
__msgid2
,

63 
__n
)

64 
__THROW
 
	$__©åibuã_f‹m©_¨g__
 (1Ë
	`__©åibuã_f‹m©_¨g__
 (2);

68 *
	$dngëãxt
 (
__c⁄°
 *
__domaö«me
, __c⁄° *
__msgid1
,

69 
__c⁄°
 *
__msgid2
, 
__n
)

70 
__THROW
 
	$__©åibuã_f‹m©_¨g__
 (2Ë
	`__©åibuã_f‹m©_¨g__
 (3);

74 *
	$d˙gëãxt
 (
__c⁄°
 *
__domaö«me
, __c⁄° *
__msgid1
,

75 
__c⁄°
 *
__msgid2
, 
__n
,

76 
__ˇãg‹y
)

77 
__THROW
 
	$__©åibuã_f‹m©_¨g__
 (2Ë
	`__©åibuã_f‹m©_¨g__
 (3);

83 *
	$ãxtdomaö
 (
__c⁄°
 *
__domaö«me
Ë
__THROW
;

87 *
	$bödãxtdomaö
 (
__c⁄°
 *
__domaö«me
,

88 
__c⁄°
 *
__dú«me
Ë
__THROW
;

92 *
	$böd_ãxtdomaö_code£t
 (
__c⁄°
 *
__domaö«me
,

93 
__c⁄°
 *
__code£t
Ë
__THROW
;

97 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


100 
	#__√ed_NULL


	)

101 
	~<°ddef.h
>

104 
	~<loˇÀ.h
>

110 
	#gëãxt
(
msgid
Ë
	`dgëãxt
 (
NULL
, msgid)

	)

112 
	#dgëãxt
(
domaö«me
, 
msgid
) \

113 
	`dcgëãxt
 (
domaö«me
, 
msgid
, 
LC_MESSAGES
)

	)

115 
	#ngëãxt
(
msgid1
, 
msgid2
, 
n
Ë
	`dngëãxt
 (
NULL
, msgid1, msgid2,Ç)

	)

117 
	#dngëãxt
(
domaö«me
, 
msgid1
, 
msgid2
, 
n
) \

118 
	`d˙gëãxt
 (
domaö«me
, 
msgid1
, 
msgid2
, 
n
, 
LC_MESSAGES
)

	)

122 
__END_DECLS


	@/usr/include/libudev.h

12 #i‚de‡
_LIBUDEV_H_


13 
	#_LIBUDEV_H_


	)

15 
	~<°d¨g.h
>

16 
	~<sys/ty≥s.h
>

17 
	~<sys/°©.h
>

19 #ifde‡
__˝lu•lus


29 
udev
;

30 
udev
 *
udev_ªf
(udev *udev);

31 
udev_uƒef
(
udev
 *udev);

32 
udev
 *
udev_√w
();

33 
udev_£t_log_‚
(
udev
 *udev,

34 (*
log_‚
)(
udev
 *udev,

35 
¥i‹ôy
, c⁄° *
fûe
, 
löe
, c⁄° *
‚
,

36 c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

37 
udev_gë_log_¥i‹ôy
(
udev
 *udev);

38 
udev_£t_log_¥i‹ôy
(
udev
 *udev, 
¥i‹ôy
);

39 c⁄° *
udev_gë_sys_∑th
(
udev
 *udev);

40 c⁄° *
udev_gë_dev_∑th
(
udev
 *udev);

41 *
udev_gë_u£rd©a
(
udev
 *udev);

42 
udev_£t_u£rd©a
(
udev
 *udev, *
u£rd©a
);

49 
udev_li°_íåy
;

50 
udev_li°_íåy
 *
udev_li°_íåy_gë_√xt
(udev_li°_íåy *
li°_íåy
);

51 
udev_li°_íåy
 *
udev_li°_íåy_gë_by_«me
(udev_li°_íåy *
li°_íåy
, c⁄° *
«me
);

52 c⁄° *
udev_li°_íåy_gë_«me
(
udev_li°_íåy
 *
li°_íåy
);

53 c⁄° *
udev_li°_íåy_gë_vÆue
(
udev_li°_íåy
 *
li°_íåy
);

61 
	#udev_li°_íåy_f‹óch
(
li°_íåy
, 
fú°_íåy
) \

62 
li°_íåy
 = 
fú°_íåy
; \

63 
li°_íåy
 !
NULL
; \

64 
li°_íåy
 = 
	`udev_li°_íåy_gë_√xt
÷i°_íåy))

	)

71 
udev_devi˚
;

72 
udev_devi˚
 *
udev_devi˚_ªf
(udev_device *udev_device);

73 
udev_devi˚_uƒef
(
udev_devi˚
 *udev_device);

74 
udev
 *
udev_devi˚_gë_udev
(
udev_devi˚
 *udev_device);

75 
udev_devi˚
 *
udev_devi˚_√w_‰om_sy•©h
(
udev
 *udev, c⁄° *
sy•©h
);

76 
udev_devi˚
 *
udev_devi˚_√w_‰om_devnum
(
udev
 *udev, 
ty≥
, 
dev_t
 
devnum
);

77 
udev_devi˚
 *
udev_devi˚_√w_‰om_subsy°em_sy¢ame
(
udev
 *udev, c⁄° *
subsy°em
, c⁄° *
sy¢ame
);

79 
udev_devi˚
 *
udev_devi˚_gë_∑ª¡
(udev_device *udev_device);

80 
udev_devi˚
 *
udev_devi˚_gë_∑ª¡_wôh_subsy°em_devty≥
(udev_device *udev_device,

81 c⁄° *
subsy°em
, c⁄° *
devty≥
);

83 c⁄° *
udev_devi˚_gë_dev∑th
(
udev_devi˚
 *udev_device);

84 c⁄° *
udev_devi˚_gë_subsy°em
(
udev_devi˚
 *udev_device);

85 c⁄° *
udev_devi˚_gë_devty≥
(
udev_devi˚
 *udev_device);

86 c⁄° *
udev_devi˚_gë_sy•©h
(
udev_devi˚
 *udev_device);

87 c⁄° *
udev_devi˚_gë_sy¢ame
(
udev_devi˚
 *udev_device);

88 c⁄° *
udev_devi˚_gë_sy¢um
(
udev_devi˚
 *udev_device);

89 c⁄° *
udev_devi˚_gë_devnode
(
udev_devi˚
 *udev_device);

90 
udev_li°_íåy
 *
udev_devi˚_gë_devlöks_li°_íåy
(
udev_devi˚
 *udev_device);

91 
udev_li°_íåy
 *
udev_devi˚_gë_¥›îtõs_li°_íåy
(
udev_devi˚
 *udev_device);

92 c⁄° *
udev_devi˚_gë_¥›îty_vÆue
(
udev_devi˚
 *udev_devi˚, c⁄° *
key
);

93 c⁄° *
udev_devi˚_gë_drivî
(
udev_devi˚
 *udev_device);

94 
dev_t
 
udev_devi˚_gë_devnum
(
udev_devi˚
 *udev_device);

95 c⁄° *
udev_devi˚_gë_a˘i⁄
(
udev_devi˚
 *udev_device);

96 
udev_devi˚_gë_£qnum
(
udev_devi˚
 *udev_device);

97 c⁄° *
udev_devi˚_gë_syßâr_vÆue
(
udev_devi˚
 *udev_devi˚, c⁄° *
syßâr
);

104 
udev_m⁄ô‹
;

105 
udev_m⁄ô‹
 *
udev_m⁄ô‹_ªf
(udev_monitor *udev_monitor);

106 
udev_m⁄ô‹_uƒef
(
udev_m⁄ô‹
 *udev_monitor);

107 
udev
 *
udev_m⁄ô‹_gë_udev
(
udev_m⁄ô‹
 *udev_monitor);

109 
udev_m⁄ô‹
 *
udev_m⁄ô‹_√w_‰om_√éök
(
udev
 *udev, c⁄° *
«me
);

111 
udev_m⁄ô‹
 *
udev_m⁄ô‹_√w_‰om_sockë
(
udev
 *udev, c⁄° *
sockë_∑th
);

113 
udev_m⁄ô‹_íabÀ_ª˚ivög
(
udev_m⁄ô‹
 *udev_monitor);

114 
udev_m⁄ô‹_£t_ª˚ive_buf„r_size
(
udev_m⁄ô‹
 *udev_m⁄ô‹, 
size
);

115 
udev_m⁄ô‹_gë_fd
(
udev_m⁄ô‹
 *udev_monitor);

116 
udev_devi˚
 *
udev_m⁄ô‹_ª˚ive_devi˚
(
udev_m⁄ô‹
 *udev_monitor);

118 
udev_m⁄ô‹_fûãr_add_m©ch_subsy°em_devty≥
(
udev_m⁄ô‹
 *udev_monitor,

119 c⁄° *
subsy°em
, c⁄° *
devty≥
);

120 
udev_m⁄ô‹_fûãr_upd©e
(
udev_m⁄ô‹
 *udev_monitor);

121 
udev_m⁄ô‹_fûãr_ªmove
(
udev_m⁄ô‹
 *udev_monitor);

128 
udev_íumî©e
;

129 
udev_íumî©e
 *
udev_íumî©e_ªf
(udev_enumerate *udev_enumerate);

130 
udev_íumî©e_uƒef
(
udev_íumî©e
 *udev_enumerate);

131 
udev
 *
udev_íumî©e_gë_udev
(
udev_íumî©e
 *udev_enumerate);

132 
udev_íumî©e
 *
udev_íumî©e_√w
(
udev
 *udev);

134 
udev_íumî©e_add_m©ch_subsy°em
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
subsy°em
);

135 
udev_íumî©e_add_nom©ch_subsy°em
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
subsy°em
);

136 
udev_íumî©e_add_m©ch_syßâr
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
syßâr
, c⁄° *
vÆue
);

137 
udev_íumî©e_add_nom©ch_syßâr
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
syßâr
, c⁄° *
vÆue
);

138 
udev_íumî©e_add_m©ch_¥›îty
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
¥›îty
, c⁄° *
vÆue
);

139 
udev_íumî©e_add_m©ch_sy¢ame
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
sy¢ame
);

140 
udev_íumî©e_add_sy•©h
(
udev_íumî©e
 *udev_íumî©e, c⁄° *
sy•©h
);

142 
udev_íumî©e_sˇn_devi˚s
(
udev_íumî©e
 *udev_enumerate);

143 
udev_íumî©e_sˇn_subsy°ems
(
udev_íumî©e
 *udev_enumerate);

145 
udev_li°_íåy
 *
udev_íumî©e_gë_li°_íåy
(
udev_íumî©e
 *udev_enumerate);

152 
udev_queue
;

153 
udev_queue
 *
udev_queue_ªf
(udev_queue *udev_queue);

154 
udev_queue_uƒef
(
udev_queue
 *udev_queue);

155 
udev
 *
udev_queue_gë_udev
(
udev_queue
 *udev_queue);

156 
udev_queue
 *
udev_queue_√w
(
udev
 *udev);

157 
udev_queue_gë_kî√l_£qnum
(
udev_queue
 *udev_queue);

158 
udev_queue_gë_udev_£qnum
(
udev_queue
 *udev_queue);

159 
udev_queue_gë_udev_is_a˘ive
(
udev_queue
 *udev_queue);

160 
udev_queue_gë_queue_is_em±y
(
udev_queue
 *udev_queue);

161 
udev_queue_gë_£qnum_is_föished
(
udev_queue
 *udev_queue, 
£qnum
);

162 
udev_queue_gë_£qnum_£quí˚_is_föished
(
udev_queue
 *udev_queue,

163 
°¨t
, 
íd
);

164 
udev_li°_íåy
 *
udev_queue_gë_queued_li°_íåy
(
udev_queue
 *udev_queue);

165 
udev_li°_íåy
 *
udev_queue_gë_Áûed_li°_íåy
(
udev_queue
 *udev_queue);

167 #ifde‡
__˝lu•lus


	@/usr/include/limits.h

24 #i‚de‡
_LIBC_LIMITS_H_


25 
	#_LIBC_LIMITS_H_
 1

	)

27 
	~<„©uªs.h
>

33 
	#MB_LEN_MAX
 16

	)

38 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

43 #i‚de‡
_LIMITS_H


44 
	#_LIMITS_H
 1

	)

46 
	~<bôs/w‹dsize.h
>

55 
	#CHAR_BIT
 8

	)

58 
	#SCHAR_MIN
 (-128)

	)

59 
	#SCHAR_MAX
 127

	)

62 
	#UCHAR_MAX
 255

	)

65 #ifde‡
__CHAR_UNSIGNED__


66 
	#CHAR_MIN
 0

	)

67 
	#CHAR_MAX
 
UCHAR_MAX


	)

69 
	#CHAR_MIN
 
SCHAR_MIN


	)

70 
	#CHAR_MAX
 
SCHAR_MAX


	)

74 
	#SHRT_MIN
 (-32768)

	)

75 
	#SHRT_MAX
 32767

	)

78 
	#USHRT_MAX
 65535

	)

81 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

82 
	#INT_MAX
 2147483647

	)

85 
	#UINT_MAX
 4294967295U

	)

88 #i‡
__WORDSIZE
 == 64

89 
	#LONG_MAX
 9223372036854775807L

	)

91 
	#LONG_MAX
 2147483647L

	)

93 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

96 #i‡
__WORDSIZE
 == 64

97 
	#ULONG_MAX
 18446744073709551615UL

	)

99 
	#ULONG_MAX
 4294967295UL

	)

102 #ifde‡
__USE_ISOC99


105 
	#LLONG_MAX
 9223372036854775807LL

	)

106 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

109 
	#ULLONG_MAX
 18446744073709551615ULL

	)

123 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


125 #ö˛ude_√xà<
limôs
.
h
>

131 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


132 #i‚de‡
LLONG_MIN


133 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

135 #i‚de‡
LLONG_MAX


136 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

138 #i‚de‡
ULLONG_MAX


139 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

143 #ifdef 
__USE_POSIX


145 
	~<bôs/posix1_lim.h
>

148 #ifdef 
__USE_POSIX2


149 
	~<bôs/posix2_lim.h
>

152 #ifdef 
__USE_XOPEN


153 
	~<bôs/x›í_lim.h
>

	@/usr/include/linux/filter.h

5 #i‚de‡
__LINUX_FILTER_H__


6 
	#__LINUX_FILTER_H__


	)

9 
	~<löux/ty≥s.h
>

15 
	#BPF_MAJOR_VERSION
 1

	)

16 
	#BPF_MINOR_VERSION
 1

	)

23 
	ssock_fûãr


25 
__u16
 
	mcode
;

26 
__u8
 
	mjt
;

27 
__u8
 
	mjf
;

28 
__u32
 
	mk
;

31 
	ssock_Ârog


33 
	mÀn
;

34 
sock_fûãr
 *
	mfûãr
;

41 
	#BPF_CLASS
(
code
Ë((codeË& 0x07)

	)

42 
	#BPF_LD
 0x00

	)

43 
	#BPF_LDX
 0x01

	)

44 
	#BPF_ST
 0x02

	)

45 
	#BPF_STX
 0x03

	)

46 
	#BPF_ALU
 0x04

	)

47 
	#BPF_JMP
 0x05

	)

48 
	#BPF_RET
 0x06

	)

49 
	#BPF_MISC
 0x07

	)

52 
	#BPF_SIZE
(
code
Ë((codeË& 0x18)

	)

53 
	#BPF_W
 0x00

	)

54 
	#BPF_H
 0x08

	)

55 
	#BPF_B
 0x10

	)

56 
	#BPF_MODE
(
code
Ë((codeË& 0xe0)

	)

57 
	#BPF_IMM
 0x00

	)

58 
	#BPF_ABS
 0x20

	)

59 
	#BPF_IND
 0x40

	)

60 
	#BPF_MEM
 0x60

	)

61 
	#BPF_LEN
 0x80

	)

62 
	#BPF_MSH
 0xa0

	)

65 
	#BPF_OP
(
code
Ë((codeË& 0xf0)

	)

66 
	#BPF_ADD
 0x00

	)

67 
	#BPF_SUB
 0x10

	)

68 
	#BPF_MUL
 0x20

	)

69 
	#BPF_DIV
 0x30

	)

70 
	#BPF_OR
 0x40

	)

71 
	#BPF_AND
 0x50

	)

72 
	#BPF_LSH
 0x60

	)

73 
	#BPF_RSH
 0x70

	)

74 
	#BPF_NEG
 0x80

	)

75 
	#BPF_JA
 0x00

	)

76 
	#BPF_JEQ
 0x10

	)

77 
	#BPF_JGT
 0x20

	)

78 
	#BPF_JGE
 0x30

	)

79 
	#BPF_JSET
 0x40

	)

80 
	#BPF_SRC
(
code
Ë((codeË& 0x08)

	)

81 
	#BPF_K
 0x00

	)

82 
	#BPF_X
 0x08

	)

85 
	#BPF_RVAL
(
code
Ë((codeË& 0x18)

	)

86 
	#BPF_A
 0x10

	)

89 
	#BPF_MISCOP
(
code
Ë((codeË& 0xf8)

	)

90 
	#BPF_TAX
 0x00

	)

91 
	#BPF_TXA
 0x80

	)

93 #i‚de‡
BPF_MAXINSNS


94 
	#BPF_MAXINSNS
 4096

	)

100 #i‚de‡
BPF_STMT


101 
	#BPF_STMT
(
code
, 
k
Ë{ ()(code), 0, 0, k }

	)

103 #i‚de‡
BPF_JUMP


104 
	#BPF_JUMP
(
code
, 
k
, 
jt
, 
jf
Ë{ ()(code), jt, jf, k }

	)

110 
	#BPF_MEMWORDS
 16

	)

117 
	#SKF_AD_OFF
 (-0x1000)

	)

118 
	#SKF_AD_PROTOCOL
 0

	)

119 
	#SKF_AD_PKTTYPE
 4

	)

120 
	#SKF_AD_IFINDEX
 8

	)

121 
	#SKF_AD_NLATTR
 12

	)

122 
	#SKF_AD_NLATTR_NEST
 16

	)

123 
	#SKF_AD_MAX
 20

	)

124 
	#SKF_NET_OFF
 (-0x100000)

	)

125 
	#SKF_LL_OFF
 (-0x200000)

	)

	@/usr/include/linux/netlink.h

1 #i‚de‡
__LINUX_NETLINK_H


2 
	#__LINUX_NETLINK_H


	)

4 
	~<löux/sockë.h
>

5 
	~<löux/ty≥s.h
>

7 
	#NETLINK_ROUTE
 0

	)

8 
	#NETLINK_UNUSED
 1

	)

9 
	#NETLINK_USERSOCK
 2

	)

10 
	#NETLINK_FIREWALL
 3

	)

11 
	#NETLINK_INET_DIAG
 4

	)

12 
	#NETLINK_NFLOG
 5

	)

13 
	#NETLINK_XFRM
 6

	)

14 
	#NETLINK_SELINUX
 7

	)

15 
	#NETLINK_ISCSI
 8

	)

16 
	#NETLINK_AUDIT
 9

	)

17 
	#NETLINK_FIB_LOOKUP
 10

	)

18 
	#NETLINK_CONNECTOR
 11

	)

19 
	#NETLINK_NETFILTER
 12

	)

20 
	#NETLINK_IP6_FW
 13

	)

21 
	#NETLINK_DNRTMSG
 14

	)

22 
	#NETLINK_KOBJECT_UEVENT
 15

	)

23 
	#NETLINK_GENERIC
 16

	)

25 
	#NETLINK_SCSITRANSPORT
 18

	)

26 
	#NETLINK_ECRYPTFS
 19

	)

28 
	#MAX_LINKS
 32

	)

30 
	g√t
;

32 
	ssockaddr_∆


34 
ß_Ámûy_t
 
	m∆_Ámûy
;

35 
	m∆_∑d
;

36 
__u32
 
	m∆_pid
;

37 
__u32
 
	m∆_groups
;

40 
	s∆msghdr


42 
__u32
 
	m∆msg_Àn
;

43 
__u16
 
	m∆msg_ty≥
;

44 
__u16
 
	m∆msg_Êags
;

45 
__u32
 
	m∆msg_£q
;

46 
__u32
 
	m∆msg_pid
;

51 
	#NLM_F_REQUEST
 1

	)

52 
	#NLM_F_MULTI
 2

	)

53 
	#NLM_F_ACK
 4

	)

54 
	#NLM_F_ECHO
 8

	)

57 
	#NLM_F_ROOT
 0x100

	)

58 
	#NLM_F_MATCH
 0x200

	)

59 
	#NLM_F_ATOMIC
 0x400

	)

60 
	#NLM_F_DUMP
 (
NLM_F_ROOT
|
NLM_F_MATCH
)

	)

63 
	#NLM_F_REPLACE
 0x100

	)

64 
	#NLM_F_EXCL
 0x200

	)

65 
	#NLM_F_CREATE
 0x400

	)

66 
	#NLM_F_APPEND
 0x800

	)

77 
	#NLMSG_ALIGNTO
 4

	)

78 
	#NLMSG_ALIGN
(
Àn
Ë–(÷í)+
NLMSG_ALIGNTO
-1Ë& ~(NLMSG_ALIGNTO-1Ë)

	)

79 
	#NLMSG_HDRLEN
 ((Ë
	`NLMSG_ALIGN
((
∆msghdr
)))

	)

80 
	#NLMSG_LENGTH
(
Àn
Ë(÷í)+
	`NLMSG_ALIGN
(
NLMSG_HDRLEN
))

	)

81 
	#NLMSG_SPACE
(
Àn
Ë
	`NLMSG_ALIGN
(
	`NLMSG_LENGTH
÷í))

	)

82 
	#NLMSG_DATA
(
∆h
Ë((*)(((*ÍlhË+ 
	`NLMSG_LENGTH
(0)))

	)

83 
	#NLMSG_NEXT
(
∆h
,
Àn
Ë(÷íË-
	`NLMSG_ALIGN
(“lh)->
∆msg_Àn
), \

84 (
∆msghdr
*)(((*)(
∆h
)Ë+ 
	`NLMSG_ALIGN
(“lh)->
∆msg_Àn
)))

	)

85 
	#NLMSG_OK
(
∆h
,
Àn
Ë(÷íË>()(
∆msghdr
) && \

86 (
∆h
)->
∆msg_Àn
 >(
∆msghdr
) && \

87 (
∆h
)->
∆msg_Àn
 <(
Àn
))

	)

88 
	#NLMSG_PAYLOAD
(
∆h
,
Àn
Ë(“lh)->
∆msg_Àn
 - 
	`NLMSG_SPACE
(÷í)))

	)

90 
	#NLMSG_NOOP
 0x1

	)

91 
	#NLMSG_ERROR
 0x2

	)

92 
	#NLMSG_DONE
 0x3

	)

93 
	#NLMSG_OVERRUN
 0x4

	)

95 
	#NLMSG_MIN_TYPE
 0x10

	)

97 
	s∆msgîr


99 
	mîr‹
;

100 
∆msghdr
 
	mmsg
;

103 
	#NETLINK_ADD_MEMBERSHIP
 1

	)

104 
	#NETLINK_DROP_MEMBERSHIP
 2

	)

105 
	#NETLINK_PKTINFO
 3

	)

106 
	#NETLINK_BROADCAST_ERROR
 4

	)

107 
	#NETLINK_NO_ENOBUFS
 5

	)

109 
	s∆_pktöfo


111 
__u32
 
	mgroup
;

114 
	#NET_MAJOR
 36

	)

117 
	mNETLINK_UNCONNECTED
 = 0,

118 
	mNETLINK_CONNECTED
,

130 
	s∆©å


132 
__u16
 
	m∆a_Àn
;

133 
__u16
 
	m∆a_ty≥
;

146 
	#NLA_F_NESTED
 (1 << 15)

	)

147 
	#NLA_F_NET_BYTEORDER
 (1 << 14)

	)

148 
	#NLA_TYPE_MASK
 ~(
NLA_F_NESTED
 | 
NLA_F_NET_BYTEORDER
)

	)

150 
	#NLA_ALIGNTO
 4

	)

151 
	#NLA_ALIGN
(
Àn
Ë((÷íË+ 
NLA_ALIGNTO
 - 1Ë& ~(NLA_ALIGNTO - 1))

	)

152 
	#NLA_HDRLEN
 ((Ë
	`NLA_ALIGN
((
∆©å
)))

	)

	@/usr/include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty≥s.h
>

6 #i‚de‡
__ASSEMBLY__


8 
	~<löux/posix_ty≥s.h
>

16 #ifde‡
__CHECKER__


17 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

19 
	#__bôwi£__


	)

21 #ifde‡
__CHECK_ENDIAN__


22 
	#__bôwi£
 
__bôwi£__


	)

24 
	#__bôwi£


	)

27 
__u16
 
	t__bôwi£
 
	t__À16
;

28 
__u16
 
	t__bôwi£
 
	t__be16
;

29 
__u32
 
	t__bôwi£
 
	t__À32
;

30 
__u32
 
	t__bôwi£
 
	t__be32
;

31 
__u64
 
	t__bôwi£
 
	t__À64
;

32 
__u64
 
	t__bôwi£
 
	t__be64
;

34 
__u16
 
	t__bôwi£
 
	t__sum16
;

35 
__u32
 
	t__bôwi£
 
	t__wsum
;

	@/usr/include/locale.h

23 #i‚def 
_LOCALE_H


24 
	#_LOCALE_H
 1

	)

26 
	~<„©uªs.h
>

28 
	#__√ed_NULL


	)

29 
	~<°ddef.h
>

30 
	~<bôs/loˇÀ.h
>

32 
	g__BEGIN_DECLS


36 
	#LC_CTYPE
 
__LC_CTYPE


	)

37 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

38 
	#LC_TIME
 
__LC_TIME


	)

39 
	#LC_COLLATE
 
__LC_COLLATE


	)

40 
	#LC_MONETARY
 
__LC_MONETARY


	)

41 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

42 
	#LC_ALL
 
__LC_ALL


	)

43 
	#LC_PAPER
 
__LC_PAPER


	)

44 
	#LC_NAME
 
__LC_NAME


	)

45 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

46 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

47 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

48 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

51 
__BEGIN_NAMESPACE_STD


54 
	slc⁄v


58 *
	mdecimÆ_poöt
;

59 *
	mthoußnds_£p
;

65 *
	mgroupög
;

71 *
	möt_cuº_symbﬁ
;

72 *
	mcuºícy_symbﬁ
;

73 *
	mm⁄_decimÆ_poöt
;

74 *
	mm⁄_thoußnds_£p
;

75 *
	mm⁄_groupög
;

76 *
	mposôive_sign
;

77 *
	m√g©ive_sign
;

78 
	möt_‰ac_digôs
;

79 
	m‰ac_digôs
;

81 
	mp_cs_¥e˚des
;

83 
	mp_£p_by_•a˚
;

85 
	mn_cs_¥e˚des
;

87 
	mn_£p_by_•a˚
;

94 
	mp_sign_po¢
;

95 
	mn_sign_po¢
;

96 #ifde‡
__USE_ISOC99


98 
	möt_p_cs_¥e˚des
;

100 
	möt_p_£p_by_•a˚
;

102 
	möt_n_cs_¥e˚des
;

104 
	möt_n_£p_by_•a˚
;

111 
	möt_p_sign_po¢
;

112 
	möt_n_sign_po¢
;

114 
	m__öt_p_cs_¥e˚des
;

115 
	m__öt_p_£p_by_•a˚
;

116 
	m__öt_n_cs_¥e˚des
;

117 
	m__öt_n_£p_by_•a˚
;

118 
	m__öt_p_sign_po¢
;

119 
	m__öt_n_sign_po¢
;

125 *
	$£éoˇÀ
 (
__ˇãg‹y
, 
__c⁄°
 *
__loˇÀ
Ë
__THROW
;

128 
lc⁄v
 *
	$loˇÀc⁄v
 (Ë
__THROW
;

130 
__END_NAMESPACE_STD


133 #ifdef 
__USE_XOPEN2K8


146 
	~<xloˇÀ.h
>

152 
__loˇÀ_t
 
	$√wloˇÀ
 (
__ˇãg‹y_mask
, 
__c⁄°
 *
__loˇÀ
,

153 
__loˇÀ_t
 
__ba£
Ë
__THROW
;

159 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

160 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

161 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

162 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

163 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

164 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

165 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

166 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

167 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

168 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

169 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

170 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

171 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

172 | 
LC_NUMERIC_MASK
 \

173 | 
LC_TIME_MASK
 \

174 | 
LC_COLLATE_MASK
 \

175 | 
LC_MONETARY_MASK
 \

176 | 
LC_MESSAGES_MASK
 \

177 | 
LC_PAPER_MASK
 \

178 | 
LC_NAME_MASK
 \

179 | 
LC_ADDRESS_MASK
 \

180 | 
LC_TELEPHONE_MASK
 \

181 | 
LC_MEASUREMENT_MASK
 \

182 | 
LC_IDENTIFICATION_MASK
 \

183 )

	)

187 
__loˇÀ_t
 
	$du∂oˇÀ
 (
__loˇÀ_t
 
__d©a£t
Ë
__THROW
;

191 
	$‰ìloˇÀ
 (
__loˇÀ_t
 
__d©a£t
Ë
__THROW
;

198 
__loˇÀ_t
 
	$u£loˇÀ
 (
__loˇÀ_t
 
__d©a£t
Ë
__THROW
;

202 
	#LC_GLOBAL_LOCALE
 ((
__loˇÀ_t
Ë-1L)

	)

206 
__END_DECLS


	@/usr/include/memory.h

23 #i‚def 
_MEMORY_H


24 
	#_MEMORY_H
 1

	)

26 
	~<„©uªs.h
>

29 #i‚def 
_STRING_H


30 
	~<°rög.h
>

	@/usr/include/poll.h

1 
	~<sys/pﬁl.h
>

	@/usr/include/pthread.h

20 #i‚de‡
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<ídün.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	#__√ed_sig£t_t


	)

29 
	~<sig«l.h
>

30 
	~<bôs/±hªadty≥s.h
>

31 
	~<bôs/£tjmp.h
>

32 
	~<bôs/w‹dsize.h
>

38 
	mPTHREAD_CREATE_JOINABLE
,

39 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

40 
	mPTHREAD_CREATE_DETACHED


41 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

48 
	mPTHREAD_MUTEX_TIMED_NP
,

49 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

50 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

51 
	mPTHREAD_MUTEX_ADAPTIVE_NP


52 #ifde‡
__USE_UNIX98


54 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

55 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

56 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

57 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


59 #ifde‡
__USE_GNU


61 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


66 #ifde‡
__USE_XOPEN2K


70 
	mPTHREAD_MUTEX_STALLED
,

71 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

72 
	mPTHREAD_MUTEX_ROBUST
,

73 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


78 #ifde‡
__USE_UNIX98


82 
	mPTHREAD_PRIO_NONE
,

83 
	mPTHREAD_PRIO_INHERIT
,

84 
	mPTHREAD_PRIO_PROTECT


90 #i‡
__WORDSIZE
 == 64

91 
	#PTHREAD_MUTEX_INITIALIZER
 \

92 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

93 #ifde‡
__USE_GNU


94 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

98 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

99 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

102 
	#PTHREAD_MUTEX_INITIALIZER
 \

103 { { 0, 0, 0, 0, 0, { 0 } } }

	)

104 #ifde‡
__USE_GNU


105 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

109 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

110 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

116 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


119 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

120 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

121 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

122 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


126 
	#PTHREAD_RWLOCK_INITIALIZER
 \

127 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

128 #ifde‡
__USE_GNU


129 #i‡
__WORDSIZE
 == 64

130 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

132 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

134 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


135 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

136 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

137 0, 0, 0, 0 } }

	)

139 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

140 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

141 0 } }

	)

151 
	mPTHREAD_INHERIT_SCHED
,

152 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

153 
	mPTHREAD_EXPLICIT_SCHED


154 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

161 
	mPTHREAD_SCOPE_SYSTEM
,

162 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

163 
	mPTHREAD_SCOPE_PROCESS


164 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

171 
	mPTHREAD_PROCESS_PRIVATE
,

172 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

173 
	mPTHREAD_PROCESS_SHARED


174 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

180 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*Ë0, 0, 0 } }

	)

184 
	s_±hªad_˛ónup_buf„r


186 (*
	m__routöe
) (*);

187 *
	m__¨g
;

188 
	m__ˇn˚…y≥
;

189 
_±hªad_˛ónup_buf„r
 *
	m__¥ev
;

195 
	mPTHREAD_CANCEL_ENABLE
,

196 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

197 
	mPTHREAD_CANCEL_DISABLE


198 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

202 
	mPTHREAD_CANCEL_DEFERRED
,

203 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

204 
	mPTHREAD_CANCEL_ASYNCHRONOUS


205 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

207 
	#PTHREAD_CANCELED
 ((*Ë-1)

	)

211 
	#PTHREAD_ONCE_INIT
 0

	)

214 #ifde‡
__USE_XOPEN2K


218 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

222 
__BEGIN_DECLS


227 
±hªad_¸óã
 (
±hªad_t
 *
__ª°ri˘
 
__√wthªad
,

228 
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

229 *(*
__°¨t_routöe
) (*),

230 *
__ª°ri˘
 
__¨g
Ë
__THROW
 
__n⁄nuŒ
 ((1, 3));

236 
	$±hªad_exô
 (*
__ªtvÆ
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

244 
	`±hªad_joö
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
);

246 #ifde‡
__USE_GNU


249 
	$±hªad_åyjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
Ë
__THROW
;

257 
	`±hªad_timedjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
,

258 
__c⁄°
 
time•ec
 *
__ab°ime
);

265 
	$±hªad_dëach
 (
±hªad_t
 
__th
Ë
__THROW
;

269 
±hªad_t
 
	$±hªad_£lf
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

272 
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
Ë
__THROW
;

280 
	$±hªad_©å_öô
 (
±hªad_©å_t
 *
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

283 
	$±hªad_©å_de°roy
 (
±hªad_©å_t
 *
__©å
)

284 
__THROW
 
	`__n⁄nuŒ
 ((1));

287 
	$±hªad_©å_gëdëach°©e
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

288 *
__dëach°©e
)

289 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

292 
	$±hªad_©å_£tdëach°©e
 (
±hªad_©å_t
 *
__©å
,

293 
__dëach°©e
)

294 
__THROW
 
	`__n⁄nuŒ
 ((1));

298 
	$±hªad_©å_gëgu¨dsize
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

299 
size_t
 *
__gu¨dsize
)

300 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

303 
	$±hªad_©å_£tgu¨dsize
 (
±hªad_©å_t
 *
__©å
,

304 
size_t
 
__gu¨dsize
)

305 
__THROW
 
	`__n⁄nuŒ
 ((1));

309 
	$±hªad_©å_gësched∑øm
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


310 
__©å
,

311 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

312 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

315 
	$±hªad_©å_£tsched∑øm
 (
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

316 
__c⁄°
 
sched_∑øm
 *
__ª°ri˘


317 
__∑øm
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

320 
	$±hªad_©å_gëschedpﬁicy
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


321 
__©å
, *
__ª°ri˘
 
__pﬁicy
)

322 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

325 
	$±hªad_©å_£tschedpﬁicy
 (
±hªad_©å_t
 *
__©å
, 
__pﬁicy
)

326 
__THROW
 
	`__n⁄nuŒ
 ((1));

329 
	$±hªad_©å_gëöhîôsched
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


330 
__©å
, *
__ª°ri˘
 
__öhîô
)

331 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

334 
	$±hªad_©å_£töhîôsched
 (
±hªad_©å_t
 *
__©å
,

335 
__öhîô
)

336 
__THROW
 
	`__n⁄nuŒ
 ((1));

340 
	$±hªad_©å_gësc›e
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

341 *
__ª°ri˘
 
__sc›e
)

342 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

345 
	$±hªad_©å_£tsc›e
 (
±hªad_©å_t
 *
__©å
, 
__sc›e
)

346 
__THROW
 
	`__n⁄nuŒ
 ((1));

349 
	$±hªad_©å_gë°ackaddr
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


350 
__©å
, **
__ª°ri˘
 
__°ackaddr
)

351 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__©åibuã_dïªˇãd__
;

357 
	$±hªad_©å_£t°ackaddr
 (
±hªad_©å_t
 *
__©å
,

358 *
__°ackaddr
)

359 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
;

362 
	$±hªad_©å_gë°acksize
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


363 
__©å
, 
size_t
 *
__ª°ri˘
 
__°acksize
)

364 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

369 
	$±hªad_©å_£t°acksize
 (
±hªad_©å_t
 *
__©å
,

370 
size_t
 
__°acksize
)

371 
__THROW
 
	`__n⁄nuŒ
 ((1));

373 #ifde‡
__USE_XOPEN2K


375 
	$±hªad_©å_gë°ack
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

376 **
__ª°ri˘
 
__°ackaddr
,

377 
size_t
 *
__ª°ri˘
 
__°acksize
)

378 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

383 
	$±hªad_©å_£t°ack
 (
±hªad_©å_t
 *
__©å
, *
__°ackaddr
,

384 
size_t
 
__°acksize
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

387 #ifde‡
__USE_GNU


390 
	$±hªad_©å_£èfföôy_≈
 (
±hªad_©å_t
 *
__©å
,

391 
size_t
 
__˝u£tsize
,

392 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
)

393 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

397 
	$±hªad_©å_gëafföôy_≈
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

398 
size_t
 
__˝u£tsize
,

399 
˝u_£t_t
 *
__˝u£t
)

400 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

406 
	$±hªad_gë©å_≈
 (
±hªad_t
 
__th
, 
±hªad_©å_t
 *
__©å
)

407 
__THROW
 
	`__n⁄nuŒ
 ((2));

415 
	$±hªad_£tsched∑øm
 (
±hªad_t
 
__èrgë_thªad
, 
__pﬁicy
,

416 
__c⁄°
 
sched_∑øm
 *
__∑øm
)

417 
__THROW
 
	`__n⁄nuŒ
 ((3));

420 
	$±hªad_gësched∑øm
 (
±hªad_t
 
__èrgë_thªad
,

421 *
__ª°ri˘
 
__pﬁicy
,

422 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

423 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

426 
	$±hªad_£tsched¥io
 (
±hªad_t
 
__èrgë_thªad
, 
__¥io
)

427 
__THROW
;

430 #ifde‡
__USE_UNIX98


432 
	$±hªad_gëc⁄cuºícy
 (Ë
__THROW
;

435 
	$±hªad_£tc⁄cuºícy
 (
__Àvñ
Ë
__THROW
;

438 #ifde‡
__USE_GNU


443 
	$±hªad_yõld
 (Ë
__THROW
;

448 
	$±hªad_£èfföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

449 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
)

450 
__THROW
 
	`__n⁄nuŒ
 ((3));

453 
	$±hªad_gëafföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

454 
˝u_£t_t
 *
__˝u£t
)

455 
__THROW
 
	`__n⁄nuŒ
 ((3));

468 
	`±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

469 (*
__öô_routöe
Ë()Ë
	`__n⁄nuŒ
 ((1, 2));

480 
	`±hªad_£tˇn˚l°©e
 (
__°©e
, *
__ﬁd°©e
);

484 
	`±hªad_£tˇn˚…y≥
 (
__ty≥
, *
__ﬁdty≥
);

487 
	`±hªad_ˇn˚l
 (
±hªad_t
 
__th
);

492 
	`±hªad_ã°ˇn˚l
 ();

501 
__jmp_buf
 
__ˇn˚l_jmp_buf
;

502 
__mask_was_ßved
;

503 } 
__ˇn˚l_jmp_buf
[1];

504 *
__∑d
[4];

505 } 
	t__±hªad_unwöd_buf_t
 
	t__©åibuã__
 ((
	t__Æig√d__
));

508 #i‚de‡
__˛ónup_f˘_©åibuã


509 
	#__˛ónup_f˘_©åibuã


	)

514 
	s__±hªad_˛ónup_‰ame


516 (*
__ˇn˚l_routöe
) (*);

517 *
__ˇn˚l_¨g
;

518 
__do_ô
;

519 
__ˇn˚l_ty≥
;

522 #i‡
deföed
 
__GNUC__
 && deföed 
__EXCEPTIONS


523 #ifde‡
__˝lu•lus


525 ˛as†
	c__±hªad_˛ónup_˛ass


527 (*
__ˇn˚l_routöe
) (*);

528 *
__ˇn˚l_¨g
;

529 
__do_ô
;

530 
__ˇn˚l_ty≥
;

532 
public
:

533 
	`__±hªad_˛ónup_˛ass
 ((*
__f˘
Ë(*), *
__¨g
)

534 : 
	`__ˇn˚l_routöe
 (
__f˘
), 
	`__ˇn˚l_¨g
 (
__¨g
), 
	$__do_ô
 (1) { }

535 ~
	$__±hªad_˛ónup_˛ass
 (Ë{ i‡(
__do_ô
Ë
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); 
	}
}

536 
	$__£tdoô
 (
__√wvÆ
Ë{ 
__do_ô
 = __√wvÆ; 
	}
}

537 
	$__de„r
 (Ë{ 
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
,

538 &
__ˇn˚l_ty≥
); 
	}
}

539 
	$__ª°‹e
 (Ëc⁄° { 
	`±hªad_£tˇn˚…y≥
 (
__ˇn˚l_ty≥
, 0); 
	}
}

549 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

551 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
)

	)

555 
	#±hªad_˛ónup_p›
(
execuã
) \

556 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

557 } 0)

	)

559 #ifde‡
__USE_GNU


563 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

565 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
); \

566 
__˛‰ame
.
	`__de„r
 ()

	)

571 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

572 
__˛‰ame
.
	`__ª°‹e
 (); \

573 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

574 } 0)

	)

581 
__exã∫_ölöe
 

582 
	$__±hªad_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
__‰ame
)

584 i‡(
__‰ame
->
__do_ô
)

585 
__‰ame
->
	`__ˇn˚l_routöe
 (__‰ame->
__ˇn˚l_¨g
);

586 
	}
}

595 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

597 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

598 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

599 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

600 .
__do_ô
 = 1 };

	)

604 
	#±hªad_˛ónup_p›
(
execuã
) \

605 
__˛‰ame
.
__do_ô
 = (
execuã
); \

606 } 0)

	)

608 #ifde‡
__USE_GNU


612 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

614 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

615 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

616 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

617 .
__do_ô
 = 1 }; \

618 (Ë
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
, \

619 &
__˛‰ame
.
__ˇn˚l_ty≥
)

	)

624 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

625 (Ë
	`±hªad_£tˇn˚…y≥
 (
__˛‰ame
.
__ˇn˚l_ty≥
, 
NULL
); \

626 
__˛‰ame
.
__do_ô
 = (
execuã
); \

627 } 0)

	)

638 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

640 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

641 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

642 *
__ˇn˚l_¨g
 = (
¨g
); \

643 
nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

644 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

645 i‡(
	`__buûtö_ex≥˘
 (
nŸ_fú°_ˇŒ
, 0)) \

647 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

648 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

652 
	`__±hªad_ªgi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

653 dÿ{

	)

654 
__±hªad_ªgi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

655 
__˛ónup_f˘_©åibuã
;

659 
	#±hªad_˛ónup_p›
(
execuã
) \

662 
	`__±hªad_uƒegi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

663 i‡(
execuã
) \

664 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

665 } 0)

	)

666 
	$__±hªad_uƒegi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

667 
__˛ónup_f˘_©åibuã
;

669 #ifde‡
__USE_GNU


673 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

675 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

676 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

677 *
__ˇn˚l_¨g
 = (
¨g
); \

678 
nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

679 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

680 i‡(
	`__buûtö_ex≥˘
 (
nŸ_fú°_ˇŒ
, 0)) \

682 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

683 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

687 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (&
__ˇn˚l_buf
); \

688 dÿ{

	)

689 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (
__±hªad_unwöd_buf_t
 *
__buf
)

690 
__˛ónup_f˘_©åibuã
;

695 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

698 
	`__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (&
__ˇn˚l_buf
); \

699 i‡(
execuã
) \

700 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

701 
	}
} 0)

	)

702 
	$__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (
__±hªad_unwöd_buf_t
 *
__buf
)

703 
__˛ónup_f˘_©åibuã
;

707 
	$__±hªad_unwöd_√xt
 (
__±hªad_unwöd_buf_t
 *
__buf
)

708 
__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

709 #i‚de‡
SHARED


710 
	`__©åibuã__
 ((
__wók__
))

716 
__jmp_buf_èg
;

717 
	$__sig£tjmp
 (
__jmp_buf_èg
 *
__ív
, 
__ßvemask
Ë
__THROW
;

723 
	$±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

724 
__c⁄°
 
±hªad_muãx©å_t
 *
__muãx©å
)

725 
__THROW
 
	`__n⁄nuŒ
 ((1));

728 
	$±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
)

729 
__THROW
 
	`__n⁄nuŒ
 ((1));

732 
	$±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
)

733 
__THROW
 
	`__n⁄nuŒ
 ((1));

736 
	$±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
)

737 
__THROW
 
	`__n⁄nuŒ
 ((1));

739 #ifde‡
__USE_XOPEN2K


741 
	$±hªad_muãx_timedlock
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

742 
__c⁄°
 
time•ec
 *
__ª°ri˘


743 
__ab°ime
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

747 
	$±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
)

748 
__THROW
 
	`__n⁄nuŒ
 ((1));

751 #ifde‡
__USE_UNIX98


753 
	$±hªad_muãx_gë¥io˚ûög
 (
__c⁄°
 
±hªad_muãx_t
 *

754 
__ª°ri˘
 
__muãx
,

755 *
__ª°ri˘
 
__¥io˚ûög
)

756 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

760 
	$±hªad_muãx_£çrio˚ûög
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

761 
__¥io˚ûög
,

762 *
__ª°ri˘
 
__ﬁd_˚ûög
)

763 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

767 #ifde‡
__USE_XOPEN2K8


769 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

770 
__THROW
 
	`__n⁄nuŒ
 ((1));

771 #ifde‡
__USE_GNU


772 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

773 
__THROW
 
	`__n⁄nuŒ
 ((1));

782 
	$±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
)

783 
__THROW
 
	`__n⁄nuŒ
 ((1));

786 
	$±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
)

787 
__THROW
 
	`__n⁄nuŒ
 ((1));

790 
	$±hªad_muãx©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_muãx©å_t
 *

791 
__ª°ri˘
 
__©å
,

792 *
__ª°ri˘
 
__psh¨ed
)

793 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

796 
	$±hªad_muãx©å_£çsh¨ed
 (
±hªad_muãx©å_t
 *
__©å
,

797 
__psh¨ed
)

798 
__THROW
 
	`__n⁄nuŒ
 ((1));

800 #ifde‡
__USE_UNIX98


802 
	$±hªad_muãx©å_gëty≥
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__ª°ri˘


803 
__©å
, *
__ª°ri˘
 
__köd
)

804 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

809 
	$±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
, 
__köd
)

810 
__THROW
 
	`__n⁄nuŒ
 ((1));

813 
	$±hªad_muãx©å_gë¥Ÿocﬁ
 (
__c⁄°
 
±hªad_muãx©å_t
 *

814 
__ª°ri˘
 
__©å
,

815 *
__ª°ri˘
 
__¥Ÿocﬁ
)

816 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

820 
	$±hªad_muãx©å_£çrŸocﬁ
 (
±hªad_muãx©å_t
 *
__©å
,

821 
__¥Ÿocﬁ
)

822 
__THROW
 
	`__n⁄nuŒ
 ((1));

825 
	$±hªad_muãx©å_gë¥io˚ûög
 (
__c⁄°
 
±hªad_muãx©å_t
 *

826 
__ª°ri˘
 
__©å
,

827 *
__ª°ri˘
 
__¥io˚ûög
)

828 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

831 
	$±hªad_muãx©å_£çrio˚ûög
 (
±hªad_muãx©å_t
 *
__©å
,

832 
__¥io˚ûög
)

833 
__THROW
 
	`__n⁄nuŒ
 ((1));

836 #ifde‡
__USE_XOPEN2K


838 
	$±hªad_muãx©å_gërobu°
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__©å
,

839 *
__robu°√ss
)

840 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

841 #ifde‡
__USE_GNU


842 
	$±hªad_muãx©å_gërobu°_≈
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__©å
,

843 *
__robu°√ss
)

844 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

848 
	$±hªad_muãx©å_£åobu°
 (
±hªad_muãx©å_t
 *
__©å
,

849 
__robu°√ss
)

850 
__THROW
 
	`__n⁄nuŒ
 ((1));

851 #ifde‡
__USE_GNU


852 
	$±hªad_muãx©å_£åobu°_≈
 (
±hªad_muãx©å_t
 *
__©å
,

853 
__robu°√ss
)

854 
__THROW
 
	`__n⁄nuŒ
 ((1));

859 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


864 
	$±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

865 
__c⁄°
 
±hªad_rwlock©å_t
 *
__ª°ri˘


866 
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

869 
	$±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
)

870 
__THROW
 
	`__n⁄nuŒ
 ((1));

873 
	$±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

874 
__THROW
 
	`__n⁄nuŒ
 ((1));

877 
	$±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__n⁄nuŒ
 ((1));

880 #ifde‡
__USE_XOPEN2K


882 
	$±hªad_rwlock_timedrdlock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

883 
__c⁄°
 
time•ec
 *
__ª°ri˘


884 
__ab°ime
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

888 
	$±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
)

889 
__THROW
 
	`__n⁄nuŒ
 ((1));

892 
	$±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
)

893 
__THROW
 
	`__n⁄nuŒ
 ((1));

895 #ifde‡
__USE_XOPEN2K


897 
	$±hªad_rwlock_timedwæock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

898 
__c⁄°
 
time•ec
 *
__ª°ri˘


899 
__ab°ime
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

903 
	$±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
)

904 
__THROW
 
	`__n⁄nuŒ
 ((1));

910 
	$±hªad_rwlock©å_öô
 (
±hªad_rwlock©å_t
 *
__©å
)

911 
__THROW
 
	`__n⁄nuŒ
 ((1));

914 
	$±hªad_rwlock©å_de°roy
 (
±hªad_rwlock©å_t
 *
__©å
)

915 
__THROW
 
	`__n⁄nuŒ
 ((1));

918 
	$±hªad_rwlock©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_rwlock©å_t
 *

919 
__ª°ri˘
 
__©å
,

920 *
__ª°ri˘
 
__psh¨ed
)

921 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

924 
	$±hªad_rwlock©å_£çsh¨ed
 (
±hªad_rwlock©å_t
 *
__©å
,

925 
__psh¨ed
)

926 
__THROW
 
	`__n⁄nuŒ
 ((1));

929 
	$±hªad_rwlock©å_gëköd_≈
 (
__c⁄°
 
±hªad_rwlock©å_t
 *

930 
__ª°ri˘
 
__©å
,

931 *
__ª°ri˘
 
__¥ef
)

932 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

935 
	$±hªad_rwlock©å_£tköd_≈
 (
±hªad_rwlock©å_t
 *
__©å
,

936 
__¥ef
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

944 
	$±hªad_c⁄d_öô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

945 
__c⁄°
 
±hªad_c⁄d©å_t
 *
__ª°ri˘


946 
__c⁄d_©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

949 
	$±hªad_c⁄d_de°roy
 (
±hªad_c⁄d_t
 *
__c⁄d
)

950 
__THROW
 
	`__n⁄nuŒ
 ((1));

953 
	$±hªad_c⁄d_sig«l
 (
±hªad_c⁄d_t
 *
__c⁄d
)

954 
__THROW
 
	`__n⁄nuŒ
 ((1));

957 
	$±hªad_c⁄d_brﬂdˇ°
 (
±hªad_c⁄d_t
 *
__c⁄d
)

958 
__THROW
 
	`__n⁄nuŒ
 ((1));

965 
	$±hªad_c⁄d_waô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

966 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
)

967 
	`__n⁄nuŒ
 ((1, 2));

976 
	$±hªad_c⁄d_timedwaô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

977 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

978 
__c⁄°
 
time•ec
 *
__ª°ri˘


979 
__ab°ime
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

984 
	$±hªad_c⁄d©å_öô
 (
±hªad_c⁄d©å_t
 *
__©å
)

985 
__THROW
 
	`__n⁄nuŒ
 ((1));

988 
	$±hªad_c⁄d©å_de°roy
 (
±hªad_c⁄d©å_t
 *
__©å
)

989 
__THROW
 
	`__n⁄nuŒ
 ((1));

992 
	$±hªad_c⁄d©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_c⁄d©å_t
 *

993 
__ª°ri˘
 
__©å
,

994 *
__ª°ri˘
 
__psh¨ed
)

995 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

998 
	$±hªad_c⁄d©å_£çsh¨ed
 (
±hªad_c⁄d©å_t
 *
__©å
,

999 
__psh¨ed
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1001 #ifde‡
__USE_XOPEN2K


1003 
	$±hªad_c⁄d©å_gë˛ock
 (
__c⁄°
 
±hªad_c⁄d©å_t
 *

1004 
__ª°ri˘
 
__©å
,

1005 
__˛ockid_t
 *
__ª°ri˘
 
__˛ock_id
)

1006 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1009 
	$±hªad_c⁄d©å_£t˛ock
 (
±hªad_c⁄d©å_t
 *
__©å
,

1010 
__˛ockid_t
 
__˛ock_id
)

1011 
__THROW
 
	`__n⁄nuŒ
 ((1));

1015 #ifde‡
__USE_XOPEN2K


1020 
	$±hªad_•ö_öô
 (
±hªad_•ölock_t
 *
__lock
, 
__psh¨ed
)

1021 
__THROW
 
	`__n⁄nuŒ
 ((1));

1024 
	$±hªad_•ö_de°roy
 (
±hªad_•ölock_t
 *
__lock
)

1025 
__THROW
 
	`__n⁄nuŒ
 ((1));

1028 
	$±hªad_•ö_lock
 (
±hªad_•ölock_t
 *
__lock
)

1029 
__THROW
 
	`__n⁄nuŒ
 ((1));

1032 
	$±hªad_•ö_åylock
 (
±hªad_•ölock_t
 *
__lock
)

1033 
__THROW
 
	`__n⁄nuŒ
 ((1));

1036 
	$±hªad_•ö_u∆ock
 (
±hªad_•ölock_t
 *
__lock
)

1037 
__THROW
 
	`__n⁄nuŒ
 ((1));

1044 
	$±hªad_b¨rõr_öô
 (
±hªad_b¨rõr_t
 *
__ª°ri˘
 
__b¨rõr
,

1045 
__c⁄°
 
±hªad_b¨rõøâr_t
 *
__ª°ri˘


1046 
__©å
, 
__cou¡
)

1047 
__THROW
 
	`__n⁄nuŒ
 ((1));

1050 
	$±hªad_b¨rõr_de°roy
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1051 
__THROW
 
	`__n⁄nuŒ
 ((1));

1054 
	$±hªad_b¨rõr_waô
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1055 
__THROW
 
	`__n⁄nuŒ
 ((1));

1059 
	$±hªad_b¨rõøâr_öô
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1060 
__THROW
 
	`__n⁄nuŒ
 ((1));

1063 
	$±hªad_b¨rõøâr_de°roy
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1064 
__THROW
 
	`__n⁄nuŒ
 ((1));

1067 
	$±hªad_b¨rõøâr_gëpsh¨ed
 (
__c⁄°
 
±hªad_b¨rõøâr_t
 *

1068 
__ª°ri˘
 
__©å
,

1069 *
__ª°ri˘
 
__psh¨ed
)

1070 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1073 
	$±hªad_b¨rõøâr_£çsh¨ed
 (
±hªad_b¨rõøâr_t
 *
__©å
,

1074 
__psh¨ed
)

1075 
__THROW
 
	`__n⁄nuŒ
 ((1));

1087 
	`±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

1088 (*
__de°r_fun˘i⁄
) (*))

1089 
__THROW
 
	`__n⁄nuŒ
 ((1));

1092 
	$±hªad_key_dñëe
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1095 *
	$±hªad_gë•ecific
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1098 
	$±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

1099 
__c⁄°
 *
__poöãr
Ë
__THROW
 ;

1102 #ifde‡
__USE_XOPEN2K


1104 
	$±hªad_gë˝u˛ockid
 (
±hªad_t
 
__thªad_id
,

1105 
__˛ockid_t
 *
__˛ock_id
)

1106 
__THROW
 
	`__n⁄nuŒ
 ((2));

1121 
	`±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1122 (*
__∑ª¡
) (),

1123 (*
__chûd
Ë()Ë
__THROW
;

1126 #ifde‡
__USE_EXTERN_INLINES


1128 
__exã∫_ölöe
 

1129 
	`__NTH
 (
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
))

1131  
__thªad1
 =
__thªad2
;

1132 
	}
}

1135 
	g__END_DECLS


	@/usr/include/signal.h

23 #i‚def 
_SIGNAL_H


25 #i‡!
deföed
 
__√ed_sig_©omic_t
 && !deföed 
__√ed_sig£t_t


26 
	#_SIGNAL_H


	)

29 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


33 
	~<bôs/sig£t.h
>

37 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
_SIGNAL_H


38 #i‚de‡
__sig_©omic_t_deföed


39 
	#__sig_©omic_t_deföed


	)

40 
__BEGIN_NAMESPACE_STD


41 
__sig_©omic_t
 
	tsig_©omic_t
;

42 
	g__END_NAMESPACE_STD


44 #unde‡
__√ed_sig_©omic_t


47 #i‡
deföed
 
__√ed_sig£t_t
 || (deföed 
_SIGNAL_H
 && deföed 
__USE_POSIX
)

48 #i‚de‡
__sig£t_t_deföed


49 
	#__sig£t_t_deföed


	)

50 
__sig£t_t
 
	tsig£t_t
;

52 #unde‡
__√ed_sig£t_t


55 #ifde‡
_SIGNAL_H


57 
	~<bôs/ty≥s.h
>

58 
	~<bôs/signum.h
>

60 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


61 #i‚de‡
__pid_t_deföed


62 
__pid_t
 
	tpid_t
;

63 
	#__pid_t_deföed


	)

65 #ifde‡
__USE_XOPEN


67 #i‚de‡
__uid_t_deföed


68 
__uid_t
 
	tuid_t
;

69 
	#__uid_t_deföed


	)

73 #ifde‡
__USE_POSIX199309


75 
	#__√ed_time•ec


	)

76 
	~<time.h
>

79 
	~<bôs/sigöfo.h
>

84 (*
	t__sigh™dÀr_t
) ();

89 
__sigh™dÀr_t
 
	$__sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

90 
__THROW
;

91 #ifde‡
__USE_GNU


92 
__sigh™dÀr_t
 
	$sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

93 
__THROW
;

99 
__BEGIN_NAMESPACE_STD


100 #ifde‡
__USE_BSD


101 
__sigh™dÀr_t
 
	$sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

102 
__THROW
;

105 #ifde‡
__REDIRECT_NTH


106 
__sigh™dÀr_t
 
	`__REDIRECT_NTH
 (
sig«l
,

107 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
),

108 
__sysv_sig«l
);

110 
	#sig«l
 
__sysv_sig«l


	)

113 
__END_NAMESPACE_STD


115 #ifde‡
__USE_XOPEN


118 
__sigh™dÀr_t
 
	$bsd_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

119 
__THROW
;

125 #ifde‡
__USE_POSIX


126 
	$kûl
 (
__pid_t
 
__pid
, 
__sig
Ë
__THROW
;

129 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


133 
	$kûÕg
 (
__pid_t
 
__pgΩ
, 
__sig
Ë
__THROW
;

136 
__BEGIN_NAMESPACE_STD


138 
	$øi£
 (
__sig
Ë
__THROW
;

139 
__END_NAMESPACE_STD


141 #ifde‡
__USE_SVID


143 
__sigh™dÀr_t
 
	$ssig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

144 
__THROW
;

145 
	$gsig«l
 (
__sig
Ë
__THROW
;

148 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K


150 
	`psig«l
 (
__sig
, 
__c⁄°
 *
__s
);

153 #ifde‡
__USE_XOPEN2K


155 
	`psigöfo
 (
__c⁄°
 
sigöfo_t
 *
__pöfo
, __c⁄° *
__s
);

168 
	`__sig∑u£
 (
__sig_‹_mask
, 
__is_sig
);

170 #ifde‡
__FAVOR_BSD


173 
	$sig∑u£
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

175 #ifde‡
__USE_XOPEN


176 #ifde‡
__GNUC__


177 
	$sig∑u£
 (
__sig
Ë
	`__asm__
 ("__xpg_sigpause");

180 
	#sig∑u£
(
sig
Ë
	`__sig∑u£
 ((sig), 1)

	)

186 #ifde‡
__USE_BSD


193 
	#sigmask
(
sig
Ë
	`__sigmask
(sig)

	)

196 
	$sigblock
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

199 
	$sig£tmask
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

202 
	$siggëmask
 (Ë
__THROW
 
__©åibuã_dïªˇãd__
;

206 #ifde‡
__USE_MISC


207 
	#NSIG
 
_NSIG


	)

210 #ifde‡
__USE_GNU


211 
__sigh™dÀr_t
 
	tsigh™dÀr_t
;

215 #ifde‡
__USE_BSD


216 
__sigh™dÀr_t
 
	tsig_t
;

219 #ifde‡
__USE_POSIX


222 
	$sigem±y£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

225 
	$sigfûl£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

228 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

231 
	$sigdñ£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

234 
	$sigismembî
 (
__c⁄°
 
sig£t_t
 *
__£t
, 
__signo
)

235 
__THROW
 
	`__n⁄nuŒ
 ((1));

237 #ifde‡
__USE_GNU


239 
	$sigi£m±y£t
 (
__c⁄°
 
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

242 
	$sig™d£t
 (
sig£t_t
 *
__£t
, 
__c⁄°
 sig£t_à*
__À·
,

243 
__c⁄°
 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

246 
	$sig‹£t
 (
sig£t_t
 *
__£t
, 
__c⁄°
 sig£t_à*
__À·
,

247 
__c⁄°
 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

252 
	~<bôs/siga˘i⁄.h
>

255 
	$sig¥ocmask
 (
__how
, 
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

256 
sig£t_t
 *
__ª°ri˘
 
__o£t
Ë
__THROW
;

263 
	$sigsu•íd
 (
__c⁄°
 
sig£t_t
 *
__£t
Ë
	`__n⁄nuŒ
 ((1));

266 
	$siga˘i⁄
 (
__sig
, 
__c⁄°
 
siga˘i⁄
 *
__ª°ri˘
 
__a˘
,

267 
siga˘i⁄
 *
__ª°ri˘
 
__ﬂ˘
Ë
__THROW
;

270 
	$sig≥ndög
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

277 
	$sigwaô
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
, *__ª°ri˘ 
__sig
)

278 
	`__n⁄nuŒ
 ((1, 2));

280 #ifde‡
__USE_POSIX199309


285 
	$sigwaôöfo
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

286 
sigöfo_t
 *
__ª°ri˘
 
__öfo
Ë
	`__n⁄nuŒ
 ((1));

293 
	$sigtimedwaô
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

294 
sigöfo_t
 *
__ª°ri˘
 
__öfo
,

295 
__c⁄°
 
time•ec
 *
__ª°ri˘
 
__timeout
)

296 
	`__n⁄nuŒ
 ((1));

300 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, 
__c⁄°
 
sigvÆ
 
__vÆ
)

301 
__THROW
;

306 #ifde‡
__USE_BSD


310 
__c⁄°
 *__c⁄° 
_sys_sigli°
[
_NSIG
];

311 
__c⁄°
 *__c⁄° 
sys_sigli°
[
_NSIG
];

314 
	ssigvec


316 
__sigh™dÀr_t
 
sv_h™dÀr
;

317 
sv_mask
;

319 
sv_Êags
;

320 
	#sv_⁄°ack
 
sv_Êags


	)

324 
	#SV_ONSTACK
 (1 << 0)

	)

325 
	#SV_INTERRUPT
 (1 << 1)

	)

326 
	#SV_RESETHAND
 (1 << 2)

	)

334 
	$sigvec
 (
__sig
, 
__c⁄°
 
sigvec
 *
__vec
,

335 
sigvec
 *
__ovec
Ë
__THROW
;

339 
	~<bôs/sigc⁄ãxt.h
>

342 
	$sigªtu∫
 (
sigc⁄ãxt
 *
__s˝
Ë
__THROW
;

347 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


348 
	#__√ed_size_t


	)

349 
	~<°ddef.h
>

354 
	$sigöãºu±
 (
__sig
, 
__öãºu±
Ë
__THROW
;

356 
	~<bôs/sig°ack.h
>

357 #ifde‡
__USE_XOPEN


359 
	~<sys/uc⁄ãxt.h
>

365 
	$sig°ack
 (
sig°ack
 *
__ss
, sig°ack *
__oss
)

366 
__THROW
 
__©åibuã_dïªˇãd__
;

370 
	$sigÆt°ack
 (
__c⁄°
 
sigÆt°ack
 *
__ª°ri˘
 
__ss
,

371 
sigÆt°ack
 *
__ª°ri˘
 
__oss
Ë
__THROW
;

375 #ifde‡
__USE_XOPEN_EXTENDED


379 
	$sighﬁd
 (
__sig
Ë
__THROW
;

382 
	$sigªl£
 (
__sig
Ë
__THROW
;

385 
	$sigign‹e
 (
__sig
Ë
__THROW
;

388 
__sigh™dÀr_t
 
	$sig£t
 (
__sig
, 
__sigh™dÀr_t
 
__di•
Ë
__THROW
;

391 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


394 
	~<bôs/±hªadty≥s.h
>

395 
	~<bôs/sigthªad.h
>

402 
	$__libc_cuºít_sigπmö
 (Ë
__THROW
;

404 
	$__libc_cuºít_sigπmax
 (Ë
__THROW
;

408 
__END_DECLS


	@/usr/include/stdint.h

23 #i‚de‡
_STDINT_H


24 
	#_STDINT_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/wch¨.h
>

28 
	~<bôs/w‹dsize.h
>

35 #i‚de‡
__öt8_t_deföed


36 
	#__öt8_t_deföed


	)

37 sig√d 
	töt8_t
;

38 
	töt16_t
;

39 
	töt32_t
;

40 #i‡
__WORDSIZE
 == 64

41 
	töt64_t
;

43 
__exãnsi⁄__


44 
	töt64_t
;

49 
	tuöt8_t
;

50 
	tuöt16_t
;

51 #i‚de‡
__uöt32_t_deföed


52 
	tuöt32_t
;

53 
	#__uöt32_t_deföed


	)

55 #i‡
__WORDSIZE
 == 64

56 
	tuöt64_t
;

58 
__exãnsi⁄__


59 
	tuöt64_t
;

66 sig√d 
	töt_Àa°8_t
;

67 
	töt_Àa°16_t
;

68 
	töt_Àa°32_t
;

69 #i‡
__WORDSIZE
 == 64

70 
	töt_Àa°64_t
;

72 
__exãnsi⁄__


73 
	töt_Àa°64_t
;

77 
	tuöt_Àa°8_t
;

78 
	tuöt_Àa°16_t
;

79 
	tuöt_Àa°32_t
;

80 #i‡
__WORDSIZE
 == 64

81 
	tuöt_Àa°64_t
;

83 
__exãnsi⁄__


84 
	tuöt_Àa°64_t
;

91 sig√d 
	töt_Á°8_t
;

92 #i‡
__WORDSIZE
 == 64

93 
	töt_Á°16_t
;

94 
	töt_Á°32_t
;

95 
	töt_Á°64_t
;

97 
	töt_Á°16_t
;

98 
	töt_Á°32_t
;

99 
__exãnsi⁄__


100 
	töt_Á°64_t
;

104 
	tuöt_Á°8_t
;

105 #i‡
__WORDSIZE
 == 64

106 
	tuöt_Á°16_t
;

107 
	tuöt_Á°32_t
;

108 
	tuöt_Á°64_t
;

110 
	tuöt_Á°16_t
;

111 
	tuöt_Á°32_t
;

112 
__exãnsi⁄__


113 
	tuöt_Á°64_t
;

118 #i‡
__WORDSIZE
 == 64

119 #i‚de‡
__öçå_t_deföed


120 
	töçå_t
;

121 
	#__öçå_t_deföed


	)

123 
	tuöçå_t
;

125 #i‚de‡
__öçå_t_deföed


126 
	töçå_t
;

127 
	#__öçå_t_deföed


	)

129 
	tuöçå_t
;

134 #i‡
__WORDSIZE
 == 64

135 
	tötmax_t
;

136 
	tuötmax_t
;

138 
__exãnsi⁄__


139 
	tötmax_t
;

140 
__exãnsi⁄__


141 
	tuötmax_t
;

147 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_LIMIT_MACROS


149 #i‡
__WORDSIZE
 == 64

150 
	#__INT64_C
(
c
Ë¯## 
L


	)

151 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

153 
	#__INT64_C
(
c
Ë¯## 
LL


	)

154 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

160 
	#INT8_MIN
 (-128)

	)

161 
	#INT16_MIN
 (-32767-1)

	)

162 
	#INT32_MIN
 (-2147483647-1)

	)

163 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

165 
	#INT8_MAX
 (127)

	)

166 
	#INT16_MAX
 (32767)

	)

167 
	#INT32_MAX
 (2147483647)

	)

168 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

171 
	#UINT8_MAX
 (255)

	)

172 
	#UINT16_MAX
 (65535)

	)

173 
	#UINT32_MAX
 (4294967295U)

	)

174 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

178 
	#INT_LEAST8_MIN
 (-128)

	)

179 
	#INT_LEAST16_MIN
 (-32767-1)

	)

180 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

181 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

183 
	#INT_LEAST8_MAX
 (127)

	)

184 
	#INT_LEAST16_MAX
 (32767)

	)

185 
	#INT_LEAST32_MAX
 (2147483647)

	)

186 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

189 
	#UINT_LEAST8_MAX
 (255)

	)

190 
	#UINT_LEAST16_MAX
 (65535)

	)

191 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

192 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

196 
	#INT_FAST8_MIN
 (-128)

	)

197 #i‡
__WORDSIZE
 == 64

198 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

199 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

201 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

202 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

204 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

206 
	#INT_FAST8_MAX
 (127)

	)

207 #i‡
__WORDSIZE
 == 64

208 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

209 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

211 
	#INT_FAST16_MAX
 (2147483647)

	)

212 
	#INT_FAST32_MAX
 (2147483647)

	)

214 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

217 
	#UINT_FAST8_MAX
 (255)

	)

218 #i‡
__WORDSIZE
 == 64

219 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

220 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

222 
	#UINT_FAST16_MAX
 (4294967295U)

	)

223 
	#UINT_FAST32_MAX
 (4294967295U)

	)

225 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

229 #i‡
__WORDSIZE
 == 64

230 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

231 
	#INTPTR_MAX
 (9223372036854775807L)

	)

232 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

234 
	#INTPTR_MIN
 (-2147483647-1)

	)

235 
	#INTPTR_MAX
 (2147483647)

	)

236 
	#UINTPTR_MAX
 (4294967295U)

	)

241 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

243 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

246 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

252 #i‡
__WORDSIZE
 == 64

253 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

254 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

256 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

257 
	#PTRDIFF_MAX
 (2147483647)

	)

261 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

262 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

265 #i‡
__WORDSIZE
 == 64

266 
	#SIZE_MAX
 (18446744073709551615UL)

	)

268 
	#SIZE_MAX
 (4294967295U)

	)

272 #i‚de‡
WCHAR_MIN


274 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

275 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

279 
	#WINT_MIN
 (0u)

	)

280 
	#WINT_MAX
 (4294967295u)

	)

287 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_CONSTANT_MACROS


290 
	#INT8_C
(
c
Ë
	)
c

291 
	#INT16_C
(
c
Ë
	)
c

292 
	#INT32_C
(
c
Ë
	)
c

293 #i‡
__WORDSIZE
 == 64

294 
	#INT64_C
(
c
Ë¯## 
L


	)

296 
	#INT64_C
(
c
Ë¯## 
LL


	)

300 
	#UINT8_C
(
c
Ë
	)
c

301 
	#UINT16_C
(
c
Ë
	)
c

302 
	#UINT32_C
(
c
Ë¯## 
U


	)

303 #i‡
__WORDSIZE
 == 64

304 
	#UINT64_C
(
c
Ë¯## 
UL


	)

306 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

310 #i‡
__WORDSIZE
 == 64

311 
	#INTMAX_C
(
c
Ë¯## 
L


	)

312 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

314 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

315 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

24 #i‚de‡
_STDIO_H


26 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


32 
	#__√ed_size_t


	)

33 
	#__√ed_NULL


	)

34 
	~<°ddef.h
>

36 
	~<bôs/ty≥s.h
>

37 
	#__√ed_FILE


	)

38 
	#__√ed___FILE


	)

42 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_SVID
 || deföed 
__USE_POSIX
 \

52 || 
deföed
 
	g__USE_BSD
 || deföed 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

53 || 
deföed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_deföed
 1

	)

59 #unde‡
__√ed_FILE


62 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_deföed
 1

	)

69 #unde‡
__√ed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #ifde‡
__USE_XOPEN


78 #ifde‡
__GNUC__


79 #i‚de‡
_VA_LIST_DEFINED


80 
_G_va_li°
 
	tva_li°
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<°d¨g.h
>

89 
__BEGIN_NAMESPACE_STD


90 #i‚de‡
__USE_FILE_OFFSET64


91 
_G_Âos_t
 
	tÂos_t
;

93 
_G_Âos64_t
 
	tÂos_t
;

95 
__END_NAMESPACE_STD


96 #ifde‡
__USE_LARGEFILE64


97 
_G_Âos64_t
 
	tÂos64_t
;

101 
	#_IOFBF
 0

	)

102 
	#_IOLBF
 1

	)

103 
	#_IONBF
 2

	)

107 #i‚de‡
BUFSIZ


108 
	#BUFSIZ
 
_IO_BUFSIZ


	)

114 #i‚de‡
EOF


115 
	#EOF
 (-1)

	)

121 
	#SEEK_SET
 0

	)

122 
	#SEEK_CUR
 1

	)

123 
	#SEEK_END
 2

	)

126 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


128 
	#P_tmpdú
 "/tmp"

	)

141 
	~<bôs/°dio_lim.h
>

145 
_IO_FILE
 *
°dö
;

146 
_IO_FILE
 *
°dout
;

147 
_IO_FILE
 *
°dîr
;

149 
	#°dö
 
°dö


	)

150 
	#°dout
 
°dout


	)

151 
	#°dîr
 
°dîr


	)

153 
__BEGIN_NAMESPACE_STD


155 
	$ªmove
 (
__c⁄°
 *
__fûíame
Ë
__THROW
;

157 
	$ª«me
 (
__c⁄°
 *
__ﬁd
, __c⁄° *
__√w
Ë
__THROW
;

158 
__END_NAMESPACE_STD


160 #ifde‡
__USE_ATFILE


162 
	$ª«mót
 (
__ﬁdfd
, 
__c⁄°
 *
__ﬁd
, 
__√wfd
,

163 
__c⁄°
 *
__√w
Ë
__THROW
;

166 
__BEGIN_NAMESPACE_STD


171 #i‚de‡
__USE_FILE_OFFSET64


172 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

174 #ifde‡
__REDIRECT


175 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

177 
	#tmpfûe
 
tmpfûe64


	)

181 #ifde‡
__USE_LARGEFILE64


182 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

186 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

187 
__END_NAMESPACE_STD


189 #ifde‡
__USE_MISC


192 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

196 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


204 *
	$ãm≤am
 (
__c⁄°
 *
__dú
, __c⁄° *
__pfx
)

205 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

209 
__BEGIN_NAMESPACE_STD


214 
	`f˛o£
 (
FILE
 *
__°ªam
);

219 
	`fÊush
 (
FILE
 *
__°ªam
);

220 
__END_NAMESPACE_STD


222 #ifde‡
__USE_MISC


229 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

232 #ifde‡
__USE_GNU


239 
	`f˛o£Æl
 ();

243 
__BEGIN_NAMESPACE_STD


244 #i‚de‡
__USE_FILE_OFFSET64


249 
FILE
 *
	$f›í
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

250 
__c⁄°
 *
__ª°ri˘
 
__modes
Ë
__wur
;

255 
FILE
 *
	$‰e›í
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

256 
__c⁄°
 *
__ª°ri˘
 
__modes
,

257 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

259 #ifde‡
__REDIRECT


260 
FILE
 *
	`__REDIRECT
 (
f›í
, (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

261 
__c⁄°
 *
__ª°ri˘
 
__modes
), 
f›í64
)

262 
__wur
;

263 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

264 
__c⁄°
 *
__ª°ri˘
 
__modes
,

265 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

266 
__wur
;

268 
	#f›í
 
f›í64


	)

269 
	#‰e›í
 
‰e›í64


	)

272 
__END_NAMESPACE_STD


273 #ifde‡
__USE_LARGEFILE64


274 
FILE
 *
	$f›í64
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

275 
__c⁄°
 *
__ª°ri˘
 
__modes
Ë
__wur
;

276 
FILE
 *
	$‰e›í64
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

277 
__c⁄°
 *
__ª°ri˘
 
__modes
,

278 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

281 #ifdef 
__USE_POSIX


283 
FILE
 *
	$fd›í
 (
__fd
, 
__c⁄°
 *
__modes
Ë
__THROW
 
__wur
;

286 #ifdef 
__USE_GNU


289 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

290 
__c⁄°
 *
__ª°ri˘
 
__modes
,

291 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

294 #ifde‡
__USE_XOPEN2K8


296 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, 
__c⁄°
 *
__modes
)

297 
__THROW
 
__wur
;

302 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

306 
__BEGIN_NAMESPACE_STD


309 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

313 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

314 
__modes
, 
size_t
 
__n
Ë
__THROW
;

315 
__END_NAMESPACE_STD


317 #ifdef 
__USE_BSD


320 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

321 
size_t
 
__size
Ë
__THROW
;

324 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

328 
__BEGIN_NAMESPACE_STD


333 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

334 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

339 
	`¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

341 
	$•rötf
 (*
__ª°ri˘
 
__s
,

342 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

348 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

349 
_G_va_li°
 
__¨g
);

354 
	`v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

356 
	$v•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

357 
_G_va_li°
 
__¨g
Ë
__THROW
;

358 
__END_NAMESPACE_STD


360 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


361 
__BEGIN_NAMESPACE_C99


363 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

364 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...)

365 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

367 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

368 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

369 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

370 
__END_NAMESPACE_C99


373 #ifde‡
__USE_GNU


376 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__f
,

377 
_G_va_li°
 
__¨g
)

378 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

379 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

380 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

381 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

382 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

383 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

384 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

387 #ifde‡
__USE_XOPEN2K8


394 
	$vd¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
,

395 
_G_va_li°
 
__¨g
)

396 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

397 
	$d¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

398 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

402 
__BEGIN_NAMESPACE_STD


407 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

408 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

413 
	$sˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

415 
	$ssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

416 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

418 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

419 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

420 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

421 #ifde‡
__REDIRECT


425 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

426 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

427 
__isoc99_fsˇnf
Ë
__wur
;

428 
	`__REDIRECT
 (
sˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

429 
__isoc99_sˇnf
Ë
__wur
;

430 
	`__REDIRECT
 (
ssˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__s
,

431 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

432 
__isoc99_ssˇnf
Ë
__THROW
;

434 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

435 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

436 
	$__isoc99_sˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

437 
	$__isoc99_ssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

438 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

439 
	#fsˇnf
 
__isoc99_fsˇnf


	)

440 
	#sˇnf
 
__isoc99_sˇnf


	)

441 
	#ssˇnf
 
__isoc99_ssˇnf


	)

445 
__END_NAMESPACE_STD


447 #ifdef 
__USE_ISOC99


448 
__BEGIN_NAMESPACE_C99


453 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

454 
_G_va_li°
 
__¨g
)

455 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

461 
	$vsˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

462 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

465 
	$vssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

466 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

467 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

469 #i‡!
deföed
 
__USE_GNU
 \

470 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

471 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

472 #ifde‡
__REDIRECT


476 
	`__REDIRECT
 (
vfsˇnf
,

477 (
FILE
 *
__ª°ri˘
 
__s
,

478 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

479 
__isoc99_vfsˇnf
)

480 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

481 
	`__REDIRECT
 (
vsˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

482 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

483 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

484 
	`__REDIRECT
 (
vssˇnf
,

485 (
__c⁄°
 *
__ª°ri˘
 
__s
,

486 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

487 
__isoc99_vssˇnf
)

488 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

490 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

491 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

492 
_G_va_li°
 
__¨g
Ë
__wur
;

493 
	$__isoc99_vsˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

494 
_G_va_li°
 
__¨g
Ë
__wur
;

495 
	$__isoc99_vssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

496 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

497 
_G_va_li°
 
__¨g
Ë
__THROW
;

498 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

499 
	#vsˇnf
 
__isoc99_vsˇnf


	)

500 
	#vssˇnf
 
__isoc99_vssˇnf


	)

504 
__END_NAMESPACE_C99


508 
__BEGIN_NAMESPACE_STD


513 
	`fgëc
 (
FILE
 *
__°ªam
);

514 
	`gëc
 (
FILE
 *
__°ªam
);

520 
	`gëch¨
 ();

521 
__END_NAMESPACE_STD


525 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

527 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


532 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

533 
	`gëch¨_u∆ocked
 ();

536 #ifde‡
__USE_MISC


543 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

547 
__BEGIN_NAMESPACE_STD


555 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

556 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

562 
	`putch¨
 (
__c
);

563 
__END_NAMESPACE_STD


567 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

569 #ifde‡
__USE_MISC


576 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

579 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


584 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

585 
	`putch¨_u∆ocked
 (
__c
);

589 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 \

590 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

592 
	`gëw
 (
FILE
 *
__°ªam
);

595 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

599 
__BEGIN_NAMESPACE_STD


604 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

605 
__wur
;

612 *
	$gës
 (*
__s
Ë
__wur
;

613 
__END_NAMESPACE_STD


615 #ifde‡
__USE_GNU


622 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

623 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

627 #ifdef 
__USE_XOPEN2K8


638 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

639 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

640 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

641 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

642 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

643 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

651 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

652 
size_t
 *
__ª°ri˘
 
__n
,

653 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

657 
__BEGIN_NAMESPACE_STD


662 
	`Âuts
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

668 
	`puts
 (
__c⁄°
 *
__s
);

675 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

682 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

683 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

688 
size_t
 
	`fwrôe
 (
__c⁄°
 *
__ª°ri˘
 
__±r
, size_à
__size
,

689 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

690 
__END_NAMESPACE_STD


692 #ifde‡
__USE_GNU


699 
	`Âuts_u∆ocked
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

700 
FILE
 *
__ª°ri˘
 
__°ªam
);

703 #ifde‡
__USE_MISC


710 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

711 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

712 
size_t
 
	`fwrôe_u∆ocked
 (
__c⁄°
 *
__ª°ri˘
 
__±r
, size_à
__size
,

713 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

717 
__BEGIN_NAMESPACE_STD


722 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

727 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

732 
	`ªwöd
 (
FILE
 *
__°ªam
);

733 
__END_NAMESPACE_STD


740 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


741 #i‚de‡
__USE_FILE_OFFSET64


746 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

751 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

753 #ifde‡
__REDIRECT


754 
	`__REDIRECT
 (
f£eko
,

755 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

756 
f£eko64
);

757 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

759 
	#f£eko
 
f£eko64


	)

760 
	#·ñlo
 
·ñlo64


	)

765 
__BEGIN_NAMESPACE_STD


766 #i‚de‡
__USE_FILE_OFFSET64


771 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

776 
	`f£ços
 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos_t
 *
__pos
);

778 #ifde‡
__REDIRECT


779 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

780 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

781 
	`__REDIRECT
 (
f£ços
,

782 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos_t
 *
__pos
), 
f£ços64
);

784 
	#fgëpos
 
fgëpos64


	)

785 
	#f£ços
 
f£ços64


	)

788 
__END_NAMESPACE_STD


790 #ifde‡
__USE_LARGEFILE64


791 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

792 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

793 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

794 
	`f£ços64
 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos64_t
 *
__pos
);

797 
__BEGIN_NAMESPACE_STD


799 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

801 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

803 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

804 
__END_NAMESPACE_STD


806 #ifde‡
__USE_MISC


808 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

809 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

810 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

814 
__BEGIN_NAMESPACE_STD


819 
	`≥º‹
 (
__c⁄°
 *
__s
);

820 
__END_NAMESPACE_STD


826 
	~<bôs/sys_îæi°.h
>

829 #ifdef 
__USE_POSIX


831 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

834 #ifde‡
__USE_MISC


836 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

840 #i‡(
deföed
 
__USE_POSIX2
 || deföed 
__USE_SVID
 || deföed 
__USE_BSD
 || \

841 
deföed
 
__USE_MISC
)

846 
FILE
 *
	$p›í
 (
__c⁄°
 *
__comm™d
, __c⁄° *
__modes
Ë
__wur
;

852 
	`p˛o£
 (
FILE
 *
__°ªam
);

856 #ifdef 
__USE_POSIX


858 *
	$˘îmid
 (*
__s
Ë
__THROW
;

862 #ifde‡
__USE_XOPEN


864 *
	`cu£rid
 (*
__s
);

868 #ifdef 
__USE_GNU


869 
ob°ack
;

872 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

873 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...)

874 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

875 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

876 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

877 
_G_va_li°
 
__¨gs
)

878 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

882 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


886 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

890 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

893 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

896 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


900 
	#__√ed_gë›t


	)

901 
	~<gë›t.h
>

906 #ifde‡
__USE_EXTERN_INLINES


907 
	~<bôs/°dio.h
>

909 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


910 
	~<bôs/°dio2.h
>

912 #ifde‡
__LDBL_COMPAT


913 
	~<bôs/°dio-ldbl.h
>

916 
__END_DECLS


	@/usr/include/stdlib.h

23 #i‚def 
_STDLIB_H


25 
	~<„©uªs.h
>

28 
	#__√ed_size_t


	)

29 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


30 
	#__√ed_wch¨_t


	)

31 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	g__BEGIN_DECLS


37 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


38 
	#_STDLIB_H
 1

	)

40 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
_SYS_WAIT_H


42 
	~<bôs/waôÊags.h
>

43 
	~<bôs/waô°©us.h
>

45 #ifde‡
__USE_BSD


50 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


51 
	#__WAIT_INT
(
°©us
) \

52 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

53 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

55 
	#__WAIT_INT
(
°©us
Ë(*(*Ë&(°©us))

	)

63 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


64 
	#__WAIT_STATUS
 *

	)

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
waô
 *
	m__u±r
;

71 *
	m__ùå
;

72 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

73 
	#__WAIT_STATUS_DEFN
 *

	)

78 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

79 
	#__WAIT_STATUS
 *

	)

80 
	#__WAIT_STATUS_DEFN
 *

	)

85 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

88 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

89 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

90 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

91 #ifde‡
__WIFCONTINUED


92 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

96 
__BEGIN_NAMESPACE_STD


100 
	mquŸ
;

101 
	mªm
;

102 } 
	tdiv_t
;

105 #i‚de‡
__ldiv_t_deföed


108 
	mquŸ
;

109 
	mªm
;

110 } 
	tldiv_t
;

111 
	#__ldiv_t_deföed
 1

	)

113 
	g__END_NAMESPACE_STD


115 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


116 
__BEGIN_NAMESPACE_C99


118 
__exãnsi⁄__
 struct

120 
	mquŸ
;

121 
	mªm
;

122 } 
	tŒdiv_t
;

123 
	#__Œdiv_t_deföed
 1

	)

124 
	g__END_NAMESPACE_C99


129 
	#RAND_MAX
 2147483647

	)

134 
	#EXIT_FAILURE
 1

	)

135 
	#EXIT_SUCCESS
 0

	)

139 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

140 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

143 
__BEGIN_NAMESPACE_STD


145 
	$©of
 (
__c⁄°
 *
__≈å
)

146 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

148 
	$©oi
 (
__c⁄°
 *
__≈å
)

149 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

151 
	$©ﬁ
 (
__c⁄°
 *
__≈å
)

152 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

153 
__END_NAMESPACE_STD


155 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

156 
__BEGIN_NAMESPACE_C99


158 
__exãnsi⁄__
 
	$©ﬁl
 (
__c⁄°
 *
__≈å
)

159 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

160 
__END_NAMESPACE_C99


163 
__BEGIN_NAMESPACE_STD


165 
	$°πod
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

166 **
__ª°ri˘
 
__íd±r
)

167 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

168 
__END_NAMESPACE_STD


170 #ifdef 
__USE_ISOC99


171 
__BEGIN_NAMESPACE_C99


173 
	$°πof
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

174 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

176 
	$°πﬁd
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

177 **
__ª°ri˘
 
__íd±r
)

178 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

179 
__END_NAMESPACE_C99


182 
__BEGIN_NAMESPACE_STD


184 
	$°πﬁ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

185 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

186 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

188 
	$°πoul
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

189 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

190 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

191 
__END_NAMESPACE_STD


193 #i‡
deföed
 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_BSD


195 
__exãnsi⁄__


196 
	$°πoq
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

197 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

198 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

200 
__exãnsi⁄__


201 
	$°πouq
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

202 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

203 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

206 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

207 
__BEGIN_NAMESPACE_C99


209 
__exãnsi⁄__


210 
	$°πﬁl
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

211 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

212 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

214 
__exãnsi⁄__


215 
	$°πouŒ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

216 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

217 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

218 
__END_NAMESPACE_C99


222 #ifde‡
__USE_GNU


236 
	~<xloˇÀ.h
>

240 
	$°πﬁ_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

241 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

242 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

244 
	$°πoul_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

245 **
__ª°ri˘
 
__íd±r
,

246 
__ba£
, 
__loˇÀ_t
 
__loc
)

247 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

249 
__exãnsi⁄__


250 
	$°πﬁl_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

251 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

252 
__loˇÀ_t
 
__loc
)

253 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

255 
__exãnsi⁄__


256 
	$°πouŒ_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

257 **
__ª°ri˘
 
__íd±r
,

258 
__ba£
, 
__loˇÀ_t
 
__loc
)

259 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

261 
	$°πod_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

262 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

263 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

265 
	$°πof_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

266 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

267 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

269 
	$°πﬁd_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

270 **
__ª°ri˘
 
__íd±r
,

271 
__loˇÀ_t
 
__loc
)

272 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

276 #ifde‡
__USE_EXTERN_INLINES


277 
__BEGIN_NAMESPACE_STD


278 
__exã∫_ölöe
 

279 
	`__NTH
 (
	$©of
 (
__c⁄°
 *
__≈å
))

281  
	`°πod
 (
__≈å
, (**Ë
NULL
);

282 
	}
}

283 
__exã∫_ölöe
 

284 
__NTH
 (
	$©oi
 (
__c⁄°
 *
__≈å
))

286  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

287 
	}
}

288 
__exã∫_ölöe
 

289 
__NTH
 (
	$©ﬁ
 (
__c⁄°
 *
__≈å
))

291  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

292 
	}
}

293 
	g__END_NAMESPACE_STD


295 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


296 
__BEGIN_NAMESPACE_C99


297 
__exãnsi⁄__
 
__exã∫_ölöe
 

298 
__NTH
 (
	$©ﬁl
 (
__c⁄°
 *
__≈å
))

300  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

301 
	}
}

302 
	g__END_NAMESPACE_C99


307 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


311 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

314 
	$a64l
 (
__c⁄°
 *
__s
)

315 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

319 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_BSD


320 
	~<sys/ty≥s.h
>

327 
	$øndom
 (Ë
__THROW
;

330 
	$§™dom
 (
__£ed
Ë
__THROW
;

336 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

337 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

341 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

344 #ifde‡
__USE_MISC


349 
	søndom_d©a


351 
öt32_t
 *
Âå
;

352 
öt32_t
 *
Ωå
;

353 
öt32_t
 *
°©e
;

354 
ønd_ty≥
;

355 
ønd_deg
;

356 
ønd_£p
;

357 
öt32_t
 *
íd_±r
;

360 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

361 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

363 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

364 
__THROW
 
	`__n⁄nuŒ
 ((2));

366 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

367 
size_t
 
__°©ñí
,

368 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

369 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

371 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

372 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

373 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

378 
__BEGIN_NAMESPACE_STD


380 
	$ønd
 (Ë
__THROW
;

382 
	$§™d
 (
__£ed
Ë
__THROW
;

383 
__END_NAMESPACE_STD


385 #ifde‡
__USE_POSIX


387 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

391 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


395 
	$dønd48
 (Ë
__THROW
;

396 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

399 
	$Ã™d48
 (Ë
__THROW
;

400 
	$ƒ™d48
 (
__xsubi
[3])

401 
__THROW
 
	`__n⁄nuŒ
 ((1));

404 
	$mønd48
 (Ë
__THROW
;

405 
	$jønd48
 (
__xsubi
[3])

406 
__THROW
 
	`__n⁄nuŒ
 ((1));

409 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

410 *
	$£ed48
 (
__£ed16v
[3])

411 
__THROW
 
	`__n⁄nuŒ
 ((1));

412 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

414 #ifde‡
__USE_MISC


418 
	sdønd48_d©a


420 
__x
[3];

421 
__ﬁd_x
[3];

422 
__c
;

423 
__öô
;

424 
__a
;

428 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

429 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

430 
	$î™d48_r
 (
__xsubi
[3],

431 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

432 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

435 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

436 *
__ª°ri˘
 
__ªsu…
)

437 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

438 
	$ƒ™d48_r
 (
__xsubi
[3],

439 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

440 *
__ª°ri˘
 
__ªsu…
)

441 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

444 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

445 *
__ª°ri˘
 
__ªsu…
)

446 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

447 
	$jønd48_r
 (
__xsubi
[3],

448 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

449 *
__ª°ri˘
 
__ªsu…
)

450 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

453 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

454 
__THROW
 
	`__n⁄nuŒ
 ((2));

456 
	$£ed48_r
 (
__£ed16v
[3],

457 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

459 
	$lc⁄g48_r
 (
__∑øm
[7],

460 
dønd48_d©a
 *
__buf„r
)

461 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

467 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


468 
	#__mÆloc_™d_ˇŒoc_deföed


	)

469 
__BEGIN_NAMESPACE_STD


471 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

473 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

474 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

475 
__END_NAMESPACE_STD


478 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


479 
__BEGIN_NAMESPACE_STD


485 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

486 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

488 
	$‰ì
 (*
__±r
Ë
__THROW
;

489 
__END_NAMESPACE_STD


491 #ifdef 
__USE_MISC


493 
	$c‰ì
 (*
__±r
Ë
__THROW
;

496 #i‡
deföed
 
__USE_GNU
 || deföed 
__USE_BSD
 || deföed 
__USE_MISC


497 
	~<Æloˇ.h
>

500 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


502 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

505 #ifde‡
__USE_XOPEN2K


507 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

508 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

511 
__BEGIN_NAMESPACE_STD


513 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

517 
	`©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

519 #ifde‡
__USE_GNU


523 #ifde‡
__˝lu•lus


524 "C++" 
	`©_quick_exô
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

527 
	`©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	`⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

536 
__THROW
 
	`__n⁄nuŒ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

545 #ifde‡
__USE_GNU


551 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

553 
__END_NAMESPACE_STD


555 #ifde‡
__USE_ISOC99


556 
__BEGIN_NAMESPACE_C99


559 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

560 
__END_NAMESPACE_C99


564 
__BEGIN_NAMESPACE_STD


566 *
	$gëív
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

567 
__END_NAMESPACE_STD


571 *
	$__£cuª_gëív
 (
__c⁄°
 *
__«me
)

572 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

574 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


578 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

581 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


584 
	$£ãnv
 (
__c⁄°
 *
__«me
, __c⁄° *
__vÆue
, 
__ª∂a˚
)

585 
__THROW
 
	`__n⁄nuŒ
 ((2));

588 
	$un£ãnv
 (
__c⁄°
 *
__«me
Ë
__THROW
;

591 #ifdef 
__USE_MISC


595 
	$˛óªnv
 (Ë
__THROW
;

599 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


604 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

614 #i‚de‡
__USE_FILE_OFFSET64


615 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

617 #ifde‡
__REDIRECT


618 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

619 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

621 
	#mk°emp
 
mk°emp64


	)

624 #ifde‡
__USE_LARGEFILE64


625 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

629 #ifde‡
__USE_MISC


636 #i‚de‡
__USE_FILE_OFFSET64


637 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

639 #ifde‡
__REDIRECT


640 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

641 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

643 
	#mk°emps
 
mk°emps64


	)

646 #ifde‡
__USE_LARGEFILE64


647 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

648 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

652 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K8


658 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

661 #ifde‡
__USE_GNU


668 #i‚de‡
__USE_FILE_OFFSET64


669 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

671 #ifde‡
__REDIRECT


672 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

673 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

675 
	#mko°emp
 
mko°emp64


	)

678 #ifde‡
__USE_LARGEFILE64


679 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

688 #i‚de‡
__USE_FILE_OFFSET64


689 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

690 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

692 #ifde‡
__REDIRECT


693 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

694 
__Êags
), 
mko°emps64
)

695 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

697 
	#mko°emps
 
mko°emps64


	)

700 #ifde‡
__USE_LARGEFILE64


701 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

702 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

707 
__BEGIN_NAMESPACE_STD


712 
	$sy°em
 (
__c⁄°
 *
__comm™d
Ë
__wur
;

713 
__END_NAMESPACE_STD


716 #ifdef 
__USE_GNU


719 *
	$ˇn⁄iˇlize_fûe_«me
 (
__c⁄°
 *
__«me
)

720 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

723 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


729 *
	$ªÆ∑th
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

730 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

735 #i‚de‡
__COMPAR_FN_T


736 
	#__COMPAR_FN_T


	)

737 (*
	t__com∑r_‚_t
Ë(
	t__c⁄°
 *, __const *);

739 #ifdef 
__USE_GNU


740 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

743 #ifde‡
__USE_GNU


744 (*
	t__com∑r_d_‚_t
Ë(
	t__c⁄°
 *, __const *, *);

747 
__BEGIN_NAMESPACE_STD


750 *
	$b£¨ch
 (
__c⁄°
 *
__key
, __c⁄° *
__ba£
,

751 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

752 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

756 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

757 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

758 #ifde‡
__USE_GNU


759 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

760 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

761 
	`__n⁄nuŒ
 ((1, 4));

766 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

767 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

768 
__END_NAMESPACE_STD


770 #ifde‡
__USE_ISOC99


771 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

772 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

776 
__BEGIN_NAMESPACE_STD


780 
div_t
 
	$div
 (
__numî
, 
__díom
)

781 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

782 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

783 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

784 
__END_NAMESPACE_STD


786 #ifde‡
__USE_ISOC99


787 
__BEGIN_NAMESPACE_C99


788 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

789 
__díom
)

790 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

791 
__END_NAMESPACE_C99


795 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


802 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

803 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

808 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

809 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

814 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

815 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

818 #ifde‡
__USE_MISC


820 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

821 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

822 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

823 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

824 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

825 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

826 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

827 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

832 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

833 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

834 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

835 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

836 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

837 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

839 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

840 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

841 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

842 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

843 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

844 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

845 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

846 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

851 
__BEGIN_NAMESPACE_STD


854 
	$mbÀn
 (
__c⁄°
 *
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

857 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

858 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

861 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
 
__wur
;

865 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

866 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

868 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

869 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

870 
__THROW
;

871 
__END_NAMESPACE_STD


874 #ifde‡
__USE_SVID


879 
	$Ωm©ch
 (
__c⁄°
 *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

883 #ifde‡
__USE_XOPEN_EXTENDED


890 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

891 *
__c⁄°
 *
__ª°ri˘
 
__tokís
,

892 **
__ª°ri˘
 
__vÆuï
)

893 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

897 #ifde‡
__USE_XOPEN


899 
	$£tkey
 (
__c⁄°
 *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

905 #ifde‡
__USE_XOPEN2K


907 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

910 #ifde‡
__USE_XOPEN


915 
	$gø¡±
 (
__fd
Ë
__THROW
;

919 
	$u∆ock±
 (
__fd
Ë
__THROW
;

924 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

927 #ifde‡
__USE_GNU


931 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

932 
__THROW
 
	`__n⁄nuŒ
 ((2));

935 
	`gë±
 ();

938 #ifde‡
__USE_BSD


942 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

943 
__THROW
 
	`__n⁄nuŒ
 ((1));

948 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


949 
	~<bôs/°dlib.h
>

951 #ifde‡
__LDBL_COMPAT


952 
	~<bôs/°dlib-ldbl.h
>

956 #unde‡
__√ed_mÆloc_™d_ˇŒoc


958 
__END_DECLS


	@/usr/include/string.h

23 #i‚def 
_STRING_H


24 
	#_STRING_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

36 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

37 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

41 
__BEGIN_NAMESPACE_STD


43 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
,

44 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

45 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

48 *
	$memmove
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
)

49 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

50 
__END_NAMESPACE_STD


55 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN


56 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

57 
__c
, 
size_t
 
__n
)

58 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

62 
__BEGIN_NAMESPACE_STD


64 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

67 
	$memcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

68 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

71 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


74 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

76 
__c⁄°
 *
	`memchr
 (__c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

77 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

79 #ifde‡
__OPTIMIZE__


80 
__exã∫_Æways_ölöe
 *

81 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


83  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

86 
__exã∫_Æways_ölöe
 
__c⁄°
 *

87 
	`memchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


89  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

92 
	}
}

94 *
	$memchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

95 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

97 
__END_NAMESPACE_STD


99 #ifde‡
__USE_GNU


102 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


103 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

105 "C++" 
__c⁄°
 *
	$øwmemchr
 (
__c⁄°
 *
__s
, 
__c
)

106 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

108 *
	$øwmemchr
 (
__c⁄°
 *
__s
, 
__c
)

109 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

113 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


114 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

116 "C++" 
__c⁄°
 *
	$memrchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

117 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

119 *
	$memrchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

120 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

125 
__BEGIN_NAMESPACE_STD


127 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

128 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

130 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

131 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

132 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

135 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

136 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

138 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

139 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

142 
	$°rcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

143 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

145 
	$°∫cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

146 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

149 
	$°rcﬁl
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

150 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

152 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

153 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

154 
__THROW
 
	`__n⁄nuŒ
 ((2));

155 
__END_NAMESPACE_STD


157 #ifde‡
__USE_XOPEN2K8


161 
	~<xloˇÀ.h
>

164 
	$°rcﬁl_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

165 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

167 
size_t
 
	$°rx‰m_l
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
,

168 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

171 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


173 *
	$°rdup
 (
__c⁄°
 *
__s
)

174 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

180 #i‡
deföed
 
__USE_XOPEN2K8


181 *
	$°∫dup
 (
__c⁄°
 *
__°rög
, 
size_t
 
__n
)

182 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

185 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


187 
	#°rdu∑
(
s
) \

188 (
__exãnsi⁄__
 \

190 
__c⁄°
 *
__ﬁd
 = (
s
); \

191 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

192 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

193 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

194 
	}
}))

	)

197 
	#°∫du∑
(
s
, 
n
) \

198 (
__exãnsi⁄__
 \

200 
__c⁄°
 *
__ﬁd
 = (
s
); \

201 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

202 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

203 
__√w
[
__Àn
] = '\0'; \

204 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

205 }))

	)

208 
	g__BEGIN_NAMESPACE_STD


210 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


213 *
°rchr
 (*
__s
, 
__c
)

214 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

215 
__c⁄°
 *
°rchr
 (__c⁄° *
__s
, 
__c
)

216 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

218 #ifde‡
__OPTIMIZE__


219 
__exã∫_Æways_ölöe
 *

220 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


222  
__buûtö_°rchr
 (
__s
, 
__c
);

225 
__exã∫_Æways_ölöe
 
__c⁄°
 *

226 
°rchr
 (
__c⁄°
 *
__s
, 
__c
Ë
	g__THROW


228  
__buûtö_°rchr
 (
__s
, 
__c
);

233 *
	$°rchr
 (
__c⁄°
 *
__s
, 
__c
)

234 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

237 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


240 *
	`°ºchr
 (*
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

242 
__c⁄°
 *
	`°ºchr
 (__c⁄° *
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

245 #ifde‡
__OPTIMIZE__


246 
__exã∫_Æways_ölöe
 *

247 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


249  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

252 
__exã∫_Æways_ölöe
 
__c⁄°
 *

253 
	`°ºchr
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


255  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

258 
	}
}

260 *
	$°ºchr
 (
__c⁄°
 *
__s
, 
__c
)

261 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

263 
__END_NAMESPACE_STD


265 #ifde‡
__USE_GNU


268 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


269 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

271 "C++" 
__c⁄°
 *
	$°rch∫ul
 (
__c⁄°
 *
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

274 *
	$°rch∫ul
 (
__c⁄°
 *
__s
, 
__c
)

275 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

279 
__BEGIN_NAMESPACE_STD


282 
size_t
 
	$°rc•n
 (
__c⁄°
 *
__s
, __c⁄° *
__ªje˘
)

283 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

286 
size_t
 
	$°r•n
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
)

287 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

289 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


292 *
	`°Ωbrk
 (*
__s
, 
__c⁄°
 *
__ac˚±
)

293 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

294 
__c⁄°
 *
	`°Ωbrk
 (__c⁄° *
__s
, __c⁄° *
__ac˚±
)

295 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

297 #ifde‡
__OPTIMIZE__


298 
__exã∫_Æways_ölöe
 *

299 
	`°Ωbrk
 (*
__s
, 
__c⁄°
 *
__ac˚±
Ë
__THROW


301  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

304 
__exã∫_Æways_ölöe
 
__c⁄°
 *

305 
	`°Ωbrk
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
Ë
__THROW


307  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

310 
	}
}

312 *
	$°Ωbrk
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
)

313 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

316 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


319 *
	`°r°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
)

320 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

321 
__c⁄°
 *
	`°r°r
 (__c⁄° *
__hay°ack
,

322 
__c⁄°
 *
__√edÀ
)

323 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

325 #ifde‡
__OPTIMIZE__


326 
__exã∫_Æways_ölöe
 *

327 
	`°r°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
Ë
__THROW


329  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

332 
__exã∫_Æways_ölöe
 
__c⁄°
 *

333 
	`°r°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
Ë
__THROW


335  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

338 
	}
}

340 *
	$°r°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
)

341 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

346 *
	$°πok
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__dñim
)

347 
__THROW
 
	`__n⁄nuŒ
 ((2));

348 
__END_NAMESPACE_STD


352 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

353 
__c⁄°
 *
__ª°ri˘
 
__dñim
,

354 **
__ª°ri˘
 
__ßve_±r
)

355 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

356 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


357 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__dñim
,

358 **
__ª°ri˘
 
__ßve_±r
)

359 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

362 #ifde‡
__USE_GNU


364 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


365 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
)

366 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

367 "C++" 
__c⁄°
 *
	$°rˇ£°r
 (
__c⁄°
 *
__hay°ack
,

368 
__c⁄°
 *
__√edÀ
)

369 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

371 *
	$°rˇ£°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
)

372 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

376 #ifde‡
__USE_GNU


380 *
	$memmem
 (
__c⁄°
 *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

381 
__c⁄°
 *
__√edÀ
, 
size_t
 
__√edÀÀn
)

382 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

386 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

387 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

388 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

389 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

390 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

391 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

395 
__BEGIN_NAMESPACE_STD


397 
size_t
 
	$°æí
 (
__c⁄°
 *
__s
)

398 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

399 
__END_NAMESPACE_STD


401 #ifdef 
__USE_XOPEN2K8


404 
size_t
 
	$°∫Àn
 (
__c⁄°
 *
__°rög
, 
size_t
 
__maxÀn
)

405 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

409 
__BEGIN_NAMESPACE_STD


411 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

412 
__END_NAMESPACE_STD


413 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_MISC


421 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


424 #ifde‡
__REDIRECT_NTH


425 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

426 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

427 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

429 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

430 
__THROW
 
	`__n⁄nuŒ
 ((2));

431 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

436 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

437 
__THROW
 
	`__n⁄nuŒ
 ((2));

441 #ifde‡
__USE_XOPEN2K8


443 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

449 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

451 #ifde‡
__USE_BSD


453 
	$bc›y
 (
__c⁄°
 *
__§c
, *
__de°
, 
size_t
 
__n
)

454 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

457 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

460 
	$bcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

461 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

464 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


467 *
	`ödex
 (*
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

469 
__c⁄°
 *
	`ödex
 (__c⁄° *
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

472 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


473 
__exã∫_Æways_ölöe
 *

474 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


476  
	`__buûtö_ödex
 (
__s
, 
__c
);

479 
__exã∫_Æways_ölöe
 
__c⁄°
 *

480 
	`ödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


482  
	`__buûtö_ödex
 (
__s
, 
__c
);

485 
	}
}

487 *
	$ödex
 (
__c⁄°
 *
__s
, 
__c
)

488 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

492 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


495 *
	`rödex
 (*
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

497 
__c⁄°
 *
	`rödex
 (__c⁄° *
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

500 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


501 
__exã∫_Æways_ölöe
 *

502 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


504  
	`__buûtö_rödex
 (
__s
, 
__c
);

507 
__exã∫_Æways_ölöe
 
__c⁄°
 *

508 
	`rödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


510  
	`__buûtö_rödex
 (
__s
, 
__c
);

513 
	}
}

515 *
	$rödex
 (
__c⁄°
 *
__s
, 
__c
)

516 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

521 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

525 #ifdef 
__USE_GNU


526 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

527 #ifde‡
__GNUC__


528 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

529 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

534 
	$°rˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

535 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

538 
	$°∫ˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

539 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

542 #ifdef 
__USE_GNU


545 
	$°rˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

546 
__loˇÀ_t
 
__loc
)

547 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

549 
	$°∫ˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

550 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

551 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

554 #ifdef 
__USE_BSD


557 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

558 
__c⁄°
 *
__ª°ri˘
 
__dñim
)

559 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

562 #ifdef 
__USE_XOPEN2K8


564 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

567 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

568 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

570 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

574 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

575 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

576 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

577 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

578 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

579 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

582 #ifdef 
__USE_GNU


584 
	$°rvîscmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

585 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

588 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

591 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

593 #i‚de‡
ba£«me


598 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


599 "C++" *
	$ba£«me
 (*
__fûíame
)

600 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

601 "C++" 
__c⁄°
 *
	$ba£«me
 (
__c⁄°
 *
__fûíame
)

602 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

604 *
	$ba£«me
 (
__c⁄°
 *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

610 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

611 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

612 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


632 
	~<bôs/°rög.h
>

635 
	~<bôs/°rög2.h
>

638 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


640 
	~<bôs/°rög3.h
>

644 
__END_DECLS


	@/usr/include/strings.h

19 #i‚def 
_STRINGS_H


20 
	#_STRINGS_H
 1

	)

25 #i‡!
deföed
 
_STRING_H
 || !deföed 
__USE_BSD


27 
	~<„©uªs.h
>

28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

32 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

33 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

36 
__BEGIN_DECLS


39 
	$bcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

40 
__THROW
 
__©åibuã_puª__
;

43 
	$bc›y
 (
__c⁄°
 *
__§c
, *
__de°
, 
size_t
 
__n
Ë
__THROW
;

46 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
;

50 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((const));

53 #ifde‡
__CORRECT_ISO_CPP_STRINGS_H_PROTO


56 *
	`ödex
 (*
__s
, 
__c
)

57 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

58 
__c⁄°
 *
	`ödex
 (__c⁄° *
__s
, 
__c
)

59 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

61 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRING_H_PROTO


62 
__exã∫_Æways_ölöe
 *

63 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


65  
	`__buûtö_ödex
 (
__s
, 
__c
);

68 
__exã∫_Æways_ölöe
 
__c⁄°
 *

69 
	`ödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


71  
	`__buûtö_ödex
 (
__s
, 
__c
);

74 
	}
}

76 *
	$ödex
 (
__c⁄°
 *
__s
, 
__c
)

77 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

81 #ifde‡
__CORRECT_ISO_CPP_STRINGS_H_PROTO


84 *
	`rödex
 (*
__s
, 
__c
)

85 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

86 
__c⁄°
 *
	`rödex
 (__c⁄° *
__s
, 
__c
)

87 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

89 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRING_H_PROTO


90 
__exã∫_Æways_ölöe
 *

91 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


93  
	`__buûtö_rödex
 (
__s
, 
__c
);

96 
__exã∫_Æways_ölöe
 
__c⁄°
 *

97 
	`rödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


99  
	`__buûtö_rödex
 (
__s
, 
__c
);

102 
	}
}

104 *
	$rödex
 (
__c⁄°
 *
__s
, 
__c
)

105 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

109 
	$°rˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

110 
__THROW
 
__©åibuã_puª__
;

113 
	$°∫ˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

114 
__THROW
 
__©åibuã_puª__
;

116 #ifdef 
__USE_XOPEN2K8


120 
	~<xloˇÀ.h
>

124 
	$°rˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

125 
__loˇÀ_t
 
__loc
)

126 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

128 
	$°∫ˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

129 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

130 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

133 
__END_DECLS


	@/usr/include/sys/ioctl.h

19 #i‚def 
_SYS_IOCTL_H


20 
	#_SYS_IOCTL_H
 1

	)

22 
	~<„©uªs.h
>

24 
	g__BEGIN_DECLS


27 
	~<bôs/io˘ls.h
>

30 
	~<bôs/io˘l-ty≥s.h
>

37 
	~<sys/âydeÁu…s.h
>

42 
	$io˘l
 (
__fd
, 
__ªque°
, ...Ë
__THROW
;

44 
__END_DECLS


	@/usr/include/sys/socket.h

21 #i‚def 
_SYS_SOCKET_H


22 
	#_SYS_SOCKET_H
 1

	)

24 
	~<„©uªs.h
>

26 
	g__BEGIN_DECLS


28 
	~<sys/uio.h
>

29 
	#__√ed_size_t


	)

30 
	~<°ddef.h
>

31 #ifde‡
__USE_GNU


33 
	~<bôs/sig£t.h
>

40 
	~<bôs/sockë.h
>

42 #ifde‡
__USE_BSD


45 
	sosockaddr


47 
	mß_Ámûy
;

48 
	mß_d©a
[14];

56 
	mSHUT_RD
 = 0,

57 
	#SHUT_RD
 
SHUT_RD


	)

58 
	mSHUT_WR
,

59 
	#SHUT_WR
 
SHUT_WR


	)

60 
	mSHUT_RDWR


61 
	#SHUT_RDWR
 
SHUT_RDWR


	)

70 #i‡
deföed
 
__˝lu•lus
 || !
__GNUC_PREREQ
 (2, 7Ë|| !deföed 
__USE_GNU


71 
	#__SOCKADDR_ARG
 
sockaddr
 *
__ª°ri˘


	)

72 
	#__CONST_SOCKADDR_ARG
 
__c⁄°
 
sockaddr
 *

	)

76 
	#__SOCKADDR_ALLTYPES
 \

77 
	`__SOCKADDR_ONETYPE
 (
sockaddr
) \

78 
	`__SOCKADDR_ONETYPE
 (
sockaddr_©
) \

79 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ax25
) \

80 
	`__SOCKADDR_ONETYPE
 (
sockaddr_dl
) \

81 
	`__SOCKADDR_ONETYPE
 (
sockaddr_e⁄
) \

82 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ö
) \

83 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ö6
) \

84 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ö¨p
) \

85 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ùx
) \

86 
	`__SOCKADDR_ONETYPE
 (
sockaddr_iso
) \

87 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ns
) \

88 
	`__SOCKADDR_ONETYPE
 (
sockaddr_un
) \

89 
	`__SOCKADDR_ONETYPE
 (
sockaddr_x25
)

	)

91 
	#__SOCKADDR_ONETYPE
(
ty≥
Ëty≥ *
__ª°ri˘
 
__
##ty≥##__;

	)

92 uni⁄ { 
	m__SOCKADDR_ALLTYPES


93 } 
	t__SOCKADDR_ARG
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

94 #unde‡
__SOCKADDR_ONETYPE


95 
	#__SOCKADDR_ONETYPE
(
ty≥
Ë
__c⁄°
 ty≥ *
__ª°ri˘
 
__
##ty≥##__;

	)

96 uni⁄ { 
	m__SOCKADDR_ALLTYPES


97 } 
	t__CONST_SOCKADDR_ARG
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

98 #unde‡
__SOCKADDR_ONETYPE


105 
	$sockë
 (
__domaö
, 
__ty≥
, 
__¥Ÿocﬁ
Ë
__THROW
;

111 
	$sockë∑ú
 (
__domaö
, 
__ty≥
, 
__¥Ÿocﬁ
,

112 
__fds
[2]Ë
__THROW
;

115 
	$böd
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockÀn_t
 
__Àn
)

116 
__THROW
;

119 
	$gësock«me
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

120 
sockÀn_t
 *
__ª°ri˘
 
__Àn
Ë
__THROW
;

129 
	`c⁄√˘
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockÀn_t
 
__Àn
);

133 
	$gë≥î«me
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

134 
sockÀn_t
 *
__ª°ri˘
 
__Àn
Ë
__THROW
;

141 
ssize_t
 
	`£nd
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
, 
__Êags
);

148 
ssize_t
 
	`ªcv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__Êags
);

155 
ssize_t
 
	`£ndto
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

156 
__Êags
, 
__CONST_SOCKADDR_ARG
 
__addr
,

157 
sockÀn_t
 
__addr_Àn
);

166 
ssize_t
 
	`ªcv‰om
 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

167 
__Êags
, 
__SOCKADDR_ARG
 
__addr
,

168 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
);

176 
ssize_t
 
	`£ndmsg
 (
__fd
, 
__c⁄°
 
msghdr
 *
__mesßge
,

177 
__Êags
);

184 
ssize_t
 
	`ªcvmsg
 (
__fd
, 
msghdr
 *
__mesßge
, 
__Êags
);

190 
	$gësock›t
 (
__fd
, 
__Àvñ
, 
__›äame
,

191 *
__ª°ri˘
 
__›tvÆ
,

192 
sockÀn_t
 *
__ª°ri˘
 
__›éí
Ë
__THROW
;

197 
	$£tsock›t
 (
__fd
, 
__Àvñ
, 
__›äame
,

198 
__c⁄°
 *
__›tvÆ
, 
sockÀn_t
 
__›éí
Ë
__THROW
;

204 
	$li°í
 (
__fd
, 
__n
Ë
__THROW
;

214 
	`ac˚±
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

215 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
);

217 #ifde‡
__USE_GNU


222 
	`ac˚±4
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

223 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
, 
__Êags
);

232 
	$shutdown
 (
__fd
, 
__how
Ë
__THROW
;

235 #ifde‡
__USE_XOPEN2K


237 
	$sock©m¨k
 (
__fd
Ë
__THROW
;

241 #ifde‡
__USE_MISC


245 
	$isfdty≥
 (
__fd
, 
__fdty≥
Ë
__THROW
;

250 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


251 
	~<bôs/sockë2.h
>

254 
__END_DECLS


	@/usr/include/sys/stat.h

24 #i‚def 
_SYS_STAT_H


25 
	#_SYS_STAT_H
 1

	)

27 
	~<„©uªs.h
>

29 
	~<bôs/ty≥s.h
>

31 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K
 || deföed 
__USE_MISC
 \

32 || 
deföed
 
	g__USE_ATFILE


33 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_time_t


	)

36 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ATFILE


37 
	#__√ed_time•ec


	)

39 
	~<time.h
>

42 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


45 #i‚de‡
__dev_t_deföed


46 
__dev_t
 
	tdev_t
;

47 
	#__dev_t_deföed


	)

50 #i‚de‡
__gid_t_deföed


51 
__gid_t
 
	tgid_t
;

52 
	#__gid_t_deföed


	)

55 #i‚de‡
__öo_t_deföed


56 #i‚de‡
__USE_FILE_OFFSET64


57 
__öo_t
 
	töo_t
;

59 
__öo64_t
 
	töo_t
;

61 
	#__öo_t_deföed


	)

64 #i‚de‡
__mode_t_deföed


65 
__mode_t
 
	tmode_t
;

66 
	#__mode_t_deföed


	)

69 #i‚de‡
__∆ök_t_deföed


70 
__∆ök_t
 
	t∆ök_t
;

71 
	#__∆ök_t_deföed


	)

74 #i‚de‡
__off_t_deföed


75 #i‚de‡
__USE_FILE_OFFSET64


76 
__off_t
 
	toff_t
;

78 
__off64_t
 
	toff_t
;

80 
	#__off_t_deföed


	)

83 #i‚de‡
__uid_t_deföed


84 
__uid_t
 
	tuid_t
;

85 
	#__uid_t_deföed


	)

89 #ifde‡
__USE_UNIX98


90 #i‚de‡
__blk˙t_t_deföed


91 #i‚de‡
__USE_FILE_OFFSET64


92 
__blk˙t_t
 
	tblk˙t_t
;

94 
__blk˙t64_t
 
	tblk˙t_t
;

96 
	#__blk˙t_t_deföed


	)

99 #i‚de‡
__blksize_t_deföed


100 
__blksize_t
 
	tblksize_t
;

101 
	#__blksize_t_deföed


	)

105 
	g__BEGIN_DECLS


107 
	~<bôs/°©.h
>

109 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


110 
	#S_IFMT
 
__S_IFMT


	)

111 
	#S_IFDIR
 
__S_IFDIR


	)

112 
	#S_IFCHR
 
__S_IFCHR


	)

113 
	#S_IFBLK
 
__S_IFBLK


	)

114 
	#S_IFREG
 
__S_IFREG


	)

115 #ifde‡
__S_IFIFO


116 
	#S_IFIFO
 
__S_IFIFO


	)

118 #ifde‡
__S_IFLNK


119 
	#S_IFLNK
 
__S_IFLNK


	)

121 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_UNIX98
) \

122 && 
deföed
 
	g__S_IFSOCK


123 
	#S_IFSOCK
 
__S_IFSOCK


	)

129 
	#__S_ISTYPE
(
mode
, 
mask
Ë(((modeË& 
__S_IFMT
Ë=(mask))

	)

131 
	#S_ISDIR
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFDIR
)

	)

132 
	#S_ISCHR
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFCHR
)

	)

133 
	#S_ISBLK
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFBLK
)

	)

134 
	#S_ISREG
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFREG
)

	)

135 #ifde‡
__S_IFIFO


136 
	#S_ISFIFO
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFIFO
)

	)

138 #ifde‡
__S_IFLNK


139 
	#S_ISLNK
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFLNK
)

	)

142 #i‡
deföed
 
__USE_BSD
 && !deföed 
__S_IFLNK


143 
	#S_ISLNK
(
mode
Ë0

	)

146 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K
) \

147 && 
deföed
 
	g__S_IFSOCK


148 
	#S_ISSOCK
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFSOCK
)

	)

155 #ifdef 
__USE_POSIX199309


156 
	#S_TYPEISMQ
(
buf
Ë
	`__S_TYPEISMQ
(buf)

	)

157 
	#S_TYPEISSEM
(
buf
Ë
	`__S_TYPEISSEM
(buf)

	)

158 
	#S_TYPEISSHM
(
buf
Ë
	`__S_TYPEISSHM
(buf)

	)

164 
	#S_ISUID
 
__S_ISUID


	)

165 
	#S_ISGID
 
__S_ISGID


	)

167 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


169 
	#S_ISVTX
 
__S_ISVTX


	)

172 
	#S_IRUSR
 
__S_IREAD


	)

173 
	#S_IWUSR
 
__S_IWRITE


	)

174 
	#S_IXUSR
 
__S_IEXEC


	)

176 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

178 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_BSD


179 
	#S_IREAD
 
S_IRUSR


	)

180 
	#S_IWRITE
 
S_IWUSR


	)

181 
	#S_IEXEC
 
S_IXUSR


	)

184 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

185 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

186 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

188 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

190 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

191 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

192 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

194 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

197 #ifdef 
__USE_BSD


199 
	#ACCESSPERMS
 (
S_IRWXU
|
S_IRWXG
|
S_IRWXO
Ë

	)

200 
	#ALLPERMS
 (
S_ISUID
|
S_ISGID
|
S_ISVTX
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

201 
	#DEFFILEMODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
|
S_IROTH
|
S_IWOTH
)

	)

203 
	#S_BLKSIZE
 512

	)

207 #i‚de‡
__USE_FILE_OFFSET64


209 
	$°©
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

210 
°©
 *
__ª°ri˘
 
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

214 
	$f°©
 (
__fd
, 
°©
 *
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

216 #ifde‡
__REDIRECT_NTH


217 
	`__REDIRECT_NTH
 (
°©
, (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

218 
°©
 *
__ª°ri˘
 
__buf
), 
°©64
)

219 
	`__n⁄nuŒ
 ((1, 2));

220 
	`__REDIRECT_NTH
 (
f°©
, (
__fd
, 
°©
 *
__buf
), 
f°©64
)

221 
	`__n⁄nuŒ
 ((2));

223 
	#°©
 
°©64


	)

224 
	#f°©
 
f°©64


	)

227 #ifde‡
__USE_LARGEFILE64


228 
	$°©64
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

229 
°©64
 *
__ª°ri˘
 
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

230 
	$f°©64
 (
__fd
, 
°©64
 *
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

233 #ifde‡
__USE_ATFILE


237 #i‚de‡
__USE_FILE_OFFSET64


238 
	$f°©©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fûe
,

239 
°©
 *
__ª°ri˘
 
__buf
, 
__Êag
)

240 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

242 #ifde‡
__REDIRECT_NTH


243 
	`__REDIRECT_NTH
 (
f°©©
, (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fûe
,

244 
°©
 *
__ª°ri˘
 
__buf
,

245 
__Êag
),

246 
f°©©64
Ë
	`__n⁄nuŒ
 ((2, 3));

248 
	#f°©©
 
f°©©64


	)

252 #ifde‡
__USE_LARGEFILE64


253 
	$f°©©64
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fûe
,

254 
°©64
 *
__ª°ri˘
 
__buf
, 
__Êag
)

255 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

259 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


260 #i‚de‡
__USE_FILE_OFFSET64


263 
	$l°©
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

264 
°©
 *
__ª°ri˘
 
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

266 #ifde‡
__REDIRECT_NTH


267 
	`__REDIRECT_NTH
 (
l°©
,

268 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

269 
°©
 *
__ª°ri˘
 
__buf
), 
l°©64
)

270 
	`__n⁄nuŒ
 ((1, 2));

272 
	#l°©
 
l°©64


	)

275 #ifde‡
__USE_LARGEFILE64


276 
	$l°©64
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

277 
°©64
 *
__ª°ri˘
 
__buf
)

278 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

284 
	$chmod
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
)

285 
__THROW
 
	`__n⁄nuŒ
 ((1));

287 #ifde‡
__USE_BSD


291 
	$lchmod
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
)

292 
__THROW
 
	`__n⁄nuŒ
 ((1));

296 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


297 
	$fchmod
 (
__fd
, 
__mode_t
 
__mode
Ë
__THROW
;

300 #ifde‡
__USE_ATFILE


303 
	$fchmod©
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
,

304 
__Êag
)

305 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

312 
__mode_t
 
	$umask
 (
__mode_t
 
__mask
Ë
__THROW
;

314 #ifdef 
__USE_GNU


317 
__mode_t
 
	$gëumask
 (Ë
__THROW
;

321 
	$mkdú
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

322 
__THROW
 
	`__n⁄nuŒ
 ((1));

324 #ifde‡
__USE_ATFILE


328 
	$mkdú©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

329 
__THROW
 
	`__n⁄nuŒ
 ((2));

335 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


336 
	$mknod
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
)

337 
__THROW
 
	`__n⁄nuŒ
 ((1));

339 #ifde‡
__USE_ATFILE


343 
	$mknod©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
,

344 
__dev_t
 
__dev
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

350 
	$mkfifo
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

351 
__THROW
 
	`__n⁄nuŒ
 ((1));

353 #ifde‡
__USE_ATFILE


357 
	$mkfifﬂt
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

358 
__THROW
 
	`__n⁄nuŒ
 ((2));

361 #ifde‡
__USE_ATFILE


364 
	$utimíßt
 (
__fd
, 
__c⁄°
 *
__∑th
,

365 
__c⁄°
 
time•ec
 
__times
[2],

366 
__Êags
)

367 
__THROW
 
	`__n⁄nuŒ
 ((2));

370 #ifde‡
__USE_XOPEN2K8


372 
	$futimís
 (
__fd
, 
__c⁄°
 
time•ec
 
__times
[2]Ë
__THROW
;

390 #i‚de‡
_STAT_VER


391 
	#_STAT_VER
 0

	)

393 #i‚de‡
_MKNOD_VER


394 
	#_MKNOD_VER
 0

	)

398 #i‚de‡
__USE_FILE_OFFSET64


399 
	$__fx°©
 (
__vî
, 
__fûdes
, 
°©
 *
__°©_buf
)

400 
__THROW
 
	`__n⁄nuŒ
 ((3));

401 
	$__x°©
 (
__vî
, 
__c⁄°
 *
__fûíame
,

402 
°©
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

403 
	$__lx°©
 (
__vî
, 
__c⁄°
 *
__fûíame
,

404 
°©
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

405 
	$__fx°©©
 (
__vî
, 
__fûdes
, 
__c⁄°
 *
__fûíame
,

406 
°©
 *
__°©_buf
, 
__Êag
)

407 
__THROW
 
	`__n⁄nuŒ
 ((3, 4));

409 #ifde‡
__REDIRECT_NTH


410 
	`__REDIRECT_NTH
 (
__fx°©
, (
__vî
, 
__fûdes
,

411 
°©
 *
__°©_buf
), 
__fx°©64
)

412 
	`__n⁄nuŒ
 ((3));

413 
	`__REDIRECT_NTH
 (
__x°©
, (
__vî
, 
__c⁄°
 *
__fûíame
,

414 
°©
 *
__°©_buf
), 
__x°©64
)

415 
	`__n⁄nuŒ
 ((2, 3));

416 
	`__REDIRECT_NTH
 (
__lx°©
, (
__vî
, 
__c⁄°
 *
__fûíame
,

417 
°©
 *
__°©_buf
), 
__lx°©64
)

418 
	`__n⁄nuŒ
 ((2, 3));

419 
	`__REDIRECT_NTH
 (
__fx°©©
, (
__vî
, 
__fûdes
,

420 
__c⁄°
 *
__fûíame
,

421 
°©
 *
__°©_buf
, 
__Êag
),

422 
__fx°©©64
Ë
	`__n⁄nuŒ
 ((3, 4));

425 
	#__fx°©
 
__fx°©64


	)

426 
	#__x°©
 
__x°©64


	)

427 
	#__lx°©
 
__lx°©64


	)

431 #ifde‡
__USE_LARGEFILE64


432 
	$__fx°©64
 (
__vî
, 
__fûdes
, 
°©64
 *
__°©_buf
)

433 
__THROW
 
	`__n⁄nuŒ
 ((3));

434 
	$__x°©64
 (
__vî
, 
__c⁄°
 *
__fûíame
,

435 
°©64
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

436 
	$__lx°©64
 (
__vî
, 
__c⁄°
 *
__fûíame
,

437 
°©64
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

438 
	$__fx°©©64
 (
__vî
, 
__fûdes
, 
__c⁄°
 *
__fûíame
,

439 
°©64
 *
__°©_buf
, 
__Êag
)

440 
__THROW
 
	`__n⁄nuŒ
 ((3, 4));

442 
	$__xmknod
 (
__vî
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
,

443 
__dev_t
 *
__dev
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

445 
	$__xmknod©
 (
__vî
, 
__fd
, 
__c⁄°
 *
__∑th
,

446 
__mode_t
 
__mode
, 
__dev_t
 *
__dev
)

447 
__THROW
 
	`__n⁄nuŒ
 ((3, 5));

449 #i‡
deföed
 
__GNUC__
 && __GNUC__ >2 && deföed 
__USE_EXTERN_INLINES_IN_LIBC


452 
__exã∫_ölöe
 

453 
	`__NTH
 (
	$°©
 (
__c⁄°
 *
__∑th
, 
°©
 *
__°©buf
))

455  
	`__x°©
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

456 
	}
}

458 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


459 
__exã∫_ölöe
 

460 
__NTH
 (
	$l°©
 (
__c⁄°
 *
__∑th
, 
°©
 *
__°©buf
))

462  
	`__lx°©
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

463 
	}
}

466 
__exã∫_ölöe
 

467 
__NTH
 (
	$f°©
 (
__fd
, 
°©
 *
__°©buf
))

469  
	`__fx°©
 (
_STAT_VER
, 
__fd
, 
__°©buf
);

470 
	}
}

472 #ifde‡
__USE_ATFILE


473 
__exã∫_ölöe
 

474 
__NTH
 (
	$f°©©
 (
__fd
, 
__c⁄°
 *
__fûíame
, 
°©
 *
__°©buf
,

475 
__Êag
))

477  
	`__fx°©©
 (
_STAT_VER
, 
__fd
, 
__fûíame
, 
__°©buf
, 
__Êag
);

478 
	}
}

481 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_BSD


482 
__exã∫_ölöe
 

483 
__NTH
 (
	$mknod
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
))

485  
	`__xmknod
 (
_MKNOD_VER
, 
__∑th
, 
__mode
, &
__dev
);

486 
	}
}

489 #ifde‡
__USE_ATFILE


490 
__exã∫_ölöe
 

491 
__NTH
 (
	$mknod©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
,

492 
__dev_t
 
__dev
))

494  
	`__xmknod©
 (
_MKNOD_VER
, 
__fd
, 
__∑th
, 
__mode
, &
__dev
);

495 
	}
}

498 #i‡
deföed
 
__USE_LARGEFILE64
 \

499 && (! 
deföed
 
	g__USE_FILE_OFFSET64
 \

500 || (
deföed
 
	g__REDIRECT_NTH
 && deföed 
	g__OPTIMIZE__
))

501 
__exã∫_ölöe
 

502 
__NTH
 (
	$°©64
 (
__c⁄°
 *
__∑th
, 
°©64
 *
__°©buf
))

504  
	`__x°©64
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

505 
	}
}

507 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


508 
__exã∫_ölöe
 

509 
__NTH
 (
	$l°©64
 (
__c⁄°
 *
__∑th
, 
°©64
 *
__°©buf
))

511  
	`__lx°©64
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

512 
	}
}

515 
__exã∫_ölöe
 

516 
__NTH
 (
	$f°©64
 (
__fd
, 
°©64
 *
__°©buf
))

518  
	`__fx°©64
 (
_STAT_VER
, 
__fd
, 
__°©buf
);

519 
	}
}

521 #ifde‡
__USE_ATFILE


522 
__exã∫_ölöe
 

523 
__NTH
 (
	$f°©©64
 (
__fd
, 
__c⁄°
 *
__fûíame
, 
°©64
 *
__°©buf
,

524 
__Êag
))

526  
	`__fx°©©64
 (
_STAT_VER
, 
__fd
, 
__fûíame
, 
__°©buf
, 
__Êag
);

527 
	}
}

534 
	g__END_DECLS


	@/usr/include/sys/syscall.h

19 #i‚de‡
_SYSCALL_H


20 
	#_SYSCALL_H
 1

	)

25 
	~<asm/uni°d.h
>

27 #i‚de‡
_LIBC


32 
	~<bôs/sysˇŒ.h
>

	@/usr/include/sys/time.h

20 #i‚de‡
_SYS_TIME_H


21 
	#_SYS_TIME_H
 1

	)

23 
	~<„©uªs.h
>

25 
	~<bôs/ty≥s.h
>

26 
	#__√ed_time_t


	)

27 
	~<time.h
>

28 
	#__√ed_timevÆ


	)

29 
	~<bôs/time.h
>

31 
	~<sys/£À˘.h
>

33 #i‚de‡
__su£c⁄ds_t_deföed


34 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

35 
	#__su£c⁄ds_t_deföed


	)

39 
	g__BEGIN_DECLS


41 #ifde‡
__USE_GNU


43 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) { \

44 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

45 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

46 }

	)

47 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) { \

48 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

49 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

50 }

	)

54 #ifde‡
__USE_BSD


57 
	stimez⁄e


59 
	mtz_möuãswe°
;

60 
	mtz_d°time
;

63 
timez⁄e
 *
	t__ª°ri˘
 
	t__timez⁄e_±r_t
;

65 *
	t__ª°ri˘
 
	t__timez⁄e_±r_t
;

73 
	$gëtimeofday
 (
timevÆ
 *
__ª°ri˘
 
__tv
,

74 
__timez⁄e_±r_t
 
__tz
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

76 #ifde‡
__USE_BSD


79 
	$£âimeofday
 (
__c⁄°
 
timevÆ
 *
__tv
,

80 
__c⁄°
 
timez⁄e
 *
__tz
)

81 
__THROW
 
	`__n⁄nuŒ
 ((1));

87 
	$adjtime
 (
__c⁄°
 
timevÆ
 *
__dñè
,

88 
timevÆ
 *
__ﬁddñè
Ë
__THROW
;

93 
	e__ôimî_which


96 
ITIMER_REAL
 = 0,

97 
	#ITIMER_REAL
 
ITIMER_REAL


	)

99 
ITIMER_VIRTUAL
 = 1,

100 
	#ITIMER_VIRTUAL
 
ITIMER_VIRTUAL


	)

103 
ITIMER_PROF
 = 2

104 
	#ITIMER_PROF
 
ITIMER_PROF


	)

109 
	sôimîvÆ


112 
timevÆ
 
ô_öãrvÆ
;

114 
timevÆ
 
ô_vÆue
;

117 #i‡
deföed
 
__USE_GNU
 && !deföed 
__˝lu•lus


120 
__ôimî_which
 
	t__ôimî_which_t
;

122 
	t__ôimî_which_t
;

127 
	$gëôimî
 (
__ôimî_which_t
 
__which
,

128 
ôimîvÆ
 *
__vÆue
Ë
__THROW
;

133 
	$£tôimî
 (
__ôimî_which_t
 
__which
,

134 
__c⁄°
 
ôimîvÆ
 *
__ª°ri˘
 
__√w
,

135 
ôimîvÆ
 *
__ª°ri˘
 
__ﬁd
Ë
__THROW
;

140 
	$utimes
 (
__c⁄°
 *
__fûe
, __c⁄° 
timevÆ
 
__tvp
[2])

141 
__THROW
 
	`__n⁄nuŒ
 ((1));

143 #ifde‡
__USE_BSD


145 
	$lutimes
 (
__c⁄°
 *
__fûe
, __c⁄° 
timevÆ
 
__tvp
[2])

146 
__THROW
 
	`__n⁄nuŒ
 ((1));

149 
	$futimes
 (
__fd
, 
__c⁄°
 
timevÆ
 
__tvp
[2]Ë
__THROW
;

152 #ifde‡
__USE_GNU


156 
	$futimeßt
 (
__fd
, 
__c⁄°
 *
__fûe
,

157 
__c⁄°
 
timevÆ
 
__tvp
[2]Ë
__THROW
;

161 #ifde‡
__USE_BSD


164 
	#timîis£t
(
tvp
Ë(—vp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

165 
	#timî˛ór
(
tvp
Ë(—vp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

166 
	#timîcmp
(
a
, 
b
, 
CMP
) \

167 (((
a
)->
tv_£c
 =(
b
)->tv_sec) ? \

168 ((
a
)->
tv_u£c
 
	`CMP
 (
b
)->tv_usec) : \

169 ((
a
)->
tv_£c
 
	`CMP
 (
b
)->tv_£c))

	)

170 
	#timîadd
(
a
, 
b
, 
ªsu…
) \

172 (
ªsu…
)->
tv_£c
 = (
a
)->tv_£¯+ (
b
)->tv_sec; \

173 (
ªsu…
)->
tv_u£c
 = (
a
)->tv_u£¯+ (
b
)->tv_usec; \

174 i‡((
ªsu…
)->
tv_u£c
 >= 1000000) \

176 ++(
ªsu…
)->
tv_£c
; \

177 (
ªsu…
)->
tv_u£c
 -= 1000000; \

179 
	}
} 0)

	)

180 
	#timîsub
(
a
, 
b
, 
ªsu…
) \

182 (
ªsu…
)->
tv_£c
 = (
a
)->tv_£¯- (
b
)->tv_sec; \

183 (
ªsu…
)->
tv_u£c
 = (
a
)->tv_u£¯- (
b
)->tv_usec; \

184 i‡((
ªsu…
)->
tv_u£c
 < 0) { \

185 --(
ªsu…
)->
tv_£c
; \

186 (
ªsu…
)->
tv_u£c
 += 1000000; \

188 } 0)

	)

191 
	g__END_DECLS


	@/usr/include/sys/timerfd.h

19 #i‚def 
_SYS_TIMERFD_H


20 
	#_SYS_TIMERFD_H
 1

	)

22 
	~<time.h
>

28 
	mTFD_CLOEXEC
 = 02000000,

29 
	#TFD_CLOEXEC
 
TFD_CLOEXEC


	)

30 
	mTFD_NONBLOCK
 = 04000

31 
	#TFD_NONBLOCK
 
TFD_NONBLOCK


	)

38 
	mTFD_TIMER_ABSTIME
 = 1 << 0

39 
	#TFD_TIMER_ABSTIME
 
TFD_TIMER_ABSTIME


	)

43 
__BEGIN_DECLS


46 
	$timîfd_¸óã
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
Ë
__THROW
;

51 
	$timîfd_£âime
 (
__ufd
, 
__Êags
,

52 
__c⁄°
 
ôimî•ec
 *
__utmr
,

53 
ôimî•ec
 *
__Ÿmr
Ë
__THROW
;

56 
	$timîfd_gëtime
 (
__ufd
, 
ôimî•ec
 *
__Ÿmr
Ë
__THROW
;

58 
__END_DECLS


	@/usr/include/sys/types.h

24 #i‚def 
_SYS_TYPES_H


25 
	#_SYS_TYPES_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	~<bôs/ty≥s.h
>

33 #ifdef 
__USE_BSD


34 #i‚de‡
__u_ch¨_deföed


35 
__u_ch¨
 
	tu_ch¨
;

36 
__u_sh‹t
 
	tu_sh‹t
;

37 
__u_öt
 
	tu_öt
;

38 
__u_l⁄g
 
	tu_l⁄g
;

39 
__quad_t
 
	tquad_t
;

40 
__u_quad_t
 
	tu_quad_t
;

41 
__fsid_t
 
	tfsid_t
;

42 
	#__u_ch¨_deföed


	)

46 
__loff_t
 
	tloff_t
;

48 #i‚de‡
__öo_t_deföed


49 #i‚de‡
__USE_FILE_OFFSET64


50 
__öo_t
 
	töo_t
;

52 
__öo64_t
 
	töo_t
;

54 
	#__öo_t_deföed


	)

56 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


57 
__öo64_t
 
	töo64_t
;

58 
	#__öo64_t_deföed


	)

61 #i‚de‡
__dev_t_deföed


62 
__dev_t
 
	tdev_t
;

63 
	#__dev_t_deföed


	)

66 #i‚de‡
__gid_t_deföed


67 
__gid_t
 
	tgid_t
;

68 
	#__gid_t_deföed


	)

71 #i‚de‡
__mode_t_deföed


72 
__mode_t
 
	tmode_t
;

73 
	#__mode_t_deföed


	)

76 #i‚de‡
__∆ök_t_deföed


77 
__∆ök_t
 
	t∆ök_t
;

78 
	#__∆ök_t_deföed


	)

81 #i‚de‡
__uid_t_deföed


82 
__uid_t
 
	tuid_t
;

83 
	#__uid_t_deföed


	)

86 #i‚de‡
__off_t_deföed


87 #i‚de‡
__USE_FILE_OFFSET64


88 
__off_t
 
	toff_t
;

90 
__off64_t
 
	toff_t
;

92 
	#__off_t_deföed


	)

94 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


95 
__off64_t
 
	toff64_t
;

96 
	#__off64_t_deföed


	)

99 #i‚de‡
__pid_t_deföed


100 
__pid_t
 
	tpid_t
;

101 
	#__pid_t_deföed


	)

104 #i‡(
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
Ë&& !deföed 
__id_t_deföed


105 
__id_t
 
	tid_t
;

106 
	#__id_t_deföed


	)

109 #i‚de‡
__ssize_t_deföed


110 
__ssize_t
 
	tssize_t
;

111 
	#__ssize_t_deföed


	)

114 #ifdef 
__USE_BSD


115 #i‚de‡
__daddr_t_deföed


116 
__daddr_t
 
	tdaddr_t
;

117 
__ˇddr_t
 
	tˇddr_t
;

118 
	#__daddr_t_deföed


	)

122 #i‡(
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
Ë&& !deföed 
__key_t_deföed


123 
__key_t
 
	tkey_t
;

124 
	#__key_t_deföed


	)

127 #ifde‡
__USE_XOPEN


128 
	#__√ed_˛ock_t


	)

130 
	#__√ed_time_t


	)

131 
	#__√ed_timî_t


	)

132 
	#__√ed_˛ockid_t


	)

133 
	~<time.h
>

135 #ifde‡
__USE_XOPEN


136 #i‚de‡
__u£c⁄ds_t_deföed


137 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

138 
	#__u£c⁄ds_t_deföed


	)

140 #i‚de‡
__su£c⁄ds_t_deföed


141 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

142 
	#__su£c⁄ds_t_deföed


	)

146 
	#__√ed_size_t


	)

147 
	~<°ddef.h
>

149 #ifde‡
__USE_MISC


151 
	tul⁄g
;

152 
	tush‹t
;

153 
	tuöt
;

158 #i‡!
__GNUC_PREREQ
 (2, 7)

161 #i‚de‡
__öt8_t_deföed


162 
	#__öt8_t_deföed


	)

163 
	töt8_t
;

164 
	töt16_t
;

165 
	töt32_t
;

166 #i‡
__WORDSIZE
 == 64

167 
	töt64_t
;

168 #ñi‡
__GLIBC_HAVE_LONG_LONG


169 
__exãnsi⁄__
 
	töt64_t
;

174 
	tu_öt8_t
;

175 
	tu_öt16_t
;

176 
	tu_öt32_t
;

177 #i‡
__WORDSIZE
 == 64

178 
	tu_öt64_t
;

179 #ñi‡
__GLIBC_HAVE_LONG_LONG


180 
__exãnsi⁄__
 
	tu_öt64_t
;

183 
	tªgi°î_t
;

188 
	#__ötN_t
(
N
, 
MODE
) \

189 ##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

190 
	t__u_ötN_t
(
	tN
, 
	tMODE
) \

191 
	tu_öt
##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

193 #i‚de‡
	t__öt8_t_deföed


194 
	t__öt8_t_deföed


	)

195 
	t__ötN_t
 (8, 
	t__QI__
);

196 
__ötN_t
 (16, 
__HI__
);

197 
__ötN_t
 (32, 
__SI__
);

198 
__ötN_t
 (64, 
__DI__
);

201 
__u_ötN_t
 (8, 
__QI__
);

202 
__u_ötN_t
 (16, 
__HI__
);

203 
__u_ötN_t
 (32, 
__SI__
);

204 
__u_ötN_t
 (64, 
__DI__
);

206 
	tªgi°î_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__w‹d__
)));

212 
	#__BIT_TYPES_DEFINED__
 1

	)

215 #ifdef 
__USE_BSD


217 
	~<ídün.h
>

220 
	~<sys/£À˘.h
>

223 
	~<sys/sysma¸os.h
>

227 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__blksize_t_deföed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_deföed


	)

233 #i‚de‡
__USE_FILE_OFFSET64


234 #i‚de‡
__blk˙t_t_deföed


235 
__blk˙t_t
 
	tblk˙t_t
;

236 
	#__blk˙t_t_deföed


	)

238 #i‚de‡
__fsblk˙t_t_deföed


239 
__fsblk˙t_t
 
	tfsblk˙t_t
;

240 
	#__fsblk˙t_t_deföed


	)

242 #i‚de‡
__fsfû˙t_t_deföed


243 
__fsfû˙t_t
 
	tfsfû˙t_t
;

244 
	#__fsfû˙t_t_deföed


	)

247 #i‚de‡
__blk˙t_t_deföed


248 
__blk˙t64_t
 
	tblk˙t_t
;

249 
	#__blk˙t_t_deföed


	)

251 #i‚de‡
__fsblk˙t_t_deföed


252 
__fsblk˙t64_t
 
	tfsblk˙t_t
;

253 
	#__fsblk˙t_t_deföed


	)

255 #i‚de‡
__fsfû˙t_t_deföed


256 
__fsfû˙t64_t
 
	tfsfû˙t_t
;

257 
	#__fsfû˙t_t_deföed


	)

261 #ifde‡
__USE_LARGEFILE64


262 
__blk˙t64_t
 
	tblk˙t64_t
;

263 
__fsblk˙t64_t
 
	tfsblk˙t64_t
;

264 
__fsfû˙t64_t
 
	tfsfû˙t64_t
;

269 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


270 
	~<bôs/±hªadty≥s.h
>

273 
	g__END_DECLS


	@/usr/include/sys/utsname.h

23 #i‚def 
_SYS_UTSNAME_H


24 
	#_SYS_UTSNAME_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


30 
	~<bôs/ut¢ame.h
>

32 #i‚de‡
_UTSNAME_SYSNAME_LENGTH


33 
	#_UTSNAME_SYSNAME_LENGTH
 
_UTSNAME_LENGTH


	)

35 #i‚de‡
_UTSNAME_NODENAME_LENGTH


36 
	#_UTSNAME_NODENAME_LENGTH
 
_UTSNAME_LENGTH


	)

38 #i‚de‡
_UTSNAME_RELEASE_LENGTH


39 
	#_UTSNAME_RELEASE_LENGTH
 
_UTSNAME_LENGTH


	)

41 #i‚de‡
_UTSNAME_VERSION_LENGTH


42 
	#_UTSNAME_VERSION_LENGTH
 
_UTSNAME_LENGTH


	)

44 #i‚de‡
_UTSNAME_MACHINE_LENGTH


45 
	#_UTSNAME_MACHINE_LENGTH
 
_UTSNAME_LENGTH


	)

49 
	sut¢ame


52 
	msy¢ame
[
_UTSNAME_SYSNAME_LENGTH
];

55 
	mnodíame
[
_UTSNAME_NODENAME_LENGTH
];

58 
	mªÀa£
[
_UTSNAME_RELEASE_LENGTH
];

60 
	mvîsi⁄
[
_UTSNAME_VERSION_LENGTH
];

63 
	mmachöe
[
_UTSNAME_MACHINE_LENGTH
];

65 #i‡
_UTSNAME_DOMAIN_LENGTH
 - 0

67 #ifde‡
__USE_GNU


68 
	mdomaö«me
[
_UTSNAME_DOMAIN_LENGTH
];

70 
	m__domaö«me
[
_UTSNAME_DOMAIN_LENGTH
];

75 #ifde‡
__USE_SVID


77 
	#SYS_NMLN
 
_UTSNAME_LENGTH


	)

82 
	$u«me
 (
ut¢ame
 *
__«me
Ë
__THROW
;

85 
__END_DECLS


	@/usr/include/syslog.h

1 
	~<sys/sy¶og.h
>

	@/usr/include/time.h

23 #i‚def 
_TIME_H


25 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

26 ! 
deföed
 
	g__√ed_time•ec
)

27 
	#_TIME_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__√ed_size_t


	)

37 
	#__√ed_NULL


	)

38 
	~<°ddef.h
>

42 
	~<bôs/time.h
>

45 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


46 #i‚de‡
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

54 
	#__˛ock_t_deföed
 1

	)

56 
	~<bôs/ty≥s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__˛ock_t
 
	t˛ock_t
;

61 
	g__END_NAMESPACE_STD


62 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

67 #unde‡
__√ed_˛ock_t


69 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

70 
	#__time_t_deföed
 1

	)

72 
	~<bôs/ty≥s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC
 || deföed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #unde‡
__√ed_time_t


85 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

86 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

87 
	#__˛ockid_t_deföed
 1

	)

89 
	~<bôs/ty≥s.h
>

92 
__˛ockid_t
 
	t˛ockid_t
;

95 #unde‡
__˛ockid_time_t


97 #i‡!
deföed
 
__timî_t_deföed
 && \

98 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

99 
	#__timî_t_deföed
 1

	)

101 
	~<bôs/ty≥s.h
>

104 
__timî_t
 
	ttimî_t
;

107 #unde‡
__√ed_timî_t


110 #i‡!
deföed
 
__time•ec_deföed
 && \

111 ((
deföed
 
_TIME_H
 && \

112 (
deföed
 
__USE_POSIX199309
 || deföed 
__USE_MISC
)) || \

113 
deföed
 
__√ed_time•ec
)

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__c⁄°
 *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 
__c⁄°
 *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 
__BEGIN_NAMESPACE_STD


183 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

189 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

190 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

193 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

199 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

200 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

201 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifde‡
__USE_XOPEN


207 *
	$°Ωtime
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

208 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

209 
__THROW
;

212 #ifde‡
__USE_XOPEN2K8


215 
	~<xloˇÀ.h
>

217 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

218 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

219 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

220 
__loˇÀ_t
 
__loc
Ë
__THROW
;

223 #ifde‡
__USE_GNU


224 *
	$°Ωtime_l
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

225 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

237 
tm
 *
	$loˇ…ime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

238 
__END_NAMESPACE_STD


240 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

244 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

248 
tm
 *
	$loˇ…ime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

249 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$as˘ime
 (
__c⁄°
 
tm
 *
__ç
Ë
__THROW
;

258 *
	$˘ime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

259 
__END_NAMESPACE_STD


261 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


266 *
	$as˘ime_r
 (
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

267 *
__ª°ri˘
 
__buf
Ë
__THROW
;

270 *
	$˘ime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

271 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
__tz«me
[2];

277 
__daylight
;

278 
__timez⁄e
;

281 #ifdef 
__USE_POSIX


283 *
tz«me
[2];

287 
	$tz£t
 (Ë
__THROW
;

290 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


291 
daylight
;

292 
timez⁄e
;

295 #ifde‡
__USE_SVID


298 
	$°ime
 (
__c⁄°
 
time_t
 *
__whí
Ë
__THROW
;

304 
	#__i¶óp
(
yór
) \

305 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

308 #ifde‡
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

316 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

319 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

323 #ifde‡
__USE_POSIX199309


328 
	`«no¶ìp
 (
__c⁄°
 
time•ec
 *
__ªque°ed_time
,

329 
time•ec
 *
__ªmaöög
);

333 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

336 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

339 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, 
__c⁄°
 
time•ec
 *
__ç
)

340 
__THROW
;

342 #ifde‡
__USE_XOPEN2K


347 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

348 
__c⁄°
 
time•ec
 *
__ªq
,

349 
time•ec
 *
__ªm
);

352 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

357 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

358 
sigevít
 *
__ª°ri˘
 
__evp
,

359 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

362 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

365 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

366 
__c⁄°
 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

367 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

370 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

371 
__THROW
;

374 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

378 #ifde‡
__USE_XOPEN_EXTENDED


390 
gëd©e_îr
;

399 
tm
 *
	`gëd©e
 (
__c⁄°
 *
__°rög
);

402 #ifde‡
__USE_GNU


413 
	`gëd©e_r
 (
__c⁄°
 *
__ª°ri˘
 
__°rög
,

414 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

417 
__END_DECLS


	@/usr/include/unistd.h

23 #i‚def 
_UNISTD_H


24 
	#_UNISTD_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


33 #ifde‡
__USE_XOPEN2K8


35 
	#_POSIX_VERSION
 200809L

	)

36 #ñi‡
deföed
 
__USE_XOPEN2K


38 
	#_POSIX_VERSION
 200112L

	)

39 #ñi‡
deföed
 
__USE_POSIX199506


41 
	#_POSIX_VERSION
 199506L

	)

42 #ñi‡
deföed
 
__USE_POSIX199309


44 
	#_POSIX_VERSION
 199309L

	)

47 
	#_POSIX_VERSION
 199009L

	)

53 #ifde‡
__USE_XOPEN2K8


54 
	#__POSIX2_THIS_VERSION
 200809L

	)

56 #ñi‡
deföed
 
__USE_XOPEN2K


58 
	#__POSIX2_THIS_VERSION
 200112L

	)

59 #ñi‡
deföed
 
__USE_POSIX199506


61 
	#__POSIX2_THIS_VERSION
 199506L

	)

64 
	#__POSIX2_THIS_VERSION
 199209L

	)

68 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

72 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

76 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

80 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

84 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

87 #ifde‡
__USE_XOPEN2K8


88 
	#_XOPEN_VERSION
 700

	)

89 #ñi‡
deföed
 
__USE_XOPEN2K


90 
	#_XOPEN_VERSION
 600

	)

91 #ñi‡
deföed
 
__USE_UNIX98


92 
	#_XOPEN_VERSION
 500

	)

94 
	#_XOPEN_VERSION
 4

	)

98 
	#_XOPEN_XCU_VERSION
 4

	)

101 
	#_XOPEN_XPG2
 1

	)

102 
	#_XOPEN_XPG3
 1

	)

103 
	#_XOPEN_XPG4
 1

	)

106 
	#_XOPEN_UNIX
 1

	)

109 
	#_XOPEN_CRYPT
 1

	)

113 
	#_XOPEN_ENH_I18N
 1

	)

116 
	#_XOPEN_LEGACY
 1

	)

203 
	~<bôs/posix_›t.h
>

206 #ifde‡
__USE_UNIX98


207 
	~<bôs/ívú⁄míts.h
>

211 
	#STDIN_FILENO
 0

	)

212 
	#STDOUT_FILENO
 1

	)

213 
	#STDERR_FILENO
 2

	)

218 
	~<bôs/ty≥s.h
>

220 #i‚def 
__ssize_t_deföed


221 
__ssize_t
 
	tssize_t
;

222 
	#__ssize_t_deföed


	)

225 
	#__√ed_size_t


	)

226 
	#__√ed_NULL


	)

227 
	~<°ddef.h
>

229 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


232 #i‚de‡
__gid_t_deföed


233 
__gid_t
 
	tgid_t
;

234 
	#__gid_t_deföed


	)

237 #i‚de‡
__uid_t_deföed


238 
__uid_t
 
	tuid_t
;

239 
	#__uid_t_deföed


	)

242 #i‚de‡
__off_t_deföed


243 #i‚de‡
__USE_FILE_OFFSET64


244 
__off_t
 
	toff_t
;

246 
__off64_t
 
	toff_t
;

248 
	#__off_t_deföed


	)

250 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


251 
__off64_t
 
	toff64_t
;

252 
	#__off64_t_deföed


	)

255 #i‚de‡
__u£c⁄ds_t_deföed


256 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

257 
	#__u£c⁄ds_t_deföed


	)

260 #i‚de‡
__pid_t_deföed


261 
__pid_t
 
	tpid_t
;

262 
	#__pid_t_deföed


	)

266 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


267 #i‚de‡
__öçå_t_deföed


268 
__öçå_t
 
	töçå_t
;

269 
	#__öçå_t_deföed


	)

273 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


274 #i‚de‡
__sockÀn_t_deföed


275 
__sockÀn_t
 
	tsockÀn_t
;

276 
	#__sockÀn_t_deföed


	)

282 
	#R_OK
 4

	)

283 
	#W_OK
 2

	)

284 
	#X_OK
 1

	)

285 
	#F_OK
 0

	)

288 
	$ac˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

290 #ifde‡
__USE_GNU


293 
	$euidac˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
)

294 
__THROW
 
	`__n⁄nuŒ
 ((1));

297 
	$óc˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
)

298 
__THROW
 
	`__n⁄nuŒ
 ((1));

301 #ifde‡
__USE_ATFILE


305 
	$Ác˚sßt
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__ty≥
, 
__Êag
)

306 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

311 #i‚def 
_STDIO_H


312 
	#SEEK_SET
 0

	)

313 
	#SEEK_CUR
 1

	)

314 
	#SEEK_END
 2

	)

317 #i‡
deföed
 
__USE_BSD
 && !deföed 
L_SET


319 
	#L_SET
 
SEEK_SET


	)

320 
	#L_INCR
 
SEEK_CUR


	)

321 
	#L_XTND
 
SEEK_END


	)

330 #i‚de‡
__USE_FILE_OFFSET64


331 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

333 #ifde‡
__REDIRECT_NTH


334 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

335 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

336 
l£ek64
);

338 
	#l£ek
 
l£ek64


	)

341 #ifde‡
__USE_LARGEFILE64


342 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

343 
__THROW
;

350 
	`˛o£
 (
__fd
);

357 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

363 
ssize_t
 
	$wrôe
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
Ë
__wur
;

365 #ifde‡
__USE_UNIX98


366 #i‚de‡
__USE_FILE_OFFSET64


373 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

374 
__off_t
 
__off£t
Ë
__wur
;

381 
ssize_t
 
	$pwrôe
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

382 
__off_t
 
__off£t
Ë
__wur
;

384 #ifde‡
__REDIRECT


385 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

386 
__off64_t
 
__off£t
),

387 
¥ód64
Ë
__wur
;

388 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, 
__c⁄°
 *
__buf
,

389 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

390 
pwrôe64
Ë
__wur
;

392 
	#¥ód
 
¥ód64


	)

393 
	#pwrôe
 
pwrôe64


	)

397 #ifde‡
__USE_LARGEFILE64


401 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

402 
__off64_t
 
__off£t
Ë
__wur
;

405 
ssize_t
 
	$pwrôe64
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

406 
__off64_t
 
__off£t
Ë
__wur
;

414 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

416 #ifde‡
__USE_GNU


419 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

429 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

441 
	`¶ìp
 (
__£c⁄ds
);

443 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


448 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

449 
__THROW
;

456 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

465 
	`∑u£
 ();

469 
	$chown
 (
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

470 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

472 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


474 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

479 
	$lchown
 (
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

480 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

484 #ifde‡
__USE_ATFILE


487 
	$fchow«t
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
,

488 
__gid_t
 
__group
, 
__Êag
)

489 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

493 
	$chdú
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

495 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


497 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

507 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

509 #ifdef 
__USE_GNU


513 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

516 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


520 *
	$gëwd
 (*
__buf
)

521 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

526 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

529 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

531 #ifde‡
__USE_GNU


534 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

538 **
__ívú⁄
;

539 #ifde‡
__USE_GNU


540 **
ívú⁄
;

546 
	$execve
 (
__c⁄°
 *
__∑th
, *__c⁄° 
__¨gv
[],

547 *
__c⁄°
 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

549 #ifde‡
__USE_XOPEN2K8


552 
	$„xecve
 (
__fd
, *
__c⁄°
 
__¨gv
[], *__c⁄° 
__ívp
[])

553 
__THROW
;

558 
	$execv
 (
__c⁄°
 *
__∑th
, *__c⁄° 
__¨gv
[])

559 
__THROW
 
	`__n⁄nuŒ
 ((1));

563 
	$exe˛e
 (
__c⁄°
 *
__∑th
, __c⁄° *
__¨g
, ...)

564 
__THROW
 
	`__n⁄nuŒ
 ((1));

568 
	$exe˛
 (
__c⁄°
 *
__∑th
, __c⁄° *
__¨g
, ...)

569 
__THROW
 
	`__n⁄nuŒ
 ((1));

573 
	$execvp
 (
__c⁄°
 *
__fûe
, *__c⁄° 
__¨gv
[])

574 
__THROW
 
	`__n⁄nuŒ
 ((1));

579 
	$exe˛p
 (
__c⁄°
 *
__fûe
, __c⁄° *
__¨g
, ...)

580 
__THROW
 
	`__n⁄nuŒ
 ((1));

582 #ifde‡
__USE_GNU


585 
	$execv≥
 (
__c⁄°
 *
__fûe
, *__c⁄° 
__¨gv
[],

586 *
__c⁄°
 
__ívp
[])

587 
__THROW
 
	`__n⁄nuŒ
 ((1));

591 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


593 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

598 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

604 
	~<bôs/c⁄‚ame.h
>

607 
	$∑thc⁄f
 (
__c⁄°
 *
__∑th
, 
__«me
)

608 
__THROW
 
	`__n⁄nuŒ
 ((1));

611 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

614 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

616 #ifdef 
__USE_POSIX2


618 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

623 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

626 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

630 #i‚de‡
__FAVOR_BSD


631 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

633 #ifde‡
__REDIRECT_NTH


634 
__pid_t
 
	`__REDIRECT_NTH
 (
gëpgΩ
, (__pid_à
__pid
), 
__gëpgid
);

636 
	#gëpgΩ
 
__gëpgid


	)

641 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

642 #ifde‡
__USE_XOPEN_EXTENDED


643 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

650 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

652 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


663 #i‚de‡
__FAVOR_BSD


667 
	$£çgΩ
 (Ë
__THROW
;

672 #ifde‡
__REDIRECT_NTH


673 
	`__REDIRECT_NTH
 (
£çgΩ
, (
__pid_t
 
__pid
, __pid_à
__pgΩ
), 
£çgid
);

675 
	#£çgΩ
 
£çgid


	)

684 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

686 #ifde‡
__USE_XOPEN_EXTENDED


688 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

692 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

695 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

698 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

701 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

706 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

708 #ifdef 
__USE_GNU


710 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

717 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
;

719 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


722 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
;

725 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


727 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
;

734 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
;

736 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


739 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
;

742 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


744 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
;

747 #ifde‡
__USE_GNU


750 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

751 
__THROW
;

755 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

756 
__THROW
;

760 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

761 
__THROW
;

765 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

766 
__THROW
;

773 
__pid_t
 
	$f‹k
 (Ë
__THROW
;

775 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


780 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

786 *
	$ây«me
 (
__fd
Ë
__THROW
;

790 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

791 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

795 
	$ißây
 (
__fd
Ë
__THROW
;

797 #i‡
deföed
 
__USE_BSD
 \

798 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_UNIX98
)

801 
	$ây¶Ÿ
 (Ë
__THROW
;

806 
	$lök
 (
__c⁄°
 *
__‰om
, __c⁄° *
__to
)

807 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

809 #ifde‡
__USE_ATFILE


812 
	$lök©
 (
__‰omfd
, 
__c⁄°
 *
__‰om
, 
__tofd
,

813 
__c⁄°
 *
__to
, 
__Êags
)

814 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

817 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


819 
	$symlök
 (
__c⁄°
 *
__‰om
, __c⁄° *
__to
)

820 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

825 
ssize_t
 
	$ªadlök
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

826 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

827 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

830 #ifde‡
__USE_ATFILE


832 
	$symlök©
 (
__c⁄°
 *
__‰om
, 
__tofd
,

833 
__c⁄°
 *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

836 
ssize_t
 
	$ªadlök©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

837 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

838 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

842 
	$u∆ök
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

844 #ifde‡
__USE_ATFILE


846 
	$u∆ök©
 (
__fd
, 
__c⁄°
 *
__«me
, 
__Êag
)

847 
__THROW
 
	`__n⁄nuŒ
 ((2));

851 
	$rmdú
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

855 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

858 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

865 *
	`gëlogö
 ();

866 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


873 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

876 #ifdef 
__USE_BSD


878 
	$£éogö
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

882 #ifdef 
__USE_POSIX2


886 
	#__√ed_gë›t


	)

887 
	~<gë›t.h
>

891 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98


895 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

899 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

902 
	$£tho°«me
 (
__c⁄°
 *
__«me
, 
size_t
 
__Àn
)

903 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

907 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

913 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

914 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

915 
	$£tdomaö«me
 (
__c⁄°
 *
__«me
, 
size_t
 
__Àn
)

916 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

922 
	$vh™gup
 (Ë
__THROW
;

925 
	$ªvoke
 (
__c⁄°
 *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

933 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

934 
size_t
 
__off£t
, 
__sˇÀ
)

935 
__THROW
 
	`__n⁄nuŒ
 ((1));

941 
	$ac˘
 (
__c⁄°
 *
__«me
Ë
__THROW
;

945 *
	$gëu£rshñl
 (Ë
__THROW
;

946 
	$ídu£rshñl
 (Ë
__THROW
;

947 
	$£tu£rshñl
 (Ë
__THROW
;

953 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

957 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

960 
	$chroŸ
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

964 *
	$gë∑ss
 (
__c⁄°
 *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

968 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


973 
	`fsync
 (
__fd
);

977 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


980 
	`gëho°id
 ();

983 
	$sync
 (Ë
__THROW
;

988 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

993 
	$gëdèbÀsize
 (Ë
__THROW
;

997 #i‚de‡
__USE_FILE_OFFSET64


998 
	$åunˇã
 (
__c⁄°
 *
__fûe
, 
__off_t
 
__Àngth
)

999 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1001 #ifde‡
__REDIRECT_NTH


1002 
	`__REDIRECT_NTH
 (
åunˇã
,

1003 (
__c⁄°
 *
__fûe
, 
__off64_t
 
__Àngth
),

1004 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1006 
	#åunˇã
 
åunˇã64


	)

1009 #ifde‡
__USE_LARGEFILE64


1010 
	$åunˇã64
 (
__c⁄°
 *
__fûe
, 
__off64_t
 
__Àngth
)

1011 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1016 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1019 #i‚de‡
__USE_FILE_OFFSET64


1020 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1022 #ifde‡
__REDIRECT_NTH


1023 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1024 
·runˇã64
Ë
__wur
;

1026 
	#·runˇã
 
·runˇã64


	)

1029 #ifde‡
__USE_LARGEFILE64


1030 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1036 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


1040 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1046 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1050 #ifde‡
__USE_MISC


1061 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1066 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1078 
	#F_ULOCK
 0

	)

1079 
	#F_LOCK
 1

	)

1080 
	#F_TLOCK
 2

	)

1081 
	#F_TEST
 3

	)

1083 #i‚de‡
__USE_FILE_OFFSET64


1084 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1086 #ifde‡
__REDIRECT


1087 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1088 
lockf64
Ë
__wur
;

1090 
	#lockf
 
lockf64


	)

1093 #ifde‡
__USE_LARGEFILE64


1094 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1099 #ifde‡
__USE_GNU


1104 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1105 (
__exãnsi⁄__
 \

1106 ({ 
__ªsu…
; \

1107 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1108 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1109 
__ªsu…
; 
	}
}))

	)

1112 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1115 
fd©async
 (
__fûdes
);

1121 #ifdef 
__USE_XOPEN


1123 *
	$¸y±
 (
__c⁄°
 *
__key
, __c⁄° *
__ß…
)

1124 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1128 
	$í¸y±
 (*
__block
, 
__edÊag
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1135 
	$swab
 (
__c⁄°
 *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1136 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1142 #ifde‡
__USE_XOPEN


1144 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1149 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


1150 
	~<bôs/uni°d.h
>

1153 
__END_DECLS


	@/usr/include/alloca.h

19 #i‚def 
_ALLOCA_H


20 
	#_ALLOCA_H
 1

	)

22 
	~<„©uªs.h
>

24 
	#__√ed_size_t


	)

25 
	~<°ddef.h
>

27 
	g__BEGIN_DECLS


30 #unde‡
Æloˇ


33 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

35 #ifdef 
__GNUC__


36 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

39 
__END_DECLS


	@/usr/include/asm-generic/types.h

1 #i‚de‡
_ASM_GENERIC_TYPES_H


2 
	#_ASM_GENERIC_TYPES_H


	)

7 
	~<asm-gíîic/öt-Œ64.h
>

9 #i‚de‡
__ASSEMBLY__


11 
	tumode_t
;

	@/usr/include/asm/unistd.h

1 #ifde‡
__i386__


2 
	~"uni°d_32.h
"

4 
	~"uni°d_64.h
"

	@/usr/include/bits/confname.h

21 #i‚de‡
_UNISTD_H


28 
	m_PC_LINK_MAX
,

29 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

30 
	m_PC_MAX_CANON
,

31 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

32 
	m_PC_MAX_INPUT
,

33 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

34 
	m_PC_NAME_MAX
,

35 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

36 
	m_PC_PATH_MAX
,

37 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

38 
	m_PC_PIPE_BUF
,

39 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

40 
	m_PC_CHOWN_RESTRICTED
,

41 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

42 
	m_PC_NO_TRUNC
,

43 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

44 
	m_PC_VDISABLE
,

45 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

46 
	m_PC_SYNC_IO
,

47 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

48 
	m_PC_ASYNC_IO
,

49 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

50 
	m_PC_PRIO_IO
,

51 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

52 
	m_PC_SOCK_MAXBUF
,

53 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

54 
	m_PC_FILESIZEBITS
,

55 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

56 
	m_PC_REC_INCR_XFER_SIZE
,

57 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

58 
	m_PC_REC_MAX_XFER_SIZE
,

59 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

60 
	m_PC_REC_MIN_XFER_SIZE
,

61 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

62 
	m_PC_REC_XFER_ALIGN
,

63 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

64 
	m_PC_ALLOC_SIZE_MIN
,

65 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

66 
	m_PC_SYMLINK_MAX
,

67 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

68 
	m_PC_2_SYMLINKS


69 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

75 
	m_SC_ARG_MAX
,

76 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

77 
	m_SC_CHILD_MAX
,

78 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

79 
	m_SC_CLK_TCK
,

80 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

81 
	m_SC_NGROUPS_MAX
,

82 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

83 
	m_SC_OPEN_MAX
,

84 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

85 
	m_SC_STREAM_MAX
,

86 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

87 
	m_SC_TZNAME_MAX
,

88 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

89 
	m_SC_JOB_CONTROL
,

90 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

91 
	m_SC_SAVED_IDS
,

92 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

93 
	m_SC_REALTIME_SIGNALS
,

94 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

95 
	m_SC_PRIORITY_SCHEDULING
,

96 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

97 
	m_SC_TIMERS
,

98 
	#_SC_TIMERS
 
_SC_TIMERS


	)

99 
	m_SC_ASYNCHRONOUS_IO
,

100 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

101 
	m_SC_PRIORITIZED_IO
,

102 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

103 
	m_SC_SYNCHRONIZED_IO
,

104 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

105 
	m_SC_FSYNC
,

106 
	#_SC_FSYNC
 
_SC_FSYNC


	)

107 
	m_SC_MAPPED_FILES
,

108 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

109 
	m_SC_MEMLOCK
,

110 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

111 
	m_SC_MEMLOCK_RANGE
,

112 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

113 
	m_SC_MEMORY_PROTECTION
,

114 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

115 
	m_SC_MESSAGE_PASSING
,

116 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

117 
	m_SC_SEMAPHORES
,

118 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

119 
	m_SC_SHARED_MEMORY_OBJECTS
,

120 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

121 
	m_SC_AIO_LISTIO_MAX
,

122 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

123 
	m_SC_AIO_MAX
,

124 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

125 
	m_SC_AIO_PRIO_DELTA_MAX
,

126 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

127 
	m_SC_DELAYTIMER_MAX
,

128 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

129 
	m_SC_MQ_OPEN_MAX
,

130 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

131 
	m_SC_MQ_PRIO_MAX
,

132 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

133 
	m_SC_VERSION
,

134 
	#_SC_VERSION
 
_SC_VERSION


	)

135 
	m_SC_PAGESIZE
,

136 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

137 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

138 
	m_SC_RTSIG_MAX
,

139 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

140 
	m_SC_SEM_NSEMS_MAX
,

141 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

142 
	m_SC_SEM_VALUE_MAX
,

143 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

144 
	m_SC_SIGQUEUE_MAX
,

145 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

146 
	m_SC_TIMER_MAX
,

147 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

151 
	m_SC_BC_BASE_MAX
,

152 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

153 
	m_SC_BC_DIM_MAX
,

154 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

155 
	m_SC_BC_SCALE_MAX
,

156 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

157 
	m_SC_BC_STRING_MAX
,

158 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

159 
	m_SC_COLL_WEIGHTS_MAX
,

160 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

161 
	m_SC_EQUIV_CLASS_MAX
,

162 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

163 
	m_SC_EXPR_NEST_MAX
,

164 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

165 
	m_SC_LINE_MAX
,

166 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

167 
	m_SC_RE_DUP_MAX
,

168 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

169 
	m_SC_CHARCLASS_NAME_MAX
,

170 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

172 
	m_SC_2_VERSION
,

173 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

174 
	m_SC_2_C_BIND
,

175 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

176 
	m_SC_2_C_DEV
,

177 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

178 
	m_SC_2_FORT_DEV
,

179 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

180 
	m_SC_2_FORT_RUN
,

181 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

182 
	m_SC_2_SW_DEV
,

183 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

184 
	m_SC_2_LOCALEDEF
,

185 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

187 
	m_SC_PII
,

188 
	#_SC_PII
 
_SC_PII


	)

189 
	m_SC_PII_XTI
,

190 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

191 
	m_SC_PII_SOCKET
,

192 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

193 
	m_SC_PII_INTERNET
,

194 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

195 
	m_SC_PII_OSI
,

196 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

197 
	m_SC_POLL
,

198 
	#_SC_POLL
 
_SC_POLL


	)

199 
	m_SC_SELECT
,

200 
	#_SC_SELECT
 
_SC_SELECT


	)

201 
	m_SC_UIO_MAXIOV
,

202 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

203 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

204 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

205 
	m_SC_PII_INTERNET_STREAM
,

206 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

207 
	m_SC_PII_INTERNET_DGRAM
,

208 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

209 
	m_SC_PII_OSI_COTS
,

210 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

211 
	m_SC_PII_OSI_CLTS
,

212 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

213 
	m_SC_PII_OSI_M
,

214 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

215 
	m_SC_T_IOV_MAX
,

216 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

219 
	m_SC_THREADS
,

220 
	#_SC_THREADS
 
_SC_THREADS


	)

221 
	m_SC_THREAD_SAFE_FUNCTIONS
,

222 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

223 
	m_SC_GETGR_R_SIZE_MAX
,

224 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

225 
	m_SC_GETPW_R_SIZE_MAX
,

226 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

227 
	m_SC_LOGIN_NAME_MAX
,

228 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

229 
	m_SC_TTY_NAME_MAX
,

230 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

231 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

232 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

233 
	m_SC_THREAD_KEYS_MAX
,

234 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

235 
	m_SC_THREAD_STACK_MIN
,

236 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

237 
	m_SC_THREAD_THREADS_MAX
,

238 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

239 
	m_SC_THREAD_ATTR_STACKADDR
,

240 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

241 
	m_SC_THREAD_ATTR_STACKSIZE
,

242 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

243 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

244 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

245 
	m_SC_THREAD_PRIO_INHERIT
,

246 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

247 
	m_SC_THREAD_PRIO_PROTECT
,

248 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

249 
	m_SC_THREAD_PROCESS_SHARED
,

250 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

252 
	m_SC_NPROCESSORS_CONF
,

253 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

254 
	m_SC_NPROCESSORS_ONLN
,

255 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

256 
	m_SC_PHYS_PAGES
,

257 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

258 
	m_SC_AVPHYS_PAGES
,

259 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

260 
	m_SC_ATEXIT_MAX
,

261 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

262 
	m_SC_PASS_MAX
,

263 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

265 
	m_SC_XOPEN_VERSION
,

266 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

267 
	m_SC_XOPEN_XCU_VERSION
,

268 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

269 
	m_SC_XOPEN_UNIX
,

270 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

271 
	m_SC_XOPEN_CRYPT
,

272 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

273 
	m_SC_XOPEN_ENH_I18N
,

274 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

275 
	m_SC_XOPEN_SHM
,

276 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

278 
	m_SC_2_CHAR_TERM
,

279 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

280 
	m_SC_2_C_VERSION
,

281 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

282 
	m_SC_2_UPE
,

283 
	#_SC_2_UPE
 
_SC_2_UPE


	)

285 
	m_SC_XOPEN_XPG2
,

286 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

287 
	m_SC_XOPEN_XPG3
,

288 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

289 
	m_SC_XOPEN_XPG4
,

290 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

292 
	m_SC_CHAR_BIT
,

293 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

294 
	m_SC_CHAR_MAX
,

295 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

296 
	m_SC_CHAR_MIN
,

297 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

298 
	m_SC_INT_MAX
,

299 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

300 
	m_SC_INT_MIN
,

301 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

302 
	m_SC_LONG_BIT
,

303 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

304 
	m_SC_WORD_BIT
,

305 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

306 
	m_SC_MB_LEN_MAX
,

307 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

308 
	m_SC_NZERO
,

309 
	#_SC_NZERO
 
_SC_NZERO


	)

310 
	m_SC_SSIZE_MAX
,

311 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

312 
	m_SC_SCHAR_MAX
,

313 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

314 
	m_SC_SCHAR_MIN
,

315 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

316 
	m_SC_SHRT_MAX
,

317 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

318 
	m_SC_SHRT_MIN
,

319 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

320 
	m_SC_UCHAR_MAX
,

321 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

322 
	m_SC_UINT_MAX
,

323 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

324 
	m_SC_ULONG_MAX
,

325 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

326 
	m_SC_USHRT_MAX
,

327 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

329 
	m_SC_NL_ARGMAX
,

330 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

331 
	m_SC_NL_LANGMAX
,

332 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

333 
	m_SC_NL_MSGMAX
,

334 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

335 
	m_SC_NL_NMAX
,

336 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

337 
	m_SC_NL_SETMAX
,

338 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

339 
	m_SC_NL_TEXTMAX
,

340 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

342 
	m_SC_XBS5_ILP32_OFF32
,

343 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

344 
	m_SC_XBS5_ILP32_OFFBIG
,

345 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

346 
	m_SC_XBS5_LP64_OFF64
,

347 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

348 
	m_SC_XBS5_LPBIG_OFFBIG
,

349 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

351 
	m_SC_XOPEN_LEGACY
,

352 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

353 
	m_SC_XOPEN_REALTIME
,

354 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

355 
	m_SC_XOPEN_REALTIME_THREADS
,

356 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

358 
	m_SC_ADVISORY_INFO
,

359 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

360 
	m_SC_BARRIERS
,

361 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

362 
	m_SC_BASE
,

363 
	#_SC_BASE
 
_SC_BASE


	)

364 
	m_SC_C_LANG_SUPPORT
,

365 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

366 
	m_SC_C_LANG_SUPPORT_R
,

367 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

368 
	m_SC_CLOCK_SELECTION
,

369 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

370 
	m_SC_CPUTIME
,

371 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

372 
	m_SC_THREAD_CPUTIME
,

373 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

374 
	m_SC_DEVICE_IO
,

375 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

376 
	m_SC_DEVICE_SPECIFIC
,

377 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

378 
	m_SC_DEVICE_SPECIFIC_R
,

379 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

380 
	m_SC_FD_MGMT
,

381 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

382 
	m_SC_FIFO
,

383 
	#_SC_FIFO
 
_SC_FIFO


	)

384 
	m_SC_PIPE
,

385 
	#_SC_PIPE
 
_SC_PIPE


	)

386 
	m_SC_FILE_ATTRIBUTES
,

387 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

388 
	m_SC_FILE_LOCKING
,

389 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

390 
	m_SC_FILE_SYSTEM
,

391 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

392 
	m_SC_MONOTONIC_CLOCK
,

393 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

394 
	m_SC_MULTI_PROCESS
,

395 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

396 
	m_SC_SINGLE_PROCESS
,

397 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

398 
	m_SC_NETWORKING
,

399 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

400 
	m_SC_READER_WRITER_LOCKS
,

401 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

402 
	m_SC_SPIN_LOCKS
,

403 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

404 
	m_SC_REGEXP
,

405 
	#_SC_REGEXP
 
_SC_REGEXP


	)

406 
	m_SC_REGEX_VERSION
,

407 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

408 
	m_SC_SHELL
,

409 
	#_SC_SHELL
 
_SC_SHELL


	)

410 
	m_SC_SIGNALS
,

411 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

412 
	m_SC_SPAWN
,

413 
	#_SC_SPAWN
 
_SC_SPAWN


	)

414 
	m_SC_SPORADIC_SERVER
,

415 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

416 
	m_SC_THREAD_SPORADIC_SERVER
,

417 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

418 
	m_SC_SYSTEM_DATABASE
,

419 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

420 
	m_SC_SYSTEM_DATABASE_R
,

421 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

422 
	m_SC_TIMEOUTS
,

423 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

424 
	m_SC_TYPED_MEMORY_OBJECTS
,

425 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

426 
	m_SC_USER_GROUPS
,

427 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

428 
	m_SC_USER_GROUPS_R
,

429 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

430 
	m_SC_2_PBS
,

431 
	#_SC_2_PBS
 
_SC_2_PBS


	)

432 
	m_SC_2_PBS_ACCOUNTING
,

433 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

434 
	m_SC_2_PBS_LOCATE
,

435 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

436 
	m_SC_2_PBS_MESSAGE
,

437 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

438 
	m_SC_2_PBS_TRACK
,

439 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

440 
	m_SC_SYMLOOP_MAX
,

441 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

442 
	m_SC_STREAMS
,

443 
	#_SC_STREAMS
 
_SC_STREAMS


	)

444 
	m_SC_2_PBS_CHECKPOINT
,

445 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

447 
	m_SC_V6_ILP32_OFF32
,

448 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

449 
	m_SC_V6_ILP32_OFFBIG
,

450 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

451 
	m_SC_V6_LP64_OFF64
,

452 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

453 
	m_SC_V6_LPBIG_OFFBIG
,

454 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

456 
	m_SC_HOST_NAME_MAX
,

457 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

458 
	m_SC_TRACE
,

459 
	#_SC_TRACE
 
_SC_TRACE


	)

460 
	m_SC_TRACE_EVENT_FILTER
,

461 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

462 
	m_SC_TRACE_INHERIT
,

463 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

464 
	m_SC_TRACE_LOG
,

465 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

467 
	m_SC_LEVEL1_ICACHE_SIZE
,

468 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

469 
	m_SC_LEVEL1_ICACHE_ASSOC
,

470 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

471 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

472 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

473 
	m_SC_LEVEL1_DCACHE_SIZE
,

474 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

475 
	m_SC_LEVEL1_DCACHE_ASSOC
,

476 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

477 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

478 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

479 
	m_SC_LEVEL2_CACHE_SIZE
,

480 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

481 
	m_SC_LEVEL2_CACHE_ASSOC
,

482 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

483 
	m_SC_LEVEL2_CACHE_LINESIZE
,

484 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

485 
	m_SC_LEVEL3_CACHE_SIZE
,

486 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

487 
	m_SC_LEVEL3_CACHE_ASSOC
,

488 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

489 
	m_SC_LEVEL3_CACHE_LINESIZE
,

490 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

491 
	m_SC_LEVEL4_CACHE_SIZE
,

492 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

493 
	m_SC_LEVEL4_CACHE_ASSOC
,

494 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

495 
	m_SC_LEVEL4_CACHE_LINESIZE
,

496 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

499 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

500 
	#_SC_IPV6
 
_SC_IPV6


	)

501 
	m_SC_RAW_SOCKETS
,

502 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

504 
	m_SC_V7_ILP32_OFF32
,

505 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

506 
	m_SC_V7_ILP32_OFFBIG
,

507 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

508 
	m_SC_V7_LP64_OFF64
,

509 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

510 
	m_SC_V7_LPBIG_OFFBIG
,

511 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

513 
	m_SC_SS_REPL_MAX
,

514 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

516 
	m_SC_TRACE_EVENT_NAME_MAX
,

517 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

518 
	m_SC_TRACE_NAME_MAX
,

519 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

520 
	m_SC_TRACE_SYS_MAX
,

521 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

522 
	m_SC_TRACE_USER_EVENT_MAX
,

523 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

525 
	m_SC_XOPEN_STREAMS
,

526 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

528 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

529 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

530 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


531 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

537 
	m_CS_PATH
,

538 
	#_CS_PATH
 
_CS_PATH


	)

540 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

541 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

544 
	m_CS_GNU_LIBC_VERSION
,

545 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

546 
	m_CS_GNU_LIBPTHREAD_VERSION
,

547 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

549 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

550 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

553 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

554 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

557 
	m_CS_LFS_CFLAGS
 = 1000,

558 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

559 
	m_CS_LFS_LDFLAGS
,

560 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

561 
	m_CS_LFS_LIBS
,

562 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

563 
	m_CS_LFS_LINTFLAGS
,

564 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

565 
	m_CS_LFS64_CFLAGS
,

566 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

567 
	m_CS_LFS64_LDFLAGS
,

568 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

569 
	m_CS_LFS64_LIBS
,

570 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

571 
	m_CS_LFS64_LINTFLAGS
,

572 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

575 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

577 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

579 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

580 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

581 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

588 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

589 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

593 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

594 
	m_CS_XBS5_LP64_OFF64_LIBS
,

595 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

596 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

597 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

604 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

605 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

613 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

621 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

622 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

629 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

630 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

637 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

638 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

646 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

654 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

655 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

662 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

663 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

670 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


671 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

	@/usr/include/bits/dirent.h

19 #i‚de‡
_DIRENT_H


23 
	sdúít


25 #i‚de‡
__USE_FILE_OFFSET64


26 
__öo_t
 
	md_öo
;

27 
__off_t
 
	md_off
;

29 
__öo64_t
 
	md_öo
;

30 
__off64_t
 
	md_off
;

32 
	md_ª˛í
;

33 
	md_ty≥
;

34 
	md_«me
[256];

37 #ifde‡
__USE_LARGEFILE64


38 
	sdúít64


40 
__öo64_t
 
	md_öo
;

41 
__off64_t
 
	md_off
;

42 
	md_ª˛í
;

43 
	md_ty≥
;

44 
	md_«me
[256];

48 
	#d_fûío
 
d_öo


	)

50 #unde‡
_DIRENT_HAVE_D_NAMLEN


51 
	#_DIRENT_HAVE_D_RECLEN


	)

52 
	#_DIRENT_HAVE_D_OFF


	)

53 
	#_DIRENT_HAVE_D_TYPE


	)

	@/usr/include/bits/environments.h

19 #i‚de‡
_UNISTD_H


23 
	~<bôs/w‹dsize.h
>

43 #i‡
__WORDSIZE
 == 64

57 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

58 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

59 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

62 
	#_POSIX_V7_LP64_OFF64
 1

	)

63 
	#_POSIX_V6_LP64_OFF64
 1

	)

64 
	#_XBS5_LP64_OFF64
 1

	)

70 
	#_POSIX_V7_ILP32_OFF32
 1

	)

71 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

72 
	#_POSIX_V6_ILP32_OFF32
 1

	)

73 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

74 
	#_XBS5_ILP32_OFF32
 1

	)

75 
	#_XBS5_ILP32_OFFBIG
 1

	)

92 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

93 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

94 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

95 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

96 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

97 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/errno.h

20 #ifde‡
_ERRNO_H


22 #unde‡
EDOM


23 #unde‡
EILSEQ


24 #unde‡
ERANGE


25 
	~<löux/î∫o.h
>

28 
	#ENOTSUP
 
EOPNOTSUPP


	)

31 #i‚de‡
ECANCELED


32 
	#ECANCELED
 125

	)

36 #i‚de‡
EOWNERDEAD


37 
	#EOWNERDEAD
 130

	)

38 
	#ENOTRECOVERABLE
 131

	)

41 #i‚de‡
__ASSEMBLER__


43 *
	$__î∫o_loˇti⁄
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

45 #i‡!
deföed
 
_LIBC
 || deföed 
_LIBC_REENTRANT


47 
	#î∫o
 (*
	`__î∫o_loˇti⁄
 ())

	)

52 #i‡!
deföed
 
_ERRNO_H
 && deföed 
__√ed_Em©h


56 
	#EDOM
 33

	)

57 
	#EILSEQ
 84

	)

58 
	#ERANGE
 34

	)

	@/usr/include/bits/fcntl.h

20 #i‚def 
_FCNTL_H


24 
	~<sys/ty≥s.h
>

25 
	~<bôs/w‹dsize.h
>

26 #ifde‡
__USE_GNU


27 
	~<bôs/uio.h
>

33 
	#O_ACCMODE
 0003

	)

34 
	#O_RDONLY
 00

	)

35 
	#O_WRONLY
 01

	)

36 
	#O_RDWR
 02

	)

37 
	#O_CREAT
 0100

	)

38 
	#O_EXCL
 0200

	)

39 
	#O_NOCTTY
 0400

	)

40 
	#O_TRUNC
 01000

	)

41 
	#O_APPEND
 02000

	)

42 
	#O_NONBLOCK
 04000

	)

43 
	#O_NDELAY
 
O_NONBLOCK


	)

44 
	#O_SYNC
 010000

	)

45 
	#O_FSYNC
 
O_SYNC


	)

46 
	#O_ASYNC
 020000

	)

48 #ifde‡
__USE_GNU


49 
	#O_DIRECT
 040000

	)

50 
	#O_DIRECTORY
 0200000

	)

51 
	#O_NOFOLLOW
 0400000

	)

52 
	#O_NOATIME
 01000000

	)

53 
	#O_CLOEXEC
 02000000

	)

59 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


60 
	#O_DSYNC
 
O_SYNC


	)

61 
	#O_RSYNC
 
O_SYNC


	)

64 #ifde‡
__USE_LARGEFILE64


65 #i‡
__WORDSIZE
 == 64

66 
	#O_LARGEFILE
 0

	)

68 
	#O_LARGEFILE
 0100000

	)

73 
	#F_DUPFD
 0

	)

74 
	#F_GETFD
 1

	)

75 
	#F_SETFD
 2

	)

76 
	#F_GETFL
 3

	)

77 
	#F_SETFL
 4

	)

78 #i‡
__WORDSIZE
 == 64

79 
	#F_GETLK
 5

	)

80 
	#F_SETLK
 6

	)

81 
	#F_SETLKW
 7

	)

83 
	#F_GETLK64
 5

	)

84 
	#F_SETLK64
 6

	)

85 
	#F_SETLKW64
 7

	)

87 #i‚de‡
__USE_FILE_OFFSET64


88 
	#F_GETLK
 5

	)

89 
	#F_SETLK
 6

	)

90 
	#F_SETLKW
 7

	)

92 
	#F_GETLK
 
F_GETLK64


	)

93 
	#F_SETLK
 
F_SETLK64


	)

94 
	#F_SETLKW
 
F_SETLKW64


	)

96 
	#F_GETLK64
 12

	)

97 
	#F_SETLK64
 13

	)

98 
	#F_SETLKW64
 14

	)

101 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98


102 
	#F_SETOWN
 8

	)

103 
	#F_GETOWN
 9

	)

106 #ifde‡
__USE_GNU


107 
	#F_SETSIG
 10

	)

108 
	#F_GETSIG
 11

	)

109 
	#F_SETOWN_EX
 15

	)

110 
	#F_GETOWN_EX
 16

	)

113 #ifde‡
__USE_GNU


114 
	#F_SETLEASE
 1024

	)

115 
	#F_GETLEASE
 1025

	)

116 
	#F_NOTIFY
 1026

	)

117 
	#F_DUPFD_CLOEXEC
 1030

	)

122 
	#FD_CLOEXEC
 1

	)

125 
	#F_RDLCK
 0

	)

126 
	#F_WRLCK
 1

	)

127 
	#F_UNLCK
 2

	)

130 
	#F_EXLCK
 4

	)

131 
	#F_SHLCK
 8

	)

133 #ifde‡
__USE_BSD


135 
	#LOCK_SH
 1

	)

136 
	#LOCK_EX
 2

	)

137 
	#LOCK_NB
 4

	)

139 
	#LOCK_UN
 8

	)

142 #ifde‡
__USE_GNU


143 
	#LOCK_MAND
 32

	)

144 
	#LOCK_READ
 64

	)

145 
	#LOCK_WRITE
 128

	)

146 
	#LOCK_RW
 192

	)

149 #ifde‡
__USE_GNU


151 
	#DN_ACCESS
 0x00000001

	)

152 
	#DN_MODIFY
 0x00000002

	)

153 
	#DN_CREATE
 0x00000004

	)

154 
	#DN_DELETE
 0x00000008

	)

155 
	#DN_RENAME
 0x00000010

	)

156 
	#DN_ATTRIB
 0x00000020

	)

157 
	#DN_MULTISHOT
 0x80000000

	)

160 
	sÊock


162 
	ml_ty≥
;

163 
	ml_whí˚
;

164 #i‚de‡
__USE_FILE_OFFSET64


165 
__off_t
 
	ml_°¨t
;

166 
__off_t
 
	ml_Àn
;

168 
__off64_t
 
	ml_°¨t
;

169 
__off64_t
 
	ml_Àn
;

171 
__pid_t
 
	ml_pid
;

174 #ifde‡
__USE_LARGEFILE64


175 
	sÊock64


177 
	ml_ty≥
;

178 
	ml_whí˚
;

179 
__off64_t
 
	ml_°¨t
;

180 
__off64_t
 
	ml_Àn
;

181 
__pid_t
 
	ml_pid
;

185 #ifde‡
__USE_GNU


187 
	e__pid_ty≥


189 
	mF_OWNER_TID
 = 0,

190 
	mF_OWNER_PID
,

191 
	mF_OWNER_GID


195 
	sf_ow√r_ex


197 
__pid_ty≥
 
	mty≥
;

198 
__pid_t
 
	mpid
;

204 #ifdef 
__USE_BSD


205 
	#FAPPEND
 
O_APPEND


	)

206 
	#FFSYNC
 
O_FSYNC


	)

207 
	#FASYNC
 
O_ASYNC


	)

208 
	#FNONBLOCK
 
O_NONBLOCK


	)

209 
	#FNDELAY
 
O_NDELAY


	)

213 #ifde‡
__USE_XOPEN2K


214 
	#POSIX_FADV_NORMAL
 0

	)

215 
	#POSIX_FADV_RANDOM
 1

	)

216 
	#POSIX_FADV_SEQUENTIAL
 2

	)

217 
	#POSIX_FADV_WILLNEED
 3

	)

218 
	#POSIX_FADV_DONTNEED
 4

	)

219 
	#POSIX_FADV_NOREUSE
 5

	)

223 #ifde‡
__USE_GNU


225 
	#SYNC_FILE_RANGE_WAIT_BEFORE
 1

	)

228 
	#SYNC_FILE_RANGE_WRITE
 2

	)

231 
	#SYNC_FILE_RANGE_WAIT_AFTER
 4

	)

236 
	#SPLICE_F_MOVE
 1

	)

237 
	#SPLICE_F_NONBLOCK
 2

	)

240 
	#SPLICE_F_MORE
 4

	)

241 
	#SPLICE_F_GIFT
 8

	)

245 #ifde‡
__USE_ATFILE


246 
	#AT_FDCWD
 -100

	)

249 
	#AT_SYMLINK_NOFOLLOW
 0x100

	)

250 
	#AT_REMOVEDIR
 0x200

	)

252 
	#AT_SYMLINK_FOLLOW
 0x400

	)

253 
	#AT_EACCESS
 0x200

	)

257 
	g__BEGIN_DECLS


259 #ifde‡
__USE_GNU


262 
ssize_t
 
	$ªadahód
 (
__fd
, 
__off64_t
 
__off£t
, 
size_t
 
__cou¡
)

263 
__THROW
;

267 
	`sync_fûe_ønge
 (
__fd
, 
__off64_t
 
__‰om
, __off64_à
__to
,

268 
__Êags
);

272 
ssize_t
 
	`vm•li˚
 (
__fdout
, c⁄° 
iovec
 *
__iov
,

273 
size_t
 
__cou¡
, 
__Êags
);

276 
ssize_t
 
	`•li˚
 (
__fdö
, 
__off64_t
 *
__offö
, 
__fdout
,

277 
__off64_t
 *
__offout
, 
size_t
 
__Àn
,

278 
__Êags
);

281 
ssize_t
 
	`ãe
 (
__fdö
, 
__fdout
, 
size_t
 
__Àn
,

282 
__Êags
);

285 #i‚de‡
__USE_FILE_OFFSET64


286 
	`ÁŒoˇã
 (
__fd
, 
__mode
, 
__off_t
 
__off£t
, __off_à
__Àn
);

288 #ifde‡
__REDIRECT


289 
	`__REDIRECT
 (
ÁŒoˇã
, (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

290 
__off64_t
 
__Àn
),

291 
ÁŒoˇã64
);

293 
	#ÁŒoˇã
 
ÁŒoˇã64


	)

296 #ifde‡
__USE_LARGEFILE64


297 
	`ÁŒoˇã64
 (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

298 
__off64_t
 
__Àn
);

302 
__END_DECLS


	@/usr/include/bits/fcntl2.h

20 #i‚def 
_FCNTL_H


26 #i‚de‡
__USE_FILE_OFFSET64


27 
	$__›í_2
 (
__c⁄°
 *
__∑th
, 
__oÊag
Ë
	`__n⁄nuŒ
 ((1));

28 
	`__REDIRECT
 (
__›í_Æüs
, (
__c⁄°
 *
__∑th
, 
__oÊag
, ...),

29 
›í
Ë
	`__n⁄nuŒ
 ((1));

31 
	`__REDIRECT
 (
__›í_2
, (
__c⁄°
 *
__∑th
, 
__oÊag
),

32 
__›í64_2
Ë
	`__n⁄nuŒ
 ((1));

33 
	`__REDIRECT
 (
__›í_Æüs
, (
__c⁄°
 *
__∑th
, 
__oÊag
, ...),

34 
›í64
Ë
	`__n⁄nuŒ
 ((1));

36 
	`__îr‹de˛
 (
__›í_too_m™y_¨gs
,

38 
	`__îr‹de˛
 (
__›í_missög_mode
,

41 
__exã∫_Æways_ölöe
 

42 
	$›í
 (
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

44 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

45 
	`__›í_too_m™y_¨gs
 ();

47 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

49 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

51 
	`__›í_missög_mode
 ();

52  
	`__›í_2
 (
__∑th
, 
__oÊag
);

54  
	`__›í_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

57 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

58  
	`__›í_2
 (
__∑th
, 
__oÊag
);

60  
	`__›í_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

61 
	}
}

64 #ifde‡
__USE_LARGEFILE64


65 
	$__›í64_2
 (
__c⁄°
 *
__∑th
, 
__oÊag
Ë
	`__n⁄nuŒ
 ((1));

66 
	`__REDIRECT
 (
__›í64_Æüs
, (
__c⁄°
 *
__∑th
, 
__oÊag
,

67 ...), 
›í64
Ë
	`__n⁄nuŒ
 ((1));

68 
	`__îr‹de˛
 (
__›í64_too_m™y_¨gs
,

70 
	`__îr‹de˛
 (
__›í64_missög_mode
,

73 
__exã∫_Æways_ölöe
 

74 
	$›í64
 (
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

76 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

77 
	`__›í64_too_m™y_¨gs
 ();

79 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

81 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

83 
	`__›í64_missög_mode
 ();

84  
	`__›í64_2
 (
__∑th
, 
__oÊag
);

86  
	`__›í64_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

89 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

90  
	`__›í64_2
 (
__∑th
, 
__oÊag
);

92  
	`__›í64_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

93 
	}
}

97 #ifde‡
__USE_ATFILE


98 #i‚de‡
__USE_FILE_OFFSET64


99 
	$__›í©_2
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
)

100 
	`__n⁄nuŒ
 ((2));

101 
	`__REDIRECT
 (
__›í©_Æüs
, (
__fd
, 
__c⁄°
 *
__∑th
,

102 
__oÊag
, ...), 
›í©
)

103 
	`__n⁄nuŒ
 ((2));

105 
	`__REDIRECT
 (
__›í©_2
, (
__fd
, 
__c⁄°
 *
__∑th
,

106 
__oÊag
), 
__›í©64_2
)

107 
	`__n⁄nuŒ
 ((2));

108 
	`__REDIRECT
 (
__›í©_Æüs
, (
__fd
, 
__c⁄°
 *
__∑th
,

109 
__oÊag
, ...), 
›í©64
)

110 
	`__n⁄nuŒ
 ((2));

112 
	`__îr‹de˛
 (
__›í©_too_m™y_¨gs
,

114 
	`__îr‹de˛
 (
__›í©_missög_mode
,

117 
__exã∫_Æways_ölöe
 

118 
	$›í©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

120 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

121 
	`__›í©_too_m™y_¨gs
 ();

123 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

125 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

127 
	`__›í©_missög_mode
 ();

128  
	`__›í©_2
 (
__fd
, 
__∑th
, 
__oÊag
);

130  
	`__›í©_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

133 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

134  
	`__›í©_2
 (
__fd
, 
__∑th
, 
__oÊag
);

136  
	`__›í©_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

137 
	}
}

140 #ifde‡
__USE_LARGEFILE64


141 
	$__›í©64_2
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
)

142 
	`__n⁄nuŒ
 ((2));

143 
	`__REDIRECT
 (
__›í©64_Æüs
, (
__fd
, 
__c⁄°
 *
__∑th
,

144 
__oÊag
, ...), 
›í©64
)

145 
	`__n⁄nuŒ
 ((2));

146 
	`__îr‹de˛
 (
__›í©64_too_m™y_¨gs
,

148 
	`__îr‹de˛
 (
__›í©64_missög_mode
,

151 
__exã∫_Æways_ölöe
 

152 
	$›í©64
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

154 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

155 
	`__›í©64_too_m™y_¨gs
 ();

157 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

159 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

161 
	`__›í©64_missög_mode
 ();

162  
	`__›í©64_2
 (
__fd
, 
__∑th
, 
__oÊag
);

164  
	`__›í©64_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

167 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

168  
	`__›í©64_2
 (
__fd
, 
__∑th
, 
__oÊag
);

170  
	`__›í©64_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

171 
	}
}

	@/usr/include/bits/ioctl-types.h

20 #i‚de‡
_SYS_IOCTL_H


25 
	~<asm/io˘ls.h
>

28 
	swösize


30 
	mws_row
;

31 
	mws_cﬁ
;

32 
	mws_xpixñ
;

33 
	mws_ypixñ
;

36 
	#NCC
 8

	)

37 
	sãrmio


39 
	mc_iÊag
;

40 
	mc_oÊag
;

41 
	mc_cÊag
;

42 
	mc_lÊag
;

43 
	mc_löe
;

44 
	mc_cc
[
NCC
];

48 
	#TIOCM_LE
 0x001

	)

49 
	#TIOCM_DTR
 0x002

	)

50 
	#TIOCM_RTS
 0x004

	)

51 
	#TIOCM_ST
 0x008

	)

52 
	#TIOCM_SR
 0x010

	)

53 
	#TIOCM_CTS
 0x020

	)

54 
	#TIOCM_CAR
 0x040

	)

55 
	#TIOCM_RNG
 0x080

	)

56 
	#TIOCM_DSR
 0x100

	)

57 
	#TIOCM_CD
 
TIOCM_CAR


	)

58 
	#TIOCM_RI
 
TIOCM_RNG


	)

63 
	#N_TTY
 0

	)

64 
	#N_SLIP
 1

	)

65 
	#N_MOUSE
 2

	)

66 
	#N_PPP
 3

	)

67 
	#N_STRIP
 4

	)

68 
	#N_AX25
 5

	)

69 
	#N_X25
 6

	)

70 
	#N_6PACK
 7

	)

71 
	#N_MASC
 8

	)

72 
	#N_R3964
 9

	)

73 
	#N_PROFIBUS_FDL
 10

	)

74 
	#N_IRDA
 11

	)

75 
	#N_SMSBLOCK
 12

	)

76 
	#N_HDLC
 13

	)

77 
	#N_SYNC_PPP
 14

	)

78 
	#N_HCI
 15

	)

	@/usr/include/bits/ioctls.h

19 #i‚de‡
_SYS_IOCTL_H


24 
	~<asm/io˘ls.h
>

27 
	#SIOCADDRT
 0x890B

	)

28 
	#SIOCDELRT
 0x890C

	)

29 
	#SIOCRTMSG
 0x890D

	)

32 
	#SIOCGIFNAME
 0x8910

	)

33 
	#SIOCSIFLINK
 0x8911

	)

34 
	#SIOCGIFCONF
 0x8912

	)

35 
	#SIOCGIFFLAGS
 0x8913

	)

36 
	#SIOCSIFFLAGS
 0x8914

	)

37 
	#SIOCGIFADDR
 0x8915

	)

38 
	#SIOCSIFADDR
 0x8916

	)

39 
	#SIOCGIFDSTADDR
 0x8917

	)

40 
	#SIOCSIFDSTADDR
 0x8918

	)

41 
	#SIOCGIFBRDADDR
 0x8919

	)

42 
	#SIOCSIFBRDADDR
 0x891®

	)

43 
	#SIOCGIFNETMASK
 0x891b

	)

44 
	#SIOCSIFNETMASK
 0x891¯

	)

45 
	#SIOCGIFMETRIC
 0x891d

	)

46 
	#SIOCSIFMETRIC
 0x891ê

	)

47 
	#SIOCGIFMEM
 0x891‡

	)

48 
	#SIOCSIFMEM
 0x8920

	)

49 
	#SIOCGIFMTU
 0x8921

	)

50 
	#SIOCSIFMTU
 0x8922

	)

51 
	#SIOCSIFNAME
 0x8923

	)

52 
	#SIOCSIFHWADDR
 0x8924

	)

53 
	#SIOCGIFENCAP
 0x8925

	)

54 
	#SIOCSIFENCAP
 0x8926

	)

55 
	#SIOCGIFHWADDR
 0x8927

	)

56 
	#SIOCGIFSLAVE
 0x8929

	)

57 
	#SIOCSIFSLAVE
 0x8930

	)

58 
	#SIOCADDMULTI
 0x8931

	)

59 
	#SIOCDELMULTI
 0x8932

	)

60 
	#SIOCGIFINDEX
 0x8933

	)

61 
	#SIOGIFINDEX
 
SIOCGIFINDEX


	)

62 
	#SIOCSIFPFLAGS
 0x8934

	)

63 
	#SIOCGIFPFLAGS
 0x8935

	)

64 
	#SIOCDIFADDR
 0x8936

	)

65 
	#SIOCSIFHWBROADCAST
 0x8937

	)

66 
	#SIOCGIFCOUNT
 0x8938

	)

68 
	#SIOCGIFBR
 0x8940

	)

69 
	#SIOCSIFBR
 0x8941

	)

71 
	#SIOCGIFTXQLEN
 0x8942

	)

72 
	#SIOCSIFTXQLEN
 0x8943

	)

77 
	#SIOCDARP
 0x8953

	)

78 
	#SIOCGARP
 0x8954

	)

79 
	#SIOCSARP
 0x8955

	)

82 
	#SIOCDRARP
 0x8960

	)

83 
	#SIOCGRARP
 0x8961

	)

84 
	#SIOCSRARP
 0x8962

	)

88 
	#SIOCGIFMAP
 0x8970

	)

89 
	#SIOCSIFMAP
 0x8971

	)

93 
	#SIOCADDDLCI
 0x8980

	)

94 
	#SIOCDELDLCI
 0x8981

	)

103 
	#SIOCDEVPRIVATE
 0x89F0

	)

109 
	#SIOCPROTOPRIVATE
 0x89E0

	)

	@/usr/include/bits/locale.h

20 #i‡!
deföed
 
_LOCALE_H
 && !deföed 
_LANGINFO_H


24 #i‚de‡
_BITS_LOCALE_H


25 
	#_BITS_LOCALE_H
 1

	)

29 
	m__LC_CTYPE
 = 0,

30 
	m__LC_NUMERIC
 = 1,

31 
	m__LC_TIME
 = 2,

32 
	m__LC_COLLATE
 = 3,

33 
	m__LC_MONETARY
 = 4,

34 
	m__LC_MESSAGES
 = 5,

35 
	m__LC_ALL
 = 6,

36 
	m__LC_PAPER
 = 7,

37 
	m__LC_NAME
 = 8,

38 
	m__LC_ADDRESS
 = 9,

39 
	m__LC_TELEPHONE
 = 10,

40 
	m__LC_MEASUREMENT
 = 11,

41 
	m__LC_IDENTIFICATION
 = 12

	@/usr/include/bits/posix1_lim.h

25 #i‚def 
_BITS_POSIX1_LIM_H


26 
	#_BITS_POSIX1_LIM_H
 1

	)

32 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

35 
	#_POSIX_AIO_MAX
 1

	)

38 
	#_POSIX_ARG_MAX
 4096

	)

41 #ifde‡
__USE_XOPEN2K


42 
	#_POSIX_CHILD_MAX
 25

	)

44 
	#_POSIX_CHILD_MAX
 6

	)

48 
	#_POSIX_DELAYTIMER_MAX
 32

	)

52 
	#_POSIX_HOST_NAME_MAX
 255

	)

55 
	#_POSIX_LINK_MAX
 8

	)

58 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

61 
	#_POSIX_MAX_CANON
 255

	)

65 
	#_POSIX_MAX_INPUT
 255

	)

68 
	#_POSIX_MQ_OPEN_MAX
 8

	)

71 
	#_POSIX_MQ_PRIO_MAX
 32

	)

74 
	#_POSIX_NAME_MAX
 14

	)

77 #ifde‡
__USE_XOPEN2K


78 
	#_POSIX_NGROUPS_MAX
 8

	)

80 
	#_POSIX_NGROUPS_MAX
 0

	)

84 #ifde‡
__USE_XOPEN2K


85 
	#_POSIX_OPEN_MAX
 20

	)

87 
	#_POSIX_OPEN_MAX
 16

	)

90 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


93 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

97 
	#_POSIX_PATH_MAX
 256

	)

100 
	#_POSIX_PIPE_BUF
 512

	)

104 
	#_POSIX_RE_DUP_MAX
 255

	)

107 
	#_POSIX_RTSIG_MAX
 8

	)

110 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

113 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

116 
	#_POSIX_SIGQUEUE_MAX
 32

	)

119 
	#_POSIX_SSIZE_MAX
 32767

	)

122 
	#_POSIX_STREAM_MAX
 8

	)

125 
	#_POSIX_SYMLINK_MAX
 255

	)

129 
	#_POSIX_SYMLOOP_MAX
 8

	)

132 
	#_POSIX_TIMER_MAX
 32

	)

135 
	#_POSIX_TTY_NAME_MAX
 9

	)

138 
	#_POSIX_TZNAME_MAX
 6

	)

140 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


142 
	#_POSIX_QLIMIT
 1

	)

146 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

149 
	#_POSIX_UIO_MAXIOV
 16

	)

153 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

157 
	~<bôs/loˇl_lim.h
>

160 #i‚def 
SSIZE_MAX


161 
	#SSIZE_MAX
 
LONG_MAX


	)

168 #i‚def 
NGROUPS_MAX


169 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

23 #i‚def 
_BITS_POSIX2_LIM_H


24 
	#_BITS_POSIX2_LIM_H
 1

	)

28 
	#_POSIX2_BC_BASE_MAX
 99

	)

31 
	#_POSIX2_BC_DIM_MAX
 2048

	)

34 
	#_POSIX2_BC_SCALE_MAX
 99

	)

37 
	#_POSIX2_BC_STRING_MAX
 1000

	)

41 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

45 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

48 
	#_POSIX2_LINE_MAX
 2048

	)

52 
	#_POSIX2_RE_DUP_MAX
 255

	)

56 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

63 #i‚def 
BC_BASE_MAX


64 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

66 #i‚def 
BC_DIM_MAX


67 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

69 #i‚def 
BC_SCALE_MAX


70 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

72 #i‚def 
BC_STRING_MAX


73 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

75 #i‚def 
COLL_WEIGHTS_MAX


76 
	#COLL_WEIGHTS_MAX
 255

	)

78 #i‚def 
EXPR_NEST_MAX


79 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

81 #i‚def 
LINE_MAX


82 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

84 #i‚def 
CHARCLASS_NAME_MAX


85 
	#CHARCLASS_NAME_MAX
 2048

	)

89 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/posix_opt.h

20 #i‚def 
_BITS_POSIX_OPT_H


21 
	#_BITS_POSIX_OPT_H
 1

	)

24 
	#_POSIX_JOB_CONTROL
 1

	)

27 
	#_POSIX_SAVED_IDS
 1

	)

30 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

33 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

36 
	#_POSIX_FSYNC
 200809L

	)

39 
	#_POSIX_MAPPED_FILES
 200809L

	)

42 
	#_POSIX_MEMLOCK
 200809L

	)

45 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

48 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

51 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

55 
	#_POSIX_VDISABLE
 '\0'

	)

58 
	#_POSIX_NO_TRUNC
 1

	)

61 
	#_XOPEN_REALTIME
 1

	)

64 
	#_XOPEN_REALTIME_THREADS
 1

	)

67 
	#_XOPEN_SHM
 1

	)

70 
	#_POSIX_THREADS
 200809L

	)

73 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

74 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

77 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

80 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

83 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

86 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

90 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

92 #ifde‡
__USE_XOPEN2K8


94 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

97 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

101 
	#_POSIX_SEMAPHORES
 200809L

	)

104 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

107 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

108 
	#_POSIX_ASYNC_IO
 1

	)

110 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

112 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

115 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

118 
	#_LFS_LARGEFILE
 1

	)

119 
	#_LFS64_LARGEFILE
 1

	)

120 
	#_LFS64_STDIO
 1

	)

123 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

126 
	#_POSIX_CPUTIME
 0

	)

129 
	#_POSIX_THREAD_CPUTIME
 0

	)

132 
	#_POSIX_REGEXP
 1

	)

135 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

138 
	#_POSIX_SHELL
 1

	)

141 
	#_POSIX_TIMEOUTS
 200809L

	)

144 
	#_POSIX_SPIN_LOCKS
 200809L

	)

147 
	#_POSIX_SPAWN
 200809L

	)

150 
	#_POSIX_TIMERS
 200809L

	)

153 
	#_POSIX_BARRIERS
 200809L

	)

156 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

159 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

162 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

165 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

168 
	#_POSIX_ADVISORY_INFO
 200809L

	)

171 
	#_POSIX_IPV6
 200809L

	)

174 
	#_POSIX_RAW_SOCKETS
 200809L

	)

177 
	#_POSIX2_CHAR_TERM
 200809L

	)

180 
	#_POSIX_SPORADIC_SERVER
 -1

	)

181 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

184 
	#_POSIX_TRACE
 -1

	)

185 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

186 
	#_POSIX_TRACE_INHERIT
 -1

	)

187 
	#_POSIX_TRACE_LOG
 -1

	)

190 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

	@/usr/include/bits/pthreadtypes.h

20 #i‚de‡
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<bôs/w‹dsize.h
>

25 #i‡
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	t±hªad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__Æign
;

57 } 
	t±hªad_©å_t
;

60 #i‡
__WORDSIZE
 == 64

61 
	s__±hªad_öã∫Æ_li°


63 
__±hªad_öã∫Æ_li°
 *
	m__¥ev
;

64 
__±hªad_öã∫Æ_li°
 *
	m__√xt
;

65 } 
	t__±hªad_li°_t
;

67 
	s__±hªad_öã∫Æ_¶i°


69 
__±hªad_öã∫Æ_¶i°
 *
	m__√xt
;

70 } 
	t__±hªad_¶i°_t
;

78 
	s__±hªad_muãx_s


80 
	m__lock
;

81 
	m__cou¡
;

82 
	m__ow√r
;

83 #i‡
__WORDSIZE
 == 64

84 
	m__nu£rs
;

88 
	m__köd
;

89 #i‡
__WORDSIZE
 == 64

90 
	m__•ös
;

91 
__±hªad_li°_t
 
	m__li°
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nu£rs
;

95 
__exãnsi⁄__
 union

97 
	m__•ös
;

98 
__±hªad_¶i°_t
 
	m__li°
;

101 } 
	m__d©a
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__Æign
;

104 } 
	t±hªad_muãx_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__Æign
;

110 } 
	t±hªad_muãx©å_t
;

119 
	m__lock
;

120 
	m__fuãx
;

121 
__exãnsi⁄__
 
	m__tŸÆ_£q
;

122 
__exãnsi⁄__
 
	m__wakeup_£q
;

123 
__exãnsi⁄__
 
	m__wokí_£q
;

124 *
	m__muãx
;

125 
	m__nwaôîs
;

126 
	m__brﬂdˇ°_£q
;

127 } 
	m__d©a
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__exãnsi⁄__
 
	m__Æign
;

130 } 
	t±hªad_c⁄d_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__Æign
;

136 } 
	t±hªad_c⁄d©å_t
;

140 
	t±hªad_key_t
;

144 
	t±hªad_⁄˚_t
;

147 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


152 #i‡
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m__ƒ_ªadîs
;

157 
	m__ªadîs_wakeup
;

158 
	m__wrôî_wakeup
;

159 
	m__ƒ_ªadîs_queued
;

160 
	m__ƒ_wrôîs_queued
;

161 
	m__wrôî
;

162 
	m__sh¨ed
;

163 
	m__∑d1
;

164 
	m__∑d2
;

167 
	m__Êags
;

168 } 
	m__d©a
;

172 
	m__lock
;

173 
	m__ƒ_ªadîs
;

174 
	m__ªadîs_wakeup
;

175 
	m__wrôî_wakeup
;

176 
	m__ƒ_ªadîs_queued
;

177 
	m__ƒ_wrôîs_queued
;

180 
	m__Êags
;

181 
	m__sh¨ed
;

182 
	m__∑d1
;

183 
	m__∑d2
;

184 
	m__wrôî
;

185 } 
	m__d©a
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__Æign
;

189 } 
	t±hªad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__Æign
;

195 } 
	t±hªad_rwlock©å_t
;

199 #ifde‡
__USE_XOPEN2K


201 vﬁ©ûê
	t±hªad_•ölock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__Æign
;

210 } 
	t±hªad_b¨rõr_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__Æign
;

216 } 
	t±hªad_b¨rõøâr_t
;

220 #i‡
__WORDSIZE
 == 32

222 
	#__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
	`__ªg∑rm__
 (1)))

	)

	@/usr/include/bits/setjmp.h

20 #i‚de‡
_BITS_SETJMP_H


21 
	#_BITS_SETJMP_H
 1

	)

23 #i‡!
deföed
 
_SETJMP_H
 && !deföed 
_PTHREAD_H


27 
	~<bôs/w‹dsize.h
>

29 #i‚de‡
_ASM


31 #i‡
__WORDSIZE
 == 64

32 
	t__jmp_buf
[8];

34 
	t__jmp_buf
[6];

	@/usr/include/bits/sigaction.h

20 #i‚de‡
_SIGNAL_H


25 
	ssiga˘i⁄


28 #ifde‡
__USE_POSIX199309


32 
__sigh™dÀr_t
 
	mß_h™dÀr
;

34 (*
	mß_siga˘i⁄
Ë(, 
	msigöfo_t
 *, *);

36 
	m__siga˘i⁄_h™dÀr
;

37 
	#ß_h™dÀr
 
__siga˘i⁄_h™dÀr
.
ß_h™dÀr


	)

38 
	#ß_siga˘i⁄
 
__siga˘i⁄_h™dÀr
.
ß_siga˘i⁄


	)

40 
__sigh™dÀr_t
 
	mß_h™dÀr
;

44 
__sig£t_t
 
	mß_mask
;

47 
	mß_Êags
;

50 (*
	mß_ª°‹î
) ();

54 
	#SA_NOCLDSTOP
 1

	)

55 
	#SA_NOCLDWAIT
 2

	)

56 
	#SA_SIGINFO
 4

	)

58 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_MISC


59 
	#SA_ONSTACK
 0x08000000

	)

60 
	#SA_RESTART
 0x10000000

	)

61 
	#SA_NODEFER
 0x40000000

	)

63 
	#SA_RESETHAND
 0x80000000

	)

65 #ifde‡
__USE_MISC


66 
	#SA_INTERRUPT
 0x20000000

	)

69 
	#SA_NOMASK
 
SA_NODEFER


	)

70 
	#SA_ONESHOT
 
SA_RESETHAND


	)

71 
	#SA_STACK
 
SA_ONSTACK


	)

75 
	#SIG_BLOCK
 0

	)

76 
	#SIG_UNBLOCK
 1

	)

77 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

19 #i‚de‡
_BITS_SIGCONTEXT_H


20 
	#_BITS_SIGCONTEXT_H
 1

	)

22 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
_SYS_UCONTEXT_H


26 
	~<bôs/w‹dsize.h
>

28 
	s_Âªg


30 
	msignifiˇnd
[4];

31 
	mexp⁄ít
;

34 
	s_Âxªg


36 
	msignifiˇnd
[4];

37 
	mexp⁄ít
;

38 
	m∑ddög
[3];

41 
	s_xmmªg


43 
__uöt32_t
 
	mñemít
[4];

48 #i‡
__WORDSIZE
 == 32

50 
	s_Â°©e


53 
__uöt32_t
 
	mcw
;

54 
__uöt32_t
 
	msw
;

55 
__uöt32_t
 
	mèg
;

56 
__uöt32_t
 
	mùoff
;

57 
__uöt32_t
 
	mcs£l
;

58 
__uöt32_t
 
	md©aoff
;

59 
__uöt32_t
 
	md©a£l
;

60 
_Âªg
 
	m_°
[8];

61 
	m°©us
;

62 
	mmagic
;

65 
__uöt32_t
 
	m_fx§_ív
[6];

66 
__uöt32_t
 
	mmxc§
;

67 
__uöt32_t
 
	mª£rved
;

68 
_Âxªg
 
	m_fx§_°
[8];

69 
_xmmªg
 
	m_xmm
[8];

70 
__uöt32_t
 
	m∑ddög
[56];

73 #i‚de‡
sigc⁄ãxt_°ru˘


78 
	#sigc⁄ãxt_°ru˘
 
sigc⁄ãxt


	)

81 
	ssigc⁄ãxt


83 
	mgs
, 
	m__gsh
;

84 
	mfs
, 
	m__fsh
;

85 
	mes
, 
	m__esh
;

86 
	mds
, 
	m__dsh
;

87 
	medi
;

88 
	mesi
;

89 
	mebp
;

90 
	me•
;

91 
	mebx
;

92 
	medx
;

93 
	mecx
;

94 
	móx
;

95 
	må≠no
;

96 
	mîr
;

97 
	meù
;

98 
	mcs
, 
	m__csh
;

99 
	meÊags
;

100 
	me•_©_sig«l
;

101 
	mss
, 
	m__ssh
;

102 
_Â°©e
 * 
	mÂ°©e
;

103 
	mﬁdmask
;

104 
	m¸2
;

109 
	s_Â°©e


112 
__uöt16_t
 
	mcwd
;

113 
__uöt16_t
 
	mswd
;

114 
__uöt16_t
 
	m·w
;

115 
__uöt16_t
 
	mf›
;

116 
__uöt64_t
 
	mrù
;

117 
__uöt64_t
 
	mrdp
;

118 
__uöt32_t
 
	mmxc§
;

119 
__uöt32_t
 
	mmx¸_mask
;

120 
_Âxªg
 
	m_°
[8];

121 
_xmmªg
 
	m_xmm
[16];

122 
__uöt32_t
 
	m∑ddög
[24];

125 
	ssigc⁄ãxt


127 
	mr8
;

128 
	mr9
;

129 
	mr10
;

130 
	mr11
;

131 
	mr12
;

132 
	mr13
;

133 
	mr14
;

134 
	mr15
;

135 
	mrdi
;

136 
	mrsi
;

137 
	mrbp
;

138 
	mrbx
;

139 
	mrdx
;

140 
	møx
;

141 
	mrcx
;

142 
	mr•
;

143 
	mrù
;

144 
	meÊags
;

145 
	mcs
;

146 
	mgs
;

147 
	mfs
;

148 
	m__∑d0
;

149 
	mîr
;

150 
	må≠no
;

151 
	mﬁdmask
;

152 
	m¸2
;

153 
_Â°©e
 * 
	mÂ°©e
;

154 
	m__ª£rved1
 [8];

	@/usr/include/bits/siginfo.h

20 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
__√ed_sigöfo_t
 \

21 && !
deföed
 
	g__√ed_sigevít_t


25 
	~<bôs/w‹dsize.h
>

27 #i‡(!
deföed
 
__have_sigvÆ_t
 \

28 && (
deföed
 
	g_SIGNAL_H
 || deföed 
	g__√ed_sigöfo_t
 \

29 || 
deföed
 
	g__√ed_sigevít_t
))

30 
	#__have_sigvÆ_t
 1

	)

33 
	usigvÆ


35 
	msivÆ_öt
;

36 *
	msivÆ_±r
;

37 } 
	tsigvÆ_t
;

40 #i‡(!
deföed
 
__have_sigöfo_t
 \

41 && (
deföed
 
	g_SIGNAL_H
 || deföed 
	g__√ed_sigöfo_t
))

42 
	#__have_sigöfo_t
 1

	)

44 
	#__SI_MAX_SIZE
 128

	)

45 #i‡
__WORDSIZE
 == 64

46 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()Ë- 4)

	)

48 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()Ë- 3)

	)

51 
	ssigöfo


53 
	msi_signo
;

54 
	msi_î∫o
;

56 
	msi_code
;

60 
	m_∑d
[
__SI_PAD_SIZE
];

65 
__pid_t
 
	msi_pid
;

66 
__uid_t
 
	msi_uid
;

67 } 
	m_kûl
;

72 
	msi_tid
;

73 
	msi_ovîrun
;

74 
sigvÆ_t
 
	msi_sigvÆ
;

75 } 
	m_timî
;

80 
__pid_t
 
	msi_pid
;

81 
__uid_t
 
	msi_uid
;

82 
sigvÆ_t
 
	msi_sigvÆ
;

83 } 
	m_π
;

88 
__pid_t
 
	msi_pid
;

89 
__uid_t
 
	msi_uid
;

90 
	msi_°©us
;

91 
__˛ock_t
 
	msi_utime
;

92 
__˛ock_t
 
	msi_°ime
;

93 } 
	m_sigchld
;

98 *
	msi_addr
;

99 } 
	m_sigÁu…
;

104 
	msi_b™d
;

105 
	msi_fd
;

106 } 
	m_sigpﬁl
;

107 } 
	m_sifõlds
;

108 } 
	tsigöfo_t
;

112 
	#si_pid
 
_sifõlds
.
_kûl
.
si_pid


	)

113 
	#si_uid
 
_sifõlds
.
_kûl
.
si_uid


	)

114 
	#si_timîid
 
_sifõlds
.
_timî
.
si_tid


	)

115 
	#si_ovîrun
 
_sifõlds
.
_timî
.
si_ovîrun


	)

116 
	#si_°©us
 
_sifõlds
.
_sigchld
.
si_°©us


	)

117 
	#si_utime
 
_sifõlds
.
_sigchld
.
si_utime


	)

118 
	#si_°ime
 
_sifõlds
.
_sigchld
.
si_°ime


	)

119 
	#si_vÆue
 
_sifõlds
.
_π
.
si_sigvÆ


	)

120 
	#si_öt
 
_sifõlds
.
_π
.
si_sigvÆ
.
sivÆ_öt


	)

121 
	#si_±r
 
_sifõlds
.
_π
.
si_sigvÆ
.
sivÆ_±r


	)

122 
	#si_addr
 
_sifõlds
.
_sigÁu…
.
si_addr


	)

123 
	#si_b™d
 
_sifõlds
.
_sigpﬁl
.
si_b™d


	)

124 
	#si_fd
 
_sifõlds
.
_sigpﬁl
.
si_fd


	)

131 
	mSI_ASYNCNL
 = -60,

132 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

133 
	mSI_TKILL
 = -6,

134 
	#SI_TKILL
 
SI_TKILL


	)

135 
	mSI_SIGIO
,

136 
	#SI_SIGIO
 
SI_SIGIO


	)

137 
	mSI_ASYNCIO
,

138 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

139 
	mSI_MESGQ
,

140 
	#SI_MESGQ
 
SI_MESGQ


	)

141 
	mSI_TIMER
,

142 
	#SI_TIMER
 
SI_TIMER


	)

143 
	mSI_QUEUE
,

144 
	#SI_QUEUE
 
SI_QUEUE


	)

145 
	mSI_USER
,

146 
	#SI_USER
 
SI_USER


	)

147 
	mSI_KERNEL
 = 0x80

148 
	#SI_KERNEL
 
SI_KERNEL


	)

155 
	mILL_ILLOPC
 = 1,

156 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

157 
	mILL_ILLOPN
,

158 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

159 
	mILL_ILLADR
,

160 
	#ILL_ILLADR
 
ILL_ILLADR


	)

161 
	mILL_ILLTRP
,

162 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

163 
	mILL_PRVOPC
,

164 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

165 
	mILL_PRVREG
,

166 
	#ILL_PRVREG
 
ILL_PRVREG


	)

167 
	mILL_COPROC
,

168 
	#ILL_COPROC
 
ILL_COPROC


	)

169 
	mILL_BADSTK


170 
	#ILL_BADSTK
 
ILL_BADSTK


	)

176 
	mFPE_INTDIV
 = 1,

177 
	#FPE_INTDIV
 
FPE_INTDIV


	)

178 
	mFPE_INTOVF
,

179 
	#FPE_INTOVF
 
FPE_INTOVF


	)

180 
	mFPE_FLTDIV
,

181 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

182 
	mFPE_FLTOVF
,

183 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

184 
	mFPE_FLTUND
,

185 
	#FPE_FLTUND
 
FPE_FLTUND


	)

186 
	mFPE_FLTRES
,

187 
	#FPE_FLTRES
 
FPE_FLTRES


	)

188 
	mFPE_FLTINV
,

189 
	#FPE_FLTINV
 
FPE_FLTINV


	)

190 
	mFPE_FLTSUB


191 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

197 
	mSEGV_MAPERR
 = 1,

198 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

199 
	mSEGV_ACCERR


200 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

206 
	mBUS_ADRALN
 = 1,

207 
	#BUS_ADRALN
 
BUS_ADRALN


	)

208 
	mBUS_ADRERR
,

209 
	#BUS_ADRERR
 
BUS_ADRERR


	)

210 
	mBUS_OBJERR


211 
	#BUS_OBJERR
 
BUS_OBJERR


	)

217 
	mTRAP_BRKPT
 = 1,

218 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

219 
	mTRAP_TRACE


220 
	#TRAP_TRACE
 
TRAP_TRACE


	)

226 
	mCLD_EXITED
 = 1,

227 
	#CLD_EXITED
 
CLD_EXITED


	)

228 
	mCLD_KILLED
,

229 
	#CLD_KILLED
 
CLD_KILLED


	)

230 
	mCLD_DUMPED
,

231 
	#CLD_DUMPED
 
CLD_DUMPED


	)

232 
	mCLD_TRAPPED
,

233 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

234 
	mCLD_STOPPED
,

235 
	#CLD_STOPPED
 
CLD_STOPPED


	)

236 
	mCLD_CONTINUED


237 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

243 
	mPOLL_IN
 = 1,

244 
	#POLL_IN
 
POLL_IN


	)

245 
	mPOLL_OUT
,

246 
	#POLL_OUT
 
POLL_OUT


	)

247 
	mPOLL_MSG
,

248 
	#POLL_MSG
 
POLL_MSG


	)

249 
	mPOLL_ERR
,

250 
	#POLL_ERR
 
POLL_ERR


	)

251 
	mPOLL_PRI
,

252 
	#POLL_PRI
 
POLL_PRI


	)

253 
	mPOLL_HUP


254 
	#POLL_HUP
 
POLL_HUP


	)

257 #unde‡
__√ed_sigöfo_t


261 #i‡(
deföed
 
_SIGNAL_H
 || deföed 
__√ed_sigevít_t
) \

262 && !
deföed
 
	g__have_sigevít_t


263 
	#__have_sigevít_t
 1

	)

266 
	#__SIGEV_MAX_SIZE
 64

	)

267 #i‡
__WORDSIZE
 == 64

268 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()Ë- 4)

	)

270 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()Ë- 3)

	)

273 
	ssigevít


275 
sigvÆ_t
 
	msigev_vÆue
;

276 
	msigev_signo
;

277 
	msigev_nŸify
;

281 
	m_∑d
[
__SIGEV_PAD_SIZE
];

285 
__pid_t
 
	m_tid
;

289 (*
	m_fun˘i⁄
Ë(
	msigvÆ_t
);

290 *
	m_©åibuã
;

291 } 
	m_sigev_thªad
;

292 } 
	m_sigev_un
;

293 } 
	tsigevít_t
;

296 
	#sigev_nŸify_fun˘i⁄
 
_sigev_un
.
_sigev_thªad
.
_fun˘i⁄


	)

297 
	#sigev_nŸify_©åibuãs
 
_sigev_un
.
_sigev_thªad
.
_©åibuã


	)

302 
	mSIGEV_SIGNAL
 = 0,

303 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

304 
	mSIGEV_NONE
,

305 
	#SIGEV_NONE
 
SIGEV_NONE


	)

306 
	mSIGEV_THREAD
,

307 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

309 
	mSIGEV_THREAD_ID
 = 4

310 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

20 #ifdef 
_SIGNAL_H


23 
	#SIG_ERR
 ((
__sigh™dÀr_t
Ë-1Ë

	)

24 
	#SIG_DFL
 ((
__sigh™dÀr_t
Ë0Ë

	)

25 
	#SIG_IGN
 ((
__sigh™dÀr_t
Ë1Ë

	)

27 #ifde‡
__USE_UNIX98


28 
	#SIG_HOLD
 ((
__sigh™dÀr_t
Ë2Ë

	)

33 
	#SIGHUP
 1

	)

34 
	#SIGINT
 2

	)

35 
	#SIGQUIT
 3

	)

36 
	#SIGILL
 4

	)

37 
	#SIGTRAP
 5

	)

38 
	#SIGABRT
 6

	)

39 
	#SIGIOT
 6

	)

40 
	#SIGBUS
 7

	)

41 
	#SIGFPE
 8

	)

42 
	#SIGKILL
 9

	)

43 
	#SIGUSR1
 10

	)

44 
	#SIGSEGV
 11

	)

45 
	#SIGUSR2
 12

	)

46 
	#SIGPIPE
 13

	)

47 
	#SIGALRM
 14

	)

48 
	#SIGTERM
 15

	)

49 
	#SIGSTKFLT
 16

	)

50 
	#SIGCLD
 
SIGCHLD


	)

51 
	#SIGCHLD
 17

	)

52 
	#SIGCONT
 18

	)

53 
	#SIGSTOP
 19

	)

54 
	#SIGTSTP
 20

	)

55 
	#SIGTTIN
 21

	)

56 
	#SIGTTOU
 22

	)

57 
	#SIGURG
 23

	)

58 
	#SIGXCPU
 24

	)

59 
	#SIGXFSZ
 25

	)

60 
	#SIGVTALRM
 26

	)

61 
	#SIGPROF
 27

	)

62 
	#SIGWINCH
 28

	)

63 
	#SIGPOLL
 
SIGIO


	)

64 
	#SIGIO
 29

	)

65 
	#SIGPWR
 30

	)

66 
	#SIGSYS
 31

	)

67 
	#SIGUNUSED
 31

	)

69 
	#_NSIG
 65

	)

72 
	#SIGRTMIN
 (
	`__libc_cuºít_sigπmö
 ())

	)

73 
	#SIGRTMAX
 (
	`__libc_cuºít_sigπmax
 ())

	)

77 
	#__SIGRTMIN
 32

	)

78 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

21 #i‚def 
_SIGSET_H_ty≥s


22 
	#_SIGSET_H_ty≥s
 1

	)

24 
	t__sig_©omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__vÆ
[
_SIGSET_NWORDS
];

32 } 
	t__sig£t_t
;

43 #i‡!
deföed
 
_SIGSET_H_‚s
 && deföed 
_SIGNAL_H


44 
	#_SIGSET_H_‚s
 1

	)

46 #i‚de‡
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__exã∫_ölöe


	)

51 
	#__sigmask
(
sig
) \

52 (((Ë1Ë<< (((
sig
Ë- 1Ë% (8 *  ())))

	)

55 
	#__sigw‹d
(
sig
Ë(((sigË- 1Ë/ (8 *  ()))

	)

57 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigem±y£t
(
£t
) \

59 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

60 
sig£t_t
 *
__£t
 = (
£t
); \

61 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigfûl£t
(
£t
) \

64 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

65 
sig£t_t
 *
__£t
 = (
£t
); \

66 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifde‡
__USE_GNU


73 
	#__sigi£m±y£t
(
£t
) \

74 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

75 c⁄° 
sig£t_t
 *
__£t
 = (
£t
); \

76 
__ªt
 = 
__£t
->
__vÆ
[--
__˙t
]; \

77 !
__ªt
 && --
__˙t
 >= 0) \

78 
__ªt
 = 
__£t
->
__vÆ
[
__˙t
]; \

79 
__ªt
 =0; }))

	)

80 
	#__sig™d£t
(
de°
, 
À·
, 
right
) \

81 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

82 
sig£t_t
 *
__de°
 = (
de°
); \

83 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

84 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

85 --
__˙t
 >= 0) \

86 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

87 & 
__right
->
__vÆ
[
__˙t
]); \

88 0; }))

	)

89 
	#__sig‹£t
(
de°
, 
À·
, 
right
) \

90 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

91 
sig£t_t
 *
__de°
 = (
de°
); \

92 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

93 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

94 --
__˙t
 >= 0) \

95 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

96 | 
__right
->
__vÆ
[
__˙t
]); \

97 0; }))

	)

104 
__sigismembî
 (
__c⁄°
 
__sig£t_t
 *, );

105 
__sigadd£t
 (
__sig£t_t
 *, );

106 
__sigdñ£t
 (
__sig£t_t
 *, );

108 #ifde‡
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__w‹d
 = 
	`__sigw‹d
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismembî
, (
__£t
->
__vÆ
[
__w‹d
] & 
__mask
Ë? 1 : 0, 
__c⁄°
)

119 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__vÆ
[
__w‹d
] |
__mask
), 0), )

120 
__SIGSETFN
 (
__sigdñ£t
, ((
__£t
->
__vÆ
[
__w‹d
] &~
__mask
), 0), )

122 #unde‡
__SIGSETFN


	@/usr/include/bits/sigstack.h

20 #i‚de‡
_SIGNAL_H


26 
	ssig°ack


28 *
	mss_•
;

29 
	mss_⁄°ack
;

36 
	mSS_ONSTACK
 = 1,

37 
	#SS_ONSTACK
 
SS_ONSTACK


	)

38 
	mSS_DISABLE


39 
	#SS_DISABLE
 
SS_DISABLE


	)

43 
	#MINSIGSTKSZ
 2048

	)

46 
	#SIGSTKSZ
 8192

	)

50 
	ssigÆt°ack


52 *
	mss_•
;

53 
	mss_Êags
;

54 
size_t
 
	mss_size
;

55 } 
	t°ack_t
;

	@/usr/include/bits/sigthread.h

20 #i‚de‡
_BITS_SIGTHREAD_H


21 
	#_BITS_SIGTHREAD_H
 1

	)

23 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
_PTHREAD_H


31 
	$±hªad_sigmask
 (
__how
,

32 
__c⁄°
 
__sig£t_t
 *
__ª°ri˘
 
__√wmask
,

33 
__sig£t_t
 *
__ª°ri˘
 
__ﬁdmask
)
__THROW
;

36 
	$±hªad_kûl
 (
±hªad_t
 
__thªadid
, 
__signo
Ë
__THROW
;

38 #ifde‡
__USE_GNU


40 
	$±hªad_sigqueue
 (
±hªad_t
 
__thªadid
, 
__signo
,

41 c⁄° 
sigvÆ
 
__vÆue
Ë
__THROW
;

	@/usr/include/bits/socket.h

21 #i‚de‡
__BITS_SOCKET_H


22 
	#__BITS_SOCKET_H


	)

24 #i‚de‡
_SYS_SOCKET_H


28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

31 
	~<sys/ty≥s.h
>

34 #i‚de‡
__sockÀn_t_deföed


35 
__sockÀn_t
 
	tsockÀn_t
;

36 
	#__sockÀn_t_deföed


	)

40 
	e__sockë_ty≥


42 
	mSOCK_STREAM
 = 1,

44 
	#SOCK_STREAM
 
SOCK_STREAM


	)

45 
	mSOCK_DGRAM
 = 2,

47 
	#SOCK_DGRAM
 
SOCK_DGRAM


	)

48 
	mSOCK_RAW
 = 3,

49 
	#SOCK_RAW
 
SOCK_RAW


	)

50 
	mSOCK_RDM
 = 4,

51 
	#SOCK_RDM
 
SOCK_RDM


	)

52 
	mSOCK_SEQPACKET
 = 5,

54 
	#SOCK_SEQPACKET
 
SOCK_SEQPACKET


	)

55 
	mSOCK_DCCP
 = 6,

56 
	#SOCK_DCCP
 
SOCK_DCCP


	)

57 
	mSOCK_PACKET
 = 10,

60 
	#SOCK_PACKET
 
SOCK_PACKET


	)

65 
	mSOCK_CLOEXEC
 = 02000000,

67 
	#SOCK_CLOEXEC
 
SOCK_CLOEXEC


	)

68 
	mSOCK_NONBLOCK
 = 04000

70 
	#SOCK_NONBLOCK
 
SOCK_NONBLOCK


	)

74 
	#PF_UNSPEC
 0

	)

75 
	#PF_LOCAL
 1

	)

76 
	#PF_UNIX
 
PF_LOCAL


	)

77 
	#PF_FILE
 
PF_LOCAL


	)

78 
	#PF_INET
 2

	)

79 
	#PF_AX25
 3

	)

80 
	#PF_IPX
 4

	)

81 
	#PF_APPLETALK
 5

	)

82 
	#PF_NETROM
 6

	)

83 
	#PF_BRIDGE
 7

	)

84 
	#PF_ATMPVC
 8

	)

85 
	#PF_X25
 9

	)

86 
	#PF_INET6
 10

	)

87 
	#PF_ROSE
 11

	)

88 
	#PF_DEC√t
 12

	)

89 
	#PF_NETBEUI
 13

	)

90 
	#PF_SECURITY
 14

	)

91 
	#PF_KEY
 15

	)

92 
	#PF_NETLINK
 16

	)

93 
	#PF_ROUTE
 
PF_NETLINK


	)

94 
	#PF_PACKET
 17

	)

95 
	#PF_ASH
 18

	)

96 
	#PF_ECONET
 19

	)

97 
	#PF_ATMSVC
 20

	)

98 
	#PF_RDS
 21

	)

99 
	#PF_SNA
 22

	)

100 
	#PF_IRDA
 23

	)

101 
	#PF_PPPOX
 24

	)

102 
	#PF_WANPIPE
 25

	)

103 
	#PF_LLC
 26

	)

104 
	#PF_CAN
 29

	)

105 
	#PF_TIPC
 30

	)

106 
	#PF_BLUETOOTH
 31

	)

107 
	#PF_IUCV
 32

	)

108 
	#PF_RXRPC
 33

	)

109 
	#PF_ISDN
 34

	)

110 
	#PF_PHONET
 35

	)

111 
	#PF_IEEE802154
 36

	)

112 
	#PF_MAX
 37

	)

115 
	#AF_UNSPEC
 
PF_UNSPEC


	)

116 
	#AF_LOCAL
 
PF_LOCAL


	)

117 
	#AF_UNIX
 
PF_UNIX


	)

118 
	#AF_FILE
 
PF_FILE


	)

119 
	#AF_INET
 
PF_INET


	)

120 
	#AF_AX25
 
PF_AX25


	)

121 
	#AF_IPX
 
PF_IPX


	)

122 
	#AF_APPLETALK
 
PF_APPLETALK


	)

123 
	#AF_NETROM
 
PF_NETROM


	)

124 
	#AF_BRIDGE
 
PF_BRIDGE


	)

125 
	#AF_ATMPVC
 
PF_ATMPVC


	)

126 
	#AF_X25
 
PF_X25


	)

127 
	#AF_INET6
 
PF_INET6


	)

128 
	#AF_ROSE
 
PF_ROSE


	)

129 
	#AF_DEC√t
 
PF_DEC√t


	)

130 
	#AF_NETBEUI
 
PF_NETBEUI


	)

131 
	#AF_SECURITY
 
PF_SECURITY


	)

132 
	#AF_KEY
 
PF_KEY


	)

133 
	#AF_NETLINK
 
PF_NETLINK


	)

134 
	#AF_ROUTE
 
PF_ROUTE


	)

135 
	#AF_PACKET
 
PF_PACKET


	)

136 
	#AF_ASH
 
PF_ASH


	)

137 
	#AF_ECONET
 
PF_ECONET


	)

138 
	#AF_ATMSVC
 
PF_ATMSVC


	)

139 
	#AF_RDS
 
PF_RDS


	)

140 
	#AF_SNA
 
PF_SNA


	)

141 
	#AF_IRDA
 
PF_IRDA


	)

142 
	#AF_PPPOX
 
PF_PPPOX


	)

143 
	#AF_WANPIPE
 
PF_WANPIPE


	)

144 
	#AF_LLC
 
PF_LLC


	)

145 
	#AF_CAN
 
PF_CAN


	)

146 
	#AF_TIPC
 
PF_TIPC


	)

147 
	#AF_BLUETOOTH
 
PF_BLUETOOTH


	)

148 
	#AF_IUCV
 
PF_IUCV


	)

149 
	#AF_RXRPC
 
PF_RXRPC


	)

150 
	#AF_ISDN
 
PF_ISDN


	)

151 
	#AF_PHONET
 
PF_PHONET


	)

152 
	#AF_IEEE802154
 
PF_IEEE802154


	)

153 
	#AF_MAX
 
PF_MAX


	)

159 
	#SOL_RAW
 255

	)

160 
	#SOL_DECNET
 261

	)

161 
	#SOL_X25
 262

	)

162 
	#SOL_PACKET
 263

	)

163 
	#SOL_ATM
 264

	)

164 
	#SOL_AAL
 265

	)

165 
	#SOL_IRDA
 266

	)

168 
	#SOMAXCONN
 128

	)

171 
	~<bôs/sockaddr.h
>

174 
	ssockaddr


176 
__SOCKADDR_COMMON
 (
ß_
);

177 
	mß_d©a
[14];

183 
	#__ss_Æig¡y≥
 

	)

184 
	#_SS_SIZE
 128

	)

185 
	#_SS_PADSIZE
 (
_SS_SIZE
 - (2 *  (
__ss_Æig¡y≥
)))

	)

187 
	ssockaddr_°‹age


189 
__SOCKADDR_COMMON
 (
ss_
);

190 
__ss_Æig¡y≥
 
	m__ss_Æign
;

191 
	m__ss_∑ddög
[
_SS_PADSIZE
];

198 
	mMSG_OOB
 = 0x01,

199 
	#MSG_OOB
 
MSG_OOB


	)

200 
	mMSG_PEEK
 = 0x02,

201 
	#MSG_PEEK
 
MSG_PEEK


	)

202 
	mMSG_DONTROUTE
 = 0x04,

203 
	#MSG_DONTROUTE
 
MSG_DONTROUTE


	)

204 #ifde‡
__USE_GNU


206 
	mMSG_TRYHARD
 = 
MSG_DONTROUTE
,

207 
	#MSG_TRYHARD
 
MSG_DONTROUTE


	)

209 
	mMSG_CTRUNC
 = 0x08,

210 
	#MSG_CTRUNC
 
MSG_CTRUNC


	)

211 
	mMSG_PROXY
 = 0x10,

212 
	#MSG_PROXY
 
MSG_PROXY


	)

213 
	mMSG_TRUNC
 = 0x20,

214 
	#MSG_TRUNC
 
MSG_TRUNC


	)

215 
	mMSG_DONTWAIT
 = 0x40,

216 
	#MSG_DONTWAIT
 
MSG_DONTWAIT


	)

217 
	mMSG_EOR
 = 0x80,

218 
	#MSG_EOR
 
MSG_EOR


	)

219 
	mMSG_WAITALL
 = 0x100,

220 
	#MSG_WAITALL
 
MSG_WAITALL


	)

221 
	mMSG_FIN
 = 0x200,

222 
	#MSG_FIN
 
MSG_FIN


	)

223 
	mMSG_SYN
 = 0x400,

224 
	#MSG_SYN
 
MSG_SYN


	)

225 
	mMSG_CONFIRM
 = 0x800,

226 
	#MSG_CONFIRM
 
MSG_CONFIRM


	)

227 
	mMSG_RST
 = 0x1000,

228 
	#MSG_RST
 
MSG_RST


	)

229 
	mMSG_ERRQUEUE
 = 0x2000,

230 
	#MSG_ERRQUEUE
 
MSG_ERRQUEUE


	)

231 
	mMSG_NOSIGNAL
 = 0x4000,

232 
	#MSG_NOSIGNAL
 
MSG_NOSIGNAL


	)

233 
	mMSG_MORE
 = 0x8000,

234 
	#MSG_MORE
 
MSG_MORE


	)

236 
	mMSG_CMSG_CLOEXEC
 = 0x40000000

239 
	#MSG_CMSG_CLOEXEC
 
MSG_CMSG_CLOEXEC


	)

245 
	smsghdr


247 *
	mmsg_«me
;

248 
sockÀn_t
 
	mmsg_«mñí
;

250 
iovec
 *
	mmsg_iov
;

251 
size_t
 
	mmsg_iovÀn
;

253 *
	mmsg_c⁄åﬁ
;

254 
size_t
 
	mmsg_c⁄åﬁÀn
;

259 
	mmsg_Êags
;

263 
	scmsghdr


265 
size_t
 
	mcmsg_Àn
;

270 
	mcmsg_Àvñ
;

271 
	mcmsg_ty≥
;

272 #i‡(!
deföed
 
__STRICT_ANSI__
 && 
__GNUC__
 >2Ë|| 
__STDC_VERSION__
 >= 199901L

273 
__exãnsi⁄__
 
__cmsg_d©a
 
	m__Êex¨r
;

278 #i‡(!
deföed
 
__STRICT_ANSI__
 && 
__GNUC__
 >2Ë|| 
__STDC_VERSION__
 >= 199901L

279 
	#CMSG_DATA
(
cmsg
Ë((cmsg)->
__cmsg_d©a
)

	)

281 
	#CMSG_DATA
(
cmsg
Ë((*Ë((
cmsghdr
 *Ë(cmsgË+ 1))

	)

283 
	#CMSG_NXTHDR
(
mhdr
, 
cmsg
Ë
	`__cmsg_nxthdr
 (mhdr, cmsg)

	)

284 
	#CMSG_FIRSTHDR
(
mhdr
) \

285 ((
size_t
Ë(
mhdr
)->
msg_c⁄åﬁÀn
 > (
cmsghdr
) \

286 ? (
cmsghdr
 *Ë(
mhdr
)->
msg_c⁄åﬁ
 : (cmsghd∏*Ë0)

	)

287 
	#CMSG_ALIGN
(
Àn
Ë((÷íË+  (
size_t
) - 1) \

288 & (
size_t
Ë~( (size_tË- 1))

	)

289 
	#CMSG_SPACE
(
Àn
Ë(
	`CMSG_ALIGN
 (len) \

290 + 
	`CMSG_ALIGN
 ( (
cmsghdr
)))

	)

291 
	#CMSG_LEN
(
Àn
Ë(
	`CMSG_ALIGN
 ( (
cmsghdr
)Ë+ (Àn))

	)

293 
cmsghdr
 *
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
,

294 
cmsghdr
 *
__cmsg
Ë
__THROW
;

295 #ifde‡
__USE_EXTERN_INLINES


296 #i‚de‡
_EXTERN_INLINE


297 
	#_EXTERN_INLINE
 
__exã∫_ölöe


	)

299 
_EXTERN_INLINE
 
cmsghdr
 *

300 
	`__NTH
 (
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
, 
cmsghdr
 *
__cmsg
))

302 i‡((
size_t
Ë
__cmsg
->
cmsg_Àn
 <  (
cmsghdr
))

306 
__cmsg
 = (
cmsghdr
 *) ((*) __cmsg

307 + 
	`CMSG_ALIGN
 (
__cmsg
->
cmsg_Àn
));

308 i‡((*Ë(
__cmsg
 + 1Ë> ((*Ë
__mhdr
->
msg_c⁄åﬁ


309 + 
__mhdr
->
msg_c⁄åﬁÀn
)

310 || ((*Ë
__cmsg
 + 
	`CMSG_ALIGN
 (__cmsg->
cmsg_Àn
)

311 > ((*Ë
__mhdr
->
msg_c⁄åﬁ
 + __mhdr->
msg_c⁄åﬁÀn
)))

314  
__cmsg
;

315 
	}
}

322 
	mSCM_RIGHTS
 = 0x01

323 
	#SCM_RIGHTS
 
SCM_RIGHTS


	)

324 #ifde‡
__USE_GNU


325 , 
	mSCM_CREDENTIALS
 = 0x02

326 
	#SCM_CREDENTIALS
 
SCM_CREDENTIALS


	)

330 #ifde‡
__USE_GNU


332 
	su¸ed


334 
pid_t
 
	mpid
;

335 
uid_t
 
	muid
;

336 
gid_t
 
	mgid
;

341 #i‡!
deföed
 
__USE_MISC
 && !deföed 
__USE_GNU


342 #i‚de‡
FIOGETOWN


343 
	#__SYS_SOCKET_H_undef_FIOGETOWN


	)

345 #i‚de‡
FIOSETOWN


346 
	#__SYS_SOCKET_H_undef_FIOSETOWN


	)

348 #i‚de‡
SIOCATMARK


349 
	#__SYS_SOCKET_H_undef_SIOCATMARK


	)

351 #i‚de‡
SIOCGPGRP


352 
	#__SYS_SOCKET_H_undef_SIOCGPGRP


	)

354 #i‚de‡
SIOCGSTAMP


355 
	#__SYS_SOCKET_H_undef_SIOCGSTAMP


	)

357 #i‚de‡
SIOCGSTAMPNS


358 
	#__SYS_SOCKET_H_undef_SIOCGSTAMPNS


	)

360 #i‚de‡
SIOCSPGRP


361 
	#__SYS_SOCKET_H_undef_SIOCSPGRP


	)

366 
	~<asm/sockë.h
>

368 #i‡!
deföed
 
__USE_MISC
 && !deföed 
__USE_GNU


369 #ifde‡
__SYS_SOCKET_H_undef_FIOGETOWN


370 #unde‡
__SYS_SOCKET_H_undef_FIOGETOWN


371 #unde‡
FIOGETOWN


373 #ifde‡
__SYS_SOCKET_H_undef_FIOSETOWN


374 #unde‡
__SYS_SOCKET_H_undef_FIOSETOWN


375 #unde‡
FIOSETOWN


377 #ifde‡
__SYS_SOCKET_H_undef_SIOCATMARK


378 #unde‡
__SYS_SOCKET_H_undef_SIOCATMARK


379 #unde‡
SIOCATMARK


381 #ifde‡
__SYS_SOCKET_H_undef_SIOCGPGRP


382 #unde‡
__SYS_SOCKET_H_undef_SIOCGPGRP


383 #unde‡
SIOCGPGRP


385 #ifde‡
__SYS_SOCKET_H_undef_SIOCGSTAMP


386 #unde‡
__SYS_SOCKET_H_undef_SIOCGSTAMP


387 #unde‡
SIOCGSTAMP


389 #ifde‡
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


390 #unde‡
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


391 #unde‡
SIOCGSTAMPNS


393 #ifde‡
__SYS_SOCKET_H_undef_SIOCSPGRP


394 #unde‡
__SYS_SOCKET_H_undef_SIOCSPGRP


395 #unde‡
SIOCSPGRP


400 
	slögî


402 
	ml_⁄off
;

403 
	ml_lögî
;

	@/usr/include/bits/socket2.h

20 #i‚de‡
_SYS_SOCKET_H


24 
ssize_t
 
__ªcv_chk
 (
__fd
, *
__buf
, 
size_t
 
__n
, size_à
__buÊí
,

25 
__Êags
);

26 
ssize_t
 
__REDIRECT
 (
__ªcv_Æüs
, (
__fd
, *
__buf
, 
size_t
 
__n
,

27 
__Êags
), 
ªcv
);

28 
ssize_t
 
__REDIRECT
 (
__ªcv_chk_w¨n
,

29 (
__fd
, *
__buf
, 
size_t
 
__n
, size_à
__buÊí
,

30 
__Êags
), 
__ªcv_chk
)

31 
__w¨«âr
 ("recv called with biggerÜengthÅhan size of destination "

34 
__exã∫_Æways_ölöe
 
ssize_t


35 
	$ªcv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__Êags
)

37 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

39 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

40  
	`__ªcv_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
);

42 i‡(
__n
 > 
	`__bos0
 (
__buf
))

43  
	`__ªcv_chk_w¨n
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
);

45  
	`__ªcv_Æüs
 (
__fd
, 
__buf
, 
__n
, 
__Êags
);

46 
	}
}

48 
ssize_t
 
__ªcv‰om_chk
 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

49 
size_t
 
__buÊí
, 
__Êags
,

50 
__SOCKADDR_ARG
 
__addr
,

51 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
);

52 
ssize_t
 
__REDIRECT
 (
__ªcv‰om_Æüs
,

53 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

54 
__Êags
, 
__SOCKADDR_ARG
 
__addr
,

55 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
), 
ªcv‰om
);

56 
ssize_t
 
__REDIRECT
 (
__ªcv‰om_chk_w¨n
,

57 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

58 
size_t
 
__buÊí
, 
__Êags
,

59 
__SOCKADDR_ARG
 
__addr
,

60 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
), 
__ªcv‰om_chk
)

61 
__w¨«âr
 ("recvfrom called with biggerÜengthÅhan size of "

64 
__exã∫_Æways_ölöe
 
ssize_t


65 
	$ªcv‰om
 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
, 
__Êags
,

66 
__SOCKADDR_ARG
 
__addr
, 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
)

68 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

70 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

71  
	`__ªcv‰om_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
,

72 
__addr
, 
__addr_Àn
);

73 i‡(
__n
 > 
	`__bos0
 (
__buf
))

74  
	`__ªcv‰om_chk_w¨n
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
,

75 
__addr
, 
__addr_Àn
);

77  
	`__ªcv‰om_Æüs
 (
__fd
, 
__buf
, 
__n
, 
__Êags
, 
__addr
, 
__addr_Àn
);

78 
	}
}

	@/usr/include/bits/stat.h

19 #i‚de‡
_SYS_STAT_H


24 
	#_STAT_VER_KERNEL
 0

	)

26 #i‡
__WORDSIZE
 == 32

27 
	#_STAT_VER_SVR4
 2

	)

28 
	#_STAT_VER_LINUX
 3

	)

31 
	#_MKNOD_VER_LINUX
 1

	)

32 
	#_MKNOD_VER_SVR4
 2

	)

33 
	#_MKNOD_VER
 
_MKNOD_VER_LINUX


	)

35 
	#_STAT_VER_LINUX
 1

	)

38 
	#_MKNOD_VER_LINUX
 0

	)

41 
	#_STAT_VER
 
_STAT_VER_LINUX


	)

43 
	s°©


45 
__dev_t
 
	m°_dev
;

46 #i‡
__WORDSIZE
 == 32

47 
	m__∑d1
;

49 #i‡
__WORDSIZE
 =64 || !
deföed
 
__USE_FILE_OFFSET64


50 
__öo_t
 
	m°_öo
;

52 
__öo_t
 
	m__°_öo
;

54 #i‡
__WORDSIZE
 == 32

55 
__mode_t
 
	m°_mode
;

56 
__∆ök_t
 
	m°_∆ök
;

58 
__∆ök_t
 
	m°_∆ök
;

59 
__mode_t
 
	m°_mode
;

61 
__uid_t
 
	m°_uid
;

62 
__gid_t
 
	m°_gid
;

63 #i‡
__WORDSIZE
 == 64

64 
	m__∑d0
;

66 
__dev_t
 
	m°_rdev
;

67 #i‡
__WORDSIZE
 == 32

68 
	m__∑d2
;

70 #i‡
__WORDSIZE
 =64 || !
deföed
 
__USE_FILE_OFFSET64


71 
__off_t
 
	m°_size
;

73 
__off64_t
 
	m°_size
;

75 
__blksize_t
 
	m°_blksize
;

76 #i‡
__WORDSIZE
 =64 || !
deföed
 
__USE_FILE_OFFSET64


77 
__blk˙t_t
 
	m°_blocks
;

79 
__blk˙t64_t
 
	m°_blocks
;

81 #ifde‡
__USE_MISC


88 
time•ec
 
	m°_©im
;

89 
time•ec
 
	m°_mtim
;

90 
time•ec
 
	m°_˘im
;

91 
	#°_©ime
 
°_©im
.
tv_£c


	)

92 
	#°_mtime
 
°_mtim
.
tv_£c


	)

93 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

95 
__time_t
 
	m°_©ime
;

96 
	m°_©imí£c
;

97 
__time_t
 
	m°_mtime
;

98 
	m°_mtimí£c
;

99 
__time_t
 
	m°_˘ime
;

100 
	m°_˘imí£c
;

102 #i‡
__WORDSIZE
 == 64

103 
	m__unu£d
[3];

105 #i‚de‡
__USE_FILE_OFFSET64


106 
	m__unu£d4
;

107 
	m__unu£d5
;

109 
__öo64_t
 
	m°_öo
;

114 #ifde‡
__USE_LARGEFILE64


116 
	s°©64


118 
__dev_t
 
	m°_dev
;

119 #i‡
__WORDSIZE
 == 64

120 
__öo64_t
 
	m°_öo
;

121 
__∆ök_t
 
	m°_∆ök
;

122 
__mode_t
 
	m°_mode
;

124 
	m__∑d1
;

125 
__öo_t
 
	m__°_öo
;

126 
__mode_t
 
	m°_mode
;

127 
__∆ök_t
 
	m°_∆ök
;

129 
__uid_t
 
	m°_uid
;

130 
__gid_t
 
	m°_gid
;

131 #i‡
__WORDSIZE
 == 64

132 
	m__∑d0
;

133 
__dev_t
 
	m°_rdev
;

134 
__off_t
 
	m°_size
;

136 
__dev_t
 
	m°_rdev
;

137 
	m__∑d2
;

138 
__off64_t
 
	m°_size
;

140 
__blksize_t
 
	m°_blksize
;

141 
__blk˙t64_t
 
	m°_blocks
;

142 #ifde‡
__USE_MISC


149 
time•ec
 
	m°_©im
;

150 
time•ec
 
	m°_mtim
;

151 
time•ec
 
	m°_˘im
;

152 
	#°_©ime
 
°_©im
.
tv_£c


	)

153 
	#°_mtime
 
°_mtim
.
tv_£c


	)

154 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

156 
__time_t
 
	m°_©ime
;

157 
	m°_©imí£c
;

158 
__time_t
 
	m°_mtime
;

159 
	m°_mtimí£c
;

160 
__time_t
 
	m°_˘ime
;

161 
	m°_˘imí£c
;

163 #i‡
__WORDSIZE
 == 64

164 
	m__unu£d
[3];

166 
__öo64_t
 
	m°_öo
;

172 
	#_STATBUF_ST_BLKSIZE


	)

173 
	#_STATBUF_ST_RDEV


	)

175 
	#_STATBUF_ST_NSEC


	)

179 
	#__S_IFMT
 0170000

	)

182 
	#__S_IFDIR
 0040000

	)

183 
	#__S_IFCHR
 0020000

	)

184 
	#__S_IFBLK
 0060000

	)

185 
	#__S_IFREG
 0100000

	)

186 
	#__S_IFIFO
 0010000

	)

187 
	#__S_IFLNK
 0120000

	)

188 
	#__S_IFSOCK
 0140000

	)

192 
	#__S_TYPEISMQ
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

193 
	#__S_TYPEISSEM
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

194 
	#__S_TYPEISSHM
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

198 
	#__S_ISUID
 04000

	)

199 
	#__S_ISGID
 02000

	)

200 
	#__S_ISVTX
 01000

	)

201 
	#__S_IREAD
 0400

	)

202 
	#__S_IWRITE
 0200

	)

203 
	#__S_IEXEC
 0100

	)

205 #ifde‡
__USE_ATFILE


206 
	#UTIME_NOW
 ((1»<< 30Ë- 1l)

	)

207 
	#UTIME_OMIT
 ((1»<< 30Ë- 2l)

	)

	@/usr/include/bits/stdio-ldbl.h

20 #i‚de‡
_STDIO_H


24 
__BEGIN_NAMESPACE_STD


25 
	$__LDBL_REDIR_DECL
 (
Ârötf
)

26 
	$__LDBL_REDIR_DECL
 (
¥ötf
)

27 
	$__LDBL_REDIR_DECL
 (
•rötf
)

28 
	$__LDBL_REDIR_DECL
 (
vÂrötf
)

29 
	$__LDBL_REDIR_DECL
 (
v¥ötf
)

30 
	$__LDBL_REDIR_DECL
 (
v•rötf
)

31 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

32 && !
deföed
 
__REDIRECT
 \

33 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fsˇnf
, 
__∆dbl___isoc99_fsˇnf
)

35 
	$__LDBL_REDIR1_DECL
 (
sˇnf
, 
__∆dbl___isoc99_sˇnf
)

36 
	$__LDBL_REDIR1_DECL
 (
ssˇnf
, 
__∆dbl___isoc99_ssˇnf
)

38 
	$__LDBL_REDIR_DECL
 (
fsˇnf
)

39 
	$__LDBL_REDIR_DECL
 (
sˇnf
)

40 
	$__LDBL_REDIR_DECL
 (
ssˇnf
)

42 
__END_NAMESPACE_STD


44 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


45 
__BEGIN_NAMESPACE_C99


46 
	$__LDBL_REDIR_DECL
 (
¢¥ötf
)

47 
	$__LDBL_REDIR_DECL
 (
v¢¥ötf
)

48 
__END_NAMESPACE_C99


51 #ifdef 
__USE_ISOC99


52 
__BEGIN_NAMESPACE_C99


53 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

54 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

55 
	$__LDBL_REDIR1_DECL
 (
vfsˇnf
, 
__∆dbl___isoc99_vfsˇnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vsˇnf
, 
__∆dbl___isoc99_vsˇnf
)

57 
	$__LDBL_REDIR1_DECL
 (
vssˇnf
, 
__∆dbl___isoc99_vssˇnf
)

59 
	$__LDBL_REDIR_DECL
 (
vfsˇnf
)

60 
	$__LDBL_REDIR_DECL
 (
vssˇnf
)

61 
	$__LDBL_REDIR_DECL
 (
vsˇnf
)

63 
__END_NAMESPACE_C99


66 #ifde‡
__USE_GNU


67 
	$__LDBL_REDIR_DECL
 (
vd¥ötf
)

68 
	$__LDBL_REDIR_DECL
 (
d¥ötf
)

69 
	$__LDBL_REDIR_DECL
 (
va•rötf
)

70 
	$__LDBL_REDIR_DECL
 (
__a•rötf
)

71 
	$__LDBL_REDIR_DECL
 (
a•rötf
)

72 
	$__LDBL_REDIR_DECL
 (
ob°ack_¥ötf
)

73 
	$__LDBL_REDIR_DECL
 (
ob°ack_v¥ötf
)

76 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


77 
	$__LDBL_REDIR_DECL
 (
__•rötf_chk
)

78 
	$__LDBL_REDIR_DECL
 (
__v•rötf_chk
)

79 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


80 
	$__LDBL_REDIR_DECL
 (
__¢¥ötf_chk
)

81 
	$__LDBL_REDIR_DECL
 (
__v¢¥ötf_chk
)

83 #i‡
__USE_FORTIFY_LEVEL
 > 1

84 
	$__LDBL_REDIR_DECL
 (
__Ârötf_chk
)

85 
	$__LDBL_REDIR_DECL
 (
__¥ötf_chk
)

86 
	$__LDBL_REDIR_DECL
 (
__vÂrötf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__v¥ötf_chk
)

88 #ifde‡
__USE_GNU


89 
	$__LDBL_REDIR_DECL
 (
__a•rötf_chk
)

90 
	$__LDBL_REDIR_DECL
 (
__va•rötf_chk
)

91 
	$__LDBL_REDIR_DECL
 (
__d¥ötf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd¥ötf_chk
)

93 
	$__LDBL_REDIR_DECL
 (
__ob°ack_¥ötf_chk
)

94 
	$__LDBL_REDIR_DECL
 (
__ob°ack_v¥ötf_chk
)

	@/usr/include/bits/stdio.h

20 #i‚de‡
_STDIO_H


24 #i‚de‡
__exã∫_ölöe


25 
	#__STDIO_INLINE
 
ölöe


	)

27 
	#__STDIO_INLINE
 
__exã∫_ölöe


	)

31 #ifde‡
__USE_EXTERN_INLINES


34 #i‡!(
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe
)

36 
__STDIO_INLINE
 

37 
	$v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

39  
	`vÂrötf
 (
°dout
, 
__fmt
, 
__¨g
);

40 
	}
}

44 
__STDIO_INLINE
 

45 
	$gëch¨
 ()

47  
	`_IO_gëc
 (
°dö
);

48 
	}
}

51 #ifde‡
__USE_MISC


53 
__STDIO_INLINE
 

54 
	$fgëc_u∆ocked
 (
FILE
 *
__Â
)

56  
	`_IO_gëc_u∆ocked
 (
__Â
);

57 
	}
}

61 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


63 
__STDIO_INLINE
 

64 
	$gëc_u∆ocked
 (
FILE
 *
__Â
)

66  
	`_IO_gëc_u∆ocked
 (
__Â
);

67 
	}
}

70 
__STDIO_INLINE
 

71 
	$gëch¨_u∆ocked
 ()

73  
	`_IO_gëc_u∆ocked
 (
°dö
);

74 
	}
}

79 
__STDIO_INLINE
 

80 
	$putch¨
 (
__c
)

82  
	`_IO_putc
 (
__c
, 
°dout
);

83 
	}
}

86 #ifde‡
__USE_MISC


88 
__STDIO_INLINE
 

89 
	$Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

91  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

92 
	}
}

96 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


98 
__STDIO_INLINE
 

99 
	$putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

101  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

102 
	}
}

105 
__STDIO_INLINE
 

106 
	$putch¨_u∆ocked
 (
__c
)

108  
	`_IO_putc_u∆ocked
 (
__c
, 
°dout
);

109 
	}
}

113 #ifdef 
__USE_GNU


115 
__STDIO_INLINE
 
_IO_ssize_t


116 
	$gëlöe
 (**
__löïå
, 
size_t
 *
__n
, 
FILE
 *
__°ªam
)

118  
	`__gëdñim
 (
__löïå
, 
__n
, '\n', 
__°ªam
);

119 
	}
}

123 #ifde‡
__USE_MISC


125 
__STDIO_INLINE
 

126 
__NTH
 (
	$„of_u∆ocked
 (
FILE
 *
__°ªam
))

128  
	`_IO_„of_u∆ocked
 (
__°ªam
);

129 
	}
}

132 
__STDIO_INLINE
 

133 
__NTH
 (
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
))

135  
	`_IO_„º‹_u∆ocked
 (
__°ªam
);

136 
	}
}

142 #i‡
deföed
 
__USE_MISC
 && deföed 
__GNUC__
 && deföed 
__OPTIMIZE__
 \

143 && !
deföed
 
	g__˝lu•lus


145 
	#‰ód_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

146 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

147 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

148 && (
size_t
Ë(
size
) != 0) \

149 ? ({ *
__±r
 = (*Ë(
±r
); \

150 
FILE
 *
__°ªam
 = (
°ªam
); \

151 
size_t
 
__˙t
; \

152 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

153 
__˙t
 > 0; --__cnt) \

155 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
); \

156 i‡(
__c
 =
EOF
) \

158 *
__±r
++ = 
__c
; \

160 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

161 / (
size_t
Ë(
size
); }) \

162 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

163 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

165 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

166 (Ë(
n
), (
size_t
) 0) \

167 : 
	`‰ód_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

169 
	#fwrôe_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

170 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

171 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

172 && (
size_t
Ë(
size
) != 0) \

173 ? ({ c⁄° *
__±r
 = (c⁄° *Ë(
±r
); \

174 
FILE
 *
__°ªam
 = (
°ªam
); \

175 
size_t
 
__˙t
; \

176 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

177 
__˙t
 > 0; --__cnt) \

178 i‡(
	`_IO_putc_u∆ocked
 (*
__±r
++, 
__°ªam
Ë=
EOF
) \

180 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

181 / (
size_t
Ë(
size
); }) \

182 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

183 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

185 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

186 (Ë(
n
), (
size_t
) 0) \

187 : 
	`fwrôe_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

191 #unde‡
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

20 #i‚de‡
_STDIO_H


24 
	$__•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

25 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

26 
	$__v•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

27 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

28 
_G_va_li°
 
__≠
Ë
__THROW
;

30 #ifde‡
__va_¨g_∑ck


31 
__exã∫_Æways_ölöe
 

32 
	`__NTH
 (
	$•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__fmt
, ...))

34  
	`__buûtö___•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

35 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

36 
	}
}

37 #ñi‡!
deföed
 
__˝lu•lus


38 
	#•rötf
(
°r
, ...) \

39 
	`__buûtö___•rötf_chk
 (
°r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

40 
__VA_ARGS__
)

	)

43 
__exã∫_Æways_ölöe
 

44 
__NTH
 (
	$v•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__fmt
,

45 
_G_va_li°
 
__≠
))

47  
	`__buûtö___v•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

48 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

49 
	}
}

51 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


53 
	$__¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

54 
size_t
 
__¶í
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

55 ...Ë
__THROW
;

56 
	$__v¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

57 
size_t
 
__¶í
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

58 
_G_va_li°
 
__≠
Ë
__THROW
;

60 #ifde‡
__va_¨g_∑ck


61 
__exã∫_Æways_ölöe
 

62 
	`__NTH
 (
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

63 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...))

65  
	`__buûtö___¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

66 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

67 
	}
}

68 #ñi‡!
deföed
 
__˝lu•lus


69 
	#¢¥ötf
(
°r
, 
Àn
, ...) \

70 
	`__buûtö___¢¥ötf_chk
 (
°r
, 
Àn
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

71 
__VA_ARGS__
)

	)

74 
__exã∫_Æways_ölöe
 

75 
__NTH
 (
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

76 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

78  
	`__buûtö___v¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

79 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

80 
	}
}

84 #i‡
__USE_FORTIFY_LEVEL
 > 1

86 
__Ârötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

87 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

88 
__¥ötf_chk
 (
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

89 
__vÂrötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

90 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__≠
);

91 
__v¥ötf_chk
 (
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

92 
_G_va_li°
 
__≠
);

94 #ifde‡
__va_¨g_∑ck


95 
__exã∫_Æways_ölöe
 

96 
	$Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__c⁄°
 *__ª°ri˘ 
__fmt
, ...)

98  
	`__Ârötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

99 
	`__va_¨g_∑ck
 ());

100 
	}
}

102 
__exã∫_Æways_ölöe
 

103 
	$¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

105  
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

106 
	}
}

107 #ñi‡!
deföed
 
__˝lu•lus


108 
	#¥ötf
(...) \

109 
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

110 
	#Ârötf
(
°ªam
, ...) \

111 
	`__Ârötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

114 
__exã∫_Æways_ölöe
 

115 
	$v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

117 #ifde‡
__USE_EXTERN_INLINES


118  
	`__vÂrötf_chk
 (
°dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

120  
	`__v¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

122 
	}
}

124 
__exã∫_Æways_ölöe
 

125 
	$vÂrötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

126 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

128  
	`__vÂrötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

129 
	}
}

131 #ifde‡
__USE_GNU


133 
	$__a•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

134 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

135 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 4))Ë
__wur
;

136 
	$__va•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

137 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

138 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 0))Ë
__wur
;

139 
	$__d¥ötf_chk
 (
__fd
, 
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
,

140 ...Ë
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

141 
	$__vd¥ötf_chk
 (
__fd
, 
__Êag
,

142 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

143 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

144 
	$__ob°ack_¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

145 
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

147 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

148 
	$__ob°ack_v¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

149 
__Êag
,

150 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

151 
_G_va_li°
 
__¨gs
)

152 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

154 #ifde‡
__va_¨g_∑ck


155 
__exã∫_Æways_ölöe
 

156 
	`__NTH
 (
	$a•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__fmt
, ...))

158  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

159 
	`__va_¨g_∑ck
 ());

160 
	}
}

162 
__exã∫_Æways_ölöe
 

163 
__NTH
 (
	$__a•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__fmt
,

166  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

167 
	`__va_¨g_∑ck
 ());

168 
	}
}

170 
__exã∫_Æways_ölöe
 

171 
	$d¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

173  
	`__d¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

174 
	`__va_¨g_∑ck
 ());

175 
	}
}

177 
__exã∫_Æways_ölöe
 

178 
__NTH
 (
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

179 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...))

181  
	`__ob°ack_¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

182 
	`__va_¨g_∑ck
 ());

183 
	}
}

184 #ñi‡!
deföed
 
__˝lu•lus


185 
	#a•rötf
(
±r
, ...) \

186 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

187 
	#__a•rötf
(
±r
, ...) \

188 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

189 
	#d¥ötf
(
fd
, ...) \

190 
	`__d¥ötf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

191 
	#ob°ack_¥ötf
(
ob°ack
, ...) \

192 
	`__ob°ack_¥ötf_chk
 (
ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

195 
__exã∫_Æways_ölöe
 

196 
__NTH
 (
	$va•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__fmt
,

197 
_G_va_li°
 
__≠
))

199  
	`__va•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

200 
	}
}

202 
__exã∫_Æways_ölöe
 

203 
	$vd¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

205  
	`__vd¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

206 
	}
}

208 
__exã∫_Æways_ölöe
 

209 
__NTH
 (
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

210 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

212  
	`__ob°ack_v¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

213 
__≠
);

214 
	}
}

220 *
	$__gës_chk
 (*
__°r
, 
size_t
Ë
__wur
;

221 *
	`__REDIRECT
 (
__gës_w¨n
, (*
__°r
), 
gës
)

222 
__wur
 
	`__w¨«âr
 ("please use fgets or getline instead, gets can't "

225 
__exã∫_Æways_ölöe
 
__wur
 *

226 
	$gës
 (*
__°r
)

228 i‡(
	`__bos
 (
__°r
Ë!(
size_t
) -1)

229  
	`__gës_chk
 (
__°r
, 
	`__bos
 (__str));

230  
	`__gës_w¨n
 (
__°r
);

231 
	}
}

233 *
	$__fgës_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

234 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

235 *
	`__REDIRECT
 (
__fgës_Æüs
,

236 (*
__ª°ri˘
 
__s
, 
__n
,

237 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës
Ë
__wur
;

238 *
	`__REDIRECT
 (
__fgës_chk_w¨n
,

239 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

240 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_chk
)

241 
__wur
 
	`__w¨«âr
 ("fgets called with bigger sizeÅhanÜength "

244 
__exã∫_Æways_ölöe
 
__wur
 *

245 
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

247 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

249 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

250  
	`__fgës_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

252 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

253  
	`__fgës_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

255  
	`__fgës_Æüs
 (
__s
, 
__n
, 
__°ªam
);

256 
	}
}

258 
size_t
 
	$__‰ód_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

259 
size_t
 
__size
, size_à
__n
,

260 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

261 
size_t
 
	`__REDIRECT
 (
__‰ód_Æüs
,

262 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

263 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

264 
‰ód
Ë
__wur
;

265 
size_t
 
	`__REDIRECT
 (
__‰ód_chk_w¨n
,

266 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

267 
size_t
 
__size
, size_à
__n
,

268 
FILE
 *
__ª°ri˘
 
__°ªam
),

269 
__‰ód_chk
)

270 
__wur
 
	`__w¨«âr
 ("fread called with bigger size *ÇmembÅhanÜength "

273 
__exã∫_Æways_ölöe
 
__wur
 
size_t


274 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

275 
FILE
 *
__ª°ri˘
 
__°ªam
)

277 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

279 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

280 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

281 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

282  
	`__‰ód_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

284 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

285  
	`__‰ód_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

287  
	`__‰ód_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

288 
	}
}

290 #ifde‡
__USE_GNU


291 *
	$__fgës_u∆ocked_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
,

292 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

293 *
	`__REDIRECT
 (
__fgës_u∆ocked_Æüs
,

294 (*
__ª°ri˘
 
__s
, 
__n
,

295 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës_u∆ocked
Ë
__wur
;

296 *
	`__REDIRECT
 (
__fgës_u∆ocked_chk_w¨n
,

297 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

298 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_u∆ocked_chk
)

299 
__wur
 
	`__w¨«âr
 ("fgets_unlocked called with bigger sizeÅhanÜength "

302 
__exã∫_Æways_ölöe
 
__wur
 *

303 
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

305 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

307 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

308  
	`__fgës_u∆ocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

310 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

311  
	`__fgës_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

313  
	`__fgës_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

314 
	}
}

317 #ifde‡
__USE_MISC


318 #unde‡
‰ód_u∆ocked


319 
size_t
 
	$__‰ód_u∆ocked_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

320 
size_t
 
__size
, size_à
__n
,

321 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

322 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_Æüs
,

323 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

324 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

325 
‰ód_u∆ocked
Ë
__wur
;

326 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_chk_w¨n
,

327 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

328 
size_t
 
__size
, size_à
__n
,

329 
FILE
 *
__ª°ri˘
 
__°ªam
),

330 
__‰ód_u∆ocked_chk
)

331 
__wur
 
	`__w¨«âr
 ("fread_unlocked called with bigger size *ÇmembÅhan "

334 
__exã∫_Æways_ölöe
 
__wur
 
size_t


335 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

336 
FILE
 *
__ª°ri˘
 
__°ªam
)

338 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

340 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

341 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

342 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

343  
	`__‰ód_u∆ocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

344 
__°ªam
);

346 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

347  
	`__‰ód_u∆ocked_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

348 
__°ªam
);

351 #ifde‡
__USE_EXTERN_INLINES


352 i‡(
	`__buûtö_c⁄°™t_p
 (
__size
)

353 && 
	`__buûtö_c⁄°™t_p
 (
__n
)

354 && (
__size
 | 
__n
Ë< (((
size_t
) 1) << (8 *  (size_t) / 2))

355 && 
__size
 * 
__n
 <= 8)

357 
size_t
 
__˙t
 = 
__size
 * 
__n
;

358 *
__˝å
 = (*Ë
__±r
;

359 i‡(
__˙t
 == 0)

362 ; 
__˙t
 > 0; --__cnt)

364 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
);

365 i‡(
__c
 =
EOF
)

367 *
__˝å
++ = 
__c
;

369  (
__˝å
 - (*Ë
__±r
Ë/ 
__size
;

372  
	`__‰ód_u∆ocked_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

373 
	}
}

	@/usr/include/bits/stdio_lim.h

19 #i‡!
deföed
 
_STDIO_H
 && !deföed 
__√ed_FOPEN_MAX
 && !deföed 
__√ed_IOV_MAX


23 #ifde‡
_STDIO_H


24 
	#L_tm≤am
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifde‡
__USE_POSIX


29 
	#L_˘îmid
 9

	)

30 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


31 
	#L_cu£rid
 9

	)

36 #i‡
deföed
 
__√ed_FOPEN_MAX
 || deföed 
_STDIO_H


37 #unde‡
FOPEN_MAX


38 
	#FOPEN_MAX
 16

	)

41 #i‡
deföed
 
__√ed_IOV_MAX
 && !deföed 
IOV_MAX


42 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-ldbl.h

20 #i‚de‡
_STDLIB_H


24 #ifdef 
__USE_ISOC99


25 
__BEGIN_NAMESPACE_C99


26 
	$__LDBL_REDIR1_DECL
 (
°πﬁd
, 
°πod
)

27 
__END_NAMESPACE_C99


30 #ifde‡
__USE_GNU


31 
	$__LDBL_REDIR1_DECL
 (
°πﬁd_l
, 
°πod_l
)

34 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


35 #ifde‡
__USE_MISC


36 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

39 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

40 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

20 #i‚de‡
_STDLIB_H


24 *
	$__ªÆ∑th_chk
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

25 *
__ª°ri˘
 
__ªsﬁved
,

26 
size_t
 
__ªsﬁvedÀn
Ë
__THROW
 
__wur
;

27 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_Æüs
,

28 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

29 *
__ª°ri˘
 
__ªsﬁved
), 
ªÆ∑th
Ë
__wur
;

30 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_chk_w¨n
,

31 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

32 *
__ª°ri˘
 
__ªsﬁved
,

33 
size_t
 
__ªsﬁvedÀn
), 
__ªÆ∑th_chk
Ë
__wur


34 
	`__w¨«âr
 ("secondárgument ofÑealpath must beÉither NULL orát "

37 
__exã∫_Æways_ölöe
 
__wur
 *

38 
	`__NTH
 (
	$ªÆ∑th
 (
__c⁄°
 *
__ª°ri˘
 
__«me
, *__ª°ri˘ 
__ªsﬁved
))

40 i‡(
	`__bos
 (
__ªsﬁved
Ë!(
size_t
) -1)

42 #i‡
deföed
 
_LIBC_LIMITS_H_
 && deföed 
PATH_MAX


43 i‡(
	`__bos
 (
__ªsﬁved
Ë< 
PATH_MAX
)

44  
	`__ªÆ∑th_chk_w¨n
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

46  
	`__ªÆ∑th_chk
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

49  
	`__ªÆ∑th_Æüs
 (
__«me
, 
__ªsﬁved
);

50 
	}
}

53 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

54 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

55 
	`__REDIRECT_NTH
 (
__±¢ame_r_Æüs
, (
__fd
, *
__buf
,

56 
size_t
 
__buÊí
), 
±¢ame_r
)

57 
	`__n⁄nuŒ
 ((2));

58 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¨n
,

59 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

60 
size_t
 
__ƒól
), 
__±¢ame_r_chk
)

61 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ptsname_r called with buflen biggerÅhan "

64 
__exã∫_Æways_ölöe
 

65 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

67 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

69 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

70  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

71 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

72  
	`__±¢ame_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

74  
	`__±¢ame_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

75 
	}
}

78 
	$__w˘omb_chk
 (*
__s
, 
wch¨_t
 
__wch¨
, 
size_t
 
__buÊí
)

79 
__THROW
 
__wur
;

80 
	`__REDIRECT_NTH
 (
__w˘omb_Æüs
, (*
__s
, 
wch¨_t
 
__wch¨
),

81 
w˘omb
Ë
__wur
;

83 
__exã∫_Æways_ölöe
 
__wur
 

84 
	`__NTH
 (
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
))

89 
	#__STDLIB_MB_LEN_MAX
 16

	)

90 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__STDLIB_MB_LEN_MAX


93 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

94  
	`__w˘omb_chk
 (
__s
, 
__wch¨
, 
	`__bos
 (__s));

95  
	`__w˘omb_Æüs
 (
__s
, 
__wch¨
);

96 
	}
}

99 
size_t
 
	$__mb°owcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

100 
__c⁄°
 *
__ª°ri˘
 
__§c
,

101 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

102 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_Æüs
,

103 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

104 
__c⁄°
 *
__ª°ri˘
 
__§c
,

105 
size_t
 
__Àn
), 
mb°owcs
);

106 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_chk_w¨n
,

107 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

108 
__c⁄°
 *
__ª°ri˘
 
__§c
,

109 
size_t
 
__Àn
, size_à
__d°Àn
), 
__mb°owcs_chk
)

110 
	`__w¨«âr
 ("mbstowcs called with dst buffer smallerÅhanÜen "

113 
__exã∫_Æways_ölöe
 
size_t


114 
	`__NTH
 (
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

115 
size_t
 
__Àn
))

117 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

119 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

120  
	`__mb°owcs_chk
 (
__d°
, 
__§c
, 
__Àn
,

121 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

123 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

124  
	`__mb°owcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
,

125 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

127  
	`__mb°owcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

128 
	}
}

131 
size_t
 
	$__wc°ombs_chk
 (*
__ª°ri˘
 
__d°
,

132 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

133 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

134 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_Æüs
,

135 (*
__ª°ri˘
 
__d°
,

136 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

137 
size_t
 
__Àn
), 
wc°ombs
);

138 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_chk_w¨n
,

139 (*
__ª°ri˘
 
__d°
,

140 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

141 
size_t
 
__Àn
, size_à
__d°Àn
), 
__wc°ombs_chk
)

142 
	`__w¨«âr
 ("wcstombs called with dst buffer smallerÅhanÜen");

144 
__exã∫_Æways_ölöe
 
size_t


145 
	`__NTH
 (
	$wc°ombs
 (*
__ª°ri˘
 
__d°
, 
__c⁄°
 
wch¨_t
 *__ª°ri˘ 
__§c
,

146 
size_t
 
__Àn
))

148 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

150 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

151  
	`__wc°ombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

152 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

153  
	`__wc°ombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

155  
	`__wc°ombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

156 
	}
}

	@/usr/include/bits/string.h

20 #i‚de‡
_STRING_H


26 
	#_STRING_ARCH_u«lig√d
 1

	)

	@/usr/include/bits/string2.h

21 #i‚de‡
_STRING_H


25 #i‡!
deföed
 
__NO_STRING_INLINES
 && !deföed 
__BOUNDED_POINTERS__


42 #i‚de‡
__STRING_INLINE


43 #ifde‡
__˝lu•lus


44 
	#__STRING_INLINE
 
ölöe


	)

46 
	#__STRING_INLINE
 
__exã∫_ölöe


	)

50 #i‡
_STRING_ARCH_u«lig√d


52 
	~<ídün.h
>

53 
	~<bôs/ty≥s.h
>

55 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


56 
	#__STRING2_SMALL_GET16
(
§c
, 
idx
) \

57 (((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1] << 8 \

58 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
])

	)

59 
	#__STRING2_SMALL_GET32
(
§c
, 
idx
) \

60 (((((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 3] << 8 \

61 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

62 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

63 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
])

	)

65 
	#__STRING2_SMALL_GET16
(
§c
, 
idx
) \

66 (((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
] << 8 \

67 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1])

	)

68 
	#__STRING2_SMALL_GET32
(
§c
, 
idx
) \

69 (((((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
] << 8 \

70 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

71 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

72 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 3])

	)

77 
	#__STRING2_COPY_TYPE
(
N
) \

78 °ru˘ { 
__¨r
[
N
]; } \

79 
	t__©åibuã__
 ((
	t__∑cked__
)Ë
	t__STRING2_COPY_ARR
##
	tN


	)

80 
	t__STRING2_COPY_TYPE
 (2);

81 
__STRING2_COPY_TYPE
 (3);

82 
__STRING2_COPY_TYPE
 (4);

83 
__STRING2_COPY_TYPE
 (5);

84 
__STRING2_COPY_TYPE
 (6);

85 
__STRING2_COPY_TYPE
 (7);

86 
__STRING2_COPY_TYPE
 (8);

87 #unde‡
__STRING2_COPY_TYPE


93 
	#__°rög2_1b±r_p
(
__x
) \

94 ((
size_t
)(c⁄° *)((
__x
Ë+ 1Ë- (size_t)(c⁄° *)(__xË=1)

	)

97 #i‡!
deföed
 
_HAVE_STRING_ARCH_mem£t


98 #i‡!
__GNUC_PREREQ
 (3, 0)

99 #i‡
_STRING_ARCH_u«lig√d


100 
	#mem£t
(
s
, 
c
, 
n
) \

101 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) && (n) <= 16 \

102 ? ((
n
) == 1 \

103 ? 
	`__mem£t_1
 (
s
, 
c
) \

104 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

105 : (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

106 ? ({ *
__s
 = (
s
); 
	`__bzîo
 (__s, 
n
); __s; }) \

107 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

109 
	#__mem£t_1
(
s
, 
c
Ë({ *
__s
 = (s); \

110 *((
__uöt8_t
 *Ë
__s
Ë(__uöt8_tË
c
; __s; })

	)

112 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

113 ({ *
__s
 = (
s
); \

115 
__ui
; \

116 
__usi
; \

117 
__uc
; \

118 } *
__u
 = 
__s
; \

119 
__uöt8_t
 
__c
 = (__uöt8_tË(
c
); \

122 (Ë(
n
)) \

125 
__u
->
__ui
 = 
__c
 * 0x01010101; \

126 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

128 
__u
->
__ui
 = 
__c
 * 0x01010101; \

129 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

131 
__u
->
__ui
 = 
__c
 * 0x01010101; \

132 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

134 
__u
->
__usi
 = (Ë
__c
 * 0x0101; \

135 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

136 
__u
->
__uc
 = (Ë
__c
; \

140 
__u
->
__ui
 = 
__c
 * 0x01010101; \

141 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

143 
__u
->
__ui
 = 
__c
 * 0x01010101; \

144 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

146 
__u
->
__ui
 = 
__c
 * 0x01010101; \

147 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

149 
__u
->
__usi
 = (Ë
__c
 * 0x0101; \

153 
__u
->
__ui
 = 
__c
 * 0x01010101; \

154 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

156 
__u
->
__ui
 = 
__c
 * 0x01010101; \

157 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

159 
__u
->
__ui
 = 
__c
 * 0x01010101; \

160 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

162 
__u
->
__uc
 = (Ë
__c
; \

166 
__u
->
__ui
 = 
__c
 * 0x01010101; \

167 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

169 
__u
->
__ui
 = 
__c
 * 0x01010101; \

170 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

172 
__u
->
__ui
 = 
__c
 * 0x01010101; \

173 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

175 
__u
->
__ui
 = 
__c
 * 0x01010101; \

180 
__s
; })

	)

182 
	#mem£t
(
s
, 
c
, 
n
) \

183 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

184 ? ({ *
__s
 = (
s
); 
	`__bzîo
 (__s, 
n
); __s; }) \

185 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

194 #i‡
__GNUC_PREREQ
 (2, 91)

195 
	#__bzîo
(
s
, 
n
Ë
	`__buûtö_mem£t
 (s, '\0',Ç)

	)

203 #ifde‡
__USE_GNU


204 #i‡!
deföed
 
_HAVE_STRING_ARCH_memp˝y
 || deföed 
_FORCE_INLINES


205 #i‚de‡
_HAVE_STRING_ARCH_memp˝y


206 #i‡
__GNUC_PREREQ
 (3, 4)

207 
	#__memp˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_memp˝y
 (de°, src,Ç)

	)

208 #ñi‡
__GNUC_PREREQ
 (3, 0)

209 
	#__memp˝y
(
de°
, 
§c
, 
n
) \

210 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

211 && 
	`__°rög2_1b±r_p
 (
§c
Ë&& 
n
 <= 8 \

212 ? 
	`__buûtö_mem˝y
 (
de°
, 
§c
, 
n
) + (n) \

213 : 
	`__memp˝y
 (
de°
, 
§c
, 
n
)))

	)

215 
	#__memp˝y
(
de°
, 
§c
, 
n
) \

216 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

217 && 
	`__°rög2_1b±r_p
 (
§c
Ë&& 
n
 <= 8 \

218 ? 
	`__memp˝y_smÆl
 (
de°
, 
	`__memp˝y_¨gs
 (
§c
), 
n
) \

219 : 
	`__memp˝y
 (
de°
, 
§c
, 
n
)))

	)

223 
	#memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y
 (de°, src,Ç)

	)

226 #i‡!
__GNUC_PREREQ
 (3, 0Ë|| 
deföed
 
_FORCE_INLINES


227 #i‡
_STRING_ARCH_u«lig√d


228 #i‚de‡
_FORCE_INLINES


229 
	#__memp˝y_¨gs
(
§c
) \

230 ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[2], \

231 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[6], \

232 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

233 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

234 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

235 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

237 
__STRING_INLINE
 *
__memp˝y_smÆl
 (*, , , , ,

238 
__uöt16_t
, __uöt16_t, 
__uöt32_t
,

239 
__uöt32_t
, 
size_t
);

240 
__STRING_INLINE
 *

241 
	$__memp˝y_smÆl
 (*
__de°1
,

242 
__§c0_1
, 
__§c2_1
, 
__§c4_1
, 
__§c6_1
,

243 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

244 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

245 
size_t
 
__§˛í
)

248 
__uöt32_t
 
__ui
;

249 
__uöt16_t
 
__usi
;

250 
__uc
;

251 
__c
;

252 } *
__u
 = 
__de°1
;

253 (Ë
__§˛í
)

256 
__u
->
__c
 = 
__§c0_1
;

257 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

260 
__u
->
__usi
 = 
__§c0_2
;

261 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

264 
__u
->
__usi
 = 
__§c0_2
;

265 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

266 
__u
->
__c
 = 
__§c2_1
;

267 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

270 
__u
->
__ui
 = 
__§c0_4
;

271 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

274 
__u
->
__ui
 = 
__§c0_4
;

275 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

276 
__u
->
__c
 = 
__§c4_1
;

277 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

280 
__u
->
__ui
 = 
__§c0_4
;

281 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

282 
__u
->
__usi
 = 
__§c4_2
;

283 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

286 
__u
->
__ui
 = 
__§c0_4
;

287 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

288 
__u
->
__usi
 = 
__§c4_2
;

289 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

290 
__u
->
__c
 = 
__§c6_1
;

291 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

294 
__u
->
__ui
 = 
__§c0_4
;

295 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

296 
__u
->
__ui
 = 
__§c4_4
;

297 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

300  (*Ë
__u
;

301 
	}
}

303 #i‚de‡
_FORCE_INLINES


304 
	#__memp˝y_¨gs
(
§c
) \

305 ((
__c⁄°
 *Ë(
§c
))[0], \

306 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

307 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1] } }), \

308 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

309 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

310 ((
__c⁄°
 *Ë(
§c
))[2] } }), \

311 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

312 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

313 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3] } }), \

314 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

315 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

316 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

317 ((
__c⁄°
 *Ë(
§c
))[4] } }), \

318 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

319 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

320 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

321 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5] } }), \

322 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

323 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

324 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

325 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

326 ((
__c⁄°
 *Ë(
§c
))[6] } }), \

327 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

328 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

329 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

330 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

331 ((
__c⁄°
 *Ë(
§c
))[6], ((__c⁄° *Ë(§c))[7] } })

	)

333 
__STRING_INLINE
 *
__memp˝y_smÆl
 (*, , 
__STRING2_COPY_ARR2
,

334 
__STRING2_COPY_ARR3
,

335 
__STRING2_COPY_ARR4
,

336 
__STRING2_COPY_ARR5
,

337 
__STRING2_COPY_ARR6
,

338 
__STRING2_COPY_ARR7
,

339 
__STRING2_COPY_ARR8
, 
size_t
);

340 
__STRING_INLINE
 *

341 
	$__memp˝y_smÆl
 (*
__de°
, 
__§c1
,

342 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

343 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

344 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

345 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

348 
__c
;

349 
__STRING2_COPY_ARR2
 
__sˇ2
;

350 
__STRING2_COPY_ARR3
 
__sˇ3
;

351 
__STRING2_COPY_ARR4
 
__sˇ4
;

352 
__STRING2_COPY_ARR5
 
__sˇ5
;

353 
__STRING2_COPY_ARR6
 
__sˇ6
;

354 
__STRING2_COPY_ARR7
 
__sˇ7
;

355 
__STRING2_COPY_ARR8
 
__sˇ8
;

356 } *
__u
 = 
__de°
;

357 (Ë
__§˛í
)

360 
__u
->
__c
 = 
__§c1
;

363 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

366 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

369 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

372 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

375 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

378 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

381 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

384  
	`__exãnsi⁄__
 ((*Ë
__u
 + 
__§˛í
);

385 
	}
}

393 #i‚de‡
_HAVE_STRING_ARCH_°rchr


394 *
__øwmemchr
 (c⁄° *
__s
, 
__c
);

395 #i‡
__GNUC_PREREQ
 (3, 2)

396 
	#°rchr
(
s
, 
c
) \

397 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
Ë&& !__buûtö_c⁄°™t_∞(
s
) \

398 && (
c
) == '\0' \

399 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

400 : 
	`__buûtö_°rchr
 (
s
, 
c
)))

	)

402 
	#°rchr
(
s
, 
c
) \

403 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

404 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

405 : 
	`°rchr
 (
s
, 
c
)))

	)

411 #i‡(!
deföed
 
_HAVE_STRING_ARCH_°r˝y
 && !
__GNUC_PREREQ
 (3, 0)) \

412 || 
deföed
 
	g_FORCE_INLINES


413 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r˝y
 && !
__GNUC_PREREQ
 (3, 0)

414 
	#°r˝y
(
de°
, 
§c
) \

415 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

416 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

417 ? 
	`__°r˝y_smÆl
 (
de°
, 
	`__°r˝y_¨gs
 (
§c
), \

418 
	`°æí
 (
§c
) + 1) \

419 : (*Ë
	`mem˝y
 (
de°
, 
§c
, 
	`°æí
 (src) + 1)) \

420 : 
	`°r˝y
 (
de°
, 
§c
)))

	)

423 #i‡
_STRING_ARCH_u«lig√d


424 #i‚de‡
_FORCE_INLINES


425 
	#__°r˝y_¨gs
(
§c
) \

426 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

427 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

428 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

429 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

431 
__STRING_INLINE
 *
__°r˝y_smÆl
 (*, 
__uöt16_t
, __uint16_t,

432 
__uöt32_t
, __uöt32_t, 
size_t
);

433 
__STRING_INLINE
 *

434 
	$__°r˝y_smÆl
 (*
__de°
,

435 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

436 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

437 
size_t
 
__§˛í
)

440 
__uöt32_t
 
__ui
;

441 
__uöt16_t
 
__usi
;

442 
__uc
;

443 } *
__u
 = (*Ë
__de°
;

444 (Ë
__§˛í
)

447 
__u
->
__uc
 = '\0';

450 
__u
->
__usi
 = 
__§c0_2
;

453 
__u
->
__usi
 = 
__§c0_2
;

454 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

455 
__u
->
__uc
 = '\0';

458 
__u
->
__ui
 = 
__§c0_4
;

461 
__u
->
__ui
 = 
__§c0_4
;

462 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

463 
__u
->
__uc
 = '\0';

466 
__u
->
__ui
 = 
__§c0_4
;

467 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

468 
__u
->
__usi
 = 
__§c4_2
;

471 
__u
->
__ui
 = 
__§c0_4
;

472 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

473 
__u
->
__usi
 = 
__§c4_2
;

474 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

475 
__u
->
__uc
 = '\0';

478 
__u
->
__ui
 = 
__§c0_4
;

479 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

480 
__u
->
__ui
 = 
__§c4_4
;

483  
__de°
;

484 
	}
}

486 #i‚de‡
_FORCE_INLINES


487 
	#__°r˝y_¨gs
(
§c
) \

488 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

489 { { ((
__c⁄°
 *Ë(
§c
))[0], '\0' } }), \

490 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

491 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

493 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

494 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

495 ((
__c⁄°
 *Ë(
§c
))[2], '\0' } }), \

496 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

497 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

498 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

500 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

501 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

502 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

503 ((
__c⁄°
 *Ë(
§c
))[4], '\0' } }), \

504 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

505 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

506 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

507 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

509 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

510 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

511 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

512 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

513 ((
__c⁄°
 *Ë(
§c
))[6], '\0' } })

	)

515 
__STRING_INLINE
 *
__°r˝y_smÆl
 (*, 
__STRING2_COPY_ARR2
,

516 
__STRING2_COPY_ARR3
,

517 
__STRING2_COPY_ARR4
,

518 
__STRING2_COPY_ARR5
,

519 
__STRING2_COPY_ARR6
,

520 
__STRING2_COPY_ARR7
,

521 
__STRING2_COPY_ARR8
, 
size_t
);

522 
__STRING_INLINE
 *

523 
	$__°r˝y_smÆl
 (*
__de°
,

524 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

525 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

526 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

527 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

530 
__c
;

531 
__STRING2_COPY_ARR2
 
__sˇ2
;

532 
__STRING2_COPY_ARR3
 
__sˇ3
;

533 
__STRING2_COPY_ARR4
 
__sˇ4
;

534 
__STRING2_COPY_ARR5
 
__sˇ5
;

535 
__STRING2_COPY_ARR6
 
__sˇ6
;

536 
__STRING2_COPY_ARR7
 
__sˇ7
;

537 
__STRING2_COPY_ARR8
 
__sˇ8
;

538 } *
__u
 = (*Ë
__de°
;

539 (Ë
__§˛í
)

542 
__u
->
__c
 = '\0';

545 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

548 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

551 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

554 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

557 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

560 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

563 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

566  
__de°
;

567 
	}
}

573 #ifde‡
__USE_GNU


574 #i‡!
deföed
 
_HAVE_STRING_ARCH_°p˝y
 || deföed 
_FORCE_INLINES


575 #i‚de‡
_HAVE_STRING_ARCH_°p˝y


576 #i‡
__GNUC_PREREQ
 (3, 4)

577 
	#__°p˝y
(
de°
, 
§c
Ë
	`__buûtö_°p˝y
 (de°, src)

	)

578 #ñi‡
__GNUC_PREREQ
 (3, 0)

579 
	#__°p˝y
(
de°
, 
§c
) \

580 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

581 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

582 ? 
	`__buûtö_°r˝y
 (
de°
, 
§c
Ë+ 
	`°æí
 (src) \

583 : ((*Ë(
__memp˝y
Ë(
de°
, 
§c
, 
	`°æí
 (src) + 1) \

585 : 
	`__°p˝y
 (
de°
, 
§c
)))

	)

587 
	#__°p˝y
(
de°
, 
§c
) \

588 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

589 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

590 ? 
	`__°p˝y_smÆl
 (
de°
, 
	`__°p˝y_¨gs
 (
§c
), \

591 
	`°æí
 (
§c
) + 1) \

592 : ((*Ë(
__memp˝y
Ë(
de°
, 
§c
, 
	`°æí
 (src) + 1) \

594 : 
	`__°p˝y
 (
de°
, 
§c
)))

	)

598 
	#°p˝y
(
de°
, 
§c
Ë
	`__°p˝y
 (de°, src)

	)

601 #i‡!
__GNUC_PREREQ
 (3, 0Ë|| 
deföed
 
_FORCE_INLINES


602 #i‡
_STRING_ARCH_u«lig√d


603 #i‚de‡
_FORCE_INLINES


604 
	#__°p˝y_¨gs
(
§c
) \

605 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

606 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

607 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

608 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

610 
__STRING_INLINE
 *
__°p˝y_smÆl
 (*, 
__uöt16_t
, __uint16_t,

611 
__uöt32_t
, __uöt32_t, 
size_t
);

612 
__STRING_INLINE
 *

613 
	$__°p˝y_smÆl
 (*
__de°
,

614 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

615 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

616 
size_t
 
__§˛í
)

619 
__ui
;

620 
__usi
;

621 
__uc
;

622 
__c
;

623 } *
__u
 = (*Ë
__de°
;

624 (Ë
__§˛í
)

627 
__u
->
__uc
 = '\0';

630 
__u
->
__usi
 = 
__§c0_2
;

631 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

634 
__u
->
__usi
 = 
__§c0_2
;

635 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

636 
__u
->
__uc
 = '\0';

639 
__u
->
__ui
 = 
__§c0_4
;

640 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3);

643 
__u
->
__ui
 = 
__§c0_4
;

644 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

645 
__u
->
__uc
 = '\0';

648 
__u
->
__ui
 = 
__§c0_4
;

649 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

650 
__u
->
__usi
 = 
__§c4_2
;

651 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

654 
__u
->
__ui
 = 
__§c0_4
;

655 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

656 
__u
->
__usi
 = 
__§c4_2
;

657 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

658 
__u
->
__uc
 = '\0';

661 
__u
->
__ui
 = 
__§c0_4
;

662 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

663 
__u
->
__ui
 = 
__§c4_4
;

664 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3);

667  &
__u
->
__c
;

668 
	}
}

670 #i‚de‡
_FORCE_INLINES


671 
	#__°p˝y_¨gs
(
§c
) \

672 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

673 { { ((
__c⁄°
 *Ë(
§c
))[0], '\0' } }), \

674 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

675 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

677 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

678 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

679 ((
__c⁄°
 *Ë(
§c
))[2], '\0' } }), \

680 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

681 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

682 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

684 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

685 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

686 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

687 ((
__c⁄°
 *Ë(
§c
))[4], '\0' } }), \

688 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

689 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

690 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

691 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

693 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

694 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

695 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

696 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

697 ((
__c⁄°
 *Ë(
§c
))[6], '\0' } })

	)

699 
__STRING_INLINE
 *
__°p˝y_smÆl
 (*, 
__STRING2_COPY_ARR2
,

700 
__STRING2_COPY_ARR3
,

701 
__STRING2_COPY_ARR4
,

702 
__STRING2_COPY_ARR5
,

703 
__STRING2_COPY_ARR6
,

704 
__STRING2_COPY_ARR7
,

705 
__STRING2_COPY_ARR8
, 
size_t
);

706 
__STRING_INLINE
 *

707 
	$__°p˝y_smÆl
 (*
__de°
,

708 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

709 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

710 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

711 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

714 
__c
;

715 
__STRING2_COPY_ARR2
 
__sˇ2
;

716 
__STRING2_COPY_ARR3
 
__sˇ3
;

717 
__STRING2_COPY_ARR4
 
__sˇ4
;

718 
__STRING2_COPY_ARR5
 
__sˇ5
;

719 
__STRING2_COPY_ARR6
 
__sˇ6
;

720 
__STRING2_COPY_ARR7
 
__sˇ7
;

721 
__STRING2_COPY_ARR8
 
__sˇ8
;

722 } *
__u
 = (*Ë
__de°
;

723 (Ë
__§˛í
)

726 
__u
->
__c
 = '\0';

729 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

732 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

735 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

738 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

741 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

744 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

747 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

750  
__de°
 + 
__§˛í
 - 1;

751 
	}
}

759 #i‚de‡
_HAVE_STRING_ARCH_°∫˝y


760 #i‡
__GNUC_PREREQ
 (3, 2)

761 
	#°∫˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫˝y
 (de°, src,Ç)

	)

763 
	#°∫˝y
(
de°
, 
§c
, 
n
) \

764 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

765 ? (
	`°æí
 (
§c
Ë+ 1 >((
size_t
Ë(
n
)) \

766 ? (*Ë
	`mem˝y
 (
de°
, 
§c
, 
n
) \

767 : 
	`°∫˝y
 (
de°
, 
§c
, 
n
)) \

768 : 
	`°∫˝y
 (
de°
, 
§c
, 
n
)))

	)

774 #i‚de‡
_HAVE_STRING_ARCH_°∫ˇt


775 #ifde‡
_USE_STRING_ARCH_°rchr


776 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

777 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

778 
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

779 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

780 ? 
	`°rˇt
 (
__de°
, 
§c
) \

781 : (*((*Ë
	`__memp˝y
 (
	`°rchr
 (
__de°
, '\0'), \

782 
§c
, 
n
)Ë'\0', 
__de°
)) \

783 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
); }))

	)

784 #ñi‡
__GNUC_PREREQ
 (3, 2)

785 
	#°∫ˇt
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫ˇt
 (de°, src,Ç)

	)

787 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

788 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

789 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

790 ? 
	`°rˇt
 (
de°
, 
§c
) \

791 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
)) \

792 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
)))

	)

798 #i‚de‡
_HAVE_STRING_ARCH_°rcmp


799 #i‡
__GNUC_PREREQ
 (3, 2)

800 
	#°rcmp
(
s1
, 
s2
) \

801 
__exãnsi⁄__
 \

802 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

803 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

804 && (
__s1_Àn
 = 
	`°æí
 (
s1
), 
__s2_Àn
 = såÀ¿(
s2
), \

805 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

806 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

807 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

808 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

809 && (
__s1_Àn
 = 
	`°æí
 (
s1
), __s1_len < 4) \

810 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

811 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

812 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

813 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

814 && (
__s2_Àn
 = 
	`°æí
 (
s2
), __s2_len < 4) \

815 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

816 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

817 : 
	`__°rcmp_gc
 (
s1
, 
s2
, 
__s2_Àn
)) \

818 : 
	`__buûtö_°rcmp
 (
s1
, 
s2
)))); })

	)

820 
	#°rcmp
(
s1
, 
s2
) \

821 
__exãnsi⁄__
 \

822 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

823 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

824 && (
__s1_Àn
 = 
	`°æí
 (
s1
), 
__s2_Àn
 = såÀ¿(
s2
), \

825 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

826 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

827 ? 
	`memcmp
 ((
__c⁄°
 *Ë(
s1
), (__c⁄° *Ë(
s2
), \

828 (
__s1_Àn
 < 
__s2_Àn
 ? __s1_len : __s2_len) + 1) \

829 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

830 && (
__s1_Àn
 = 
	`°æí
 (
s1
), __s1_len < 4) \

831 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

832 ? 
	`__°rcmp_cc
 (
s1
, 
s2
, 
__s1_Àn
) \

833 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

834 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

835 && (
__s2_Àn
 = 
	`°æí
 (
s2
), __s2_len < 4) \

836 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

837 ? 
	`__°rcmp_cc
 (
s1
, 
s2
, 
__s2_Àn
) \

838 : 
	`__°rcmp_gc
 (
s1
, 
s2
, 
__s2_Àn
)) \

839 : 
	`°rcmp
 (
s1
, 
s2
)))); })

	)

842 
	#__°rcmp_cc
(
s1
, 
s2
, 
l
) \

843 (
	`__exãnsi⁄__
 ({ 
__ªsu…
 = \

844 (((
__c⁄°
 *Ë(__c⁄° *Ë(
s1
))[0] \

845 - ((
__c⁄°
 *Ë(__c⁄° *)(
s2
))[0]);\

846 i‡(
l
 > 0 && 
__ªsu…
 == 0) \

848 
__ªsu…
 = (((
__c⁄°
 *) \

849 (
__c⁄°
 *Ë(
s1
))[1] \

850 - ((
__c⁄°
 *) \

851 (
__c⁄°
 *Ë(
s2
))[1]); \

852 i‡(
l
 > 1 && 
__ªsu…
 == 0) \

854 
__ªsu…
 = \

855 (((
__c⁄°
 *) \

856 (
__c⁄°
 *Ë(
s1
))[2] \

857 - ((
__c⁄°
 *) \

858 (
__c⁄°
 *Ë(
s2
))[2]); \

859 i‡(
l
 > 2 && 
__ªsu…
 == 0) \

860 
__ªsu…
 = \

861 (((
__c⁄°
 *) \

862 (
__c⁄°
 *Ë(
s1
))[3] \

863 - ((
__c⁄°
 *) \

864 (
__c⁄°
 *Ë(
s2
))[3]); \

867 
__ªsu…
; }))

	)

869 
	#__°rcmp_cg
(
s1
, 
s2
, 
l1
) \

870 (
	`__exãnsi⁄__
 ({ 
__c⁄°
 *
__s2
 = \

871 (
__c⁄°
 *Ë(__c⁄° *Ë(
s2
); \

872 
__ªsu…
 = \

873 (((
__c⁄°
 *Ë(__c⁄° *Ë(
s1
))[0] \

874 - 
__s2
[0]); \

875 i‡(
l1
 > 0 && 
__ªsu…
 == 0) \

877 
__ªsu…
 = (((
__c⁄°
 *) \

878 (
__c⁄°
 *Ë(
s1
))[1] - 
__s2
[1]); \

879 i‡(
l1
 > 1 && 
__ªsu…
 == 0) \

881 
__ªsu…
 = (((
__c⁄°
 *) \

882 (
__c⁄°
 *Ë(
s1
))[2] - 
__s2
[2]);\

883 i‡(
l1
 > 2 && 
__ªsu…
 == 0) \

884 
__ªsu…
 = (((
__c⁄°
 *) \

885 (
__c⁄°
 *Ë(
s1
))[3] \

886 - 
__s2
[3]); \

889 
__ªsu…
; }))

	)

891 
	#__°rcmp_gc
(
s1
, 
s2
, 
l2
) \

892 (
	`__exãnsi⁄__
 ({ 
__c⁄°
 *
__s1
 = \

893 (
__c⁄°
 *Ë(__c⁄° *Ë(
s1
); \

894 
__ªsu…
 = \

895 
__s1
[0] - ((
__c⁄°
 *) \

896 (
__c⁄°
 *Ë(
s2
))[0]; \

897 i‡(
l2
 > 0 && 
__ªsu…
 == 0) \

899 
__ªsu…
 = (
__s1
[1] \

900 - ((
__c⁄°
 *) \

901 (
__c⁄°
 *Ë(
s2
))[1]); \

902 i‡(
l2
 > 1 && 
__ªsu…
 == 0) \

904 
__ªsu…
 = \

905 (
__s1
[2] - ((
__c⁄°
 *) \

906 (
__c⁄°
 *Ë(
s2
))[2]); \

907 i‡(
l2
 > 2 && 
__ªsu…
 == 0) \

908 
__ªsu…
 = \

909 (
__s1
[3] \

910 - ((
__c⁄°
 *) \

911 (
__c⁄°
 *Ë(
s2
))[3]); \

914 
__ªsu…
; }))

	)

919 #i‚de‡
_HAVE_STRING_ARCH_°∫cmp


920 
	#°∫cmp
(
s1
, 
s2
, 
n
) \

921 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) \

922 && ((
	`__buûtö_c⁄°™t_p
 (
s1
) \

923 && 
	`°æí
 (
s1
Ë< ((
size_t
Ë(
n
))) \

924 || (
	`__buûtö_c⁄°™t_p
 (
s2
) \

925 && 
	`°æí
 (
s2
Ë< ((
size_t
Ë(
n
)))) \

926 ? 
	`°rcmp
 (
s1
, 
s2
Ë: 
	`°∫cmp
 (s1, s2, 
n
)))

	)

932 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rc•n
 || deföed 
_FORCE_INLINES


933 #i‚de‡
_HAVE_STRING_ARCH_°rc•n


934 #i‡
__GNUC_PREREQ
 (3, 2)

935 
	#°rc•n
(
s
, 
ªje˘
) \

936 
__exãnsi⁄__
 \

937 ({ 
__r0
, 
__r1
, 
__r2
; \

938 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

939 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

940 ? 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
) \

941 : ((
__r0
 = ((
__c⁄°
 *Ë(
ªje˘
))[0], __r0 == '\0') \

942 ? 
	`°æí
 (
s
) \

943 : ((
__r1
 = ((
__c⁄°
 *Ë(
ªje˘
))[1], __r1 == '\0') \

944 ? 
	`__°rc•n_c1
 (
s
, 
__r0
) \

945 : ((
__r2
 = ((
__c⁄°
 *Ë(
ªje˘
))[2], __r2 == '\0') \

946 ? 
	`__°rc•n_c2
 (
s
, 
__r0
, 
__r1
) \

947 : (((
__c⁄°
 *Ë(
ªje˘
))[3] == '\0' \

948 ? 
	`__°rc•n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

949 : 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
)))))) \

950 : 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
)); })

	)

952 
	#°rc•n
(
s
, 
ªje˘
) \

953 
__exãnsi⁄__
 \

954 ({ 
__r0
, 
__r1
, 
__r2
; \

955 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

956 ? ((
__r0
 = ((
__c⁄°
 *Ë(
ªje˘
))[0], __r0 == '\0') \

957 ? 
	`°æí
 (
s
) \

958 : ((
__r1
 = ((
__c⁄°
 *Ë(
ªje˘
))[1], __r1 == '\0') \

959 ? 
	`__°rc•n_c1
 (
s
, 
__r0
) \

960 : ((
__r2
 = ((
__c⁄°
 *Ë(
ªje˘
))[2], __r2 == '\0') \

961 ? 
	`__°rc•n_c2
 (
s
, 
__r0
, 
__r1
) \

962 : (((
__c⁄°
 *Ë(
ªje˘
))[3] == '\0' \

963 ? 
	`__°rc•n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

964 : 
	`°rc•n
 (
s
, 
ªje˘
))))) \

965 : 
	`°rc•n
 (
s
, 
ªje˘
)); })

	)

969 
__STRING_INLINE
 
size_t
 
__°rc•n_c1
 (
__c⁄°
 *
__s
, 
__ªje˘
);

970 
__STRING_INLINE
 
size_t


971 
	$__°rc•n_c1
 (
__c⁄°
 *
__s
, 
__ªje˘
)

973 
size_t
 
__ªsu…
 = 0;

974 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘
)

975 ++
__ªsu…
;

976  
__ªsu…
;

977 
	}
}

979 
__STRING_INLINE
 
size_t
 
__°rc•n_c2
 (
__c⁄°
 *
__s
, 
__ªje˘1
,

980 
__ªje˘2
);

981 
__STRING_INLINE
 
size_t


982 
	$__°rc•n_c2
 (
__c⁄°
 *
__s
, 
__ªje˘1
, 
__ªje˘2
)

984 
size_t
 
__ªsu…
 = 0;

985 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘1


986 && 
__s
[
__ªsu…
] !
__ªje˘2
)

987 ++
__ªsu…
;

988  
__ªsu…
;

989 
	}
}

991 
__STRING_INLINE
 
size_t
 
__°rc•n_c3
 (
__c⁄°
 *
__s
, 
__ªje˘1
,

992 
__ªje˘2
, 
__ªje˘3
);

993 
__STRING_INLINE
 
size_t


994 
	$__°rc•n_c3
 (
__c⁄°
 *
__s
, 
__ªje˘1
, 
__ªje˘2
,

995 
__ªje˘3
)

997 
size_t
 
__ªsu…
 = 0;

998 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘1


999 && 
__s
[
__ªsu…
] !
__ªje˘2
 && __s[__ªsu…] !
__ªje˘3
)

1000 ++
__ªsu…
;

1001  
__ªsu…
;

1002 
	}
}

1008 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r•n
 || deföed 
_FORCE_INLINES


1009 #i‚de‡
_HAVE_STRING_ARCH_°r•n


1010 #i‡
__GNUC_PREREQ
 (3, 2)

1011 
	#°r•n
(
s
, 
ac˚±
) \

1012 
__exãnsi⁄__
 \

1013 ({ 
__a0
, 
__a1
, 
__a2
; \

1014 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1015 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

1016 ? 
	`__buûtö_°r•n
 (
s
, 
ac˚±
) \

1017 : ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1018 ? ((Ë(
s
), 0) \

1019 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1020 ? 
	`__°r•n_c1
 (
s
, 
__a0
) \

1021 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1022 ? 
	`__°r•n_c2
 (
s
, 
__a0
, 
__a1
) \

1023 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1024 ? 
	`__°r•n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1025 : 
	`__buûtö_°r•n
 (
s
, 
ac˚±
)))))) \

1026 : 
	`__buûtö_°r•n
 (
s
, 
ac˚±
)); })

	)

1028 
	#°r•n
(
s
, 
ac˚±
) \

1029 
__exãnsi⁄__
 \

1030 ({ 
__a0
, 
__a1
, 
__a2
; \

1031 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1032 ? ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1033 ? ((Ë(
s
), 0) \

1034 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1035 ? 
	`__°r•n_c1
 (
s
, 
__a0
) \

1036 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1037 ? 
	`__°r•n_c2
 (
s
, 
__a0
, 
__a1
) \

1038 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1039 ? 
	`__°r•n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1040 : 
	`°r•n
 (
s
, 
ac˚±
))))) \

1041 : 
	`°r•n
 (
s
, 
ac˚±
)); })

	)

1045 
__STRING_INLINE
 
size_t
 
__°r•n_c1
 (
__c⁄°
 *
__s
, 
__ac˚±
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__°r•n_c1
 (
__c⁄°
 *
__s
, 
__ac˚±
)

1049 
size_t
 
__ªsu…
 = 0;

1051 
__s
[
__ªsu…
] =
__ac˚±
)

1052 ++
__ªsu…
;

1053  
__ªsu…
;

1054 
	}
}

1056 
__STRING_INLINE
 
size_t
 
__°r•n_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1057 
__ac˚±2
);

1058 
__STRING_INLINE
 
size_t


1059 
	$__°r•n_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
)

1061 
size_t
 
__ªsu…
 = 0;

1063 
__s
[
__ªsu…
] =
__ac˚±1
 || __s[__ªsu…] =
__ac˚±2
)

1064 ++
__ªsu…
;

1065  
__ªsu…
;

1066 
	}
}

1068 
__STRING_INLINE
 
size_t
 
__°r•n_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1069 
__ac˚±2
, 
__ac˚±3
);

1070 
__STRING_INLINE
 
size_t


1071 
	$__°r•n_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
, 
__ac˚±3
)

1073 
size_t
 
__ªsu…
 = 0;

1075 
__s
[
__ªsu…
] =
__ac˚±1
 || __s[__ªsu…] =
__ac˚±2


1076 || 
__s
[
__ªsu…
] =
__ac˚±3
)

1077 ++
__ªsu…
;

1078  
__ªsu…
;

1079 
	}
}

1084 #i‡!
deföed
 
_HAVE_STRING_ARCH_°Ωbrk
 || deföed 
_FORCE_INLINES


1085 #i‚de‡
_HAVE_STRING_ARCH_°Ωbrk


1086 #i‡
__GNUC_PREREQ
 (3, 2)

1087 
	#°Ωbrk
(
s
, 
ac˚±
) \

1088 
__exãnsi⁄__
 \

1089 ({ 
__a0
, 
__a1
, 
__a2
; \

1090 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1091 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

1092 ? 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
) \

1093 : ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1094 ? ((Ë(
s
), (*Ë
NULL
) \

1095 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1096 ? 
	`__buûtö_°rchr
 (
s
, 
__a0
) \

1097 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1098 ? 
	`__°Ωbrk_c2
 (
s
, 
__a0
, 
__a1
) \

1099 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1100 ? 
	`__°Ωbrk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1101 : 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
)))))) \

1102 : 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
)); })

	)

1104 
	#°Ωbrk
(
s
, 
ac˚±
) \

1105 
__exãnsi⁄__
 \

1106 ({ 
__a0
, 
__a1
, 
__a2
; \

1107 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1108 ? ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1109 ? ((Ë(
s
), (*Ë
NULL
) \

1110 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1111 ? 
	`°rchr
 (
s
, 
__a0
) \

1112 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1113 ? 
	`__°Ωbrk_c2
 (
s
, 
__a0
, 
__a1
) \

1114 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1115 ? 
	`__°Ωbrk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1116 : 
	`°Ωbrk
 (
s
, 
ac˚±
))))) \

1117 : 
	`°Ωbrk
 (
s
, 
ac˚±
)); })

	)

1121 
__STRING_INLINE
 *
__°Ωbrk_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1122 
__ac˚±2
);

1123 
__STRING_INLINE
 *

1124 
	$__°Ωbrk_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
)

1127 *
__s
 !'\0' && *__†!
__ac˚±1
 && *__†!
__ac˚±2
)

1128 ++
__s
;

1129  *
__s
 ='\0' ? 
NULL
 : (*Ë(
size_t
) __s;

1130 
	}
}

1132 
__STRING_INLINE
 *
__°Ωbrk_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1133 
__ac˚±2
, 
__ac˚±3
);

1134 
__STRING_INLINE
 *

1135 
	$__°Ωbrk_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
,

1136 
__ac˚±3
)

1139 *
__s
 !'\0' && *__†!
__ac˚±1
 && *__†!
__ac˚±2


1140 && *
__s
 !
__ac˚±3
)

1141 ++
__s
;

1142  *
__s
 ='\0' ? 
NULL
 : (*Ë(
size_t
) __s;

1143 
	}
}

1149 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r°r
 && !
__GNUC_PREREQ
 (2, 97)

1150 
	#°r°r
(
hay°ack
, 
√edÀ
) \

1151 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
√edÀ
Ë&& 
	`__°rög2_1b±r_p
 (needle) \

1152 ? (((
__c⁄°
 *Ë(
√edÀ
))[0] == '\0' \

1153 ? (*Ë(
size_t
Ë(
hay°ack
) \

1154 : (((
__c⁄°
 *Ë(
√edÀ
))[1] == '\0' \

1155 ? 
	`°rchr
 (
hay°ack
, \

1156 ((
__c⁄°
 *Ë(
√edÀ
))[0]) \

1157 : 
	`°r°r
 (
hay°ack
, 
√edÀ
))) \

1158 : 
	`°r°r
 (
hay°ack
, 
√edÀ
)))

	)

1162 #i‡!
deföed
 
_HAVE_STRING_ARCH_°πok_r
 || deföed 
_FORCE_INLINES


1163 #i‚de‡
_HAVE_STRING_ARCH_°πok_r


1164 
	#__°πok_r
(
s
, 
£p
, 
√xç
) \

1165 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
£p
Ë&& 
	`__°rög2_1b±r_p
 (sep) \

1166 && ((
__c⁄°
 *Ë(
£p
))[0] != '\0' \

1167 && ((
__c⁄°
 *Ë(
£p
))[1] == '\0' \

1168 ? 
	`__°πok_r_1c
 (
s
, ((
__c⁄°
 *Ë(
£p
))[0], 
√xç
) \

1169 : 
	`__°πok_r
 (
s
, 
£p
, 
√xç
)))

	)

1172 
__STRING_INLINE
 *
__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
);

1173 
__STRING_INLINE
 *

1174 
	$__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
)

1176 *
__ªsu…
;

1177 i‡(
__s
 =
NULL
)

1178 
__s
 = *
__√xç
;

1179 *
__s
 =
__£p
)

1180 ++
__s
;

1181 
__ªsu…
 = 
NULL
;

1182 i‡(*
__s
 != '\0')

1184 
__ªsu…
 = 
__s
++;

1185 *
__s
 != '\0')

1186 i‡(*
__s
++ =
__£p
)

1188 
__s
[-1] = '\0';

1192 *
__√xç
 = 
__s
;

1193  
__ªsu…
;

1194 
	}
}

1195 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


1196 
	#°πok_r
(
s
, 
£p
, 
√xç
Ë
	`__°πok_r
 (s, sï,Çexç)

	)

1201 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r£p
 || deföed 
_FORCE_INLINES


1202 #i‚de‡
_HAVE_STRING_ARCH_°r£p


1204 *
__°r£p_g
 (**
__°rögp
, 
__c⁄°
 *
__dñim
);

1205 
	#__°r£p
(
s
, 
ªje˘
) \

1206 
__exãnsi⁄__
 \

1207 ({ 
__r0
, 
__r1
, 
__r2
; \

1208 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

1209 && (
__r0
 = ((
__c⁄°
 *Ë(
ªje˘
))[0], \

1210 ((
__c⁄°
 *Ë(
ªje˘
))[0] != '\0') \

1211 ? ((
__r1
 = ((
__c⁄°
 *Ë(
ªje˘
))[1], \

1212 ((
__c⁄°
 *Ë(
ªje˘
))[1] == '\0') \

1213 ? 
	`__°r£p_1c
 (
s
, 
__r0
) \

1214 : ((
__r2
 = ((
__c⁄°
 *Ë(
ªje˘
))[2], __r2 == '\0') \

1215 ? 
	`__°r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1216 : (((
__c⁄°
 *Ë(
ªje˘
))[3] == '\0' \

1217 ? 
	`__°r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1218 : 
	`__°r£p_g
 (
s
, 
ªje˘
)))) \

1219 : 
	`__°r£p_g
 (
s
, 
ªje˘
)); })

	)

1222 
__STRING_INLINE
 *
__°r£p_1c
 (**
__s
, 
__ªje˘
);

1223 
__STRING_INLINE
 *

1224 
	$__°r£p_1c
 (**
__s
, 
__ªje˘
)

1226 *
__ªtvÆ
 = *
__s
;

1227 i‡(
__ªtvÆ
 !
NULL
 && (*
__s
 = 
	`°rchr
 (__ªtvÆ, 
__ªje˘
)) != NULL)

1228 *(*
__s
)++ = '\0';

1229  
__ªtvÆ
;

1230 
	}
}

1232 
__STRING_INLINE
 *
__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
);

1233 
__STRING_INLINE
 *

1234 
	$__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
)

1236 *
__ªtvÆ
 = *
__s
;

1237 i‡(
__ªtvÆ
 !
NULL
)

1239 *
__˝
 = 
__ªtvÆ
;

1242 i‡(*
__˝
 == '\0')

1244 
__˝
 = 
NULL
;

1247 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
)

1249 *
__˝
++ = '\0';

1252 ++
__˝
;

1254 *
__s
 = 
__˝
;

1256  
__ªtvÆ
;

1257 
	}
}

1259 
__STRING_INLINE
 *
__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
,

1260 
__ªje˘3
);

1261 
__STRING_INLINE
 *

1262 
	$__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
, 
__ªje˘3
)

1264 *
__ªtvÆ
 = *
__s
;

1265 i‡(
__ªtvÆ
 !
NULL
)

1267 *
__˝
 = 
__ªtvÆ
;

1270 i‡(*
__˝
 == '\0')

1272 
__˝
 = 
NULL
;

1275 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
 || *__˝ =
__ªje˘3
)

1277 *
__˝
++ = '\0';

1280 ++
__˝
;

1282 *
__s
 = 
__˝
;

1284  
__ªtvÆ
;

1285 
	}
}

1286 #ifde‡
__USE_BSD


1287 
	#°r£p
(
s
, 
ªje˘
Ë
	`__°r£p
 (s,Ñeje˘)

	)

1294 #ifde‡
__USE_MISC


1296 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rdup
 || !deföed 
_HAVE_STRING_ARCH_°∫dup


1297 
	#__√ed_mÆloc_™d_ˇŒoc


	)

1298 
	~<°dlib.h
>

1301 #i‚de‡
_HAVE_STRING_ARCH_°rdup


1303 *
	$__°rdup
 (
__c⁄°
 *
__°rög
Ë
__THROW
 
__©åibuã_mÆloc__
;

1304 
	#__°rdup
(
s
) \

1305 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

1306 ? (((
__c⁄°
 *Ë(
s
))[0] == '\0' \

1307 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

1308 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

1309 *
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

1310 i‡(
__ªtvÆ
 !
NULL
) \

1311 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, 
__Àn
); \

1312 
__ªtvÆ
; 
	}
})) \

1313 : 
	`__°rdup
 (
s
)))

	)

1315 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


1316 
	#°rdup
(
s
Ë
	`__°rdup
 (s)

	)

1320 #i‚de‡
_HAVE_STRING_ARCH_°∫dup


1322 *
	$__°∫dup
 (
__c⁄°
 *
__°rög
, 
size_t
 
__n
)

1323 
__THROW
 
__©åibuã_mÆloc__
;

1324 
	#__°∫dup
(
s
, 
n
) \

1325 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

1326 ? (((
__c⁄°
 *Ë(
s
))[0] == '\0' \

1327 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

1328 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

1329 
size_t
 
__n
 = (
n
); \

1330 *
__ªtvÆ
; \

1331 i‡(
__n
 < 
__Àn
) \

1332 
__Àn
 = 
__n
 + 1; \

1333 
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

1334 i‡(
__ªtvÆ
 !
NULL
) \

1336 
__ªtvÆ
[
__Àn
 - 1] = '\0'; \

1337 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, \

1338 
__Àn
 - 1); \

1340 
__ªtvÆ
; 
	}
})) \

1341 : 
	`__°∫dup
 (
s
, 
n
)))

	)

1343 #ifde‡
__USE_GNU


1344 
	#°∫dup
(
s
, 
n
Ë
	`__°∫dup
 (s,Ç)

	)

1350 #i‚de‡
_FORCE_INLINES


1351 #unde‡
__STRING_INLINE


	@/usr/include/bits/string3.h

19 #i‚de‡
_STRING_H


23 
__w¨nde˛
 (
__w¨n_mem£t_zîo_Àn
,

26 #i‚de‡
__˝lu•lus


30 #unde‡
mem˝y


31 #unde‡
memmove


32 #unde‡
mem£t


33 #unde‡
°rˇt


34 #unde‡
°r˝y


35 #unde‡
°∫ˇt


36 #unde‡
°∫˝y


37 #ifde‡
__USE_GNU


38 #unde‡
memp˝y


39 #unde‡
°p˝y


41 #ifde‡
__USE_BSD


42 #unde‡
bc›y


43 #unde‡
bzîo


48 
__exã∫_Æways_ölöe
 *

49 
__NTH
 (
	$mem˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

50 
size_t
 
__Àn
))

52  
	`__buûtö___mem˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

53 
	}
}

55 
__exã∫_Æways_ölöe
 *

56 
__NTH
 (
	$memmove
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

57 
size_t
 
__Àn
))

59  
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

60 
	}
}

62 #ifde‡
__USE_GNU


63 
__exã∫_Æways_ölöe
 *

64 
__NTH
 (
	$memp˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

65 
size_t
 
__Àn
))

67  
	`__buûtö___memp˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

68 
	}
}

77 
__exã∫_Æways_ölöe
 *

78 
__NTH
 (
	$mem£t
 (*
__de°
, 
__ch
, 
size_t
 
__Àn
))

80 i‡(
	`__buûtö_c⁄°™t_p
 (
__Àn
) && __len == 0

81 && (!
	`__buûtö_c⁄°™t_p
 (
__ch
) || __ch != 0))

83 
	`__w¨n_mem£t_zîo_Àn
 ();

84  
__de°
;

86  
	`__buûtö___mem£t_chk
 (
__de°
, 
__ch
, 
__Àn
, 
	`__bos0
 (__dest));

87 
	}
}

89 #ifde‡
__USE_BSD


90 
__exã∫_Æways_ölöe
 

91 
__NTH
 (
	$bc›y
 (
__c⁄°
 *
__ª°ri˘
 
__§c
, *__ª°ri˘ 
__de°
,

92 
size_t
 
__Àn
))

94 (Ë
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

95 
	}
}

97 
__exã∫_Æways_ölöe
 

98 
__NTH
 (
	$bzîo
 (*
__de°
, 
size_t
 
__Àn
))

100 (Ë
	`__buûtö___mem£t_chk
 (
__de°
, '\0', 
__Àn
, 
	`__bos0
 (__dest));

101 
	}
}

104 
__exã∫_Æways_ölöe
 *

105 
__NTH
 (
	$°r˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
))

107  
	`__buûtö___°r˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

108 
	}
}

110 #ifde‡
__USE_GNU


111 
__exã∫_Æways_ölöe
 *

112 
__NTH
 (
	$°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
))

114  
	`__buûtö___°p˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

115 
	}
}

119 
__exã∫_Æways_ölöe
 *

120 
__NTH
 (
	$°∫˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

121 
size_t
 
__Àn
))

123  
	`__buûtö___°∫˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

124 
	}
}

127 *
	$__°≤˝y_chk
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
,

128 
size_t
 
__de°Àn
Ë
__THROW
;

129 *
	`__REDIRECT_NTH
 (
__°≤˝y_Æüs
, (*
__de°
,

130 
__c⁄°
 *
__§c
,

131 
size_t
 
__n
), 
°≤˝y
);

133 
__exã∫_Æways_ölöe
 *

134 
	`__NTH
 (
	$°≤˝y
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
))

136 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1

137 && (!
	`__buûtö_c⁄°™t_p
 (
__n
Ë|| __¿<
	`__bos
 (
__de°
)))

138  
	`__°≤˝y_chk
 (
__de°
, 
__§c
, 
__n
, 
	`__bos
 (__dest));

139  
	`__°≤˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

140 
	}
}

143 
__exã∫_Æways_ölöe
 *

144 
__NTH
 (
	$°rˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
))

146  
	`__buûtö___°rˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

147 
	}
}

150 
__exã∫_Æways_ölöe
 *

151 
__NTH
 (
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

152 
size_t
 
__Àn
))

154  
	`__buûtö___°∫ˇt_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

155 
	}
}

	@/usr/include/bits/sys_errlist.h

20 #i‚de‡
_STDIO_H


26 #ifde‡ 
__USE_BSD


27 
sys_√º
;

28 
__c⁄°
 *__c⁄° 
sys_îæi°
[];

30 #ifde‡ 
__USE_GNU


31 
_sys_√º
;

32 
__c⁄°
 *__c⁄° 
_sys_îæi°
[];

	@/usr/include/bits/syscall.h

3 #i‚de‡
_SYSCALL_H


7 
	~<bôs/w‹dsize.h
>

9 
	#SYS__sys˘l
 
__NR__sys˘l


	)

10 
	#SYS_ac˚ss
 
__NR_ac˚ss


	)

11 
	#SYS_ac˘
 
__NR_ac˘


	)

12 
	#SYS_add_key
 
__NR_add_key


	)

13 
	#SYS_adjtimex
 
__NR_adjtimex


	)

14 
	#SYS_afs_sysˇŒ
 
__NR_afs_sysˇŒ


	)

15 
	#SYS_Æ¨m
 
__NR_Æ¨m


	)

16 
	#SYS_brk
 
__NR_brk


	)

17 
	#SYS_ˇpgë
 
__NR_ˇpgë


	)

18 
	#SYS_ˇp£t
 
__NR_ˇp£t


	)

19 
	#SYS_chdú
 
__NR_chdú


	)

20 
	#SYS_chmod
 
__NR_chmod


	)

21 
	#SYS_chown
 
__NR_chown


	)

22 
	#SYS_chroŸ
 
__NR_chroŸ


	)

23 
	#SYS_˛ock_gëªs
 
__NR_˛ock_gëªs


	)

24 
	#SYS_˛ock_gëtime
 
__NR_˛ock_gëtime


	)

25 
	#SYS_˛ock_«no¶ìp
 
__NR_˛ock_«no¶ìp


	)

26 
	#SYS_˛ock_£âime
 
__NR_˛ock_£âime


	)

27 
	#SYS_˛⁄e
 
__NR_˛⁄e


	)

28 
	#SYS_˛o£
 
__NR_˛o£


	)

29 
	#SYS_¸ót
 
__NR_¸ót


	)

30 
	#SYS_¸óã_moduÀ
 
__NR_¸óã_moduÀ


	)

31 
	#SYS_dñëe_moduÀ
 
__NR_dñëe_moduÀ


	)

32 
	#SYS_dup
 
__NR_dup


	)

33 
	#SYS_dup2
 
__NR_dup2


	)

34 
	#SYS_dup3
 
__NR_dup3


	)

35 
	#SYS_ïﬁl_¸óã
 
__NR_ïﬁl_¸óã


	)

36 
	#SYS_ïﬁl_¸óã1
 
__NR_ïﬁl_¸óã1


	)

37 
	#SYS_ïﬁl_˘l
 
__NR_ïﬁl_˘l


	)

38 
	#SYS_ïﬁl_pwaô
 
__NR_ïﬁl_pwaô


	)

39 
	#SYS_ïﬁl_waô
 
__NR_ïﬁl_waô


	)

40 
	#SYS_evítfd
 
__NR_evítfd


	)

41 
	#SYS_evítfd2
 
__NR_evítfd2


	)

42 
	#SYS_execve
 
__NR_execve


	)

43 
	#SYS_exô
 
__NR_exô


	)

44 
	#SYS_exô_group
 
__NR_exô_group


	)

45 
	#SYS_Ác˚sßt
 
__NR_Ác˚sßt


	)

46 
	#SYS_Ádvi£64
 
__NR_Ádvi£64


	)

47 
	#SYS_ÁŒoˇã
 
__NR_ÁŒoˇã


	)

48 
	#SYS_fchdú
 
__NR_fchdú


	)

49 
	#SYS_fchmod
 
__NR_fchmod


	)

50 
	#SYS_fchmod©
 
__NR_fchmod©


	)

51 
	#SYS_fchown
 
__NR_fchown


	)

52 
	#SYS_fchow«t
 
__NR_fchow«t


	)

53 
	#SYS_f˙é
 
__NR_f˙é


	)

54 
	#SYS_fd©async
 
__NR_fd©async


	)

55 
	#SYS_fgëx©å
 
__NR_fgëx©å


	)

56 
	#SYS_Êi°x©å
 
__NR_Êi°x©å


	)

57 
	#SYS_Êock
 
__NR_Êock


	)

58 
	#SYS_f‹k
 
__NR_f‹k


	)

59 
	#SYS_‰emovex©å
 
__NR_‰emovex©å


	)

60 
	#SYS_f£tx©å
 
__NR_f£tx©å


	)

61 
	#SYS_f°©
 
__NR_f°©


	)

62 
	#SYS_f°©fs
 
__NR_f°©fs


	)

63 
	#SYS_fsync
 
__NR_fsync


	)

64 
	#SYS_·runˇã
 
__NR_·runˇã


	)

65 
	#SYS_fuãx
 
__NR_fuãx


	)

66 
	#SYS_futimeßt
 
__NR_futimeßt


	)

67 
	#SYS_gë_kî√l_syms
 
__NR_gë_kî√l_syms


	)

68 
	#SYS_gë_mempﬁicy
 
__NR_gë_mempﬁicy


	)

69 
	#SYS_gë_robu°_li°
 
__NR_gë_robu°_li°


	)

70 
	#SYS_gë_thªad_¨ó
 
__NR_gë_thªad_¨ó


	)

71 
	#SYS_gëcwd
 
__NR_gëcwd


	)

72 
	#SYS_gëdíts
 
__NR_gëdíts


	)

73 
	#SYS_gëdíts64
 
__NR_gëdíts64


	)

74 
	#SYS_gëegid
 
__NR_gëegid


	)

75 
	#SYS_gëeuid
 
__NR_gëeuid


	)

76 
	#SYS_gëgid
 
__NR_gëgid


	)

77 
	#SYS_gëgroups
 
__NR_gëgroups


	)

78 
	#SYS_gëôimî
 
__NR_gëôimî


	)

79 
	#SYS_gëpgid
 
__NR_gëpgid


	)

80 
	#SYS_gëpgΩ
 
__NR_gëpgΩ


	)

81 
	#SYS_gëpid
 
__NR_gëpid


	)

82 
	#SYS_gëpmsg
 
__NR_gëpmsg


	)

83 
	#SYS_gëµid
 
__NR_gëµid


	)

84 
	#SYS_gë¥i‹ôy
 
__NR_gë¥i‹ôy


	)

85 
	#SYS_gëªsgid
 
__NR_gëªsgid


	)

86 
	#SYS_gëªsuid
 
__NR_gëªsuid


	)

87 
	#SYS_gëæimô
 
__NR_gëæimô


	)

88 
	#SYS_gërußge
 
__NR_gërußge


	)

89 
	#SYS_gësid
 
__NR_gësid


	)

90 
	#SYS_gëtid
 
__NR_gëtid


	)

91 
	#SYS_gëtimeofday
 
__NR_gëtimeofday


	)

92 
	#SYS_gëuid
 
__NR_gëuid


	)

93 
	#SYS_gëx©å
 
__NR_gëx©å


	)

94 
	#SYS_öô_moduÀ
 
__NR_öô_moduÀ


	)

95 
	#SYS_öŸify_add_w©ch
 
__NR_öŸify_add_w©ch


	)

96 
	#SYS_öŸify_öô
 
__NR_öŸify_öô


	)

97 
	#SYS_öŸify_öô1
 
__NR_öŸify_öô1


	)

98 
	#SYS_öŸify_rm_w©ch
 
__NR_öŸify_rm_w©ch


	)

99 
	#SYS_io_ˇn˚l
 
__NR_io_ˇn˚l


	)

100 
	#SYS_io_de°roy
 
__NR_io_de°roy


	)

101 
	#SYS_io_gëevíts
 
__NR_io_gëevíts


	)

102 
	#SYS_io_£tup
 
__NR_io_£tup


	)

103 
	#SYS_io_submô
 
__NR_io_submô


	)

104 
	#SYS_io˘l
 
__NR_io˘l


	)

105 
	#SYS_i›îm
 
__NR_i›îm


	)

106 
	#SYS_i›l
 
__NR_i›l


	)

107 
	#SYS_i›rio_gë
 
__NR_i›rio_gë


	)

108 
	#SYS_i›rio_£t
 
__NR_i›rio_£t


	)

109 
	#SYS_kexec_lﬂd
 
__NR_kexec_lﬂd


	)

110 
	#SYS_key˘l
 
__NR_key˘l


	)

111 
	#SYS_kûl
 
__NR_kûl


	)

112 
	#SYS_lchown
 
__NR_lchown


	)

113 
	#SYS_lgëx©å
 
__NR_lgëx©å


	)

114 
	#SYS_lök
 
__NR_lök


	)

115 
	#SYS_lök©
 
__NR_lök©


	)

116 
	#SYS_li°x©å
 
__NR_li°x©å


	)

117 
	#SYS_Œi°x©å
 
__NR_Œi°x©å


	)

118 
	#SYS_lookup_dcookõ
 
__NR_lookup_dcookõ


	)

119 
	#SYS_Ãemovex©å
 
__NR_Ãemovex©å


	)

120 
	#SYS_l£ek
 
__NR_l£ek


	)

121 
	#SYS_l£tx©å
 
__NR_l£tx©å


	)

122 
	#SYS_l°©
 
__NR_l°©


	)

123 
	#SYS_madvi£
 
__NR_madvi£


	)

124 
	#SYS_mböd
 
__NR_mböd


	)

125 
	#SYS_migøã_∑ges
 
__NR_migøã_∑ges


	)

126 
	#SYS_möc‹e
 
__NR_möc‹e


	)

127 
	#SYS_mkdú
 
__NR_mkdú


	)

128 
	#SYS_mkdú©
 
__NR_mkdú©


	)

129 
	#SYS_mknod
 
__NR_mknod


	)

130 
	#SYS_mknod©
 
__NR_mknod©


	)

131 
	#SYS_mlock
 
__NR_mlock


	)

132 
	#SYS_mlockÆl
 
__NR_mlockÆl


	)

133 
	#SYS_mm≠
 
__NR_mm≠


	)

134 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

135 
	#SYS_mou¡
 
__NR_mou¡


	)

136 
	#SYS_move_∑ges
 
__NR_move_∑ges


	)

137 
	#SYS_m¥Ÿe˘
 
__NR_m¥Ÿe˘


	)

138 
	#SYS_mq_gë£èâr
 
__NR_mq_gë£èâr


	)

139 
	#SYS_mq_nŸify
 
__NR_mq_nŸify


	)

140 
	#SYS_mq_›í
 
__NR_mq_›í


	)

141 
	#SYS_mq_timedª˚ive
 
__NR_mq_timedª˚ive


	)

142 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

143 
	#SYS_mq_u∆ök
 
__NR_mq_u∆ök


	)

144 
	#SYS_mªm≠
 
__NR_mªm≠


	)

145 
	#SYS_msync
 
__NR_msync


	)

146 
	#SYS_mu∆ock
 
__NR_mu∆ock


	)

147 
	#SYS_mu∆ockÆl
 
__NR_mu∆ockÆl


	)

148 
	#SYS_munm≠
 
__NR_munm≠


	)

149 
	#SYS_«no¶ìp
 
__NR_«no¶ìp


	)

150 
	#SYS_nfs£rv˘l
 
__NR_nfs£rv˘l


	)

151 
	#SYS_›í
 
__NR_›í


	)

152 
	#SYS_›í©
 
__NR_›í©


	)

153 
	#SYS_∑u£
 
__NR_∑u£


	)

154 
	#SYS_≥rf_evít_›í
 
__NR_≥rf_evít_›í


	)

155 
	#SYS_≥rs⁄Æôy
 
__NR_≥rs⁄Æôy


	)

156 
	#SYS_pùe
 
__NR_pùe


	)

157 
	#SYS_pùe2
 
__NR_pùe2


	)

158 
	#SYS_pivŸ_roŸ
 
__NR_pivŸ_roŸ


	)

159 
	#SYS_pﬁl
 
__NR_pﬁl


	)

160 
	#SYS_µﬁl
 
__NR_µﬁl


	)

161 
	#SYS_¥˘l
 
__NR_¥˘l


	)

162 
	#SYS_¥ód64
 
__NR_¥ód64


	)

163 
	#SYS_¥ódv
 
__NR_¥ódv


	)

164 
	#SYS_p£À˘6
 
__NR_p£À˘6


	)

165 
	#SYS_±ø˚
 
__NR_±ø˚


	)

166 
	#SYS_puçmsg
 
__NR_puçmsg


	)

167 
	#SYS_pwrôe64
 
__NR_pwrôe64


	)

168 
	#SYS_pwrôev
 
__NR_pwrôev


	)

169 
	#SYS_quîy_moduÀ
 
__NR_quîy_moduÀ


	)

170 
	#SYS_quŸa˘l
 
__NR_quŸa˘l


	)

171 
	#SYS_ªad
 
__NR_ªad


	)

172 
	#SYS_ªadahód
 
__NR_ªadahód


	)

173 
	#SYS_ªadlök
 
__NR_ªadlök


	)

174 
	#SYS_ªadlök©
 
__NR_ªadlök©


	)

175 
	#SYS_ªadv
 
__NR_ªadv


	)

176 
	#SYS_ªboŸ
 
__NR_ªboŸ


	)

177 
	#SYS_ªm≠_fûe_∑ges
 
__NR_ªm≠_fûe_∑ges


	)

178 
	#SYS_ªmovex©å
 
__NR_ªmovex©å


	)

179 
	#SYS_ª«me
 
__NR_ª«me


	)

180 
	#SYS_ª«mót
 
__NR_ª«mót


	)

181 
	#SYS_ªque°_key
 
__NR_ªque°_key


	)

182 
	#SYS_ª°¨t_sysˇŒ
 
__NR_ª°¨t_sysˇŒ


	)

183 
	#SYS_rmdú
 
__NR_rmdú


	)

184 
	#SYS_π_siga˘i⁄
 
__NR_π_siga˘i⁄


	)

185 
	#SYS_π_sig≥ndög
 
__NR_π_sig≥ndög


	)

186 
	#SYS_π_sig¥ocmask
 
__NR_π_sig¥ocmask


	)

187 
	#SYS_π_sigqueueöfo
 
__NR_π_sigqueueöfo


	)

188 
	#SYS_π_sigªtu∫
 
__NR_π_sigªtu∫


	)

189 
	#SYS_π_sigsu•íd
 
__NR_π_sigsu•íd


	)

190 
	#SYS_π_sigtimedwaô
 
__NR_π_sigtimedwaô


	)

191 
	#SYS_π_tgsigqueueöfo
 
__NR_π_tgsigqueueöfo


	)

192 
	#SYS_sched_gë_¥i‹ôy_max
 
__NR_sched_gë_¥i‹ôy_max


	)

193 
	#SYS_sched_gë_¥i‹ôy_mö
 
__NR_sched_gë_¥i‹ôy_mö


	)

194 
	#SYS_sched_gëafföôy
 
__NR_sched_gëafföôy


	)

195 
	#SYS_sched_gë∑øm
 
__NR_sched_gë∑øm


	)

196 
	#SYS_sched_gëscheduÀr
 
__NR_sched_gëscheduÀr


	)

197 
	#SYS_sched_º_gë_öãrvÆ
 
__NR_sched_º_gë_öãrvÆ


	)

198 
	#SYS_sched_£èfföôy
 
__NR_sched_£èfföôy


	)

199 
	#SYS_sched_£ç¨am
 
__NR_sched_£ç¨am


	)

200 
	#SYS_sched_£tscheduÀr
 
__NR_sched_£tscheduÀr


	)

201 
	#SYS_sched_yõld
 
__NR_sched_yõld


	)

202 
	#SYS_£À˘
 
__NR_£À˘


	)

203 
	#SYS_£ndfûe
 
__NR_£ndfûe


	)

204 
	#SYS_£t_mempﬁicy
 
__NR_£t_mempﬁicy


	)

205 
	#SYS_£t_robu°_li°
 
__NR_£t_robu°_li°


	)

206 
	#SYS_£t_thªad_¨ó
 
__NR_£t_thªad_¨ó


	)

207 
	#SYS_£t_tid_addªss
 
__NR_£t_tid_addªss


	)

208 
	#SYS_£tdomaö«me
 
__NR_£tdomaö«me


	)

209 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

210 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

211 
	#SYS_£tgid
 
__NR_£tgid


	)

212 
	#SYS_£tgroups
 
__NR_£tgroups


	)

213 
	#SYS_£tho°«me
 
__NR_£tho°«me


	)

214 
	#SYS_£tôimî
 
__NR_£tôimî


	)

215 
	#SYS_£çgid
 
__NR_£çgid


	)

216 
	#SYS_£çri‹ôy
 
__NR_£çri‹ôy


	)

217 
	#SYS_£åegid
 
__NR_£åegid


	)

218 
	#SYS_£åesgid
 
__NR_£åesgid


	)

219 
	#SYS_£åesuid
 
__NR_£åesuid


	)

220 
	#SYS_£åeuid
 
__NR_£åeuid


	)

221 
	#SYS_£ålimô
 
__NR_£ålimô


	)

222 
	#SYS_£tsid
 
__NR_£tsid


	)

223 
	#SYS_£âimeofday
 
__NR_£âimeofday


	)

224 
	#SYS_£tuid
 
__NR_£tuid


	)

225 
	#SYS_£tx©å
 
__NR_£tx©å


	)

226 
	#SYS_sigÆt°ack
 
__NR_sigÆt°ack


	)

227 
	#SYS_sig«lfd
 
__NR_sig«lfd


	)

228 
	#SYS_sig«lfd4
 
__NR_sig«lfd4


	)

229 
	#SYS_•li˚
 
__NR_•li˚


	)

230 
	#SYS_°©
 
__NR_°©


	)

231 
	#SYS_°©fs
 
__NR_°©fs


	)

232 
	#SYS_sw≠off
 
__NR_sw≠off


	)

233 
	#SYS_sw≠⁄
 
__NR_sw≠⁄


	)

234 
	#SYS_symlök
 
__NR_symlök


	)

235 
	#SYS_symlök©
 
__NR_symlök©


	)

236 
	#SYS_sync
 
__NR_sync


	)

237 
	#SYS_sync_fûe_ønge
 
__NR_sync_fûe_ønge


	)

238 
	#SYS_sysfs
 
__NR_sysfs


	)

239 
	#SYS_sysöfo
 
__NR_sysöfo


	)

240 
	#SYS_sy¶og
 
__NR_sy¶og


	)

241 
	#SYS_ãe
 
__NR_ãe


	)

242 
	#SYS_tgkûl
 
__NR_tgkûl


	)

243 
	#SYS_time
 
__NR_time


	)

244 
	#SYS_timî_¸óã
 
__NR_timî_¸óã


	)

245 
	#SYS_timî_dñëe
 
__NR_timî_dñëe


	)

246 
	#SYS_timî_gëovîrun
 
__NR_timî_gëovîrun


	)

247 
	#SYS_timî_gëtime
 
__NR_timî_gëtime


	)

248 
	#SYS_timî_£âime
 
__NR_timî_£âime


	)

249 
	#SYS_timîfd_¸óã
 
__NR_timîfd_¸óã


	)

250 
	#SYS_timîfd_gëtime
 
__NR_timîfd_gëtime


	)

251 
	#SYS_timîfd_£âime
 
__NR_timîfd_£âime


	)

252 
	#SYS_times
 
__NR_times


	)

253 
	#SYS_tkûl
 
__NR_tkûl


	)

254 
	#SYS_åunˇã
 
__NR_åunˇã


	)

255 
	#SYS_umask
 
__NR_umask


	)

256 
	#SYS_umou¡2
 
__NR_umou¡2


	)

257 
	#SYS_u«me
 
__NR_u«me


	)

258 
	#SYS_u∆ök
 
__NR_u∆ök


	)

259 
	#SYS_u∆ök©
 
__NR_u∆ök©


	)

260 
	#SYS_unsh¨e
 
__NR_unsh¨e


	)

261 
	#SYS_u£lib
 
__NR_u£lib


	)

262 
	#SYS_u°©
 
__NR_u°©


	)

263 
	#SYS_utime
 
__NR_utime


	)

264 
	#SYS_utimíßt
 
__NR_utimíßt


	)

265 
	#SYS_utimes
 
__NR_utimes


	)

266 
	#SYS_vf‹k
 
__NR_vf‹k


	)

267 
	#SYS_vh™gup
 
__NR_vh™gup


	)

268 
	#SYS_vm•li˚
 
__NR_vm•li˚


	)

269 
	#SYS_v£rvî
 
__NR_v£rvî


	)

270 
	#SYS_waô4
 
__NR_waô4


	)

271 
	#SYS_waôid
 
__NR_waôid


	)

272 
	#SYS_wrôe
 
__NR_wrôe


	)

273 
	#SYS_wrôev
 
__NR_wrôev


	)

274 #i‡
__WORDSIZE
 == 64

275 
	#SYS_ac˚±
 
__NR_ac˚±


	)

276 
	#SYS_ac˚±4
 
__NR_ac˚±4


	)

277 
	#SYS_¨ch_¥˘l
 
__NR_¨ch_¥˘l


	)

278 
	#SYS_böd
 
__NR_böd


	)

279 
	#SYS_c⁄√˘
 
__NR_c⁄√˘


	)

280 
	#SYS_ïﬁl_˘l_ﬁd
 
__NR_ïﬁl_˘l_ﬁd


	)

281 
	#SYS_ïﬁl_waô_ﬁd
 
__NR_ïﬁl_waô_ﬁd


	)

282 
	#SYS_gë≥î«me
 
__NR_gë≥î«me


	)

283 
	#SYS_gësock«me
 
__NR_gësock«me


	)

284 
	#SYS_gësock›t
 
__NR_gësock›t


	)

285 
	#SYS_li°í
 
__NR_li°í


	)

286 
	#SYS_msg˘l
 
__NR_msg˘l


	)

287 
	#SYS_msggë
 
__NR_msggë


	)

288 
	#SYS_msgrcv
 
__NR_msgrcv


	)

289 
	#SYS_msg¢d
 
__NR_msg¢d


	)

290 
	#SYS_√wf°©©
 
__NR_√wf°©©


	)

291 
	#SYS_ªcv‰om
 
__NR_ªcv‰om


	)

292 
	#SYS_ªcvmsg
 
__NR_ªcvmsg


	)

293 
	#SYS_£curôy
 
__NR_£curôy


	)

294 
	#SYS_£m˘l
 
__NR_£m˘l


	)

295 
	#SYS_£mgë
 
__NR_£mgë


	)

296 
	#SYS_£m›
 
__NR_£m›


	)

297 
	#SYS_£mtimed›
 
__NR_£mtimed›


	)

298 
	#SYS_£ndmsg
 
__NR_£ndmsg


	)

299 
	#SYS_£ndto
 
__NR_£ndto


	)

300 
	#SYS_£tsock›t
 
__NR_£tsock›t


	)

301 
	#SYS_shm©
 
__NR_shm©


	)

302 
	#SYS_shm˘l
 
__NR_shm˘l


	)

303 
	#SYS_shmdt
 
__NR_shmdt


	)

304 
	#SYS_shmgë
 
__NR_shmgë


	)

305 
	#SYS_shutdown
 
__NR_shutdown


	)

306 
	#SYS_sockë
 
__NR_sockë


	)

307 
	#SYS_sockë∑ú
 
__NR_sockë∑ú


	)

308 
	#SYS_tuxˇŒ
 
__NR_tuxˇŒ


	)

310 
	#SYS__Œ£ek
 
__NR__Œ£ek


	)

311 
	#SYS__√w£À˘
 
__NR__√w£À˘


	)

312 
	#SYS_bdÊush
 
__NR_bdÊush


	)

313 
	#SYS_bªak
 
__NR_bªak


	)

314 
	#SYS_chown32
 
__NR_chown32


	)

315 
	#SYS_Ádvi£64_64
 
__NR_Ádvi£64_64


	)

316 
	#SYS_fchown32
 
__NR_fchown32


	)

317 
	#SYS_f˙é64
 
__NR_f˙é64


	)

318 
	#SYS_f°©64
 
__NR_f°©64


	)

319 
	#SYS_f°©©64
 
__NR_f°©©64


	)

320 
	#SYS_f°©fs64
 
__NR_f°©fs64


	)

321 
	#SYS_·ime
 
__NR_·ime


	)

322 
	#SYS_·runˇã64
 
__NR_·runˇã64


	)

323 
	#SYS_gë˝u
 
__NR_gë˝u


	)

324 
	#SYS_gëegid32
 
__NR_gëegid32


	)

325 
	#SYS_gëeuid32
 
__NR_gëeuid32


	)

326 
	#SYS_gëgid32
 
__NR_gëgid32


	)

327 
	#SYS_gëgroups32
 
__NR_gëgroups32


	)

328 
	#SYS_gëªsgid32
 
__NR_gëªsgid32


	)

329 
	#SYS_gëªsuid32
 
__NR_gëªsuid32


	)

330 
	#SYS_gëuid32
 
__NR_gëuid32


	)

331 
	#SYS_gây
 
__NR_gây


	)

332 
	#SYS_idÀ
 
__NR_idÀ


	)

333 
	#SYS_ùc
 
__NR_ùc


	)

334 
	#SYS_lchown32
 
__NR_lchown32


	)

335 
	#SYS_lock
 
__NR_lock


	)

336 
	#SYS_l°©64
 
__NR_l°©64


	)

337 
	#SYS_madvi£1
 
__NR_madvi£1


	)

338 
	#SYS_mm≠2
 
__NR_mm≠2


	)

339 
	#SYS_mpx
 
__NR_mpx


	)

340 
	#SYS_ni˚
 
__NR_ni˚


	)

341 
	#SYS_ﬁdf°©
 
__NR_ﬁdf°©


	)

342 
	#SYS_ﬁdl°©
 
__NR_ﬁdl°©


	)

343 
	#SYS_ﬁdﬁdu«me
 
__NR_ﬁdﬁdu«me


	)

344 
	#SYS_ﬁd°©
 
__NR_ﬁd°©


	)

345 
	#SYS_ﬁdu«me
 
__NR_ﬁdu«me


	)

346 
	#SYS_¥of
 
__NR_¥of


	)

347 
	#SYS_¥ofû
 
__NR_¥ofû


	)

348 
	#SYS_ªaddú
 
__NR_ªaddú


	)

349 
	#SYS_£ndfûe64
 
__NR_£ndfûe64


	)

350 
	#SYS_£tfsgid32
 
__NR_£tfsgid32


	)

351 
	#SYS_£tfsuid32
 
__NR_£tfsuid32


	)

352 
	#SYS_£tgid32
 
__NR_£tgid32


	)

353 
	#SYS_£tgroups32
 
__NR_£tgroups32


	)

354 
	#SYS_£åegid32
 
__NR_£åegid32


	)

355 
	#SYS_£åesgid32
 
__NR_£åesgid32


	)

356 
	#SYS_£åesuid32
 
__NR_£åesuid32


	)

357 
	#SYS_£åeuid32
 
__NR_£åeuid32


	)

358 
	#SYS_£tuid32
 
__NR_£tuid32


	)

359 
	#SYS_sgëmask
 
__NR_sgëmask


	)

360 
	#SYS_siga˘i⁄
 
__NR_siga˘i⁄


	)

361 
	#SYS_sig«l
 
__NR_sig«l


	)

362 
	#SYS_sig≥ndög
 
__NR_sig≥ndög


	)

363 
	#SYS_sig¥ocmask
 
__NR_sig¥ocmask


	)

364 
	#SYS_sigªtu∫
 
__NR_sigªtu∫


	)

365 
	#SYS_sigsu•íd
 
__NR_sigsu•íd


	)

366 
	#SYS_sockëˇŒ
 
__NR_sockëˇŒ


	)

367 
	#SYS_s£tmask
 
__NR_s£tmask


	)

368 
	#SYS_°©64
 
__NR_°©64


	)

369 
	#SYS_°©fs64
 
__NR_°©fs64


	)

370 
	#SYS_°ime
 
__NR_°ime


	)

371 
	#SYS_°ty
 
__NR_°ty


	)

372 
	#SYS_åunˇã64
 
__NR_åunˇã64


	)

373 
	#SYS_ugëæimô
 
__NR_ugëæimô


	)

374 
	#SYS_ulimô
 
__NR_ulimô


	)

375 
	#SYS_umou¡
 
__NR_umou¡


	)

376 
	#SYS_vm86
 
__NR_vm86


	)

377 
	#SYS_vm86ﬁd
 
__NR_vm86ﬁd


	)

378 
	#SYS_waôpid
 
__NR_waôpid


	)

	@/usr/include/bits/time.h

24 #i‚de‡
__√ed_timevÆ


25 #i‚de‡
_BITS_TIME_H


26 
	#_BITS_TIME_H
 1

	)

34 
	#CLOCKS_PER_SEC
 1000000l

	)

36 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


39 
	~<bôs/ty≥s.h
>

40 
__sysc⁄f
 ();

41 
	#CLK_TCK
 ((
__˛ock_t
Ë
	`__sysc⁄f
 (2)Ë

	)

44 #ifde‡
__USE_POSIX199309


46 
	#CLOCK_REALTIME
 0

	)

48 
	#CLOCK_MONOTONIC
 1

	)

50 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

52 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

55 
	#TIMER_ABSTIME
 1

	)

61 #ifde‡
__√ed_timevÆ


62 #unde‡
__√ed_timevÆ


63 #i‚de‡
_STRUCT_TIMEVAL


64 
	#_STRUCT_TIMEVAL
 1

	)

65 
	~<bôs/ty≥s.h
>

69 
	stimevÆ


71 
__time_t
 
	mtv_£c
;

72 
__su£c⁄ds_t
 
	mtv_u£c
;

	@/usr/include/bits/types.h

24 #i‚def 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<„©uªs.h
>

28 
	~<bôs/w‹dsize.h
>

31 
	t__u_ch¨
;

32 
	t__u_sh‹t
;

33 
	t__u_öt
;

34 
	t__u_l⁄g
;

37 sig√d 
	t__öt8_t
;

38 
	t__uöt8_t
;

39 sig√d 
	t__öt16_t
;

40 
	t__uöt16_t
;

41 sig√d 
	t__öt32_t
;

42 
	t__uöt32_t
;

43 #i‡
__WORDSIZE
 == 64

44 sig√d 
	t__öt64_t
;

45 
	t__uöt64_t
;

46 #ñi‡
deföed
 
__GLIBC_HAVE_LONG_LONG


47 
__exãnsi⁄__
 sig√d 
	t__öt64_t
;

48 
__exãnsi⁄__
 
	t__uöt64_t
;

52 #i‡
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #ñi‡
deföed
 
__GLIBC_HAVE_LONG_LONG


56 
__exãnsi⁄__
 
	t__quad_t
;

57 
__exãnsi⁄__
 
	t__u_quad_t
;

61 
	m__vÆ
[2];

62 } 
	t__quad_t
;

65 
__u_l⁄g
 
	m__vÆ
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #i‡
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__exãnsi⁄__
 

	)

117 #ñi‡
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<bôs/ty≥sizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__öo_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__öo64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__∆ök_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__˛ock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__æim_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__æim64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£c⁄ds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£c⁄ds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__˛ockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__timî_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blk˙t_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blk˙t64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblk˙t_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblk˙t64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfû˙t_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfû˙t64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ˇddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g__öçå_t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockÀn_t
;

195 #unde‡
__STD_TYPE


	@/usr/include/bits/unistd.h

20 #i‚de‡
_UNISTD_H


24 
ssize_t
 
	$__ªad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

25 
size_t
 
__buÊí
Ë
__wur
;

26 
ssize_t
 
	`__REDIRECT
 (
__ªad_Æüs
, (
__fd
, *
__buf
,

27 
size_t
 
__nbyãs
), 
ªad
Ë
__wur
;

28 
ssize_t
 
	`__REDIRECT
 (
__ªad_chk_w¨n
,

29 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

30 
size_t
 
__buÊí
), 
__ªad_chk
)

31 
__wur
 
	`__w¨«âr
 ("read called with biggerÜengthÅhan size of "

34 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


35 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
)

37 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

39 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

40  
	`__ªad_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
	`__bos0
 (__buf));

42 i‡(
__nbyãs
 > 
	`__bos0
 (
__buf
))

43  
	`__ªad_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
	`__bos0
 (__buf));

45  
	`__ªad_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
);

46 
	}
}

48 #ifde‡
__USE_UNIX98


49 
ssize_t
 
	$__¥ód_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

50 
__off_t
 
__off£t
, 
size_t
 
__bufsize
Ë
__wur
;

51 
ssize_t
 
	$__¥ód64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

52 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
Ë
__wur
;

53 
ssize_t
 
	`__REDIRECT
 (
__¥ód_Æüs
,

54 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

55 
__off_t
 
__off£t
), 
¥ód
Ë
__wur
;

56 
ssize_t
 
	`__REDIRECT
 (
__¥ód64_Æüs
,

57 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

58 
__off64_t
 
__off£t
), 
¥ód64
Ë
__wur
;

59 
ssize_t
 
	`__REDIRECT
 (
__¥ód_chk_w¨n
,

60 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

61 
__off_t
 
__off£t
, 
size_t
 
__bufsize
), 
__¥ód_chk
)

62 
__wur
 
	`__w¨«âr
 ("pread called with biggerÜengthÅhan size of "

64 
ssize_t
 
	`__REDIRECT
 (
__¥ód64_chk_w¨n
,

65 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

66 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
),

67 
__¥ód64_chk
)

68 
__wur
 
	`__w¨«âr
 ("pread64 called with biggerÜengthÅhan size of "

71 #i‚de‡
__USE_FILE_OFFSET64


72 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


73 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off_t
 
__off£t
)

75 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

77 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

78  
	`__¥ód_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

80 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

81  
	`__¥ód_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

82 
	`__bos0
 (
__buf
));

84  
	`__¥ód_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

85 
	}
}

87 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


88 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
)

90 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

92 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

93  
	`__¥ód64_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

95 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

96  
	`__¥ód64_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

97 
	`__bos0
 (
__buf
));

100  
	`__¥ód64_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

101 
	}
}

104 #ifde‡
__USE_LARGEFILE64


105 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


106 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
)

108 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

110 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

111  
	`__¥ód64_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

113 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

114  
	`__¥ód64_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

115 
	`__bos0
 (
__buf
));

118  
	`__¥ód64_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

119 
	}
}

123 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


124 
ssize_t
 
	$__ªadlök_chk
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

125 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

126 
size_t
 
__buÊí
)

127 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

128 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök_Æüs
,

129 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

130 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
), 
ªadlök
)

131 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

132 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök_chk_w¨n
,

133 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

134 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

135 
size_t
 
__buÊí
), 
__ªadlök_chk
)

136 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
 
	`__w¨«âr
 ("readlink called with biggerÜength "

139 
__exã∫_Æways_ölöe
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
 
ssize_t


140 
	`__NTH
 (
	$ªadlök
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
, *__ª°ri˘ 
__buf
,

141 
size_t
 
__Àn
))

143 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

145 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

146  
	`__ªadlök_chk
 (
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

148 i‡–
__Àn
 > 
	`__bos
 (
__buf
))

149  
	`__ªadlök_chk_w¨n
 (
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

151  
	`__ªadlök_Æüs
 (
__∑th
, 
__buf
, 
__Àn
);

152 
	}
}

155 #ifde‡
__USE_ATFILE


156 
ssize_t
 
	$__ªadlök©_chk
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

157 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

158 
size_t
 
__buÊí
)

159 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

160 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök©_Æüs
,

161 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

162 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
),

163 
ªadlök©
)

164 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

165 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök©_chk_w¨n
,

166 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

167 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

168 
size_t
 
__buÊí
), 
__ªadlök©_chk
)

169 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
 
	`__w¨«âr
 ("readlinkat called with bigger "

173 
__exã∫_Æways_ölöe
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
 
ssize_t


174 
	`__NTH
 (
	$ªadlök©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

175 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
))

177 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

179 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

180  
	`__ªadlök©_chk
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

182 i‡(
__Àn
 > 
	`__bos
 (
__buf
))

183  
	`__ªadlök©_chk_w¨n
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
,

184 
	`__bos
 (
__buf
));

186  
	`__ªadlök©_Æüs
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
);

187 
	}
}

190 *
	$__gëcwd_chk
 (*
__buf
, 
size_t
 
__size
, size_à
__buÊí
)

191 
__THROW
 
__wur
;

192 *
	`__REDIRECT_NTH
 (
__gëcwd_Æüs
,

193 (*
__buf
, 
size_t
 
__size
), 
gëcwd
Ë
__wur
;

194 *
	`__REDIRECT_NTH
 (
__gëcwd_chk_w¨n
,

195 (*
__buf
, 
size_t
 
__size
, size_à
__buÊí
),

196 
__gëcwd_chk
)

197 
__wur
 
	`__w¨«âr
 ("getcwd caller with biggerÜengthÅhan size of "

200 
__exã∫_Æways_ölöe
 
__wur
 *

201 
	`__NTH
 (
	$gëcwd
 (*
__buf
, 
size_t
 
__size
))

203 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

205 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
))

206  
	`__gëcwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

208 i‡(
__size
 > 
	`__bos
 (
__buf
))

209  
	`__gëcwd_chk_w¨n
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

211  
	`__gëcwd_Æüs
 (
__buf
, 
__size
);

212 
	}
}

214 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


215 *
	$__gëwd_chk
 (*
__buf
, 
size_t
 
buÊí
)

216 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

217 *
	`__REDIRECT_NTH
 (
__gëwd_w¨n
, (*
__buf
), 
gëwd
)

218 
	`__n⁄nuŒ
 ((1)Ë
__wur
 
	`__w¨«âr
 ("please use getcwd instead,ás getwd "

221 
__exã∫_Æways_ölöe
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
 *

222 
	`__NTH
 (
	$gëwd
 (*
__buf
))

224 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

225  
	`__gëwd_chk
 (
__buf
, 
	`__bos
 (__buf));

226  
	`__gëwd_w¨n
 (
__buf
);

227 
	}
}

230 
size_t
 
	$__c⁄f°r_chk
 (
__«me
, *
__buf
, 
size_t
 
__Àn
,

231 
size_t
 
__buÊí
Ë
__THROW
;

232 
size_t
 
	`__REDIRECT_NTH
 (
__c⁄f°r_Æüs
, (
__«me
, *
__buf
,

233 
size_t
 
__Àn
), 
c⁄f°r
);

234 
size_t
 
	`__REDIRECT_NTH
 (
__c⁄f°r_chk_w¨n
,

235 (
__«me
, *
__buf
, 
size_t
 
__Àn
,

236 
size_t
 
__buÊí
), 
__c⁄f°r_chk
)

237 
	`__w¨«âr
 ("confstr called with biggerÜengthÅhan size of destination "

240 
__exã∫_Æways_ölöe
 
size_t


241 
	`__NTH
 (
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
))

243 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

245 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

246  
	`__c⁄f°r_chk
 (
__«me
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

248 i‡(
	`__bos
 (
__buf
Ë< 
__Àn
)

249  
	`__c⁄f°r_chk_w¨n
 (
__«me
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

251  
	`__c⁄f°r_Æüs
 (
__«me
, 
__buf
, 
__Àn
);

252 
	}
}

255 
	$__gëgroups_chk
 (
__size
, 
__gid_t
 
__li°
[], 
size_t
 
__li°Àn
)

256 
__THROW
 
__wur
;

257 
	`__REDIRECT_NTH
 (
__gëgroups_Æüs
, (
__size
, 
__gid_t
 
__li°
[]),

258 
gëgroups
Ë
__wur
;

259 
	`__REDIRECT_NTH
 (
__gëgroups_chk_w¨n
,

260 (
__size
, 
__gid_t
 
__li°
[], 
size_t
 
__li°Àn
),

261 
__gëgroups_chk
)

262 
__wur
 
	`__w¨«âr
 ("getgroups called with bigger group countÅhan what "

265 
__exã∫_Æways_ölöe
 

266 
	`__NTH
 (
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]))

268 i‡(
	`__bos
 (
__li°
Ë!(
size_t
) -1)

270 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
) || __size < 0)

271  
	`__gëgroups_chk
 (
__size
, 
__li°
, 
	`__bos
 (__list));

273 i‡(
__size
 *  (
__gid_t
Ë> 
	`__bos
 (
__li°
))

274  
	`__gëgroups_chk_w¨n
 (
__size
, 
__li°
, 
	`__bos
 (__list));

276  
	`__gëgroups_Æüs
 (
__size
, 
__li°
);

277 
	}
}

280 
	$__ây«me_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

281 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

282 
	`__REDIRECT_NTH
 (
__ây«me_r_Æüs
, (
__fd
, *
__buf
,

283 
size_t
 
__buÊí
), 
ây«me_r
)

284 
	`__n⁄nuŒ
 ((2));

285 
	`__REDIRECT_NTH
 (
__ây«me_r_chk_w¨n
,

286 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

287 
size_t
 
__ƒól
), 
__ây«me_r_chk
)

288 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ttyname_r called with bigger buflenÅhan "

291 
__exã∫_Æways_ölöe
 

292 
	`__NTH
 (
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

294 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

296 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

297  
	`__ây«me_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

299 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

300  
	`__ây«me_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

302  
	`__ây«me_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

303 
	}
}

306 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


307 
	$__gëlogö_r_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

308 
	`__n⁄nuŒ
 ((1));

309 
	`__REDIRECT
 (
__gëlogö_r_Æüs
, (*
__buf
, 
size_t
 
__buÊí
),

310 
gëlogö_r
Ë
	`__n⁄nuŒ
 ((1));

311 
	`__REDIRECT
 (
__gëlogö_r_chk_w¨n
,

312 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

313 
__gëlogö_r_chk
)

314 
	`__n⁄nuŒ
 ((1)Ë
	`__w¨«âr
 ("getlogin_r called with bigger buflenÅhan "

317 
__exã∫_Æways_ölöe
 

318 
	$gëlogö_r
 (*
__buf
, 
size_t
 
__buÊí
)

320 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

322 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

323  
	`__gëlogö_r_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

325 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

326  
	`__gëlogö_r_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

328  
	`__gëlogö_r_Æüs
 (
__buf
, 
__buÊí
);

329 
	}
}

333 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98


334 
	$__gëho°«me_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

335 
__THROW
 
	`__n⁄nuŒ
 ((1));

336 
	`__REDIRECT_NTH
 (
__gëho°«me_Æüs
, (*
__buf
, 
size_t
 
__buÊí
),

337 
gëho°«me
Ë
	`__n⁄nuŒ
 ((1));

338 
	`__REDIRECT_NTH
 (
__gëho°«me_chk_w¨n
,

339 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

340 
__gëho°«me_chk
)

341 
	`__n⁄nuŒ
 ((1)Ë
	`__w¨«âr
 ("gethostname called with bigger buflenÅhan "

344 
__exã∫_Æways_ölöe
 

345 
	`__NTH
 (
	$gëho°«me
 (*
__buf
, 
size_t
 
__buÊí
))

347 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

349 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

350  
	`__gëho°«me_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

352 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

353  
	`__gëho°«me_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

355  
	`__gëho°«me_Æüs
 (
__buf
, 
__buÊí
);

356 
	}
}

360 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

361 
	$__gëdomaö«me_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

362 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

363 
	`__REDIRECT_NTH
 (
__gëdomaö«me_Æüs
, (*
__buf
,

364 
size_t
 
__buÊí
),

365 
gëdomaö«me
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

366 
	`__REDIRECT_NTH
 (
__gëdomaö«me_chk_w¨n
,

367 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

368 
__gëdomaö«me_chk
)

369 
	`__n⁄nuŒ
 ((1)Ë
__wur
 
	`__w¨«âr
 ("getdomainname called with bigger "

373 
__exã∫_Æways_ölöe
 

374 
	`__NTH
 (
	$gëdomaö«me
 (*
__buf
, 
size_t
 
__buÊí
))

376 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

378 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

379  
	`__gëdomaö«me_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

381 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

382  
	`__gëdomaö«me_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

384  
	`__gëdomaö«me_Æüs
 (
__buf
, 
__buÊí
);

385 
	}
}

	@/usr/include/bits/utsname.h

19 #i‚de‡
_SYS_UTSNAME_H


24 
	#_UTSNAME_LENGTH
 65

	)

29 
	#_UTSNAME_DOMAIN_LENGTH
 
_UTSNAME_LENGTH


	)

	@/usr/include/bits/waitflags.h

20 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


26 
	#WNOHANG
 1

	)

27 
	#WUNTRACED
 2

	)

30 
	#WSTOPPED
 2

	)

31 
	#WEXITED
 4

	)

32 
	#WCONTINUED
 8

	)

33 
	#WNOWAIT
 0x01000000

	)

35 
	#__WNOTHREAD
 0x20000000

	)

37 
	#__WALL
 0x40000000

	)

38 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

20 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


29 
	#__WEXITSTATUS
(
°©us
Ë(((°©usË& 0xff00Ë>> 8)

	)

32 
	#__WTERMSIG
(
°©us
Ë((°©usË& 0x7f)

	)

35 
	#__WSTOPSIG
(
°©us
Ë
	`__WEXITSTATUS
(°©us)

	)

38 
	#__WIFEXITED
(
°©us
Ë(
	`__WTERMSIG
(°©usË=0)

	)

41 
	#__WIFSIGNALED
(
°©us
) \

42 (((sig√d Ë(((
°©us
Ë& 0x7fË+ 1Ë>> 1Ë> 0)

	)

45 
	#__WIFSTOPPED
(
°©us
Ë(((°©usË& 0xffË=0x7f)

	)

49 #ifde‡
WCONTINUED


50 
	#__WIFCONTINUED
(
°©us
Ë((°©usË=
__W_CONTINUED
)

	)

54 
	#__WCOREDUMP
(
°©us
Ë((°©usË& 
__WCOREFLAG
)

	)

57 
	#__W_EXITCODE
(
ªt
, 
sig
Ë(‘ëË<< 8 | (sig))

	)

58 
	#__W_STOPCODE
(
sig
Ë((sigË<< 8 | 0x7f)

	)

59 
	#__W_CONTINUED
 0xffff

	)

60 
	#__WCOREFLAG
 0x80

	)

63 #ifdef 
__USE_BSD


65 
	~<ídün.h
>

67 
	uwaô


69 
	mw_°©us
;

72 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


73 
	m__w_ãrmsig
:7;

74 
	m__w_c‹edump
:1;

75 
	m__w_ªtcode
:8;

78 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


80 
	m__w_ªtcode
:8;

81 
	m__w_c‹edump
:1;

82 
	m__w_ãrmsig
:7;

84 } 
	m__waô_ãrmö©ed
;

87 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


88 
	m__w_°›vÆ
:8;

89 
	m__w_°›sig
:8;

92 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


94 
	m__w_°›sig
:8;

95 
	m__w_°›vÆ
:8;

97 } 
	m__waô_°›≥d
;

100 
	#w_ãrmsig
 
__waô_ãrmö©ed
.
__w_ãrmsig


	)

101 
	#w_c‹edump
 
__waô_ãrmö©ed
.
__w_c‹edump


	)

102 
	#w_ªtcode
 
__waô_ãrmö©ed
.
__w_ªtcode


	)

103 
	#w_°›sig
 
__waô_°›≥d
.
__w_°›sig


	)

104 
	#w_°›vÆ
 
__waô_°›≥d
.
__w_°›vÆ


	)

	@/usr/include/bits/wchar.h

20 #i‚de‡
_BITS_WCHAR_H


21 
	#_BITS_WCHAR_H
 1

	)

24 #ifde‡
__WCHAR_MAX__


25 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

27 
	#__WCHAR_MAX
 (2147483647)

	)

32 #ifde‡
__WCHAR_UNSIGNED__


33 
	#__WCHAR_MIN
 
L
'\0'

	)

37 #ñi‡
L
'\0' - 1 > 0

38 
	#__WCHAR_MIN
 
L
'\0'

	)

40 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/wordsize.h

3 #i‡
deföed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/bits/xopen_lim.h

30 #i‚de‡
_XOPEN_LIM_H


31 
	#_XOPEN_LIM_H
 1

	)

33 
	#__√ed_IOV_MAX


	)

34 
	~<bôs/°dio_lim.h
>

66 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

71 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

74 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

77 
	#NL_MSGMAX
 
INT_MAX


	)

81 
	#NL_NMAX
 
INT_MAX


	)

84 
	#NL_SETMAX
 
INT_MAX


	)

87 
	#NL_TEXTMAX
 
INT_MAX


	)

90 
	#NZERO
 20

	)

94 #ifde‡
INT_MAX


95 #i‡
INT_MAX
 == 32767

96 
	#WORD_BIT
 16

	)

98 #i‡
INT_MAX
 == 2147483647

99 
	#WORD_BIT
 32

	)

102 
	#WORD_BIT
 64

	)

105 #ñi‡
deföed
 
__INT_MAX__


106 #i‡
__INT_MAX__
 == 32767

107 
	#WORD_BIT
 16

	)

109 #i‡
__INT_MAX__
 == 2147483647

110 
	#WORD_BIT
 32

	)

113 
	#WORD_BIT
 64

	)

117 
	#WORD_BIT
 32

	)

121 #ifde‡
LONG_MAX


122 #i‡
LONG_MAX
 == 2147483647

123 
	#LONG_BIT
 32

	)

126 
	#LONG_BIT
 64

	)

128 #ñi‡
deföed
 
__LONG_MAX__


129 #i‡
__LONG_MAX__
 == 2147483647

130 
	#LONG_BIT
 32

	)

133 
	#LONG_BIT
 64

	)

136 
	~<bôs/w‹dsize.h
>

137 #i‡
__WORDSIZE
 == 64

138 
	#LONG_BIT
 64

	)

140 
	#LONG_BIT
 32

	)

	@/usr/include/endian.h

19 #i‚def 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<„©uªs.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<bôs/ídün.h
>

41 #i‚de‡
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

54 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

59 #ifde‡
__USE_BSD


61 
	~<bôs/byãsw≠.h
>

63 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


64 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

65 
	#htﬁe16
(
x
Ë(x)

	)

66 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

67 
	#À16toh
(
x
Ë(x)

	)

69 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

70 
	#htﬁe32
(
x
Ë(x)

	)

71 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

72 
	#À32toh
(
x
Ë(x)

	)

74 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

75 
	#htﬁe64
(
x
Ë(x)

	)

76 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

77 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

19 #i‚def 
_FEATURES_H


20 
	#_FEATURES_H
 1

	)

95 #unde‡
__USE_ISOC99


96 #unde‡
__USE_ISOC95


97 #unde‡
__USE_POSIX


98 #unde‡
__USE_POSIX2


99 #unde‡
__USE_POSIX199309


100 #unde‡
__USE_POSIX199506


101 #unde‡
__USE_XOPEN


102 #unde‡
__USE_XOPEN_EXTENDED


103 #unde‡
__USE_UNIX98


104 #unde‡
__USE_XOPEN2K


105 #unde‡
__USE_XOPEN2K8


106 #unde‡
__USE_LARGEFILE


107 #unde‡
__USE_LARGEFILE64


108 #unde‡
__USE_FILE_OFFSET64


109 #unde‡
__USE_BSD


110 #unde‡
__USE_SVID


111 #unde‡
__USE_MISC


112 #unde‡
__USE_ATFILE


113 #unde‡
__USE_GNU


114 #unde‡
__USE_REENTRANT


115 #unde‡
__USE_FORTIFY_LEVEL


116 #unde‡
__FAVOR_BSD


117 #unde‡
__KERNEL_STRICT_NAMES


121 #i‚de‡
_LOOSE_KERNEL_NAMES


122 
	#__KERNEL_STRICT_NAMES


	)

126 
	#__USE_ANSI
 1

	)

135 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

137 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

144 #i‡
deföed
 
_BSD_SOURCE
 && \

145 !(
deföed
 
	g_POSIX_SOURCE
 || deföed 
	g_POSIX_C_SOURCE
 || \

146 
deföed
 
	g_XOPEN_SOURCE
 || deföed 
	g_XOPEN_SOURCE_EXTENDED
 || \

147 
deföed
 
	g_GNU_SOURCE
 || deföed 
	g_SVID_SOURCE
)

148 
	#__FAVOR_BSD
 1

	)

152 #ifde‡
_GNU_SOURCE


153 #unde‡
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #unde‡
_POSIX_SOURCE


156 
	#_POSIX_SOURCE
 1

	)

157 #unde‡
_POSIX_C_SOURCE


158 
	#_POSIX_C_SOURCE
 200809L

	)

159 #unde‡
_XOPEN_SOURCE


160 
	#_XOPEN_SOURCE
 700

	)

161 #unde‡
_XOPEN_SOURCE_EXTENDED


162 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

163 #unde‡
_LARGEFILE64_SOURCE


164 
	#_LARGEFILE64_SOURCE
 1

	)

165 #unde‡
_BSD_SOURCE


166 
	#_BSD_SOURCE
 1

	)

167 #unde‡
_SVID_SOURCE


168 
	#_SVID_SOURCE
 1

	)

169 #unde‡
_ATFILE_SOURCE


170 
	#_ATFILE_SOURCE
 1

	)

175 #i‡(!
deföed
 
__STRICT_ANSI__
 && !deföed 
_ISOC99_SOURCE
 && \

176 !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 && \

177 !
deföed
 
	g_XOPEN_SOURCE
 && !deföed 
	g_XOPEN_SOURCE_EXTENDED
 && \

178 !
deföed
 
	g_BSD_SOURCE
 && !deföed 
	g_SVID_SOURCE
)

179 
	#_BSD_SOURCE
 1

	)

180 
	#_SVID_SOURCE
 1

	)

187 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC9X_SOURCE
 \

188 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

189 
	#__USE_ISOC99
 1

	)

193 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC9X_SOURCE
 \

194 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

195 
	#__USE_ISOC95
 1

	)

200 #i‡((!
deföed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

201 !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

202 
	#_POSIX_SOURCE
 1

	)

203 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

204 
	#_POSIX_C_SOURCE
 2

	)

205 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

206 
	#_POSIX_C_SOURCE
 199506L

	)

207 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

208 
	#_POSIX_C_SOURCE
 200112L

	)

210 
	#_POSIX_C_SOURCE
 200809L

	)

212 
	#__USE_POSIX_IMPLICITLY
 1

	)

215 #i‡
deföed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || deföed 
_XOPEN_SOURCE


216 
	#__USE_POSIX
 1

	)

219 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


220 
	#__USE_POSIX2
 1

	)

223 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

224 
	#__USE_POSIX199309
 1

	)

227 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

228 
	#__USE_POSIX199506
 1

	)

231 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

232 
	#__USE_XOPEN2K
 1

	)

233 #unde‡
__USE_ISOC99


234 
	#__USE_ISOC99
 1

	)

237 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

238 
	#__USE_XOPEN2K8
 1

	)

239 #unde‡
_ATFILE_SOURCE


240 
	#_ATFILE_SOURCE
 1

	)

243 #ifdef 
_XOPEN_SOURCE


244 
	#__USE_XOPEN
 1

	)

245 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

246 
	#__USE_XOPEN_EXTENDED
 1

	)

247 
	#__USE_UNIX98
 1

	)

248 #unde‡
_LARGEFILE_SOURCE


249 
	#_LARGEFILE_SOURCE
 1

	)

250 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

251 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

252 
	#__USE_XOPEN2K8
 1

	)

254 
	#__USE_XOPEN2K
 1

	)

255 #unde‡
__USE_ISOC99


256 
	#__USE_ISOC99
 1

	)

259 #ifde‡
_XOPEN_SOURCE_EXTENDED


260 
	#__USE_XOPEN_EXTENDED
 1

	)

265 #ifde‡
_LARGEFILE_SOURCE


266 
	#__USE_LARGEFILE
 1

	)

269 #ifde‡
_LARGEFILE64_SOURCE


270 
	#__USE_LARGEFILE64
 1

	)

273 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

274 
	#__USE_FILE_OFFSET64
 1

	)

277 #i‡
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE


278 
	#__USE_MISC
 1

	)

281 #ifdef 
_BSD_SOURCE


282 
	#__USE_BSD
 1

	)

285 #ifdef 
_SVID_SOURCE


286 
	#__USE_SVID
 1

	)

289 #ifdef 
_ATFILE_SOURCE


290 
	#__USE_ATFILE
 1

	)

293 #ifdef 
_GNU_SOURCE


294 
	#__USE_GNU
 1

	)

297 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


298 
	#__USE_REENTRANT
 1

	)

301 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

302 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

303 #i‡
_FORTIFY_SOURCE
 > 1

304 
	#__USE_FORTIFY_LEVEL
 2

	)

306 
	#__USE_FORTIFY_LEVEL
 1

	)

309 
	#__USE_FORTIFY_LEVEL
 0

	)

313 
	~<bôs/¥edefs.h
>

316 
	#__STDC_ISO_10646__
 200009L

	)

324 #unde‡
__GNU_LIBRARY__


325 
	#__GNU_LIBRARY__
 6

	)

329 
	#__GLIBC__
 2

	)

330 
	#__GLIBC_MINOR__
 11

	)

332 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

333 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

336 #i‡
deföed
 
__GNUC__
 \

337 || (
deföed
 
	g__PGI
 && deföed 
	g__i386__
 ) \

338 || (
deföed
 
	g__INTEL_COMPILER
 && (deföed 
	g__i386__
 || deföed 
	g__ü64__
)) \

339 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

340 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

344 #i‚de‡
__ASSEMBLER__


345 #i‚de‡
_SYS_CDEFS_H


346 
	~<sys/cdefs.h
>

351 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


352 
	#__USE_LARGEFILE
 1

	)

353 
	#__USE_LARGEFILE64
 1

	)

359 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

360 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

361 && 
deföed
 
	g__exã∫_ölöe


362 
	#__USE_EXTERN_INLINES
 1

	)

367 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

368 && (
deföed
 
	g_LIBC
 || !deföed 
	g__OPTIMIZE_SIZE__
Ë&& !deföed 
	g__NO_INLINE__
 \

369 && 
deföed
 
	g__exã∫_ölöe


370 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

378 
	~<gnu/°ubs.h
>

	@/usr/include/libio.h

29 #i‚de‡
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_c⁄fig.h
>

34 
	#_IO_pos_t
 
_G_Âos_t


	)

35 
	#_IO_Âos_t
 
_G_Âos_t


	)

36 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li°
 
_G_va_li°


	)

48 
	#_IO_wöt_t
 
_G_wöt_t


	)

50 #ifde‡
_G_NEED_STDARG_H


52 
	#__√ed___va_li°


	)

53 
	~<°d¨g.h
>

54 #ifde‡
__GNUC_VA_LIST


55 #unde‡
_IO_va_li°


56 
	#_IO_va_li°
 
__gnuc_va_li°


	)

60 #i‚de‡
__P


61 #i‡
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifde‡
__STDC__


65 
	#__P
(
p
Ë
	)
p

66 
	#__PMT
(
p
Ë
	)
p

68 
	#__P
(
p
Ë()

	)

69 
	#__PMT
(
p
Ë()

	)

75 #i‚de‡
_PARAMS


76 
	#_PARAMS
(
¥Ÿos
Ë
	`__P
’rŸos)

	)

79 #i‚de‡
__STDC__


81 c⁄°

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #i‚de‡
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #i‚de‡
EOF


90 
	#EOF
 (-1)

	)

92 #i‚de‡
NULL


93 #i‡
deföed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nuŒ
)

	)

97 #i‡!
deföed
(
__˝lu•lus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifde‡
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifde‡
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

151 
	#_IO_SKIPWS
 01

	)

152 
	#_IO_LEFT
 02

	)

153 
	#_IO_RIGHT
 04

	)

154 
	#_IO_INTERNAL
 010

	)

155 
	#_IO_DEC
 020

	)

156 
	#_IO_OCT
 040

	)

157 
	#_IO_HEX
 0100

	)

158 
	#_IO_SHOWBASE
 0200

	)

159 
	#_IO_SHOWPOINT
 0400

	)

160 
	#_IO_UPPERCASE
 01000

	)

161 
	#_IO_SHOWPOS
 02000

	)

162 
	#_IO_SCIENTIFIC
 04000

	)

163 
	#_IO_FIXED
 010000

	)

164 
	#_IO_UNITBUF
 020000

	)

165 
	#_IO_STDIO
 040000

	)

166 
	#_IO_DONT_CLOSE
 0100000

	)

167 
	#_IO_BOOLALPHA
 0200000

	)

170 
_IO_jump_t
; 
	g_IO_FILE
;

173 #ifde‡
_IO_MTSAFE_IO


174 #i‡
deföed
 
__GLIBC__
 && __GLIBC__ >= 2

175 
	~<bôs/°dio-lock.h
>

180 
	t_IO_lock_t
;

186 
	s_IO_m¨kî
 {

187 
_IO_m¨kî
 *
	m_√xt
;

188 
_IO_FILE
 *
	m_sbuf
;

192 
	m_pos
;

194 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

195 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

196 
	mpublic
:

197 
°ªamm¨kî
(
°ªambuf
 *
sb
);

198 ~
°ªamm¨kî
();

199 
ßvög
(Ë{  
	m_•os
 == -2; }

200 
dñè
(
°ªamm¨kî
&);

201 
dñè
();

206 
	e__codecvt_ªsu…


208 
	m__codecvt_ok
,

209 
	m__codecvt_∑πül
,

210 
	m__codecvt_îr‹
,

211 
	m__codecvt_noc⁄v


214 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


217 
	s_IO_codecvt


219 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

220 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

221 
	m__mb°©e_t
 *,

222 c⁄° 
	mwch¨_t
 *,

223 c⁄° 
	mwch¨_t
 *,

224 c⁄° 
	mwch¨_t
 **, *,

226 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

227 
	m__mb°©e_t
 *, *,

229 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

230 
	m__mb°©e_t
 *,

232 c⁄° **, 
	mwch¨_t
 *,

233 
	mwch¨_t
 *, wchar_t **);

234 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

235 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

236 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

237 c⁄° *, c⁄° *, 
	m_IO_size_t
);

238 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

240 
_IO_ic⁄v_t
 
	m__cd_ö
;

241 
_IO_ic⁄v_t
 
	m__cd_out
;

245 
	s_IO_wide_d©a


247 
wch¨_t
 *
	m_IO_ªad_±r
;

248 
wch¨_t
 *
	m_IO_ªad_íd
;

249 
wch¨_t
 *
	m_IO_ªad_ba£
;

250 
wch¨_t
 *
	m_IO_wrôe_ba£
;

251 
wch¨_t
 *
	m_IO_wrôe_±r
;

252 
wch¨_t
 *
	m_IO_wrôe_íd
;

253 
wch¨_t
 *
	m_IO_buf_ba£
;

254 
wch¨_t
 *
	m_IO_buf_íd
;

256 
wch¨_t
 *
	m_IO_ßve_ba£
;

257 
wch¨_t
 *
	m_IO_backup_ba£
;

259 
wch¨_t
 *
	m_IO_ßve_íd
;

261 
__mb°©e_t
 
	m_IO_°©e
;

262 
__mb°©e_t
 
	m_IO_œ°_°©e
;

263 
_IO_codecvt
 
	m_codecvt
;

265 
wch¨_t
 
	m_sh‹tbuf
[1];

267 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

271 
	s_IO_FILE
 {

272 
	m_Êags
;

273 
	#_IO_fûe_Êags
 
_Êags


	)

277 * 
	m_IO_ªad_±r
;

278 * 
	m_IO_ªad_íd
;

279 * 
	m_IO_ªad_ba£
;

280 * 
	m_IO_wrôe_ba£
;

281 * 
	m_IO_wrôe_±r
;

282 * 
	m_IO_wrôe_íd
;

283 * 
	m_IO_buf_ba£
;

284 * 
	m_IO_buf_íd
;

286 *
	m_IO_ßve_ba£
;

287 *
	m_IO_backup_ba£
;

288 *
	m_IO_ßve_íd
;

290 
_IO_m¨kî
 *
	m_m¨kîs
;

292 
_IO_FILE
 *
	m_chaö
;

294 
	m_fûío
;

296 
	m_blksize
;

298 
	m_Êags2
;

300 
_IO_off_t
 
	m_ﬁd_off£t
;

302 
	#__HAVE_COLUMN


	)

304 
	m_cur_cﬁumn
;

305 sig√d 
	m_vèbÀ_off£t
;

306 
	m_sh‹tbuf
[1];

310 
_IO_lock_t
 *
	m_lock
;

311 #ifde‡
_IO_USE_OLD_IO_FILE


314 
	s_IO_FILE_com∂ëe


316 
_IO_FILE
 
	m_fûe
;

318 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

319 
_IO_off64_t
 
	m_off£t
;

320 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


322 
_IO_codecvt
 *
	m_codecvt
;

323 
_IO_wide_d©a
 *
	m_wide_d©a
;

324 
_IO_FILE
 *
	m_‰ìªs_li°
;

325 *
	m_‰ìªs_buf
;

326 
size_t
 
	m_‰ìªs_size
;

328 *
	m__∑d1
;

329 *
	m__∑d2
;

330 *
	m__∑d3
;

331 *
	m__∑d4
;

332 
size_t
 
	m__∑d5
;

334 
	m_mode
;

336 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

340 #i‚de‡
__˝lu•lus


341 
_IO_FILE
 
	t_IO_FILE
;

344 
	g_IO_FILE_∂us
;

346 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

347 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

348 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

349 #i‚de‡
_LIBC


350 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

351 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

352 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

354 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

355 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

356 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

364 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

372 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, 
	t__c⁄°
 *
	t__buf
,

373 
	tsize_t
 
	t__n
);

381 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

384 
	t__io_˛o£_‚
 (*
	t__cookõ
);

387 #ifde‡
_GNU_SOURCE


389 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

390 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

391 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

392 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

397 
__io_ªad_‚
 *
	mªad
;

398 
__io_wrôe_‚
 *
	mwrôe
;

399 
__io_£ek_‚
 *
	m£ek
;

400 
__io_˛o£_‚
 *
	m˛o£
;

401 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

402 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

404 
	g_IO_cookõ_fûe
;

407 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

408 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

412 #ifde‡
__˝lu•lus


416 
__undîÊow
 (
_IO_FILE
 *);

417 
__uÊow
 (
_IO_FILE
 *);

418 
__ovîÊow
 (
_IO_FILE
 *, );

419 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


420 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

421 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

422 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

425 #i‡ 
__GNUC__
 >= 3

426 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

428 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

431 
	#_IO_gëc_u∆ocked
(
_Â
) \

432 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

433 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

434 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

435 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

436 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

437 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

438 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

439 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

440 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

441 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

443 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


444 
	#_IO_gëwc_u∆ocked
(
_Â
) \

445 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

446 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

447 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

448 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

449 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

450 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

451 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

452 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

453 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

454 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

457 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

458 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

460 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

461 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

462 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

463 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

465 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

468 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

469 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

471 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

472 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

473 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

475 #ifde‡
_IO_MTSAFE_IO


476 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

477 
	#_IO_Êockfûe
(
_Â
) \

478 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

479 
	#_IO_fu∆ockfûe
(
_Â
) \

480 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

482 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

483 
	#_IO_Êockfûe
(
_Â
Ë

	)

484 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

485 
	#_IO_·rylockfûe
(
_Â
Ë

	)

486 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

487 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

490 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

491 
_IO_va_li°
, *
__ª°ri˘
);

492 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

493 
_IO_va_li°
);

494 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

495 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

497 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

498 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

500 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

502 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


503 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

504 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

505 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

506 #i‡
__GNUC__
 >= 2

509 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


510 
	~<shlib-com∑t.h
>

511 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

512 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

513 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

514 c⁄° 
_IO_°dö_u£d
;

515 
wók_exã∫
 (
_IO_°dö_u£d
);

518 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


519 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

523 
	#_IO_fwide
(
__Â
, 
__mode
) \

524 ({ 
__ªsu…
 = (
__mode
); \

525 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

527 i‡((
__Â
)->
_mode
 == 0) \

529 (
__Â
)->
_mode
 = -1; \

530 
__ªsu…
 = (
__Â
)->
_mode
; \

532 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

533 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

535 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

536 
__ªsu…
; })

	)

539 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

540 
_IO_va_li°
, *
__ª°ri˘
);

541 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

542 
_IO_va_li°
);

543 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

544 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

547 #ifde‡
__LDBL_COMPAT


548 
	~<bôs/libio-ldbl.h
>

551 #ifde‡
__˝lu•lus


	@/usr/include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__NFDBITS


22 
	#__NFDBITS
 (8 * ())

	)

24 #unde‡
__FD_SETSIZE


25 
	#__FD_SETSIZE
 1024

	)

27 #unde‡
__FDSET_LONGS


28 
	#__FDSET_LONGS
 (
__FD_SETSIZE
/
__NFDBITS
)

	)

30 #unde‡
__FDELT


31 
	#__FDELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

33 #unde‡
__FDMASK


34 
	#__FDMASK
(
d
Ë(1UL << ((dË% 
__NFDBITS
))

	)

37 
	mfds_bôs
 [
__FDSET_LONGS
];

38 } 
	t__kî√l_fd_£t
;

41 (*
	t__kî√l_sigh™dÀr_t
)();

44 
	t__kî√l_key_t
;

45 
	t__kî√l_mqd_t
;

47 
	~<asm/posix_ty≥s.h
>

	@/usr/include/linux/socket.h

1 #i‚de‡
_LINUX_SOCKET_H


2 
	#_LINUX_SOCKET_H


	)

7 
	#_K_SS_MAXSIZE
 128

	)

8 
	#_K_SS_ALIGNSIZE
 (
	`__Æignof__
 (
sockaddr
 *))

	)

11 
	s__kî√l_sockaddr_°‹age
 {

12 
	mss_Ámûy
;

14 
	m__d©a
[
_K_SS_MAXSIZE
 - ()];

17 } 
__©åibuã__
 ((
Æig√d
(
_K_SS_ALIGNSIZE
)));

	@/usr/include/netinet/in.h

20 #i‚def 
_NETINET_IN_H


21 
	#_NETINET_IN_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<°döt.h
>

25 
	~<sys/sockë.h
>

26 
	~<bôs/ty≥s.h
>

29 
__BEGIN_DECLS


34 
	mIPPROTO_IP
 = 0,

35 
	#IPPROTO_IP
 
IPPROTO_IP


	)

36 
	mIPPROTO_HOPOPTS
 = 0,

37 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

38 
	mIPPROTO_ICMP
 = 1,

39 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

40 
	mIPPROTO_IGMP
 = 2,

41 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

42 
	mIPPROTO_IPIP
 = 4,

43 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

44 
	mIPPROTO_TCP
 = 6,

45 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

46 
	mIPPROTO_EGP
 = 8,

47 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

48 
	mIPPROTO_PUP
 = 12,

49 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

50 
	mIPPROTO_UDP
 = 17,

51 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

52 
	mIPPROTO_IDP
 = 22,

53 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

54 
	mIPPROTO_TP
 = 29,

55 
	#IPPROTO_TP
 
IPPROTO_TP


	)

56 
	mIPPROTO_DCCP
 = 33,

57 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

58 
	mIPPROTO_IPV6
 = 41,

59 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

60 
	mIPPROTO_ROUTING
 = 43,

61 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

62 
	mIPPROTO_FRAGMENT
 = 44,

63 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

64 
	mIPPROTO_RSVP
 = 46,

65 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

66 
	mIPPROTO_GRE
 = 47,

67 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

68 
	mIPPROTO_ESP
 = 50,

69 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

70 
	mIPPROTO_AH
 = 51,

71 
	#IPPROTO_AH
 
IPPROTO_AH


	)

72 
	mIPPROTO_ICMPV6
 = 58,

73 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

74 
	mIPPROTO_NONE
 = 59,

75 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

76 
	mIPPROTO_DSTOPTS
 = 60,

77 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

78 
	mIPPROTO_MTP
 = 92,

79 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

80 
	mIPPROTO_ENCAP
 = 98,

81 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

82 
	mIPPROTO_PIM
 = 103,

83 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

84 
	mIPPROTO_COMP
 = 108,

85 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

86 
	mIPPROTO_SCTP
 = 132,

87 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

88 
	mIPPROTO_UDPLITE
 = 136,

89 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

90 
	mIPPROTO_RAW
 = 255,

91 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

92 
	mIPPROTO_MAX


97 
uöt16_t
 
	tö_p‹t_t
;

102 
	mIPPORT_ECHO
 = 7,

103 
	mIPPORT_DISCARD
 = 9,

104 
	mIPPORT_SYSTAT
 = 11,

105 
	mIPPORT_DAYTIME
 = 13,

106 
	mIPPORT_NETSTAT
 = 15,

107 
	mIPPORT_FTP
 = 21,

108 
	mIPPORT_TELNET
 = 23,

109 
	mIPPORT_SMTP
 = 25,

110 
	mIPPORT_TIMESERVER
 = 37,

111 
	mIPPORT_NAMESERVER
 = 42,

112 
	mIPPORT_WHOIS
 = 43,

113 
	mIPPORT_MTP
 = 57,

115 
	mIPPORT_TFTP
 = 69,

116 
	mIPPORT_RJE
 = 77,

117 
	mIPPORT_FINGER
 = 79,

118 
	mIPPORT_TTYLINK
 = 87,

119 
	mIPPORT_SUPDUP
 = 95,

122 
	mIPPORT_EXECSERVER
 = 512,

123 
	mIPPORT_LOGINSERVER
 = 513,

124 
	mIPPORT_CMDSERVER
 = 514,

125 
	mIPPORT_EFSSERVER
 = 520,

128 
	mIPPORT_BIFFUDP
 = 512,

129 
	mIPPORT_WHOSERVER
 = 513,

130 
	mIPPORT_ROUTESERVER
 = 520,

133 
	mIPPORT_RESERVED
 = 1024,

136 
	mIPPORT_USERRESERVED
 = 5000

141 
uöt32_t
 
	tö_addr_t
;

142 
	sö_addr


144 
ö_addr_t
 
	ms_addr
;

153 
	#IN_CLASSA
(
a
Ë((((
ö_addr_t
)◊)Ë& 0x80000000Ë=0)

	)

154 
	#IN_CLASSA_NET
 0xff000000

	)

155 
	#IN_CLASSA_NSHIFT
 24

	)

156 
	#IN_CLASSA_HOST
 (0xfffffff‡& ~
IN_CLASSA_NET
)

	)

157 
	#IN_CLASSA_MAX
 128

	)

159 
	#IN_CLASSB
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xc0000000Ë=0x80000000)

	)

160 
	#IN_CLASSB_NET
 0xffff0000

	)

161 
	#IN_CLASSB_NSHIFT
 16

	)

162 
	#IN_CLASSB_HOST
 (0xfffffff‡& ~
IN_CLASSB_NET
)

	)

163 
	#IN_CLASSB_MAX
 65536

	)

165 
	#IN_CLASSC
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xc0000000)

	)

166 
	#IN_CLASSC_NET
 0xffffff00

	)

167 
	#IN_CLASSC_NSHIFT
 8

	)

168 
	#IN_CLASSC_HOST
 (0xfffffff‡& ~
IN_CLASSC_NET
)

	)

170 
	#IN_CLASSD
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xe0000000)

	)

171 
	#IN_MULTICAST
(
a
Ë
	`IN_CLASSD
◊)

	)

173 
	#IN_EXPERIMENTAL
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xe0000000)

	)

174 
	#IN_BADCLASS
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xf0000000)

	)

177 
	#INADDR_ANY
 ((
ö_addr_t
Ë0x00000000)

	)

179 
	#INADDR_BROADCAST
 ((
ö_addr_t
Ë0xffffffff)

	)

181 
	#INADDR_NONE
 ((
ö_addr_t
Ë0xffffffff)

	)

184 
	#IN_LOOPBACKNET
 127

	)

186 #i‚de‡
INADDR_LOOPBACK


187 
	#INADDR_LOOPBACK
 ((
ö_addr_t
Ë0x7f000001Ë

	)

191 
	#INADDR_UNSPEC_GROUP
 ((
ö_addr_t
Ë0xe0000000Ë

	)

192 
	#INADDR_ALLHOSTS_GROUP
 ((
ö_addr_t
Ë0xe0000001Ë

	)

193 
	#INADDR_ALLRTRS_GROUP
 ((
ö_addr_t
Ë0xe0000002Ë

	)

194 
	#INADDR_MAX_LOCAL_GROUP
 ((
ö_addr_t
Ë0xe00000ffË

	)

198 
	sö6_addr


202 
uöt8_t
 
	m__u6_addr8
[16];

203 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


204 
uöt16_t
 
	m__u6_addr16
[8];

205 
uöt32_t
 
	m__u6_addr32
[4];

207 } 
	m__ö6_u
;

208 
	#s6_addr
 
__ö6_u
.
__u6_addr8


	)

209 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


210 
	#s6_addr16
 
__ö6_u
.
__u6_addr16


	)

211 
	#s6_addr32
 
__ö6_u
.
__u6_addr32


	)

215 c⁄° 
ö6_addr
 
ö6addr_™y
;

216 c⁄° 
ö6_addr
 
ö6addr_lo›back
;

217 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

218 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

220 
	#INET_ADDRSTRLEN
 16

	)

221 
	#INET6_ADDRSTRLEN
 46

	)

225 
	ssockaddr_ö


227 
__SOCKADDR_COMMON
 (
sö_
);

228 
ö_p‹t_t
 
	msö_p‹t
;

229 
ö_addr
 
	msö_addr
;

232 
	msö_zîo
[ (
sockaddr
) -

233 
__SOCKADDR_COMMON_SIZE
 -

234  (
ö_p‹t_t
) -

235  (
ö_addr
)];

239 
	ssockaddr_ö6


241 
__SOCKADDR_COMMON
 (
sö6_
);

242 
ö_p‹t_t
 
	msö6_p‹t
;

243 
uöt32_t
 
	msö6_Êowöfo
;

244 
ö6_addr
 
	msö6_addr
;

245 
uöt32_t
 
	msö6_sc›e_id
;

249 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


251 
	sù_mªq


254 
ö_addr
 
	mimr_mu…üddr
;

257 
ö_addr
 
	mimr_öãrÁ˚
;

260 
	sù_mªq_sour˚


263 
ö_addr
 
	mimr_mu…üddr
;

266 
ö_addr
 
	mimr_öãrÁ˚
;

269 
ö_addr
 
	mimr_sour˚addr
;

275 
	sùv6_mªq


278 
ö6_addr
 
	mùv6mr_mu…üddr
;

281 
	mùv6mr_öãrÁ˚
;

285 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


287 
	sgroup_ªq


290 
uöt32_t
 
	mgr_öãrÁ˚
;

293 
sockaddr_°‹age
 
	mgr_group
;

296 
	sgroup_sour˚_ªq


299 
uöt32_t
 
	mg§_öãrÁ˚
;

302 
sockaddr_°‹age
 
	mg§_group
;

305 
sockaddr_°‹age
 
	mg§_sour˚
;

310 
	sù_msfûãr


313 
ö_addr
 
	mimsf_mu…üddr
;

316 
ö_addr
 
	mimsf_öãrÁ˚
;

319 
uöt32_t
 
	mimsf_fmode
;

322 
uöt32_t
 
	mimsf_num§c
;

324 
ö_addr
 
	mimsf_¶i°
[1];

327 
	#IP_MSFILTER_SIZE
(
num§c
Ë( (
ù_msfûãr
) \

328 -  (
ö_addr
) \

329 + (
num§c
Ë*  (
ö_addr
))

	)

331 
	sgroup_fûãr


334 
uöt32_t
 
	mgf_öãrÁ˚
;

337 
sockaddr_°‹age
 
	mgf_group
;

340 
uöt32_t
 
	mgf_fmode
;

343 
uöt32_t
 
	mgf_num§c
;

345 
sockaddr_°‹age
 
	mgf_¶i°
[1];

348 
	#GROUP_FILTER_SIZE
(
num§c
Ë( (
group_fûãr
) \

349 -  (
sockaddr_°‹age
) \

350 + ((
num§c
) \

351 *  (
sockaddr_°‹age
)))

	)

356 
	~<bôs/ö.h
>

365 
uöt32_t
 
	$¡ohl
 (
uöt32_t
 
__√é⁄g
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

366 
uöt16_t
 
	$¡ohs
 (
uöt16_t
 
__√tsh‹t
)

367 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

368 
uöt32_t
 
	$ht⁄l
 (
uöt32_t
 
__ho°l⁄g
)

369 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

370 
uöt16_t
 
	$ht⁄s
 (
uöt16_t
 
__ho°sh‹t
)

371 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

373 
	~<ídün.h
>

376 
	~<bôs/byãsw≠.h
>

378 #ifde‡
__OPTIMIZE__


382 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


385 
	#¡ohl
(
x
Ë(x)

	)

386 
	#¡ohs
(
x
Ë(x)

	)

387 
	#ht⁄l
(
x
Ë(x)

	)

388 
	#ht⁄s
(
x
Ë(x)

	)

390 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


391 
	#¡ohl
(
x
Ë
	`__bsw≠_32
 (x)

	)

392 
	#¡ohs
(
x
Ë
	`__bsw≠_16
 (x)

	)

393 
	#ht⁄l
(
x
Ë
	`__bsw≠_32
 (x)

	)

394 
	#ht⁄s
(
x
Ë
	`__bsw≠_16
 (x)

	)

399 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

400 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0 \

401 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0 \

402 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0 \

403 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =0)

	)

405 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

406 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0 \

407 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0 \

408 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0 \

409 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =
	`ht⁄l
 (1))

	)

411 
	#IN6_IS_ADDR_MULTICAST
(
a
Ë(((
__c⁄°
 
uöt8_t
 *Ë◊))[0] =0xff)

	)

413 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

414 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

415 =
	`ht⁄l
 (0x„800000))

	)

417 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

418 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

419 =
	`ht⁄l
 (0x„c00000))

	)

421 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

422 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0) \

423 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0) \

424 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] =
	`ht⁄l
 (0xffff)))

	)

426 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

427 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0) \

428 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0) \

429 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0) \

430 && (
	`¡ohl
 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3]Ë> 1))

	)

432 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

433 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] =((__c⁄° uöt32_à*Ë(
b
))[0]) \

434 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] =((__c⁄° uöt32_à*Ë(
b
))[1]) \

435 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] =((__c⁄° uöt32_à*Ë(
b
))[2]) \

436 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =((__c⁄° uöt32_à*Ë(
b
))[3]))

	)

438 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


440 
	$bödªsvp‹t
 (
__sockfd
, 
sockaddr_ö
 *
__sock_ö
Ë
__THROW
;

443 
	$bödªsvp‹t6
 (
__sockfd
, 
sockaddr_ö6
 *
__sock_ö
)

444 
__THROW
;

448 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

449 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

450 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x1))

	)

452 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

453 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

454 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x2))

	)

456 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

457 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

458 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x5))

	)

460 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

461 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

462 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x8))

	)

464 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

465 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

466 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0xe))

	)

469 #ifde‡
__USE_GNU


471 
	sö6_pktöfo


473 
ö6_addr
 
ùi6_addr
;

474 
ùi6_ifödex
;

478 
	sù6_mtuöfo


480 
sockaddr_ö6
 
ù6m_addr
;

481 
uöt32_t
 
ù6m_mtu
;

486 
	$öë6_›ti⁄_•a˚
 (
__nbyãs
)

487 
__THROW
 
__©åibuã_dïªˇãd__
;

488 
	$öë6_›ti⁄_öô
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

489 
__ty≥
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

490 
	$öë6_›ti⁄_≠≥nd
 (
cmsghdr
 *
__cmsg
,

491 
__c⁄°
 
uöt8_t
 *
__ty≥p
, 
__mu…x
,

492 
__∂usy
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

493 
uöt8_t
 *
	$öë6_›ti⁄_Æloc
 (
cmsghdr
 *
__cmsg
, 
__d©Æí
,

494 
__mu…x
, 
__∂usy
)

495 
__THROW
 
__©åibuã_dïªˇãd__
;

496 
	$öë6_›ti⁄_√xt
 (
__c⁄°
 
cmsghdr
 *
__cmsg
,

497 
uöt8_t
 **
__çåp
)

498 
__THROW
 
__©åibuã_dïªˇãd__
;

499 
	$öë6_›ti⁄_föd
 (
__c⁄°
 
cmsghdr
 *
__cmsg
,

500 
uöt8_t
 **
__çåp
, 
__ty≥
)

501 
__THROW
 
__©åibuã_dïªˇãd__
;

505 
	$öë6_›t_öô
 (*
__extbuf
, 
sockÀn_t
 
__exéí
Ë
__THROW
;

506 
	$öë6_›t_≠≥nd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

507 
uöt8_t
 
__ty≥
, 
sockÀn_t
 
__Àn
, uöt8_à
__Æign
,

508 **
__d©abuÂ
Ë
__THROW
;

509 
	$öë6_›t_föish
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
)

510 
__THROW
;

511 
	$öë6_›t_£t_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

512 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

513 
	$öë6_›t_√xt
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

514 
uöt8_t
 *
__ty≥p
, 
sockÀn_t
 *
__À≈
,

515 **
__d©abuÂ
Ë
__THROW
;

516 
	$öë6_›t_föd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

517 
uöt8_t
 
__ty≥
, 
sockÀn_t
 *
__À≈
,

518 **
__d©abuÂ
Ë
__THROW
;

519 
	$öë6_›t_gë_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

520 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

524 
sockÀn_t
 
	$öë6_πh_•a˚
 (
__ty≥
, 
__£gmíts
Ë
__THROW
;

525 *
	$öë6_πh_öô
 (*
__bp
, 
sockÀn_t
 
__bp_Àn
, 
__ty≥
,

526 
__£gmíts
Ë
__THROW
;

527 
	$öë6_πh_add
 (*
__bp
, 
__c⁄°
 
ö6_addr
 *
__addr
Ë
__THROW
;

528 
	$öë6_πh_ªvî£
 (
__c⁄°
 *
__ö
, *
__out
Ë
__THROW
;

529 
	$öë6_πh_£gmíts
 (
__c⁄°
 *
__bp
Ë
__THROW
;

530 
ö6_addr
 *
	$öë6_πh_gëaddr
 (
__c⁄°
 *
__bp
, 
__ödex
)

531 
__THROW
;

537 
	$gëùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

538 
ö_addr
 
__group
, 
uöt32_t
 *
__fmode
,

539 
uöt32_t
 *
__num§c
, 
ö_addr
 *
__¶i°
)

540 
__THROW
;

543 
	$£tùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

544 
ö_addr
 
__group
, 
uöt32_t
 
__fmode
,

545 
uöt32_t
 
__num§c
,

546 
__c⁄°
 
ö_addr
 *
__¶i°
)

547 
__THROW
;

551 
	$gësour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

552 
__c⁄°
 
sockaddr
 *
__group
,

553 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 *
__fmode
,

554 
uöt32_t
 *
__num§c
,

555 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

558 
	$£tsour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

559 
__c⁄°
 
sockaddr
 *
__group
,

560 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 
__fmode
,

561 
uöt32_t
 
__num§c
,

562 
__c⁄°
 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

565 
__END_DECLS


	@/usr/include/sched.h

20 #i‚def 
_SCHED_H


21 
	#_SCHED_H
 1

	)

23 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

31 
	#__√ed_time•ec


	)

32 
	~<time.h
>

35 
	~<bôs/sched.h
>

37 
	#sched_¥i‹ôy
 
__sched_¥i‹ôy


	)

40 
__BEGIN_DECLS


43 
	$sched_£ç¨am
 (
__pid_t
 
__pid
, 
__c⁄°
 
sched_∑øm
 *
__∑øm
)

44 
__THROW
;

47 
	$sched_gë∑øm
 (
__pid_t
 
__pid
, 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

50 
	$sched_£tscheduÀr
 (
__pid_t
 
__pid
, 
__pﬁicy
,

51 
__c⁄°
 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

54 
	$sched_gëscheduÀr
 (
__pid_t
 
__pid
Ë
__THROW
;

57 
	$sched_yõld
 (Ë
__THROW
;

60 
	$sched_gë_¥i‹ôy_max
 (
__Æg‹ôhm
Ë
__THROW
;

63 
	$sched_gë_¥i‹ôy_mö
 (
__Æg‹ôhm
Ë
__THROW
;

66 
	$sched_º_gë_öãrvÆ
 (
__pid_t
 
__pid
, 
time•ec
 *
__t
Ë
__THROW
;

69 #ifde‡
__USE_GNU


71 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

72 
	#CPU_SET
(
˝u
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

73 
	#CPU_CLR
(
˝u
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

74 
	#CPU_ISSET
(
˝u
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (˝u,  (
˝u_£t_t
), \

75 
˝u£ç
)

	)

76 
	#CPU_ZERO
(
˝u£ç
Ë
	`__CPU_ZERO_S
 ( (
˝u_£t_t
), cpu£ç)

	)

77 
	#CPU_COUNT
(
˝u£ç
Ë
	`__CPU_COUNT_S
 ( (
˝u_£t_t
), cpu£ç)

	)

79 
	#CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u, sësize, cpu£ç)

	)

80 
	#CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u, sësize, cpu£ç)

	)

81 
	#CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (cpu, setsize, \

82 
˝u£ç
)

	)

83 
	#CPU_ZERO_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_ZERO_S
 (£tsize, cpu£ç)

	)

84 
	#CPU_COUNT_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_COUNT_S
 (£tsize, cpu£ç)

	)

86 
	#CPU_EQUAL
(
˝u£ç1
, 
˝u£ç2
) \

87 
	`__CPU_EQUAL_S
 ( (
˝u_£t_t
), 
˝u£ç1
, 
˝u£ç2
)

	)

88 
	#CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

89 
	`__CPU_EQUAL_S
 (
£tsize
, 
˝u£ç1
, 
˝u£ç2
)

	)

91 
	#CPU_AND
(
de°£t
, 
§c£t1
, 
§c£t2
) \

92 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

93 
	#CPU_OR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

94 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

95 
	#CPU_XOR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

96 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

97 
	#CPU_AND_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

98 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

99 
	#CPU_OR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

100 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

101 
	#CPU_XOR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

102 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

104 
	#CPU_ALLOC_SIZE
(
cou¡
Ë
	`__CPU_ALLOC_SIZE
 (cou¡)

	)

105 
	#CPU_ALLOC
(
cou¡
Ë
	`__CPU_ALLOC
 (cou¡)

	)

106 
	#CPU_FREE
(
˝u£t
Ë
	`__CPU_FREE
 (˝u£t)

	)

110 
	$sched_£èfföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

111 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

114 
	$sched_gëafföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

115 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

118 
__END_DECLS


	@/usr/include/sys/poll.h

20 #i‚def 
_SYS_POLL_H


21 
	#_SYS_POLL_H
 1

	)

23 
	~<„©uªs.h
>

26 
	~<bôs/pﬁl.h
>

27 #ifde‡
__USE_GNU


29 
	~<bôs/sig£t.h
>

31 
	#__√ed_time•ec


	)

32 
	~<time.h
>

37 
	tnfds_t
;

40 
	spﬁlfd


42 
	mfd
;

43 
	mevíts
;

44 
	mªvíts
;

48 
__BEGIN_DECLS


58 
pﬁl
 (
pﬁlfd
 *
__fds
, 
nfds_t
 
__nfds
, 
__timeout
);

60 #ifde‡
__USE_GNU


67 
µﬁl
 (
pﬁlfd
 *
__fds
, 
nfds_t
 
__nfds
,

68 
__c⁄°
 
time•ec
 *
__timeout
,

69 
__c⁄°
 
__sig£t_t
 *
__ss
);

72 
	g__END_DECLS


	@/usr/include/sys/select.h

22 #i‚de‡
_SYS_SELECT_H


23 
	#_SYS_SELECT_H
 1

	)

25 
	~<„©uªs.h
>

28 
	~<bôs/ty≥s.h
>

31 
	~<bôs/£À˘.h
>

34 
	~<bôs/sig£t.h
>

36 #i‚de‡
__sig£t_t_deföed


37 
	#__sig£t_t_deföed


	)

38 
__sig£t_t
 
	tsig£t_t
;

42 
	#__√ed_time_t


	)

43 
	#__√ed_time•ec


	)

44 
	~<time.h
>

45 
	#__√ed_timevÆ


	)

46 
	~<bôs/time.h
>

48 #i‚de‡
__su£c⁄ds_t_deföed


49 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

50 
	#__su£c⁄ds_t_deföed


	)

55 
	t__fd_mask
;

58 #unde‡
__NFDBITS


59 #unde‡
__FDELT


60 #unde‡
__FDMASK


62 
	#__NFDBITS
 (8 * (Ë (
__fd_mask
))

	)

63 
	#__FDELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

64 
	#__FDMASK
(
d
Ë((
__fd_mask
Ë1 << ((dË% 
__NFDBITS
))

	)

71 #ifde‡
__USE_XOPEN


72 
__fd_mask
 
	mfds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
Ë((£t)->
fds_bôs
)

	)

75 
__fd_mask
 
	m__fds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

76 
	#__FDS_BITS
(
£t
Ë((£t)->
__fds_bôs
)

	)

78 } 
	tfd_£t
;

81 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

83 #ifde‡
__USE_MISC


85 
__fd_mask
 
	tfd_mask
;

88 
	#NFDBITS
 
__NFDBITS


	)

93 
	#FD_SET
(
fd
, 
fd£ç
Ë
	`__FD_SET
 (fd, fd£ç)

	)

94 
	#FD_CLR
(
fd
, 
fd£ç
Ë
	`__FD_CLR
 (fd, fd£ç)

	)

95 
	#FD_ISSET
(
fd
, 
fd£ç
Ë
	`__FD_ISSET
 (fd, fd£ç)

	)

96 
	#FD_ZERO
(
fd£ç
Ë
	`__FD_ZERO
 (fd£ç)

	)

99 
__BEGIN_DECLS


109 
£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

110 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

111 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

112 
timevÆ
 *
__ª°ri˘
 
__timeout
);

114 #ifde‡
__USE_XOPEN2K


121 
p£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

122 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

123 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

124 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
,

125 c⁄° 
__sig£t_t
 *
__ª°ri˘
 
__sigmask
);

128 
	g__END_DECLS


	@/usr/include/sys/syslog.h

32 #i‚de‡
_SYS_SYSLOG_H


33 
	#_SYS_SYSLOG_H
 1

	)

35 
	~<„©uªs.h
>

36 
	#__√ed___va_li°


	)

37 
	~<°d¨g.h
>

40 
	~<bôs/sy¶og-∑th.h
>

51 
	#LOG_EMERG
 0

	)

52 
	#LOG_ALERT
 1

	)

53 
	#LOG_CRIT
 2

	)

54 
	#LOG_ERR
 3

	)

55 
	#LOG_WARNING
 4

	)

56 
	#LOG_NOTICE
 5

	)

57 
	#LOG_INFO
 6

	)

58 
	#LOG_DEBUG
 7

	)

60 
	#LOG_PRIMASK
 0x07

	)

62 
	#LOG_PRI
(
p
Ë(’Ë& 
LOG_PRIMASK
)

	)

63 
	#LOG_MAKEPRI
(
Ác
, 
¥i
Ë(((ÁcË<< 3Ë| (¥i))

	)

65 #ifde‡
SYSLOG_NAMES


66 
	#INTERNAL_NOPRI
 0x10

	)

68 
	#INTERNAL_MARK
 
	`LOG_MAKEPRI
(
LOG_NFACILITIES
, 0)

	)

69 
	s_code
 {

70 *
	mc_«me
;

71 
	mc_vÆ
;

72 } 
	tCODE
;

74 
CODE
 
	g¥i‹ôy«mes
[] =

76 { "Æît", 
LOG_ALERT
 },

77 { "¸ô", 
LOG_CRIT
 },

78 { "debug", 
LOG_DEBUG
 },

79 { "emîg", 
LOG_EMERG
 },

80 { "îr", 
LOG_ERR
 },

81 { "îr‹", 
LOG_ERR
 },

82 { "öfo", 
LOG_INFO
 },

83 { "n⁄e", 
INTERNAL_NOPRI
 },

84 { "nŸi˚", 
LOG_NOTICE
 },

85 { "∑nic", 
LOG_EMERG
 },

86 { "w¨n", 
LOG_WARNING
 },

87 { "w¨nög", 
LOG_WARNING
 },

88 { 
NULL
, -1 }

93 
	#LOG_KERN
 (0<<3Ë

	)

94 
	#LOG_USER
 (1<<3Ë

	)

95 
	#LOG_MAIL
 (2<<3Ë

	)

96 
	#LOG_DAEMON
 (3<<3Ë

	)

97 
	#LOG_AUTH
 (4<<3Ë

	)

98 
	#LOG_SYSLOG
 (5<<3Ë

	)

99 
	#LOG_LPR
 (6<<3Ë

	)

100 
	#LOG_NEWS
 (7<<3Ë

	)

101 
	#LOG_UUCP
 (8<<3Ë

	)

102 
	#LOG_CRON
 (9<<3Ë

	)

103 
	#LOG_AUTHPRIV
 (10<<3Ë

	)

104 
	#LOG_FTP
 (11<<3Ë

	)

107 
	#LOG_LOCAL0
 (16<<3Ë

	)

108 
	#LOG_LOCAL1
 (17<<3Ë

	)

109 
	#LOG_LOCAL2
 (18<<3Ë

	)

110 
	#LOG_LOCAL3
 (19<<3Ë

	)

111 
	#LOG_LOCAL4
 (20<<3Ë

	)

112 
	#LOG_LOCAL5
 (21<<3Ë

	)

113 
	#LOG_LOCAL6
 (22<<3Ë

	)

114 
	#LOG_LOCAL7
 (23<<3Ë

	)

116 
	#LOG_NFACILITIES
 24

	)

117 
	#LOG_FACMASK
 0x03f8

	)

119 
	#LOG_FAC
(
p
Ë((’Ë& 
LOG_FACMASK
Ë>> 3)

	)

121 #ifde‡
SYSLOG_NAMES


122 
CODE
 
	gÁcûôy«mes
[] =

124 { "auth", 
LOG_AUTH
 },

125 { "auth¥iv", 
LOG_AUTHPRIV
 },

126 { "¸⁄", 
LOG_CRON
 },

127 { "d´m⁄", 
LOG_DAEMON
 },

128 { "·p", 
LOG_FTP
 },

129 { "kîn", 
LOG_KERN
 },

130 { "Õr", 
LOG_LPR
 },

131 { "maû", 
LOG_MAIL
 },

132 { "m¨k", 
INTERNAL_MARK
 },

133 { "√ws", 
LOG_NEWS
 },

134 { "£curôy", 
LOG_AUTH
 },

135 { "sy¶og", 
LOG_SYSLOG
 },

136 { "u£r", 
LOG_USER
 },

137 { "uu˝", 
LOG_UUCP
 },

138 { "loˇl0", 
LOG_LOCAL0
 },

139 { "loˇl1", 
LOG_LOCAL1
 },

140 { "loˇl2", 
LOG_LOCAL2
 },

141 { "loˇl3", 
LOG_LOCAL3
 },

142 { "loˇl4", 
LOG_LOCAL4
 },

143 { "loˇl5", 
LOG_LOCAL5
 },

144 { "loˇl6", 
LOG_LOCAL6
 },

145 { "loˇl7", 
LOG_LOCAL7
 },

146 { 
NULL
, -1 }

153 
	#LOG_MASK
(
¥i
Ë(1 << (¥i)Ë

	)

154 
	#LOG_UPTO
(
¥i
Ë((1 << (’ri)+1)Ë- 1Ë

	)

162 
	#LOG_PID
 0x01

	)

163 
	#LOG_CONS
 0x02

	)

164 
	#LOG_ODELAY
 0x04

	)

165 
	#LOG_NDELAY
 0x08

	)

166 
	#LOG_NOWAIT
 0x10

	)

167 
	#LOG_PERROR
 0x20

	)

169 
__BEGIN_DECLS


175 
˛o£log
 ();

181 
›ílog
 (
__c⁄°
 *
__idít
, 
__›ti⁄
, 
__Ácûôy
);

184 
	$£éogmask
 (
__mask
Ë
__THROW
;

190 
	$sy¶og
 (
__¥i
, 
__c⁄°
 *
__fmt
, ...)

191 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

193 #ifde‡
__USE_BSD


200 
	$vsy¶og
 (
__¥i
, 
__c⁄°
 *
__fmt
, 
__gnuc_va_li°
 
__≠
)

201 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

206 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


207 
	~<bôs/sy¶og.h
>

209 #ifde‡
__LDBL_COMPAT


210 
	~<bôs/sy¶og-ldbl.h
>

213 
__END_DECLS


	@/usr/include/sys/sysmacros.h

21 #i‚de‡
_SYS_SYSMACROS_H


22 
	#_SYS_SYSMACROS_H
 1

	)

24 
	~<„©uªs.h
>

29 #ifde‡
__GLIBC_HAVE_LONG_LONG


30 
__exãnsi⁄__


31 
	$gnu_dev_maj‹
 (
__dev
)

32 
__THROW
;

33 
__exãnsi⁄__


34 
	$gnu_dev_mö‹
 (
__dev
)

35 
__THROW
;

36 
__exãnsi⁄__


37 
	$gnu_dev_makedev
 (
__maj‹
,

38 
__mö‹
)

39 
__THROW
;

41 #i‡
deföed
 
__GNUC__
 && __GNUC__ >2 && deföed 
__USE_EXTERN_INLINES


42 
__exãnsi⁄__
 
__exã∫_ölöe
 

43 
	`__NTH
 (
	$gnu_dev_maj‹
 (
__dev
))

45  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

46 
	}
}

48 
__exãnsi⁄__
 
__exã∫_ölöe
 

49 
__NTH
 (
	$gnu_dev_mö‹
 (
__dev
))

51  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

52 
	}
}

54 
__exãnsi⁄__
 
__exã∫_ölöe
 

55 
__NTH
 (
	$gnu_dev_makedev
 (
__maj‹
, 
__mö‹
))

57  ((
__mö‹
 & 0xffË| ((
__maj‹
 & 0xfff) << 8)

58 | (((Ë(
__mö‹
 & ~0xff)) << 12)

59 | (((Ë(
__maj‹
 & ~0xfff)) << 32));

60 
	}
}

65 
	#maj‹
(
dev
Ë
	`gnu_dev_maj‹
 (dev)

	)

66 
	#mö‹
(
dev
Ë
	`gnu_dev_mö‹
 (dev)

	)

67 
	#makedev
(
maj
, 
mö
Ë
	`gnu_dev_makedev
 (maj, mö)

	)

	@/usr/include/sys/ttydefaults.h

40 #i‚de‡
_SYS_TTYDEFAULTS_H_


41 
	#_SYS_TTYDEFAULTS_H_


	)

46 
	#TTYDEF_IFLAG
 (
BRKINT
 | 
ISTRIP
 | 
ICRNL
 | 
IMAXBEL
 | 
IXON
 | 
IXANY
)

	)

47 
	#TTYDEF_OFLAG
 (
OPOST
 | 
ONLCR
 | 
XTABS
)

	)

48 
	#TTYDEF_LFLAG
 (
ECHO
 | 
ICANON
 | 
ISIG
 | 
IEXTEN
 | 
ECHOE
|
ECHOKE
|
ECHOCTL
)

	)

49 
	#TTYDEF_CFLAG
 (
CREAD
 | 
CS7
 | 
PARENB
 | 
HUPCL
)

	)

50 
	#TTYDEF_SPEED
 (
B9600
)

	)

55 
	#CTRL
(
x
Ë(x&037)

	)

56 
	#CEOF
 
	`CTRL
('d')

	)

57 #ifde‡
_POSIX_VDISABLE


58 
	#CEOL
 
_POSIX_VDISABLE


	)

60 
	#CEOL
 '\0'

	)

62 
	#CERASE
 0177

	)

63 
	#CINTR
 
	`CTRL
('c')

	)

64 #ifde‡
_POSIX_VDISABLE


65 
	#CSTATUS
 
_POSIX_VDISABLE


	)

67 
	#CSTATUS
 '\0'

	)

69 
	#CKILL
 
	`CTRL
('u')

	)

70 
	#CMIN
 1

	)

71 
	#CQUIT
 034

	)

72 
	#CSUSP
 
	`CTRL
('z')

	)

73 
	#CTIME
 0

	)

74 
	#CDSUSP
 
	`CTRL
('y')

	)

75 
	#CSTART
 
	`CTRL
('q')

	)

76 
	#CSTOP
 
	`CTRL
('s')

	)

77 
	#CLNEXT
 
	`CTRL
('v')

	)

78 
	#CDISCARD
 
	`CTRL
('o')

	)

79 
	#CWERASE
 
	`CTRL
('w')

	)

80 
	#CREPRINT
 
	`CTRL
('r')

	)

81 
	#CEOT
 
CEOF


	)

83 
	#CBRK
 
CEOL


	)

84 
	#CRPRNT
 
CREPRINT


	)

85 
	#CFLUSH
 
CDISCARD


	)

93 #ifde‡
TTYDEFCHARS


94 
cc_t
 
	gâydefch¨s
[
NCCS
] = {

95 
CEOF
, 
CEOL
, CEOL, 
CERASE
, 
CWERASE
, 
CKILL
, 
CREPRINT
,

96 
_POSIX_VDISABLE
, 
CINTR
, 
CQUIT
, 
CSUSP
, 
CDSUSP
, 
CSTART
, 
CSTOP
, 
CLNEXT
,

97 
CDISCARD
, 
CMIN
, 
CTIME
, 
CSTATUS
, 
_POSIX_VDISABLE


99 #unde‡
TTYDEFCHARS


	@/usr/include/sys/ucontext.h

19 #i‚de‡
_SYS_UCONTEXT_H


20 
	#_SYS_UCONTEXT_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<sig«l.h
>

24 
	~<bôs/w‹dsize.h
>

28 
	~<bôs/sigc⁄ãxt.h
>

30 #i‡
__WORDSIZE
 == 64

33 
	tgªg_t
;

36 
	#NGREG
 23

	)

39 
gªg_t
 
	tgªg£t_t
[
NGREG
];

41 #ifde‡
__USE_GNU


45 
	mREG_R8
 = 0,

46 
	#REG_R8
 
REG_R8


	)

47 
	mREG_R9
,

48 
	#REG_R9
 
REG_R9


	)

49 
	mREG_R10
,

50 
	#REG_R10
 
REG_R10


	)

51 
	mREG_R11
,

52 
	#REG_R11
 
REG_R11


	)

53 
	mREG_R12
,

54 
	#REG_R12
 
REG_R12


	)

55 
	mREG_R13
,

56 
	#REG_R13
 
REG_R13


	)

57 
	mREG_R14
,

58 
	#REG_R14
 
REG_R14


	)

59 
	mREG_R15
,

60 
	#REG_R15
 
REG_R15


	)

61 
	mREG_RDI
,

62 
	#REG_RDI
 
REG_RDI


	)

63 
	mREG_RSI
,

64 
	#REG_RSI
 
REG_RSI


	)

65 
	mREG_RBP
,

66 
	#REG_RBP
 
REG_RBP


	)

67 
	mREG_RBX
,

68 
	#REG_RBX
 
REG_RBX


	)

69 
	mREG_RDX
,

70 
	#REG_RDX
 
REG_RDX


	)

71 
	mREG_RAX
,

72 
	#REG_RAX
 
REG_RAX


	)

73 
	mREG_RCX
,

74 
	#REG_RCX
 
REG_RCX


	)

75 
	mREG_RSP
,

76 
	#REG_RSP
 
REG_RSP


	)

77 
	mREG_RIP
,

78 
	#REG_RIP
 
REG_RIP


	)

79 
	mREG_EFL
,

80 
	#REG_EFL
 
REG_EFL


	)

81 
	mREG_CSGSFS
,

82 
	#REG_CSGSFS
 
REG_CSGSFS


	)

83 
	mREG_ERR
,

84 
	#REG_ERR
 
REG_ERR


	)

85 
	mREG_TRAPNO
,

86 
	#REG_TRAPNO
 
REG_TRAPNO


	)

87 
	mREG_OLDMASK
,

88 
	#REG_OLDMASK
 
REG_OLDMASK


	)

89 
	mREG_CR2


90 
	#REG_CR2
 
REG_CR2


	)

94 
	s_libc_Âxªg


96 
	msignifiˇnd
[4];

97 
	mexp⁄ít
;

98 
	m∑ddög
[3];

101 
	s_libc_xmmªg


103 
__uöt32_t
 
	mñemít
[4];

106 
	s_libc_Â°©e


109 
__uöt16_t
 
	mcwd
;

110 
__uöt16_t
 
	mswd
;

111 
__uöt16_t
 
	m·w
;

112 
__uöt16_t
 
	mf›
;

113 
__uöt64_t
 
	mrù
;

114 
__uöt64_t
 
	mrdp
;

115 
__uöt32_t
 
	mmxc§
;

116 
__uöt32_t
 
	mmx¸_mask
;

117 
_libc_Âxªg
 
	m_°
[8];

118 
_libc_xmmªg
 
	m_xmm
[16];

119 
__uöt32_t
 
	m∑ddög
[24];

123 
_libc_Â°©e
 *
	tÂªg£t_t
;

128 
gªg£t_t
 
	mgªgs
;

130 
Âªg£t_t
 
	mÂªgs
;

131 
	m__ª£rved1
 [8];

132 } 
	tmc⁄ãxt_t
;

135 
	suc⁄ãxt


137 
	muc_Êags
;

138 
uc⁄ãxt
 *
	muc_lök
;

139 
°ack_t
 
	muc_°ack
;

140 
mc⁄ãxt_t
 
	muc_mc⁄ãxt
;

141 
__sig£t_t
 
	muc_sigmask
;

142 
_libc_Â°©e
 
	m__Âªgs_mem
;

143 } 
	tuc⁄ãxt_t
;

148 
	tgªg_t
;

151 
	#NGREG
 19

	)

154 
gªg_t
 
	tgªg£t_t
[
NGREG
];

156 #ifde‡
__USE_GNU


160 
	mREG_GS
 = 0,

161 
	#REG_GS
 
REG_GS


	)

162 
	mREG_FS
,

163 
	#REG_FS
 
REG_FS


	)

164 
	mREG_ES
,

165 
	#REG_ES
 
REG_ES


	)

166 
	mREG_DS
,

167 
	#REG_DS
 
REG_DS


	)

168 
	mREG_EDI
,

169 
	#REG_EDI
 
REG_EDI


	)

170 
	mREG_ESI
,

171 
	#REG_ESI
 
REG_ESI


	)

172 
	mREG_EBP
,

173 
	#REG_EBP
 
REG_EBP


	)

174 
	mREG_ESP
,

175 
	#REG_ESP
 
REG_ESP


	)

176 
	mREG_EBX
,

177 
	#REG_EBX
 
REG_EBX


	)

178 
	mREG_EDX
,

179 
	#REG_EDX
 
REG_EDX


	)

180 
	mREG_ECX
,

181 
	#REG_ECX
 
REG_ECX


	)

182 
	mREG_EAX
,

183 
	#REG_EAX
 
REG_EAX


	)

184 
	mREG_TRAPNO
,

185 
	#REG_TRAPNO
 
REG_TRAPNO


	)

186 
	mREG_ERR
,

187 
	#REG_ERR
 
REG_ERR


	)

188 
	mREG_EIP
,

189 
	#REG_EIP
 
REG_EIP


	)

190 
	mREG_CS
,

191 
	#REG_CS
 
REG_CS


	)

192 
	mREG_EFL
,

193 
	#REG_EFL
 
REG_EFL


	)

194 
	mREG_UESP
,

195 
	#REG_UESP
 
REG_UESP


	)

196 
	mREG_SS


197 
	#REG_SS
 
REG_SS


	)

202 
	s_libc_Âªg


204 
	msignifiˇnd
[4];

205 
	mexp⁄ít
;

208 
	s_libc_Â°©e


210 
	mcw
;

211 
	msw
;

212 
	mèg
;

213 
	mùoff
;

214 
	mcs£l
;

215 
	md©aoff
;

216 
	md©a£l
;

217 
_libc_Âªg
 
	m_°
[8];

218 
	m°©us
;

222 
_libc_Â°©e
 *
	tÂªg£t_t
;

227 
gªg£t_t
 
	mgªgs
;

230 
Âªg£t_t
 
	mÂªgs
;

231 
	mﬁdmask
;

232 
	m¸2
;

233 } 
	tmc⁄ãxt_t
;

236 
	suc⁄ãxt


238 
	muc_Êags
;

239 
uc⁄ãxt
 *
	muc_lök
;

240 
°ack_t
 
	muc_°ack
;

241 
mc⁄ãxt_t
 
	muc_mc⁄ãxt
;

242 
__sig£t_t
 
	muc_sigmask
;

243 
_libc_Â°©e
 
	m__Âªgs_mem
;

244 } 
	tuc⁄ãxt_t
;

	@/usr/include/sys/uio.h

19 #i‚de‡
_SYS_UIO_H


20 
	#_SYS_UIO_H
 1

	)

22 
	~<„©uªs.h
>

24 
	~<sys/ty≥s.h
>

26 
	g__BEGIN_DECLS


29 
	~<bôs/uio.h
>

40 
ssize_t
 
	$ªadv
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
)

41 
__wur
;

51 
ssize_t
 
	$wrôev
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
)

52 
__wur
;

55 #ifde‡
__USE_BSD


56 #i‚de‡
__USE_FILE_OFFSET64


66 
ssize_t
 
	$¥ódv
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

67 
__off_t
 
__off£t
Ë
__wur
;

78 
ssize_t
 
	$pwrôev
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

79 
__off_t
 
__off£t
Ë
__wur
;

81 #ifde‡
__REDIRECT


82 
ssize_t
 
	`__REDIRECT
 (
¥ódv
, (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
,

83 
__cou¡
, 
__off64_t
 
__off£t
),

84 
¥ódv64
Ë
__wur
;

85 
ssize_t
 
	`__REDIRECT
 (
pwrôev
, (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
,

86 
__cou¡
, 
__off64_t
 
__off£t
),

87 
pwrôev64
Ë
__wur
;

89 
	#¥ódv
 
¥ódv64


	)

90 
	#pwrôev
 
pwrôev64


	)

94 #ifde‡
__USE_LARGEFILE64


104 
ssize_t
 
	$¥ódv64
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

105 
__off64_t
 
__off£t
Ë
__wur
;

116 
ssize_t
 
	$pwrôev64
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

117 
__off64_t
 
__off£t
Ë
__wur
;

121 
__END_DECLS


	@/usr/include/xlocale.h

21 #i‚de‡
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loˇÀ_°ru˘


31 
loˇÀ_d©a
 *
	m__loˇÀs
[13];

34 c⁄° *
	m__˘y≥_b
;

35 c⁄° *
	m__˘y≥_tﬁowî
;

36 c⁄° *
	m__˘y≥_touµî
;

39 c⁄° *
	m__«mes
[13];

40 } *
	t__loˇÀ_t
;

43 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mb°©e_t
 
	m__°©e
;

26 } 
	t_G_Âos_t
;

29 
__off64_t
 
	m__pos
;

30 
__mb°©e_t
 
	m__°©e
;

31 } 
	t_G_Âos64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch¨_t
 
wch¨_t


	)

38 
	#_G_wöt_t
 
wöt_t


	)

39 
	#_G_°©64
 
°©64


	)

40 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gc⁄v.h
>

44 
__gc⁄v_öfo
 
	m__cd
;

47 
__gc⁄v_öfo
 
	m__cd
;

48 
__gc⁄v_°ï_d©a
 
	m__d©a
;

49 } 
	m__comböed
;

50 } 
	t_G_ic⁄v_t
;

53 
	t_G_öt16_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_öt32_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_uöt16_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_uöt32_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li°
 
__gnuc_va_li°


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__›í64


	)

78 
	#_G_LSEEK64
 
__l£ek64


	)

79 
	#_G_MMAP64
 
__mm≠64


	)

80 
	#_G_FSTAT64
(
fd
,
buf
Ë
	`__fx°©64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #i‡
deföed
 
__˝lu•lus
 || deföed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST
Ë
	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
Ë()

	)

	@/usr/include/asm-generic/int-ll64.h

8 #i‚de‡
_ASM_GENERIC_INT_LL64_H


9 
	#_ASM_GENERIC_INT_LL64_H


	)

11 
	~<asm/bô•îl⁄g.h
>

13 #i‚de‡
__ASSEMBLY__


19 
__sig√d__
 
	t__s8
;

20 
	t__u8
;

22 
__sig√d__
 
	t__s16
;

23 
	t__u16
;

25 
__sig√d__
 
	t__s32
;

26 
	t__u32
;

28 #ifde‡
__GNUC__


29 
__exãnsi⁄__
 
__sig√d__
 
	t__s64
;

30 
__exãnsi⁄__
 
	t__u64
;

32 
__sig√d__
 
	t__s64
;

33 
	t__u64
;

	@/usr/include/asm/ioctls.h

1 
	~<asm-gíîic/io˘ls.h
>

	@/usr/include/asm/posix_types.h

1 #ifde‡
__i386__


2 
	~"posix_ty≥s_32.h
"

4 
	~"posix_ty≥s_64.h
"

	@/usr/include/asm/socket.h

1 
	~<asm-gíîic/sockë.h
>

	@/usr/include/bits/byteswap.h

21 #i‡!
deföed
 
_BYTESWAP_H
 && !deföed 
_NETINET_IN_H
 && !deföed 
_ENDIAN_H


25 #i‚de‡
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<bôs/w‹dsize.h
>

31 
	#__bsw≠_c⁄°™t_16
(
x
) \

32 ((((
x
Ë>> 8Ë& 0xffË| (((xË& 0xffË<< 8))

	)

34 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw≠_16
(
x
) \

36 (
__exãnsi⁄__
 \

37 ({ 
__v
, 
__x
 = (
x
); \

38 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

39 
__v
 = 
	`__bsw≠_c⁄°™t_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "Ù" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw≠_16
(
x
) \

49 (
__exãnsi⁄__
 \

50 ({ 
__x
 = (
x
); 
	`__bsw≠_c⁄°™t_16
 (__x); }))

	)

55 
	#__bsw≠_c⁄°™t_32
(
x
) \

56 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

57 (((
x
Ë& 0x0000ff00Ë<< 8Ë| (((xË& 0x000000ffË<< 24))

	)

59 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

60 #i‡
__WORDSIZE
 =64 || (
deföed
 
__i486__
 || deföed 
__≥¡ium__
 \

61 || 
deföed
 
	g__≥¡ium¥o__
 || deföed 
	g__≥¡ium4__
 \

62 || 
deföed
 
	g__k8__
 || deföed 
	g__©hl⁄__
 \

63 || 
deföed
 
	g__k6__
 || deföed 
	g__noc⁄a__
 \

64 || 
deföed
 
	g__c‹e2__
 || deföed 
	g__geode__
 \

65 || 
deföed
 
	g__amdÁm10__
)

68 
	#__bsw≠_32
(
x
) \

69 (
__exãnsi⁄__
 \

70 ({ 
__v
, 
__x
 = (
x
); \

71 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

72 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

74 
	`__asm__
 ("bsw≠ %0" : "Ù" (
__v
Ë: "0" (
__x
)); \

75 
__v
; }))

	)

77 
	#__bsw≠_32
(
x
) \

78 (
__exãnsi⁄__
 \

79 ({ 
__v
, 
__x
 = (
x
); \

80 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

81 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

83 
	`__asm__
 ("rorw $8, %w0;" \

86 : "Ù" (
__v
) \

87 : "0" (
__x
) \

89 
__v
; }))

	)

92 
	#__bsw≠_32
(
x
) \

93 (
__exãnsi⁄__
 \

94 ({ 
__x
 = (
x
); 
	`__bsw≠_c⁄°™t_32
 (__x); }))

	)

98 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

100 
	#__bsw≠_c⁄°™t_64
(
x
) \

101 ((((
x
) & 0xff00000000000000ull) >> 56) \

102 | (((
x
) & 0x00ff000000000000ull) >> 40) \

103 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

104 | (((
x
) & 0x000000ff00000000ull) >> 8) \

105 | (((
x
) & 0x00000000ff000000ull) << 8) \

106 | (((
x
) & 0x0000000000ff0000ull) << 24) \

107 | (((
x
) & 0x000000000000ff00ull) << 40) \

108 | (((
x
Ë& 0x00000000000000ffuŒË<< 56))

	)

110 #i‡
__WORDSIZE
 == 64

111 
	#__bsw≠_64
(
x
) \

112 (
__exãnsi⁄__
 \

113 ({ 
__v
, 
__x
 = (
x
); \

114 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

115 
__v
 = 
	`__bsw≠_c⁄°™t_64
 (
__x
); \

117 
	`__asm__
 ("bsw≠ %q0" : "Ù" (
__v
Ë: "0" (
__x
)); \

118 
__v
; }))

	)

120 
	#__bsw≠_64
(
x
) \

121 (
__exãnsi⁄__
 \

122 ({ uni⁄ { 
__exãnsi⁄__
 
__Œ
; \

123 
__l
[2]; } 
__w
, 
__r
; \

124 i‡(
	`__buûtö_c⁄°™t_p
 (
x
)) \

125 
__r
.
__Œ
 = 
	`__bsw≠_c⁄°™t_64
 (
x
); \

128 
__w
.
__Œ
 = (
x
); \

129 
__r
.
__l
[0] = 
	`__bsw≠_32
 (
__w
.__l[1]); \

130 
__r
.
__l
[1] = 
	`__bsw≠_32
 (
__w
.__l[0]); \

132 
__r
.
__Œ
; }))

	)

	@/usr/include/bits/endian.h

3 #i‚de‡
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/in.h

21 #i‚de‡
_NETINET_IN_H


28 
	#IP_OPTIONS
 4

	)

29 
	#IP_HDRINCL
 3

	)

30 
	#IP_TOS
 1

	)

31 
	#IP_TTL
 2

	)

32 
	#IP_RECVOPTS
 6

	)

34 
	#IP_RECVRETOPTS
 
IP_RETOPTS


	)

35 
	#IP_RETOPTS
 7

	)

36 
	#IP_MULTICAST_IF
 32

	)

37 
	#IP_MULTICAST_TTL
 33

	)

38 
	#IP_MULTICAST_LOOP
 34

	)

39 
	#IP_ADD_MEMBERSHIP
 35

	)

40 
	#IP_DROP_MEMBERSHIP
 36

	)

41 
	#IP_UNBLOCK_SOURCE
 37

	)

42 
	#IP_BLOCK_SOURCE
 38

	)

43 
	#IP_ADD_SOURCE_MEMBERSHIP
 39

	)

44 
	#IP_DROP_SOURCE_MEMBERSHIP
 40

	)

45 
	#IP_MSFILTER
 41

	)

46 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


47 
	#MCAST_JOIN_GROUP
 42

	)

48 
	#MCAST_BLOCK_SOURCE
 43

	)

49 
	#MCAST_UNBLOCK_SOURCE
 44

	)

50 
	#MCAST_LEAVE_GROUP
 45

	)

51 
	#MCAST_JOIN_SOURCE_GROUP
 46

	)

52 
	#MCAST_LEAVE_SOURCE_GROUP
 47

	)

53 
	#MCAST_MSFILTER
 48

	)

55 
	#MCAST_EXCLUDE
 0

	)

56 
	#MCAST_INCLUDE
 1

	)

59 
	#IP_ROUTER_ALERT
 5

	)

60 
	#IP_PKTINFO
 8

	)

61 
	#IP_PKTOPTIONS
 9

	)

62 
	#IP_PMTUDISC
 10

	)

63 
	#IP_MTU_DISCOVER
 10

	)

64 
	#IP_RECVERR
 11

	)

65 
	#IP_RECVTTL
 12

	)

66 
	#IP_RECVTOS
 13

	)

70 
	#IP_PMTUDISC_DONT
 0

	)

71 
	#IP_PMTUDISC_WANT
 1

	)

72 
	#IP_PMTUDISC_DO
 2

	)

73 
	#IP_PMTUDISC_PROBE
 3

	)

76 
	#SOL_IP
 0

	)

78 
	#IP_DEFAULT_MULTICAST_TTL
 1

	)

79 
	#IP_DEFAULT_MULTICAST_LOOP
 1

	)

80 
	#IP_MAX_MEMBERSHIPS
 20

	)

82 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


86 
	sù_›ts


88 
ö_addr
 
	mù_d°
;

89 
	mù_›ts
[40];

93 
	sù_mªqn


95 
ö_addr
 
	mimr_mu…üddr
;

96 
ö_addr
 
	mimr_addªss
;

97 
	mimr_ifödex
;

101 
	sö_pktöfo


103 
	mùi_ifödex
;

104 
ö_addr
 
	mùi_•ec_d°
;

105 
ö_addr
 
	mùi_addr
;

112 
	#IPV6_ADDRFORM
 1

	)

113 
	#IPV6_2292PKTINFO
 2

	)

114 
	#IPV6_2292HOPOPTS
 3

	)

115 
	#IPV6_2292DSTOPTS
 4

	)

116 
	#IPV6_2292RTHDR
 5

	)

117 
	#IPV6_2292PKTOPTIONS
 6

	)

118 
	#IPV6_CHECKSUM
 7

	)

119 
	#IPV6_2292HOPLIMIT
 8

	)

121 
	#SCM_SRCRT
 
IPV6_RXSRCRT


	)

123 
	#IPV6_NEXTHOP
 9

	)

124 
	#IPV6_AUTHHDR
 10

	)

125 
	#IPV6_UNICAST_HOPS
 16

	)

126 
	#IPV6_MULTICAST_IF
 17

	)

127 
	#IPV6_MULTICAST_HOPS
 18

	)

128 
	#IPV6_MULTICAST_LOOP
 19

	)

129 
	#IPV6_JOIN_GROUP
 20

	)

130 
	#IPV6_LEAVE_GROUP
 21

	)

131 
	#IPV6_ROUTER_ALERT
 22

	)

132 
	#IPV6_MTU_DISCOVER
 23

	)

133 
	#IPV6_MTU
 24

	)

134 
	#IPV6_RECVERR
 25

	)

135 
	#IPV6_V6ONLY
 26

	)

136 
	#IPV6_JOIN_ANYCAST
 27

	)

137 
	#IPV6_LEAVE_ANYCAST
 28

	)

138 
	#IPV6_IPSEC_POLICY
 34

	)

139 
	#IPV6_XFRM_POLICY
 35

	)

141 
	#IPV6_RECVPKTINFO
 49

	)

142 
	#IPV6_PKTINFO
 50

	)

143 
	#IPV6_RECVHOPLIMIT
 51

	)

144 
	#IPV6_HOPLIMIT
 52

	)

145 
	#IPV6_RECVHOPOPTS
 53

	)

146 
	#IPV6_HOPOPTS
 54

	)

147 
	#IPV6_RTHDRDSTOPTS
 55

	)

148 
	#IPV6_RECVRTHDR
 56

	)

149 
	#IPV6_RTHDR
 57

	)

150 
	#IPV6_RECVDSTOPTS
 58

	)

151 
	#IPV6_DSTOPTS
 59

	)

153 
	#IPV6_RECVTCLASS
 66

	)

154 
	#IPV6_TCLASS
 67

	)

157 
	#IPV6_ADD_MEMBERSHIP
 
IPV6_JOIN_GROUP


	)

158 
	#IPV6_DROP_MEMBERSHIP
 
IPV6_LEAVE_GROUP


	)

159 
	#IPV6_RXHOPOPTS
 
IPV6_HOPOPTS


	)

160 
	#IPV6_RXDSTOPTS
 
IPV6_DSTOPTS


	)

163 
	#IPV6_PMTUDISC_DONT
 0

	)

164 
	#IPV6_PMTUDISC_WANT
 1

	)

165 
	#IPV6_PMTUDISC_DO
 2

	)

166 
	#IPV6_PMTUDISC_PROBE
 3

	)

169 
	#SOL_IPV6
 41

	)

170 
	#SOL_ICMPV6
 58

	)

173 
	#IPV6_RTHDR_LOOSE
 0

	)

174 
	#IPV6_RTHDR_STRICT
 1

	)

176 
	#IPV6_RTHDR_TYPE_0
 0

	)

	@/usr/include/bits/libio-ldbl.h

20 #i‚de‡
_IO_STDIO_H


24 
	$__LDBL_REDIR_DECL
 (
_IO_vfsˇnf
)

25 
	`__LDBL_REDIR_DECL
 (
_IO_vÂrötf
)

	@/usr/include/bits/local_lim.h

25 #i‚de‡
NR_OPEN


26 
	#__undef_NR_OPEN


	)

28 #i‚de‡
LINK_MAX


29 
	#__undef_LINK_MAX


	)

31 #i‚de‡
OPEN_MAX


32 
	#__undef_OPEN_MAX


	)

34 #i‚de‡
ARG_MAX


35 
	#__undef_ARG_MAX


	)

39 
	~<löux/limôs.h
>

42 #ifde‡
__undef_NR_OPEN


43 #unde‡
NR_OPEN


44 #unde‡
__undef_NR_OPEN


47 #ifde‡
__undef_LINK_MAX


48 #unde‡
LINK_MAX


49 #unde‡
__undef_LINK_MAX


52 #ifde‡
__undef_OPEN_MAX


53 #unde‡
OPEN_MAX


54 #unde‡
__undef_OPEN_MAX


57 #ifde‡
__undef_ARG_MAX


58 #unde‡
ARG_MAX


59 #unde‡
__undef_ARG_MAX


63 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

65 
	#PTHREAD_KEYS_MAX
 1024

	)

68 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

70 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

73 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

75 #unde‡
PTHREAD_THREADS_MAX


79 
	#AIO_PRIO_DELTA_MAX
 20

	)

82 
	#PTHREAD_STACK_MIN
 16384

	)

85 
	#DELAYTIMER_MAX
 2147483647

	)

88 
	#TTY_NAME_MAX
 32

	)

91 
	#LOGIN_NAME_MAX
 256

	)

94 
	#HOST_NAME_MAX
 64

	)

97 
	#MQ_PRIO_MAX
 32768

	)

100 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/poll.h

19 #i‚de‡
_SYS_POLL_H


26 
	#POLLIN
 0x001

	)

27 
	#POLLPRI
 0x002

	)

28 
	#POLLOUT
 0x004

	)

30 #ifde‡
__USE_XOPEN


32 
	#POLLRDNORM
 0x040

	)

33 
	#POLLRDBAND
 0x080

	)

34 
	#POLLWRNORM
 0x100

	)

35 
	#POLLWRBAND
 0x200

	)

38 #ifde‡
__USE_GNU


40 
	#POLLMSG
 0x400

	)

41 
	#POLLREMOVE
 0x1000

	)

42 
	#POLLRDHUP
 0x2000

	)

48 
	#POLLERR
 0x008

	)

49 
	#POLLHUP
 0x010

	)

50 
	#POLLNVAL
 0x020

	)

	@/usr/include/bits/predefs.h

19 #i‚de‡
_FEATURES_H


23 #i‚de‡
_PREDEFS_H


24 
	#_PREDEFS_H


	)

27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/sched.h

22 #i‚de‡
__√ed_sched∑øm


24 #i‚de‡
_SCHED_H


30 
	#SCHED_OTHER
 0

	)

31 
	#SCHED_FIFO
 1

	)

32 
	#SCHED_RR
 2

	)

33 #ifde‡
__USE_GNU


34 
	#SCHED_BATCH
 3

	)

37 #ifde‡
__USE_MISC


39 
	#CSIGNAL
 0x000000f‡

	)

40 
	#CLONE_VM
 0x00000100

	)

41 
	#CLONE_FS
 0x00000200

	)

42 
	#CLONE_FILES
 0x00000400

	)

43 
	#CLONE_SIGHAND
 0x00000800

	)

44 
	#CLONE_PTRACE
 0x00002000

	)

45 
	#CLONE_VFORK
 0x00004000

	)

47 
	#CLONE_PARENT
 0x00008000

	)

49 
	#CLONE_THREAD
 0x00010000

	)

50 
	#CLONE_NEWNS
 0x00020000

	)

51 
	#CLONE_SYSVSEM
 0x00040000

	)

52 
	#CLONE_SETTLS
 0x00080000

	)

53 
	#CLONE_PARENT_SETTID
 0x00100000

	)

55 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

57 
	#CLONE_DETACHED
 0x00400000

	)

58 
	#CLONE_UNTRACED
 0x00800000

	)

60 
	#CLONE_CHILD_SETTID
 0x01000000

	)

62 
	#CLONE_NEWUTS
 0x04000000

	)

63 
	#CLONE_NEWIPC
 0x08000000

	)

64 
	#CLONE_NEWUSER
 0x10000000

	)

65 
	#CLONE_NEWPID
 0x20000000

	)

66 
	#CLONE_NEWNET
 0x40000000

	)

67 
	#CLONE_IO
 0x80000000

	)

71 
	ssched_∑øm


73 
	m__sched_¥i‹ôy
;

76 
	g__BEGIN_DECLS


78 #ifde‡
__USE_MISC


80 
˛⁄e
 ((*
__‚
Ë(*
__¨g
), *
__chûd_°ack
,

81 
__Êags
, *
__¨g
, ...Ë
__THROW
;

84 
	$unsh¨e
 (
__Êags
Ë
__THROW
;

87 
	$sched_gë˝u
 (Ë
__THROW
;

90 
__END_DECLS


94 #i‡!
deföed
 
__deföed_sched∑øm
 \

95 && (
deföed
 
__√ed_sched∑øm
 || deföed 
_SCHED_H
)

96 
	#__deföed_sched∑øm
 1

	)

98 
	s__sched_∑øm


100 
__sched_¥i‹ôy
;

102 #unde‡
__√ed_sched∑øm


106 #i‡
deföed
 
_SCHED_H
 && !deföed 
__˝u_£t_t_deföed


107 
	#__˝u_£t_t_deföed


	)

109 
	#__CPU_SETSIZE
 1024

	)

110 
	#__NCPUBITS
 (8 *  (
__˝u_mask
))

	)

113 
	t__˝u_mask
;

116 
	#__CPUELT
(
˝u
Ë((˝uË/ 
__NCPUBITS
)

	)

117 
	#__CPUMASK
(
˝u
Ë((
__˝u_mask
Ë1 << ((˝uË% 
__NCPUBITS
))

	)

122 
__˝u_mask
 
__bôs
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

123 } 
	t˝u_£t_t
;

126 #i‡
	`__GNUC_PREREQ
 (2, 91)

127 
	#__CPU_ZERO_S
(
£tsize
, 
˝u£ç
) \

128 dÿ
	`__buûtö_mem£t
 (
˝u£ç
, '\0', 
£tsize
); 0)

	)

130 
	#__CPU_ZERO_S
(
£tsize
, 
˝u£ç
) \

132 
size_t
 
__i
; \

133 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

134 
__˝u_mask
 *
__bôs
 = (
˝u£ç
)->__bits; \

135 
__i
 = 0; __ò< 
__imax
; ++__i) \

136 
__bôs
[
__i
] = 0; \

137 
	}
} 0)

	)

139 
	#__CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

140 (
__exãnsi⁄__
 \

141 ({ 
size_t
 
__˝u
 = (
˝u
); \

142 
__˝u
 < 8 * (
£tsize
) \

143 ? (((
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

144 |
	`__CPUMASK
 (
__˝u
)) \

145 : 0; }))

	)

146 
	#__CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

147 (
__exãnsi⁄__
 \

148 ({ 
size_t
 
__˝u
 = (
˝u
); \

149 
__˝u
 < 8 * (
£tsize
) \

150 ? (((
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

151 &~
	`__CPUMASK
 (
__˝u
)) \

152 : 0; }))

	)

153 
	#__CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

154 (
__exãnsi⁄__
 \

155 ({ 
size_t
 
__˝u
 = (
˝u
); \

156 
__˝u
 < 8 * (
£tsize
) \

157 ? ((((
__c⁄°
 
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

158 & 
	`__CPUMASK
 (
__˝u
))) != 0 \

159 : 0; }))

	)

161 
	#__CPU_COUNT_S
(
£tsize
, 
˝u£ç
) \

162 
	`__sched_˝ucou¡
 (
£tsize
, 
˝u£ç
)

	)

164 #i‡
__GNUC_PREREQ
 (2, 91)

165 
	#__CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

166 (
	`__buûtö_memcmp
 (
˝u£ç1
, 
˝u£ç2
, 
£tsize
Ë=0)

	)

168 
	#__CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

169 (
__exãnsi⁄__
 \

170 ({ 
__c⁄°
 
__˝u_mask
 *
__¨r1
 = (
˝u£ç1
)->
__bôs
; \

171 
__c⁄°
 
__˝u_mask
 *
__¨r2
 = (
˝u£ç2
)->
__bôs
; \

172 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

173 
size_t
 
__i
; \

174 
__i
 = 0; __ò< 
__imax
; ++__i) \

175 i‡(
__bôs
[
__i
] != __bits[__i]) \

177 
__i
 =
__imax
; }))

	)

180 
	#__CPU_OP_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, 
›
) \

181 (
__exãnsi⁄__
 \

182 ({ 
˝u_£t_t
 *
__de°
 = (
de°£t
); \

183 
__c⁄°
 
__˝u_mask
 *
__¨r1
 = (
§c£t1
)->
__bôs
; \

184 
__c⁄°
 
__˝u_mask
 *
__¨r2
 = (
§c£t2
)->
__bôs
; \

185 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

186 
size_t
 
__i
; \

187 
__i
 = 0; __ò< 
__imax
; ++__i) \

188 ((
__˝u_mask
 *Ë
__de°
->
__bôs
)[
__i
] = 
__¨r1
[__i] 
›
 
__¨r2
[__i]; \

189 
__de°
; }))

	)

191 
	#__CPU_ALLOC_SIZE
(
cou¡
) \

192 ((((
cou¡
Ë+ 
__NCPUBITS
 - 1Ë/ __NCPUBITSË*  (
__˝u_mask
))

	)

193 
	#__CPU_ALLOC
(
cou¡
Ë
	`__sched_˝uÆloc
 (cou¡)

	)

194 
	#__CPU_FREE
(
˝u£t
Ë
	`__sched_˝u‰ì
 (˝u£t)

	)

196 
__BEGIN_DECLS


198 
	$__sched_˝ucou¡
 (
size_t
 
__£tsize
, c⁄° 
˝u_£t_t
 *
__£ç
)

199 
__THROW
;

200 
˝u_£t_t
 *
	$__sched_˝uÆloc
 (
size_t
 
__cou¡
Ë
__THROW
 
__wur
;

201 
	$__sched_˝u‰ì
 (
˝u_£t_t
 *
__£t
Ë
__THROW
;

203 
__END_DECLS


	@/usr/include/bits/select.h

19 #i‚de‡
_SYS_SELECT_H


23 
	~<bôs/w‹dsize.h
>

26 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

28 #i‡
__WORDSIZE
 == 64

29 
	#__FD_ZERO_STOS
 "°osq"

	)

31 
	#__FD_ZERO_STOS
 "°o¶"

	)

34 
	#__FD_ZERO
(
fd•
) \

36 
__d0
, 
__d1
; \

37 
__asm__
 
	`__vﬁ©ûe__
 ("˛d;Ñï; " 
__FD_ZERO_STOS
 \

38 : "=c" (
__d0
), "=D" (
__d1
) \

39 : "a" (0), "0" ( (
fd_£t
) \

40 /  (
__fd_mask
)), \

41 "1" (&
	`__FDS_BITS
 (
fd•
)[0]) \

43 } 0)

	)

49 
	#__FD_ZERO
(
£t
) \

51 
__i
; \

52 
fd_£t
 *
__¨r
 = (
£t
); \

53 
__i
 = 0; __ò<  (
fd_£t
Ë/  (
__fd_mask
); ++__i) \

54 
	`__FDS_BITS
 (
__¨r
)[
__i
] = 0; \

55 } 0)

	)

59 
	#__FD_SET
(
d
, 
£t
Ë(
	`__FDS_BITS
 (£t)[
	`__FDELT
 (d)] |
	`__FDMASK
 (d))

	)

60 
	#__FD_CLR
(
d
, 
£t
Ë(
	`__FDS_BITS
 (£t)[
	`__FDELT
 (d)] &~
	`__FDMASK
 (d))

	)

61 
	#__FD_ISSET
(
d
, 
£t
) \

62 ((
	`__FDS_BITS
 (
£t
)[
	`__FDELT
 (
d
)] & 
	`__FDMASK
 (d)Ë!0)

	)

	@/usr/include/bits/sockaddr.h

24 #i‚de‡
_BITS_SOCKADDR_H


25 
	#_BITS_SOCKADDR_H
 1

	)

29 
	tß_Ámûy_t
;

35 
	#__SOCKADDR_COMMON
(
ß_¥efix
) \

36 
ß_Ámûy_t
 
ß_¥efix
##
Ámûy


	)

38 
	#__SOCKADDR_COMMON_SIZE
 ( ())

	)

	@/usr/include/bits/stdio-lock.h

20 #i‚de‡
_BITS_STDIO_LOCK_H


21 
	#_BITS_STDIO_LOCK_H
 1

	)

23 
	~<bôs/libc-lock.h
>

24 
	~<lowÀvñlock.h
>

28 
	#_IO_lock_öex≥nsive
 1

	)

30 °ru˘ { 
	mlock
; 
	m˙t
; *
	mow√r
; } 
	t_IO_lock_t
;

32 
	#_IO_lock_öôülizî
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

34 
	#_IO_lock_öô
(
_«me
) \

35 ((
_«me
Ë(
_IO_lock_t
Ë
_IO_lock_öôülizî
 , 0)

	)

37 
	#_IO_lock_föi
(
_«me
) \

38 ((Ë0)

	)

40 
	#_IO_lock_lock
(
_«me
) \

42 *
__£lf
 = 
THREAD_SELF
; \

43 i‡((
_«me
).
ow√r
 !
__£lf
) \

45 
	`Œl_lock
 ((
_«me
).
lock
, 
LLL_PRIVATE
); \

46 (
_«me
).
ow√r
 = 
__£lf
; \

48 ++(
_«me
).
˙t
; \

49 } 0)

	)

51 
	#_IO_lock_åylock
(
_«me
) \

53 
__ªsu…
 = 0; \

54 *
__£lf
 = 
THREAD_SELF
; \

55 i‡((
_«me
).
ow√r
 !
__£lf
) \

57 i‡(
	`Œl_åylock
 ((
_«me
).
lock
) == 0) \

59 (
_«me
).
ow√r
 = 
__£lf
; \

60 (
_«me
).
˙t
 = 1; \

63 
__ªsu…
 = 
EBUSY
; \

66 ++(
_«me
).
˙t
; \

67 
__ªsu…
; \

68 })

	)

70 
	#_IO_lock_u∆ock
(
_«me
) \

72 i‡(--(
_«me
).
˙t
 == 0) \

74 (
_«me
).
ow√r
 = 
NULL
; \

75 
	`Œl_u∆ock
 ((
_«me
).
lock
, 
LLL_PRIVATE
); \

77 } 0)

	)

81 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
) \

82 
	`__libc_˛ónup_ªgi⁄_°¨t
 (((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0, 
_f˘
, _Â)

	)

83 
	#_IO_˛ónup_ªgi⁄_°¨t_nﬂrg
(
_f˘
) \

84 
	`__libc_˛ónup_ªgi⁄_°¨t
 (1, 
_f˘
, 
NULL
)

	)

85 
	#_IO_˛ónup_ªgi⁄_íd
(
_doô
) \

86 
	`__libc_˛ónup_ªgi⁄_íd
 (
_doô
)

	)

88 #i‡
deföed
 
_LIBC
 && !deföed 
NOT_IN_libc


90 #ifde‡
__EXCEPTIONS


91 
	#_IO_acquúe_lock
(
_Â
) \

93 
_IO_FILE
 *
_IO_acquúe_lock_fûe
 \

94 
	`__©åibuã__
((
	`˛ónup
 (
_IO_acquúe_lock_f˘
))) \

95 (
_Â
); \

96 
	`_IO_Êockfûe
 (
_IO_acquúe_lock_fûe
);

	)

97 
	#_IO_acquúe_lock_˛ór_Êags2
(
_Â
) \

99 
_IO_FILE
 *
_IO_acquúe_lock_fûe
 \

100 
	`__©åibuã__
((
	`˛ónup
 (
_IO_acquúe_lock_˛ór_Êags2_f˘
))) \

101 (
_Â
); \

102 
	`_IO_Êockfûe
 (
_IO_acquúe_lock_fûe
);

	)

104 
	#_IO_acquúe_lock
(
_Â
Ë
_IO_acquúe_lock_√eds_ex˚±i⁄s_íabÀd


	)

105 
	#_IO_acquúe_lock_˛ór_Êags2
(
_Â
Ë
	`_IO_acquúe_lock
 (_Â)

	)

107 
	#_IO_ªÀa£_lock
(
_Â
Ë; } 0)

	)

	@/usr/include/bits/syslog-ldbl.h

20 #i‚de‡
_SYS_SYSLOG_H


24 
	$__LDBL_REDIR_DECL
 (
sy¶og
)

26 #ifde‡
__USE_BSD


27 
	$__LDBL_REDIR_DECL
 (
vsy¶og
)

30 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


31 
	$__LDBL_REDIR_DECL
 (
__sy¶og_chk
)

33 #ifde‡
__USE_BSD


34 
	$__LDBL_REDIR_DECL
 (
__vsy¶og_chk
)

	@/usr/include/bits/syslog-path.h

20 #i‚de‡
_SYS_SYSLOG_H


24 #i‚de‡
_BITS_SYSLOG_PATH_H


25 
	#_BITS_SYSLOG_PATH_H
 1

	)

27 
	#_PATH_LOG
 "/dev/log"

	)

	@/usr/include/bits/syslog.h

20 #i‚de‡
_SYS_SYSLOG_H


25 
	$__sy¶og_chk
 (
__¥i
, 
__Êag
, 
__c⁄°
 *
__fmt
, ...)

26 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

28 #ifde‡
__va_¨g_∑ck


29 
__exã∫_Æways_ölöe
 

30 
	$sy¶og
 (
__¥i
, 
__c⁄°
 *
__fmt
, ...)

32  
	`__sy¶og_chk
 (
__¥i
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

33 
	}
}

34 #ñi‡!
deföed
 
__˝lu•lus


35 
	#sy¶og
(
¥i
, ...) \

36 
	`__sy¶og_chk
 (
¥i
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

40 #ifde‡
__USE_BSD


41 
	$__vsy¶og_chk
 (
__¥i
, 
__Êag
, 
__c⁄°
 *
__fmt
,

42 
__gnuc_va_li°
 
__≠
)

43 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

45 
__exã∫_Æways_ölöe
 

46 
	$vsy¶og
 (
__¥i
, 
__c⁄°
 *
__fmt
, 
__gnuc_va_li°
 
__≠
)

48  
	`__vsy¶og_chk
 (
__¥i
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

49 
	}
}

	@/usr/include/bits/typesizes.h

20 #i‚de‡
_BITS_TYPES_H


24 #i‚def 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 såu˘ { 
__vÆ
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/uio.h

19 #i‡!
deföed
 
_SYS_UIO_H
 && !deföed 
_FCNTL_H


23 #i‚de‡
_BITS_UIO_H


24 
	#_BITS_UIO_H
 1

	)

26 
	~<sys/ty≥s.h
>

40 
	#UIO_MAXIOV
 1024

	)

44 
	siovec


46 *
	miov_ba£
;

47 
size_t
 
	miov_Àn
;

	@/usr/include/gnu/stubs.h

4 
	~<bôs/w‹dsize.h
>

6 #i‡
__WORDSIZE
 == 32

7 
	~<gnu/°ubs-32.h
>

8 #ñi‡
__WORDSIZE
 == 64

9 
	~<gnu/°ubs-64.h
>

	@/usr/include/linux/errno.h

1 #i‚de‡
_LINUX_ERRNO_H


2 
	#_LINUX_ERRNO_H


	)

4 
	~<asm/î∫o.h
>

	@/usr/include/linux/stddef.h

1 #i‚de‡
_LINUX_STDDEF_H


2 
	#_LINUX_STDDEF_H


	)

6 #unde‡
NULL


7 #i‡
deföed
(
__˝lu•lus
)

8 
	#NULL
 0

	)

10 
	#NULL
 ((*)0)

	)

	@/usr/include/sys/cdefs.h

20 #i‚def 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #i‚de‡
_FEATURES_H


25 
	~<„©uªs.h
>

31 #i‡
deföed
 
__GNUC__
 && !deföed 
__STDC__


36 #unde‡
__P


37 #unde‡
__PMT


39 #ifde‡
__GNUC__


46 #i‡!
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (3, 3)

47 
	#__THROW
 
	`__©åibuã__
 ((
__nŸhrow__
))

	)

48 
	#__NTH
(
f˘
Ë
	`__©åibuã__
 ((
__nŸhrow__
)Ë
	)
fct

50 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

51 
	#__THROW
 
	`throw
 ()

	)

52 
	#__NTH
(
f˘
Ëf˘ 
	`throw
 ()

	)

54 
	#__THROW


	)

55 
	#__NTH
(
f˘
Ë
	)
fct

61 
	#__ölöe


	)

63 
	#__THROW


	)

64 
	#__NTH
(
f˘
Ë
	)
fct

66 
	#__c⁄°
 c⁄°

	)

67 
	#__sig√d
 sig√d

	)

68 
	#__vﬁ©ûe
 vﬁ©ûe

	)

74 
	#__P
(
¨gs
Ë
	)
args

75 
	#__PMT
(
¨gs
Ë
	)
args

80 
	#__CONCAT
(
x
,
y
Ëx ## 
	)
y

81 
	#__STRING
(
x
Ë#x

	)

84 
	#__±r_t
 *

	)

85 
	#__l⁄g_doubÀ_t
 

	)

89 #ifdef 
__˝lu•lus


90 
	#__BEGIN_DECLS
 "C" {

	)

91 
	#__END_DECLS
 }

	)

93 
	#__BEGIN_DECLS


	)

94 
	#__END_DECLS


	)

103 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES


104 
	#__BEGIN_NAMESPACE_STD
 
«me•a˚
 
°d
 {

	)

105 
	#__END_NAMESPACE_STD
 }

	)

106 
	#__USING_NAMESPACE_STD
(
«me
Ë
usög
 
°d
::«me;

	)

107 
	#__BEGIN_NAMESPACE_C99
 
«me•a˚
 
__c99
 {

	)

108 
	#__END_NAMESPACE_C99
 }

	)

109 
	#__USING_NAMESPACE_C99
(
«me
Ë
usög
 
__c99
::«me;

	)

114 
	#__BEGIN_NAMESPACE_STD


	)

115 
	#__END_NAMESPACE_STD


	)

116 
	#__USING_NAMESPACE_STD
(
«me
)

	)

117 
	#__BEGIN_NAMESPACE_C99


	)

118 
	#__END_NAMESPACE_C99


	)

119 
	#__USING_NAMESPACE_C99
(
«me
)

	)

124 #i‚de‡
__BOUNDED_POINTERS__


125 
	#__bounded


	)

126 
	#__unbounded


	)

127 
	#__±rvÆue


	)

132 
	#__bos
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 0)

	)

135 #i‡
__GNUC_PREREQ
 (4,3)

136 
	#__w¨nde˛
(
«me
, 
msg
) \

137 
	`«me
 (Ë
	`__©åibuã__
((
	`__w¨nög__
 (
msg
)))

	)

138 
	#__w¨«âr
(
msg
Ë
	`__©åibuã__
((
	`__w¨nög__
 (msg)))

	)

139 
	#__îr‹de˛
(
«me
, 
msg
) \

140 
	`«me
 (Ë
	`__©åibuã__
((
	`__îr‹__
 (
msg
)))

	)

142 
	#__w¨nde˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

143 
	#__w¨«âr
(
msg
)

	)

144 
	#__îr‹de˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

148 #i‡
__GNUC_PREREQ
 (2,97)

150 
	#__Êex¨r
 []

	)

152 #ifde‡
__GNUC__


153 
	#__Êex¨r
 [0]

	)

155 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

156 
	#__Êex¨r
 []

	)

159 
	#__Êex¨r
 [1]

	)

175 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#__REDIRECT
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

178 #ifde‡
__˝lu•lus


179 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

180 
«me
 
¥Ÿo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

182 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

183 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROW


	)

185 
	#__ASMNAME
(
˙ame
Ë
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, c«me)

	)

186 
	#__ASMNAME2
(
¥efix
, 
˙ame
Ë
	`__STRING
 (¥efixË
	)
cname

199 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

200 
	#__©åibuã__
(
xyz
Ë

	)

206 #i‡
__GNUC_PREREQ
 (2,96)

207 
	#__©åibuã_mÆloc__
 
	`__©åibuã__
 ((
__mÆloc__
))

	)

209 
	#__©åibuã_mÆloc__


	)

215 #i‡
__GNUC_PREREQ
 (2,96)

216 
	#__©åibuã_puª__
 
	`__©åibuã__
 ((
__puª__
))

	)

218 
	#__©åibuã_puª__


	)

224 #i‡
__GNUC_PREREQ
 (3,1)

225 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__u£d__
))

	)

226 
	#__©åibuã_noölöe__
 
	`__©åibuã__
 ((
__noölöe__
))

	)

228 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__unu£d__
))

	)

229 
	#__©åibuã_noölöe__


	)

233 #i‡
__GNUC_PREREQ
 (3,2)

234 
	#__©åibuã_dïªˇãd__
 
	`__©åibuã__
 ((
__dïªˇãd__
))

	)

236 
	#__©åibuã_dïªˇãd__


	)

245 #i‡
__GNUC_PREREQ
 (2,8)

246 
	#__©åibuã_f‹m©_¨g__
(
x
Ë
	`__©åibuã__
 ((
	`__f‹m©_¨g__
 (x)))

	)

248 
	#__©åibuã_f‹m©_¨g__
(
x
Ë

	)

255 #i‡
__GNUC_PREREQ
 (2,97)

256 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
) \

257 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__°rfm⁄__
, 
a
, 
b
)))

	)

259 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
Ë

	)

264 #i‡
__GNUC_PREREQ
 (3,3)

265 
	#__n⁄nuŒ
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

267 
	#__n⁄nuŒ
(
∑øms
)

	)

272 #i‡
__GNUC_PREREQ
 (3,4)

273 
	#__©åibuã_w¨n_unu£d_ªsu…__
 \

274 
	`__©åibuã__
 ((
__w¨n_unu£d_ªsu…__
))

	)

275 #i‡
__USE_FORTIFY_LEVEL
 > 0

276 
	#__wur
 
__©åibuã_w¨n_unu£d_ªsu…__


	)

279 
	#__©åibuã_w¨n_unu£d_ªsu…__


	)

281 #i‚de‡
__wur


282 
	#__wur


	)

286 #i‡
__GNUC_PREREQ
 (3,2)

287 
	#__Æways_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__Æways_ölöe__
))

	)

289 
	#__Æways_ölöe
 
__ölöe


	)

294 #i‡!
deföed
 
__˝lu•lus
 || 
__GNUC_PREREQ
 (4,3)

295 #i‡
deföed
 
__GNUC_STDC_INLINE__
 || deföed 
__˝lu•lus


296 
	#__exã∫_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

297 #i‡
__GNUC_PREREQ
 (4,3)

298 
	#__exã∫_Æways_ölöe
 \

299 
__Æways_ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
, 
__¨tificül__
))

	)

301 
	#__exã∫_Æways_ölöe
 \

302 
__Æways_ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

305 
	#__exã∫_ölöe
 
__ölöe


	)

306 #i‡
__GNUC_PREREQ
 (4,3)

307 
	#__exã∫_Æways_ölöe
 \

308 
__Æways_ölöe
 
	`__©åibuã__
 ((
__¨tificül__
))

	)

310 
	#__exã∫_Æways_ölöe
 
__Æways_ölöe


	)

317 #i‡
__GNUC_PREREQ
 (4,3)

318 
	#__va_¨g_∑ck
(Ë
	`__buûtö_va_¨g_∑ck
 ()

	)

319 
	#__va_¨g_∑ck_Àn
(Ë
	`__buûtö_va_¨g_∑ck_Àn
 ()

	)

326 #i‡!
__GNUC_PREREQ
 (2,8)

327 
	#__exãnsi⁄__


	)

331 #i‡!
__GNUC_PREREQ
 (2,92)

332 
	#__ª°ri˘


	)

338 #i‡
__GNUC_PREREQ
 (3,1Ë&& !
deföed
 
__GNUG__


339 
	#__ª°ri˘_¨r
 
__ª°ri˘


	)

341 #ifde‡
__GNUC__


342 
	#__ª°ri˘_¨r


	)

344 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

345 
	#__ª°ri˘_¨r
 
ª°ri˘


	)

348 
	#__ª°ri˘_¨r


	)

353 
	~<bôs/w‹dsize.h
>

355 #i‡
deföed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && deföed 
__NO_LONG_DOUBLE_MATH


356 
	#__LDBL_COMPAT
 1

	)

357 #ifde‡
__REDIRECT


358 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

359 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
) \

360 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

361 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT_NTH
 («me,ÖrŸo,álüs)

	)

362 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
) \

363 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

364 
	#__LDBL_REDIR1_DECL
(
«me
, 
Æüs
) \

365 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 (#Æüs));

	)

366 
	#__LDBL_REDIR_DECL
(
«me
) \

367 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 ("__∆dbl_" #«me));

	)

368 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

369 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

370 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

371 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

374 #i‡!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT


375 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê
	)
proto

376 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
Ë«mê
	)
proto

377 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
__THROW


	)

378 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
Ë«mê¥Ÿÿ
__THROW


	)

379 
	#__LDBL_REDIR_DECL
(
«me
)

	)

380 #ifde‡
__REDIRECT


381 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

382 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

383 
	`__REDIRECT_NTH
 (
«me
, 
¥Ÿo
, 
Æüs
)

	)

	@/usr/include/asm-generic/ioctls.h

1 #i‚de‡
__ASM_GENERIC_IOCTLS_H


2 
	#__ASM_GENERIC_IOCTLS_H


	)

4 
	~<löux/io˘l.h
>

19 
	#TCGETS
 0x5401

	)

20 
	#TCSETS
 0x5402

	)

21 
	#TCSETSW
 0x5403

	)

22 
	#TCSETSF
 0x5404

	)

23 
	#TCGETA
 0x5405

	)

24 
	#TCSETA
 0x5406

	)

25 
	#TCSETAW
 0x5407

	)

26 
	#TCSETAF
 0x5408

	)

27 
	#TCSBRK
 0x5409

	)

28 
	#TCXONC
 0x540A

	)

29 
	#TCFLSH
 0x540B

	)

30 
	#TIOCEXCL
 0x540C

	)

31 
	#TIOCNXCL
 0x540D

	)

32 
	#TIOCSCTTY
 0x540E

	)

33 
	#TIOCGPGRP
 0x540F

	)

34 
	#TIOCSPGRP
 0x5410

	)

35 
	#TIOCOUTQ
 0x5411

	)

36 
	#TIOCSTI
 0x5412

	)

37 
	#TIOCGWINSZ
 0x5413

	)

38 
	#TIOCSWINSZ
 0x5414

	)

39 
	#TIOCMGET
 0x5415

	)

40 
	#TIOCMBIS
 0x5416

	)

41 
	#TIOCMBIC
 0x5417

	)

42 
	#TIOCMSET
 0x5418

	)

43 
	#TIOCGSOFTCAR
 0x5419

	)

44 
	#TIOCSSOFTCAR
 0x541A

	)

45 
	#FIONREAD
 0x541B

	)

46 
	#TIOCINQ
 
FIONREAD


	)

47 
	#TIOCLINUX
 0x541C

	)

48 
	#TIOCCONS
 0x541D

	)

49 
	#TIOCGSERIAL
 0x541E

	)

50 
	#TIOCSSERIAL
 0x541F

	)

51 
	#TIOCPKT
 0x5420

	)

52 
	#FIONBIO
 0x5421

	)

53 
	#TIOCNOTTY
 0x5422

	)

54 
	#TIOCSETD
 0x5423

	)

55 
	#TIOCGETD
 0x5424

	)

56 
	#TCSBRKP
 0x5425

	)

57 
	#TIOCSBRK
 0x5427

	)

58 
	#TIOCCBRK
 0x5428

	)

59 
	#TIOCGSID
 0x5429

	)

60 
	#TCGETS2
 
	`_IOR
('T', 0x2A, 
ãrmios2
)

	)

61 
	#TCSETS2
 
	`_IOW
('T', 0x2B, 
ãrmios2
)

	)

62 
	#TCSETSW2
 
	`_IOW
('T', 0x2C, 
ãrmios2
)

	)

63 
	#TCSETSF2
 
	`_IOW
('T', 0x2D, 
ãrmios2
)

	)

64 
	#TIOCGRS485
 0x542E

	)

65 
	#TIOCSRS485
 0x542F

	)

66 
	#TIOCGPTN
 
	`_IOR
('T', 0x30, Ë

	)

67 
	#TIOCSPTLCK
 
	`_IOW
('T', 0x31, Ë

	)

68 
	#TCGETX
 0x5432

	)

69 
	#TCSETX
 0x5433

	)

70 
	#TCSETXF
 0x5434

	)

71 
	#TCSETXW
 0x5435

	)

73 
	#FIONCLEX
 0x5450

	)

74 
	#FIOCLEX
 0x5451

	)

75 
	#FIOASYNC
 0x5452

	)

76 
	#TIOCSERCONFIG
 0x5453

	)

77 
	#TIOCSERGWILD
 0x5454

	)

78 
	#TIOCSERSWILD
 0x5455

	)

79 
	#TIOCGLCKTRMIOS
 0x5456

	)

80 
	#TIOCSLCKTRMIOS
 0x5457

	)

81 
	#TIOCSERGSTRUCT
 0x5458

	)

82 
	#TIOCSERGETLSR
 0x5459

	)

83 
	#TIOCSERGETMULTI
 0x545A

	)

84 
	#TIOCSERSETMULTI
 0x545B

	)

86 
	#TIOCMIWAIT
 0x545C

	)

87 
	#TIOCGICOUNT
 0x545D

	)

93 #i‚de‡
FIOQSIZE


94 
	#TIOCGHAYESESP
 0x545E

	)

95 
	#TIOCSHAYESESP
 0x545F

	)

96 
	#FIOQSIZE
 0x5460

	)

100 
	#TIOCPKT_DATA
 0

	)

101 
	#TIOCPKT_FLUSHREAD
 1

	)

102 
	#TIOCPKT_FLUSHWRITE
 2

	)

103 
	#TIOCPKT_STOP
 4

	)

104 
	#TIOCPKT_START
 8

	)

105 
	#TIOCPKT_NOSTOP
 16

	)

106 
	#TIOCPKT_DOSTOP
 32

	)

108 
	#TIOCSER_TEMT
 0x01

	)

	@/usr/include/asm-generic/socket.h

1 #i‚de‡
__ASM_GENERIC_SOCKET_H


2 
	#__ASM_GENERIC_SOCKET_H


	)

4 
	~<asm/sockios.h
>

7 
	#SOL_SOCKET
 1

	)

9 
	#SO_DEBUG
 1

	)

10 
	#SO_REUSEADDR
 2

	)

11 
	#SO_TYPE
 3

	)

12 
	#SO_ERROR
 4

	)

13 
	#SO_DONTROUTE
 5

	)

14 
	#SO_BROADCAST
 6

	)

15 
	#SO_SNDBUF
 7

	)

16 
	#SO_RCVBUF
 8

	)

17 
	#SO_SNDBUFFORCE
 32

	)

18 
	#SO_RCVBUFFORCE
 33

	)

19 
	#SO_KEEPALIVE
 9

	)

20 
	#SO_OOBINLINE
 10

	)

21 
	#SO_NO_CHECK
 11

	)

22 
	#SO_PRIORITY
 12

	)

23 
	#SO_LINGER
 13

	)

24 
	#SO_BSDCOMPAT
 14

	)

27 #i‚de‡
SO_PASSCRED


28 
	#SO_PASSCRED
 16

	)

29 
	#SO_PEERCRED
 17

	)

30 
	#SO_RCVLOWAT
 18

	)

31 
	#SO_SNDLOWAT
 19

	)

32 
	#SO_RCVTIMEO
 20

	)

33 
	#SO_SNDTIMEO
 21

	)

37 
	#SO_SECURITY_AUTHENTICATION
 22

	)

38 
	#SO_SECURITY_ENCRYPTION_TRANSPORT
 23

	)

39 
	#SO_SECURITY_ENCRYPTION_NETWORK
 24

	)

41 
	#SO_BINDTODEVICE
 25

	)

44 
	#SO_ATTACH_FILTER
 26

	)

45 
	#SO_DETACH_FILTER
 27

	)

47 
	#SO_PEERNAME
 28

	)

48 
	#SO_TIMESTAMP
 29

	)

49 
	#SCM_TIMESTAMP
 
SO_TIMESTAMP


	)

51 
	#SO_ACCEPTCONN
 30

	)

53 
	#SO_PEERSEC
 31

	)

54 
	#SO_PASSSEC
 34

	)

55 
	#SO_TIMESTAMPNS
 35

	)

56 
	#SCM_TIMESTAMPNS
 
SO_TIMESTAMPNS


	)

58 
	#SO_MARK
 36

	)

60 
	#SO_TIMESTAMPING
 37

	)

61 
	#SCM_TIMESTAMPING
 
SO_TIMESTAMPING


	)

63 
	#SO_PROTOCOL
 38

	)

64 
	#SO_DOMAIN
 39

	)

	@/usr/include/asm/bitsperlong.h

1 #i‚de‡
__ASM_X86_BITSPERLONG_H


2 
	#__ASM_X86_BITSPERLONG_H


	)

4 #ifde‡
__x86_64__


5 
	#__BITS_PER_LONG
 64

	)

7 
	#__BITS_PER_LONG
 32

	)

10 
	~<asm-gíîic/bô•îl⁄g.h
>

	@/usr/include/asm/errno.h

1 
	~<asm-gíîic/î∫o.h
>

	@/usr/include/bits/libc-lock.h

20 #i‚de‡
_BITS_LIBC_LOCK_H


21 
	#_BITS_LIBC_LOCK_H
 1

	)

23 
	~<±hªad.h
>

24 
	#__√ed_NULL


	)

25 
	~<°ddef.h
>

34 #ifde‡
_LIBC


35 
	~<lowÀvñlock.h
>

36 
	~<és.h
>

37 
	~<±hªad-fun˘i⁄s.h
>

38 
	~<î∫o.h
>

39 
	~<gnu/›ti⁄-groups.h
>

43 #i‡
deföed
 
_LIBC
 || deföed 
_IO_MTSAFE_IO


44 #i‡(
deföed
 
NOT_IN_libc
 && !deföed 
IS_IN_lib±hªad
Ë|| !deföed 
_LIBC


45 
±hªad_muãx_t
 
	t__libc_lock_t
;

46 °ru˘ { 
±hªad_muãx_t
 
	mmuãx
; } 
	t__libc_lock_ªcursive_t
;

48 
	t__libc_lock_t
;

49 °ru˘ { 
	mlock
; 
	m˙t
; *
	mow√r
; } 
	t__libc_lock_ªcursive_t
;

51 °ru˘ { 
±hªad_muãx_t
 
	mmuãx
; } 
	t__πld_lock_ªcursive_t
;

52 #ifde‡
__USE_UNIX98


53 
±hªad_rwlock_t
 
	t__libc_rwlock_t
;

55 
__libc_rwlock_›aque__
 
	t__libc_rwlock_t
;

58 
__libc_lock_›aque__
 
	t__libc_lock_t
;

59 
__libc_lock_ªcursive_›aque__
 
	t__libc_lock_ªcursive_t
;

60 
__libc_rwlock_›aque__
 
	t__libc_rwlock_t
;

64 
±hªad_key_t
 
	t__libc_key_t
;

73 
	#__libc_lock_deföe
(
CLASS
,
NAME
) \

74 
CLASS
 
__libc_lock_t
 
NAME
;

	)

75 
	#__libc_rwlock_deföe
(
CLASS
,
NAME
) \

76 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

77 
	#__libc_lock_deföe_ªcursive
(
CLASS
,
NAME
) \

78 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
;

	)

79 
	#__πld_lock_deföe_ªcursive
(
CLASS
,
NAME
) \

80 
CLASS
 
__πld_lock_ªcursive_t
 
NAME
;

	)

91 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

92 #i‡
LLL_LOCK_INITIALIZER
 == 0

93 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

94 
CLASS
 
__libc_lock_t
 
NAME
;

	)

96 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

97 
CLASS
 
__libc_lock_t
 
NAME
 = 
LLL_LOCK_INITIALIZER
;

	)

100 #i‡
__LT_SPINLOCK_INIT
 == 0

101 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

102 
CLASS
 
__libc_lock_t
 
NAME
;

	)

104 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

105 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

109 
	#__libc_rwlock_deföe_öôülized
(
CLASS
,
NAME
) \

110 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

114 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

115 #i‡
LLL_LOCK_INITIALIZER
 == 0

116 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

117 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
;

	)

119 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

120 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

122 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

123 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

125 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

126 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

127 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

128 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

131 
	#__πld_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

132 
CLASS
 
__πld_lock_ªcursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

133 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

134 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

136 
	#__πld_lock_öôülize
(
NAME
) \

137 (Ë((
NAME
Ë(
__πld_lock_ªcursive_t
Ë
_RTLD_LOCK_RECURSIVE_INITIALIZER
)

	)

144 #ifde‡
__PIC__


145 
	#__libc_maybe_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

146 (
	`__exãnsi⁄__
 ({ 
	`__ty≥of
 (
FUNC
Ë*
_‚
 = (FUNC); \

147 
_‚
 !
NULL
 ? (*_‚Ë
ARGS
 : 
ELSE
; }))

	)

149 
	#__libc_maybe_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

150 (
FUNC
 !
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

154 #i‡
deföed
 
SHARED
 && !deföed 
NOT_IN_libc


155 
	#PTFAVAIL
(
NAME
Ë
__libc_±hªad_fun˘i⁄s_öô


	)

156 
	#__libc_±f_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

157 (
__libc_±hªad_fun˘i⁄s_öô
 ? 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
Ë: 
ELSE
)

	)

158 
	#__libc_±f_ˇŒ_Æways
(
FUNC
, 
ARGS
) \

159 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
)

	)

161 
	#PTFAVAIL
(
NAME
Ë(NAME !
NULL
)

	)

162 
	#__libc_±f_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

163 
	`__libc_maybe_ˇŒ
 (
FUNC
, 
ARGS
, 
ELSE
)

	)

164 
	#__libc_±f_ˇŒ_Æways
(
FUNC
, 
ARGS
) \

165 
FUNC
 
ARGS


	)

171 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

172 
	#__libc_lock_öô
(
NAME
Ë((NAMEË
LLL_LOCK_INITIALIZER
, 0)

	)

174 
	#__libc_lock_öô
(
NAME
) \

175 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_öô
, (&(
NAME
), 
NULL
), 0)

	)

177 #i‡
deföed
 
SHARED
 && !deföed 
NOT_IN_libc


180 
	#__libc_rwlock_öô
(
NAME
) \

181 (
	`__buûtö_mem£t
 (&(
NAME
), '\0',  (NAME)), 0)

	)

183 
	#__libc_rwlock_öô
(
NAME
) \

184 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_öô
, (&(
NAME
), 
NULL
), 0)

	)

188 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

189 
	#__libc_lock_öô_ªcursive
(
NAME
) \

190 ((
NAME
Ë(
__libc_lock_ªcursive_t
Ë
_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

192 
	#__libc_lock_öô_ªcursive
(
NAME
) \

194 i‡(
__±hªad_muãx_öô
 !
NULL
) \

196 
±hªad_muãx©å_t
 
__©å
; \

197 
	`__±hªad_muãx©å_öô
 (&
__©å
); \

198 
	`__±hªad_muãx©å_£ây≥
 (&
__©å
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

199 
	`__±hªad_muãx_öô
 (&(
NAME
).
muãx
, &
__©å
); \

200 
	`__±hªad_muãx©å_de°roy
 (&
__©å
); \

202 } 0)

	)

205 
	#__πld_lock_öô_ªcursive
(
NAME
) \

207 i‡(
__±hªad_muãx_öô
 !
NULL
) \

209 
±hªad_muãx©å_t
 
__©å
; \

210 
	`__±hªad_muãx©å_öô
 (&
__©å
); \

211 
	`__±hªad_muãx©å_£ây≥
 (&
__©å
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

212 
	`__±hªad_muãx_öô
 (&(
NAME
).
muãx
, &
__©å
); \

213 
	`__±hªad_muãx©å_de°roy
 (&
__©å
); \

215 } 0)

	)

220 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

221 
	#__libc_lock_föi
(
NAME
Ë((Ë0)

	)

223 
	#__libc_lock_föi
(
NAME
) \

224 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_de°roy
, (&(
NAME
)), 0)

	)

226 #i‡
deföed
 
SHARED
 && !deföed 
NOT_IN_libc


227 
	#__libc_rwlock_föi
(
NAME
Ë((Ë0)

	)

229 
	#__libc_rwlock_föi
(
NAME
) \

230 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_de°roy
, (&(
NAME
)), 0)

	)

234 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

235 
	#__libc_lock_föi_ªcursive
(
NAME
Ë((Ë0)

	)

237 
	#__libc_lock_föi_ªcursive
(
NAME
) \

238 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_de°roy
, (&(
NAME
)), 0)

	)

242 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

243 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

247 
__libc_lock_lock_‚
 (
__libc_lock_t
 *);

248 
libc_hiddí_¥Ÿo
 (
__libc_lock_lock_‚
);

250 #i‡
__OPTION_EGLIBC_BIG_MACROS


251 
	#__libc_lock_lock
(
NAME
) \

252 ({ 
	`Œl_lock
 (
NAME
, 
LLL_PRIVATE
); 0; })

	)

254 
	#__libc_lock_lock
(
NAME
) \

255 
	`__libc_lock_lock_‚
 (&(
NAME
))

	)

258 
	#__libc_lock_lock
(
NAME
) \

259 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_lock
, (&(
NAME
)), 0)

	)

261 
	#__libc_rwlock_rdlock
(
NAME
) \

262 
	`__libc_±f_ˇŒ
 (
__±hªad_rwlock_rdlock
, (&(
NAME
)), 0)

	)

263 
	#__libc_rwlock_wæock
(
NAME
) \

264 
	`__libc_±f_ˇŒ
 (
__±hªad_rwlock_wæock
, (&(
NAME
)), 0)

	)

267 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

268 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

272 
__libc_lock_lock_ªcursive_‚
 (
__libc_lock_ªcursive_t
 *);

273 
libc_hiddí_¥Ÿo
 (
__libc_lock_lock_ªcursive_‚
);

275 #i‡
__OPTION_EGLIBC_BIG_MACROS


276 
	#__libc_lock_lock_ªcursive
(
NAME
) \

278 *
£lf
 = 
THREAD_SELF
; \

279 i‡((
NAME
).
ow√r
 !
£lf
) \

281 
	`Œl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

282 (
NAME
).
ow√r
 = 
£lf
; \

284 ++(
NAME
).
˙t
; \

285 } 0)

	)

287 
	#__libc_lock_lock_ªcursive
(
NAME
) \

288 
	`__libc_lock_lock_ªcursive_‚
 (&(
NAME
))

	)

291 
	#__libc_lock_lock_ªcursive
(
NAME
) \

292 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_lock
, (&(
NAME
).
muãx
), 0)

	)

296 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

297 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

301 
__libc_lock_åylock_‚
 (
__libc_lock_t
 *);

302 
libc_hiddí_¥Ÿo
 (
__libc_lock_åylock_‚
);

304 #i‡
__OPTION_EGLIBC_BIG_MACROS


305 
	#__libc_lock_åylock
(
NAME
) \

306 
	`Œl_åylock
 (
NAME
)

	)

308 
	#__libc_lock_åylock
(
NAME
) \

309 
	`__libc_lock_åylock_‚
 (&(
NAME
))

	)

312 
	#__libc_lock_åylock
(
NAME
) \

313 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_åylock
, (&(
NAME
)), 0)

	)

315 
	#__libc_rwlock_åyrdlock
(
NAME
) \

316 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_åyrdlock
, (&(
NAME
)), 0)

	)

317 
	#__libc_rwlock_åywæock
(
NAME
) \

318 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_åywæock
, (&(
NAME
)), 0)

	)

321 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

322 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

326 
__libc_lock_åylock_ªcursive_‚
 (
__libc_lock_ªcursive_t
 *);

327 
libc_hiddí_¥Ÿo
 (
__libc_lock_åylock_ªcursive_‚
);

329 #i‡
__OPTION_EGLIBC_BIG_MACROS


330 
	#__libc_lock_åylock_ªcursive
(
NAME
) \

332 
ªsu…
 = 0; \

333 *
£lf
 = 
THREAD_SELF
; \

334 i‡((
NAME
).
ow√r
 !
£lf
) \

336 i‡(
	`Œl_åylock
 ((
NAME
).
lock
) == 0) \

338 (
NAME
).
ow√r
 = 
£lf
; \

339 (
NAME
).
˙t
 = 1; \

342 
ªsu…
 = 
EBUSY
; \

345 ++(
NAME
).
˙t
; \

346 
ªsu…
; \

347 })

	)

349 
	#__libc_lock_åylock_ªcursive
(
NAME
) \

350 
	`__libc_lock_åylock_ªcursive_‚
 (&(
NAME
))

	)

353 
	#__libc_lock_åylock_ªcursive
(
NAME
) \

354 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_åylock
, (&(
NAME
)), 0)

	)

357 
	#__πld_lock_åylock_ªcursive
(
NAME
) \

358 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_åylock
, (&(
NAME
).
muãx
), 0)

	)

361 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

362 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

366 
__libc_lock_u∆ock_‚
 (
__libc_lock_t
 *);

367 
libc_hiddí_¥Ÿo
 (
__libc_lock_u∆ock_‚
);

369 #i‡
__OPTION_EGLIBC_BIG_MACROS


370 
	#__libc_lock_u∆ock
(
NAME
) \

371 
	`Œl_u∆ock
 (
NAME
, 
LLL_PRIVATE
)

	)

373 
	#__libc_lock_u∆ock
(
NAME
) \

374 
	`__libc_lock_u∆ock_‚
 (&(
NAME
))

	)

377 
	#__libc_lock_u∆ock
(
NAME
) \

378 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_u∆ock
, (&(
NAME
)), 0)

	)

380 
	#__libc_rwlock_u∆ock
(
NAME
) \

381 
	`__libc_±f_ˇŒ
 (
__±hªad_rwlock_u∆ock
, (&(
NAME
)), 0)

	)

384 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

385 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

389 
__libc_lock_u∆ock_ªcursive_‚
 (
__libc_lock_ªcursive_t
 *);

390 
libc_hiddí_¥Ÿo
 (
__libc_lock_u∆ock_ªcursive_‚
);

392 #i‡
__OPTION_EGLIBC_BIG_MACROS


394 
	#__libc_lock_u∆ock_ªcursive
(
NAME
) \

396 i‡(--(
NAME
).
˙t
 == 0) \

398 (
NAME
).
ow√r
 = 
NULL
; \

399 
	`Œl_u∆ock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

401 } 0)

	)

403 
	#__libc_lock_u∆ock_ªcursive
(
NAME
) \

404 
	`__libc_lock_u∆ock_ªcursive_‚
 (&(
NAME
))

	)

407 
	#__libc_lock_u∆ock_ªcursive
(
NAME
) \

408 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_u∆ock
, (&(
NAME
)), 0)

	)

411 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


412 
	#__πld_lock_deÁu…_lock_ªcursive
(
lock
) \

413 ++((
±hªad_muãx_t
 *)(
lock
))->
__d©a
.
__cou¡
;

	)

415 
	#__πld_lock_deÁu…_u∆ock_ªcursive
(
lock
) \

416 --((
±hªad_muãx_t
 *)(
lock
))->
__d©a
.
__cou¡
;

	)

418 
	#__πld_lock_lock_ªcursive
(
NAME
) \

419 
	`GL
(
dl_πld_lock_ªcursive
Ë(&(
NAME
).
muãx
)

	)

421 
	#__πld_lock_u∆ock_ªcursive
(
NAME
) \

422 
	`GL
(
dl_πld_u∆ock_ªcursive
Ë(&(
NAME
).
muãx
)

	)

424 
	#__πld_lock_lock_ªcursive
(
NAME
) \

425 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_lock
, (&(
NAME
).
muãx
), 0)

	)

427 
	#__πld_lock_u∆ock_ªcursive
(
NAME
) \

428 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_u∆ock
, (&(
NAME
).
muãx
), 0)

	)

432 #i‡
PTHREAD_ONCE_INIT
 == 0

435 
	#__libc_⁄˚_deföe
(
CLASS
, 
NAME
) \

436 
CLASS
 
±hªad_⁄˚_t
 
NAME


	)

438 
	#__libc_⁄˚_deföe
(
CLASS
, 
NAME
) \

439 
CLASS
 
±hªad_⁄˚_t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

443 
	#__libc_⁄˚
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

445 i‡(
	`PTFAVAIL
 (
__±hªad_⁄˚
)) \

446 
	`__libc_±f_ˇŒ_Æways
 (
__±hªad_⁄˚
, (&(
ONCE_CONTROL
), \

447 
INIT_FUNCTION
)); \

448 i‡((
ONCE_CONTROL
Ë=
PTHREAD_ONCE_INIT
) { \

449 
	`INIT_FUNCTION
 (); \

450 (
ONCE_CONTROL
) |= 2; \

452 } 0)

	)

459 
_±hªad_˛ónup_push
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

460 (*
routöe
Ë(*), *
¨g
);

461 
	`_±hªad_˛ónup_p›
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

462 
execuã
);

463 
	`_±hªad_˛ónup_push_de„r
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

464 (*
routöe
Ë(*), *
¨g
);

465 
	`_±hªad_˛ónup_p›_ª°‹e
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

466 
execuã
);

469 
	#__libc_˛ónup_ªgi⁄_°¨t
(
DOIT
, 
FCT
, 
ARG
) \

470 { 
_±hªad_˛ónup_buf„r
 
_buf„r
; \

471 
_avaû
; \

472 i‡(
DOIT
) { \

473 
_avaû
 = 
	`PTFAVAIL
 (
_±hªad_˛ónup_push_de„r
); \

474 i‡(
_avaû
) { \

475 
	`__libc_±f_ˇŒ_Æways
 (
_±hªad_˛ónup_push_de„r
, (&
_buf„r
, 
FCT
, \

476 
ARG
)); \

478 
_buf„r
.
__routöe
 = (
FCT
); \

479 
_buf„r
.
__¨g
 = (
ARG
); \

482 
_avaû
 = 0; \

483 }

	)

486 
	#__libc_˛ónup_ªgi⁄_íd
(
DOIT
) \

487 i‡(
_avaû
) { \

488 
	`__libc_±f_ˇŒ_Æways
 (
_±hªad_˛ónup_p›_ª°‹e
, (&
_buf„r
, 
DOIT
));\

489 } i‡(
DOIT
) \

490 
_buf„r
.
	`__routöe
 (_buf„r.
__¨g
); \

491 
	}

	)
}

494 
	#__libc_˛ónup_íd
(
DOIT
) \

495 i‡(
_avaû
) { \

496 
	`__libc_±f_ˇŒ_Æways
 (
_±hªad_˛ónup_p›_ª°‹e
, (&
_buf„r
, 
DOIT
));\

497 } i‡(
DOIT
) \

498 
_buf„r
.
	`__routöe
 (_buf„r.
__¨g
)

	)

502 
__exã∫_ölöe
 

503 
	$__libc_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
f
)

505 i‡(
f
->
__do_ô
)

506 
f
->
	`__ˇn˚l_routöe
 (f->
__ˇn˚l_¨g
);

507 
	}
}

509 
	#__libc_˛ónup_push
(
f˘
, 
¨g
) \

511 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

512 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__libc_˛ónup_routöe
))) \

513 { .
__ˇn˚l_routöe
 = (
f˘
), .
__ˇn˚l_¨g
 = (
¨g
), \

514 .
__do_ô
 = 1 };

	)

516 
	#__libc_˛ónup_p›
(
execuã
) \

517 
__˛‰ame
.
__do_ô
 = (
execuã
); \

518 } 0)

	)

522 
	#__libc_key_¸óã
(
KEY
, 
DESTRUCTOR
) \

523 
	`__libc_±f_ˇŒ
 (
__±hªad_key_¸óã
, (
KEY
, 
DESTRUCTOR
), 1)

	)

526 
	#__libc_gë•ecific
(
KEY
) \

527 
	`__libc_±f_ˇŒ
 (
__±hªad_gë•ecific
, (
KEY
), 
NULL
)

	)

530 
	#__libc_£t•ecific
(
KEY
, 
VALUE
) \

531 
	`__libc_±f_ˇŒ
 (
__±hªad_£t•ecific
, (
KEY
, 
VALUE
), 0)

	)

537 
	#__libc_©f‹k
(
PREPARE
, 
PARENT
, 
CHILD
) \

538 
	`__ªgi°î_©f‹k
 (
PREPARE
, 
PARENT
, 
CHILD
, 
NULL
)

	)

539 
__ªgi°î_©f‹k
 ((*
__¥ï¨e
) (),

540 (*
__∑ª¡
) (),

541 (*
__chûd
) (),

542 *
__dso_h™dÀ
);

547 
	`__±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

548 
__c⁄°
 
±hªad_muãx©å_t
 *
__muãx_©å
);

550 
	`__±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
);

552 
	`__±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
);

554 
	`__±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
);

556 
	`__±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
);

558 
	`__±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
);

560 
	`__±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
);

562 
	`__±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
,

563 
__köd
);

565 #ifde‡
__USE_UNIX98


566 
	`__±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__rwlock
,

567 
__c⁄°
 
±hªad_rwlock©å_t
 *
__©å
);

569 
	`__±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
);

571 
	`__±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
);

573 
	`__±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
);

575 
	`__±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
);

577 
	`__±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
);

579 
	`__±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
);

582 
	`__±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

583 (*
__de°r_fun˘i⁄
) (*));

585 
	`__±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

586 
__c⁄°
 *
__poöãr
);

588 *
	`__±hªad_gë•ecific
 (
±hªad_key_t
 
__key
);

590 
	`__±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

591 (*
__öô_routöe
) ());

593 
	`__±hªad_©f‹k
 ((*
__¥ï¨e
) (),

594 (*
__∑ª¡
) (),

595 (*
__chûd
) ());

601 #i‚de‡
__NO_WEAK_PTHREAD_ALIASES


602 #ifde‡
wók_exã∫


603 #i‡
_LIBC


604 
	~<bp-sym.h
>

606 
	#BP_SYM
(
sym
Ë
	)
sym

608 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_öô
))

609 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_de°roy
))

610 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_lock
))

611 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_åylock
))

612 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_u∆ock
))

613 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx©å_öô
))

614 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx©å_de°roy
))

615 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx©å_£ây≥
))

616 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_öô
))

617 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_de°roy
))

618 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_rdlock
))

619 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_åyrdlock
))

620 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_wæock
))

621 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_åywæock
))

622 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_u∆ock
))

623 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_key_¸óã
))

624 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_£t•ecific
))

625 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_gë•ecific
))

626 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_⁄˚
))

627 
	$wók_exã∫
 (
__±hªad_öôülize
)

628 
	$wók_exã∫
 (
__±hªad_©f‹k
)

629 
	`wók_exã∫
 (
	$BP_SYM
 (
_±hªad_˛ónup_push_de„r
))

630 
	`wók_exã∫
 (
	$BP_SYM
 (
_±hªad_˛ónup_p›_ª°‹e
))

631 
	`wók_exã∫
 (
	$BP_SYM
 (
±hªad_£tˇn˚l°©e
))

633 #¥agm®
wók
 
__±hªad_muãx_öô


634 #¥agm®
wók
 
__±hªad_muãx_de°roy


635 #¥agm®
wók
 
__±hªad_muãx_lock


636 #¥agm®
wók
 
__±hªad_muãx_åylock


637 #¥agm®
wók
 
__±hªad_muãx_u∆ock


638 #¥agm®
wók
 
__±hªad_muãx©å_öô


639 #¥agm®
wók
 
__±hªad_muãx©å_de°roy


640 #¥agm®
wók
 
__±hªad_muãx©å_£ây≥


641 #¥agm®
wók
 
__±hªad_rwlock_de°roy


642 #¥agm®
wók
 
__±hªad_rwlock_rdlock


643 #¥agm®
wók
 
__±hªad_rwlock_åyrdlock


644 #¥agm®
wók
 
__±hªad_rwlock_wæock


645 #¥agm®
wók
 
__±hªad_rwlock_åywæock


646 #¥agm®
wók
 
__±hªad_rwlock_u∆ock


647 #¥agm®
wók
 
__±hªad_key_¸óã


648 #¥agm®
wók
 
__±hªad_£t•ecific


649 #¥agm®
wók
 
__±hªad_gë•ecific


650 #¥agm®
wók
 
__±hªad_⁄˚


651 #¥agm®
wók
 
__±hªad_öôülize


652 #¥agm®
wók
 
__±hªad_©f‹k


653 #¥agm®
wók
 
_±hªad_˛ónup_push_de„r


654 #¥agm®
wók
 
_±hªad_˛ónup_p›_ª°‹e


655 #¥agm®
wók
 
±hªad_£tˇn˚l°©e


	@/usr/include/gconv.h

23 #i‚de‡
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<„©uªs.h
>

27 
	#__√ed_mb°©e_t


	)

28 
	#__√ed_wöt_t


	)

29 
	~<wch¨.h
>

30 
	#__√ed_size_t


	)

31 
	#__√ed_wch¨_t


	)

32 
	~<°ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002

64 
	g__gc⁄v_°ï
;

65 
	g__gc⁄v_°ï_d©a
;

66 
	g__gc⁄v_lﬂded_obje˘
;

67 
	g__gc⁄v_å™s_d©a
;

71 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

72 
	t__c⁄°
 **, __const *,

73 **, 
	tsize_t
 *, , );

76 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

79 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

80 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

84 (*
	t__gc⁄v_å™s_f˘
Ë(
	t__gc⁄v_°ï
 *,

85 
	t__gc⁄v_°ï_d©a
 *, *,

86 
	t__c⁄°
 *,

87 
	t__c⁄°
 **,

88 
	t__c⁄°
 *, **,

89 
	tsize_t
 *);

92 (*
	t__gc⁄v_å™s_c⁄ãxt_f˘
Ë(*, 
	t__c⁄°
 *,

93 
	t__c⁄°
 *,

97 (*
	t__gc⁄v_å™s_quîy_f˘
Ë(
	t__c⁄°
 *, __const ***,

98 
	tsize_t
 *);

101 (*
	t__gc⁄v_å™s_öô_f˘
) (**, const *);

102 (*
	t__gc⁄v_å™s_íd_f˘
) (*);

104 
	s__gc⁄v_å™s_d©a


107 
__gc⁄v_å™s_f˘
 
__å™s_f˘
;

108 
__gc⁄v_å™s_c⁄ãxt_f˘
 
__å™s_c⁄ãxt_f˘
;

109 
__gc⁄v_å™s_íd_f˘
 
__å™s_íd_f˘
;

110 *
__d©a
;

111 
__gc⁄v_å™s_d©a
 *
__√xt
;

116 
	s__gc⁄v_°ï


118 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

119 
__c⁄°
 *
__mod«me
;

121 
__cou¡î
;

123 *
__‰om_«me
;

124 *
__to_«me
;

126 
__gc⁄v_f˘
 
__f˘
;

127 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

128 
__gc⁄v_öô_f˘
 
__öô_f˘
;

129 
__gc⁄v_íd_f˘
 
__íd_f˘
;

133 
__mö_√eded_‰om
;

134 
__max_√eded_‰om
;

135 
__mö_√eded_to
;

136 
__max_√eded_to
;

139 
__°©eful
;

141 *
__d©a
;

146 
	s__gc⁄v_°ï_d©a


148 *
__outbuf
;

149 *
__outbu„nd
;

153 
__Êags
;

157 
__övoˇti⁄_cou¡î
;

161 
__öã∫Æ_u£
;

163 
__mb°©e_t
 *
__°©ï
;

164 
__mb°©e_t
 
__°©e
;

168 
__gc⁄v_å™s_d©a
 *
__å™s
;

173 
	s__gc⁄v_öfo


175 
size_t
 
__n°ïs
;

176 
__gc⁄v_°ï
 *
__°ïs
;

177 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

178 } *
	t__gc⁄v_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub___kî√l_co¶


	)

11 
	#__°ub___kî√l_söl


	)

12 
	#__°ub___kî√l_è∆


	)

13 
	#__°ub_chÊags


	)

14 
	#__°ub_Áâach


	)

15 
	#__°ub_fchÊags


	)

16 
	#__°ub_fdëach


	)

17 
	#__°ub_gây


	)

18 
	#__°ub_lchmod


	)

19 
	#__°ub_ªvoke


	)

20 
	#__°ub_£éogö


	)

21 
	#__°ub_sigªtu∫


	)

22 
	#__°ub_s°k


	)

23 
	#__°ub_°ty


	)

	@/usr/include/linux/limits.h

1 #i‚de‡
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/wchar.h

24 #i‚de‡
_WCHAR_H


26 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<„©uªs.h
>

31 #ifde‡
_WCHAR_H


33 
	#__√ed___FILE


	)

34 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


35 
	#__√ed_FILE


	)

37 
	~<°dio.h
>

39 
	#__√ed___va_li°


	)

40 
	~<°d¨g.h
>

42 
	~<bôs/wch¨.h
>

45 
	#__√ed_size_t


	)

46 
	#__√ed_wch¨_t


	)

47 
	#__√ed_NULL


	)

49 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


50 #unde‡
__√ed_wöt_t


51 
	#__√ed_wöt_t


	)

52 
	~<°ddef.h
>

55 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

56 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

61 #i‚de‡
_WINT_T


66 
	#_WINT_T


	)

67 
	twöt_t
;

71 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

72 && 
deföed
 
__WINT_TYPE__


73 
__BEGIN_NAMESPACE_STD


74 
__WINT_TYPE__
 
	twöt_t
;

75 
	g__END_NAMESPACE_STD


80 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
__mb°©e_t_deföed


81 
	#__mb°©e_t_deföed
 1

	)

85 
	m__cou¡
;

88 #ifde‡
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wöt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__vÆue
;

95 } 
	t__mb°©e_t
;

97 #unde‡
__√ed_mb°©e_t


102 #ifde‡
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 #ifde‡
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

112 #i‚de‡
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #i‚de‡
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


125 
	~<w˘y≥.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

145 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

147 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

153 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

155 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

156 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
)

161 
__THROW
 
__©åibuã_puª__
;

163 
	$wc¢cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__©åibuã_puª__
;

165 
__END_NAMESPACE_STD


167 #ifde‡
__USE_XOPEN2K8


169 
	$wcsˇ£cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
Ë
__THROW
;

172 
	$wc¢ˇ£cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

173 
size_t
 
__n
Ë
__THROW
;

177 
	~<xloˇÀ.h
>

179 
	$wcsˇ£cmp_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

180 
__loˇÀ_t
 
__loc
Ë
__THROW
;

182 
	$wc¢ˇ£cmp_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

183 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscﬁl
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
Ë
__THROW
;

193 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

194 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

195 
__END_NAMESPACE_STD


197 #ifde‡
__USE_XOPEN2K8


203 
	$wcscﬁl_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

204 
__loˇÀ_t
 
__loc
Ë
__THROW
;

209 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
,

210 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

213 
wch¨_t
 *
	$wcsdup
 (
__c⁄°
 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

221 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcschr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

224 
wch¨_t
 *
	$wcschr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

225 
__THROW
 
__©åibuã_puª__
;

228 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

230 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

231 "C++" 
__c⁄°
 
wch¨_t
 *
	$wc§chr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

232 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

234 
wch¨_t
 *
	$wc§chr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

235 
__THROW
 
__©åibuã_puª__
;

237 
__END_NAMESPACE_STD


239 #ifde‡
__USE_GNU


242 
wch¨_t
 *
	$wcsch∫ul
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__wc
)

243 
__THROW
 
__©åibuã_puª__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcsc•n
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ªje˘
)

250 
__THROW
 
__©åibuã_puª__
;

253 
size_t
 
	$wcs•n
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ac˚±
)

254 
__THROW
 
__©åibuã_puª__
;

256 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, 
__c⁄°
 wch¨_à*
__ac˚±
)

258 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

259 "C++" 
__c⁄°
 
wch¨_t
 *
	$wc•brk
 (
__c⁄°
 
wch¨_t
 *
__wcs
,

260 
__c⁄°
 
wch¨_t
 *
__ac˚±
)

261 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

263 
wch¨_t
 *
	$wc•brk
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ac˚±
)

264 
__THROW
 
__©åibuã_puª__
;

267 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, 
__c⁄°
 wch¨_à*
__√edÀ
)

269 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

270 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcs°r
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
,

271 
__c⁄°
 
wch¨_t
 *
__√edÀ
)

272 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

274 
wch¨_t
 *
	$wcs°r
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
, __c⁄° wch¨_à*
__√edÀ
)

275 
__THROW
 
__©åibuã_puª__
;

279 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

280 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

281 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

284 
size_t
 
	$wc¶í
 (
__c⁄°
 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

285 
__END_NAMESPACE_STD


287 #ifde‡
__USE_XOPEN


289 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, 
__c⁄°
 wch¨_à*
__√edÀ
)

291 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

292 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcswcs
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
,

293 
__c⁄°
 
wch¨_t
 *
__√edÀ
)

294 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

296 
wch¨_t
 *
	$wcswcs
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
, __c⁄° wch¨_à*
__√edÀ
)

297 
__THROW
 
__©åibuã_puª__
;

301 #ifde‡
__USE_XOPEN2K8


303 
size_t
 
	$wc¢Àn
 (
__c⁄°
 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

304 
__THROW
 
__©åibuã_puª__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

313 "C++" 
__c⁄°
 
wch¨_t
 *
	$wmemchr
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

317 
wch¨_t
 *
	$wmemchr
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

318 
__THROW
 
__©åibuã_puª__
;

322 
	$wmemcmp
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s1
,

323 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

324 
__THROW
 
__©åibuã_puª__
;

327 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

328 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

332 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
, 
size_t
 
__n
)

333 
__THROW
;

336 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

337 
__END_NAMESPACE_STD


339 #ifde‡
__USE_GNU


342 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

343 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

344 
__THROW
;

348 
__BEGIN_NAMESPACE_STD


351 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

355 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

359 
	$mbsöô
 (
__c⁄°
 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

363 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

364 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

365 
mb°©e_t
 *
__p
Ë
__THROW
;

368 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

369 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

372 
size_t
 
	$__mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

373 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

374 
size_t
 
	$mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

375 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

376 
__END_NAMESPACE_STD


378 #ifde‡
__USE_EXTERN_INLINES


384 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

385 
__exã∫_ölöe
 
wöt_t


386 
	`__NTH
 (
	$btowc
 (
__c
))

387 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

388 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

390 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

391 
__exã∫_ölöe
 

392 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

393 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

394 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

396 
__exã∫_ölöe
 
size_t


397 
__NTH
 (
	$mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

398 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

399 {  (
__ps
 !
NULL


400 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

403 
__BEGIN_NAMESPACE_STD


406 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

407 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

408 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

412 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

413 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

414 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

415 
__END_NAMESPACE_STD


418 #ifdef 
__USE_XOPEN2K8


421 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

422 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

423 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

427 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

428 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

429 
size_t
 
__nwc
, size_à
__Àn
,

430 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

435 #ifde‡
__USE_XOPEN


437 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

441 
	$wcswidth
 (
__c⁄°
 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

445 
__BEGIN_NAMESPACE_STD


448 
	$wc°od
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

449 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

450 
__END_NAMESPACE_STD


452 #ifde‡
__USE_ISOC99


453 
__BEGIN_NAMESPACE_C99


455 
	$wc°of
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

456 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

457 
	$wc°ﬁd
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

458 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

459 
__END_NAMESPACE_C99


463 
__BEGIN_NAMESPACE_STD


466 
	$wc°ﬁ
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

467 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

471 
	$wc°oul
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

472 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

473 
__THROW
;

474 
__END_NAMESPACE_STD


476 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GNUC__
 && deföed 
__USE_GNU
)

477 
__BEGIN_NAMESPACE_C99


480 
__exãnsi⁄__


481 
	$wc°ﬁl
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

482 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

483 
__THROW
;

487 
__exãnsi⁄__


488 
	$wc°ouŒ
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

489 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

490 
__ba£
Ë
__THROW
;

491 
__END_NAMESPACE_C99


494 #i‡
deföed
 
__GNUC__
 && deföed 
__USE_GNU


497 
__exãnsi⁄__


498 
	$wc°oq
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

499 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

500 
__THROW
;

504 
__exãnsi⁄__


505 
	$wc°ouq
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

506 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

507 
__ba£
Ë
__THROW
;

510 #ifde‡
__USE_GNU


524 
	~<xloˇÀ.h
>

528 
	$wc°ﬁ_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

529 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

530 
__loˇÀ_t
 
__loc
Ë
__THROW
;

532 
	$wc°oul_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

533 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

534 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

536 
__exãnsi⁄__


537 
	$wc°ﬁl_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

538 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

539 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

541 
__exãnsi⁄__


542 
	$wc°ouŒ_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

543 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

544 
__ba£
, 
__loˇÀ_t
 
__loc
)

545 
__THROW
;

547 
	$wc°od_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

548 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

549 
__THROW
;

551 
	$wc°of_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

552 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

553 
__THROW
;

555 
	$wc°ﬁd_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

556 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

557 
__loˇÀ_t
 
__loc
Ë
__THROW
;

561 #ifdef 
__USE_XOPEN2K8


564 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
Ë
__THROW
;

568 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
, 
size_t
 
__n
)

569 
__THROW
;

575 #ifdef 
__USE_XOPEN2K8


578 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

581 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


582 
__BEGIN_NAMESPACE_STD


585 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

592 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

593 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

599 
	`w¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

602 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

603 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

604 
__THROW
 ;

610 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

611 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

612 
__gnuc_va_li°
 
__¨g
)

618 
	`vw¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

619 
__gnuc_va_li°
 
__¨g
)

623 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

624 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

625 
__gnuc_va_li°
 
__¨g
)

626 
__THROW
 ;

633 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

634 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

640 
	`wsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

643 
	$swsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

644 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

645 
__THROW
 ;

647 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

648 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

649 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

650 #ifde‡
__REDIRECT


654 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

655 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

656 
__isoc99_fwsˇnf
)

658 
	`__REDIRECT
 (
wsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

659 
__isoc99_wsˇnf
)

661 
	`__REDIRECT
 (
swsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

662 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

663 
__isoc99_swsˇnf
)

664 
__THROW
 ;

666 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

667 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

668 
	`__isoc99_wsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

669 
	$__isoc99_swsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

670 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

671 
__THROW
;

672 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

673 
	#wsˇnf
 
__isoc99_wsˇnf


	)

674 
	#swsˇnf
 
__isoc99_swsˇnf


	)

678 
__END_NAMESPACE_STD


681 #ifde‡
__USE_ISOC99


682 
__BEGIN_NAMESPACE_C99


687 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

688 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

689 
__gnuc_va_li°
 
__¨g
)

695 
	`vwsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

696 
__gnuc_va_li°
 
__¨g
)

699 
	$vswsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

700 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

701 
__gnuc_va_li°
 
__¨g
)

702 
__THROW
 ;

704 #i‡!
deföed
 
__USE_GNU
 \

705 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

706 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

707 #ifde‡
__REDIRECT


708 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

709 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

710 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

712 
	`__REDIRECT
 (
vwsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

713 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

715 
	`__REDIRECT
 (
vswsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

716 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

717 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

718 
__THROW
 ;

720 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

721 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

722 
__gnuc_va_li°
 
__¨g
);

723 
	`__isoc99_vwsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

724 
__gnuc_va_li°
 
__¨g
);

725 
	$__isoc99_vswsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

726 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

727 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

728 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

729 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

730 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

734 
__END_NAMESPACE_C99


738 
__BEGIN_NAMESPACE_STD


743 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

744 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

750 
wöt_t
 
	`gëwch¨
 ();

757 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

758 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

764 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

772 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

773 
__FILE
 *
__ª°ri˘
 
__°ªam
);

779 
	`Âutws
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__ws
,

780 
__FILE
 *
__ª°ri˘
 
__°ªam
);

787 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

788 
__END_NAMESPACE_STD


791 #ifde‡
__USE_GNU


799 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

800 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

808 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

816 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

825 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

826 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

835 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

836 
__FILE
 *
__ª°ri˘
 
__°ªam
);

844 
	`Âutws_u∆ocked
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__ws
,

845 
__FILE
 *
__ª°ri˘
 
__°ªam
);

849 
__BEGIN_NAMESPACE_C99


853 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

854 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

855 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

856 
__END_NAMESPACE_C99


858 #ifde‡
__USE_GNU


859 
	~<xloˇÀ.h
>

863 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

864 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

865 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

866 
__loˇÀ_t
 
__loc
Ë
__THROW
;

875 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


876 
	#__√ed_iswxxx


	)

877 
	~<w˘y≥.h
>

881 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


882 
	~<bôs/wch¨2.h
>

885 #ifde‡
__LDBL_COMPAT


886 
	~<bôs/wch¨-ldbl.h
>

889 
__END_DECLS


897 #unde‡
__√ed_mb°©e_t


898 #unde‡
__√ed_wöt_t


	@/usr/include/asm-generic/bitsperlong.h

1 #i‚de‡
__ASM_GENERIC_BITS_PER_LONG


2 
	#__ASM_GENERIC_BITS_PER_LONG


	)

11 #i‚de‡
__BITS_PER_LONG


12 
	#__BITS_PER_LONG
 32

	)

	@/usr/include/asm-generic/errno.h

1 #i‚de‡
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-gíîic/î∫o-ba£.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

9 
	#ENOSYS
 38

	)

10 
	#ENOTEMPTY
 39

	)

11 
	#ELOOP
 40

	)

12 
	#EWOULDBLOCK
 
EAGAIN


	)

13 
	#ENOMSG
 42

	)

14 
	#EIDRM
 43

	)

15 
	#ECHRNG
 44

	)

16 
	#EL2NSYNC
 45

	)

17 
	#EL3HLT
 46

	)

18 
	#EL3RST
 47

	)

19 
	#ELNRNG
 48

	)

20 
	#EUNATCH
 49

	)

21 
	#ENOCSI
 50

	)

22 
	#EL2HLT
 51

	)

23 
	#EBADE
 52

	)

24 
	#EBADR
 53

	)

25 
	#EXFULL
 54

	)

26 
	#ENOANO
 55

	)

27 
	#EBADRQC
 56

	)

28 
	#EBADSLT
 57

	)

30 
	#EDEADLOCK
 
EDEADLK


	)

32 
	#EBFONT
 59

	)

33 
	#ENOSTR
 60

	)

34 
	#ENODATA
 61

	)

35 
	#ETIME
 62

	)

36 
	#ENOSR
 63

	)

37 
	#ENONET
 64

	)

38 
	#ENOPKG
 65

	)

39 
	#EREMOTE
 66

	)

40 
	#ENOLINK
 67

	)

41 
	#EADV
 68

	)

42 
	#ESRMNT
 69

	)

43 
	#ECOMM
 70

	)

44 
	#EPROTO
 71

	)

45 
	#EMULTIHOP
 72

	)

46 
	#EDOTDOT
 73

	)

47 
	#EBADMSG
 74

	)

48 
	#EOVERFLOW
 75

	)

49 
	#ENOTUNIQ
 76

	)

50 
	#EBADFD
 77

	)

51 
	#EREMCHG
 78

	)

52 
	#ELIBACC
 79

	)

53 
	#ELIBBAD
 80

	)

54 
	#ELIBSCN
 81

	)

55 
	#ELIBMAX
 82

	)

56 
	#ELIBEXEC
 83

	)

57 
	#EILSEQ
 84

	)

58 
	#ERESTART
 85

	)

59 
	#ESTRPIPE
 86

	)

60 
	#EUSERS
 87

	)

61 
	#ENOTSOCK
 88

	)

62 
	#EDESTADDRREQ
 89

	)

63 
	#EMSGSIZE
 90

	)

64 
	#EPROTOTYPE
 91

	)

65 
	#ENOPROTOOPT
 92

	)

66 
	#EPROTONOSUPPORT
 93

	)

67 
	#ESOCKTNOSUPPORT
 94

	)

68 
	#EOPNOTSUPP
 95

	)

69 
	#EPFNOSUPPORT
 96

	)

70 
	#EAFNOSUPPORT
 97

	)

71 
	#EADDRINUSE
 98

	)

72 
	#EADDRNOTAVAIL
 99

	)

73 
	#ENETDOWN
 100

	)

74 
	#ENETUNREACH
 101

	)

75 
	#ENETRESET
 102

	)

76 
	#ECONNABORTED
 103

	)

77 
	#ECONNRESET
 104

	)

78 
	#ENOBUFS
 105

	)

79 
	#EISCONN
 106

	)

80 
	#ENOTCONN
 107

	)

81 
	#ESHUTDOWN
 108

	)

82 
	#ETOOMANYREFS
 109

	)

83 
	#ETIMEDOUT
 110

	)

84 
	#ECONNREFUSED
 111

	)

85 
	#EHOSTDOWN
 112

	)

86 
	#EHOSTUNREACH
 113

	)

87 
	#EALREADY
 114

	)

88 
	#EINPROGRESS
 115

	)

89 
	#ESTALE
 116

	)

90 
	#EUCLEAN
 117

	)

91 
	#ENOTNAM
 118

	)

92 
	#ENAVAIL
 119

	)

93 
	#EISNAM
 120

	)

94 
	#EREMOTEIO
 121

	)

95 
	#EDQUOT
 122

	)

97 
	#ENOMEDIUM
 123

	)

98 
	#EMEDIUMTYPE
 124

	)

99 
	#ECANCELED
 125

	)

100 
	#ENOKEY
 126

	)

101 
	#EKEYEXPIRED
 127

	)

102 
	#EKEYREVOKED
 128

	)

103 
	#EKEYREJECTED
 129

	)

106 
	#EOWNERDEAD
 130

	)

107 
	#ENOTRECOVERABLE
 131

	)

109 
	#ERFKILL
 132

	)

	@/usr/include/asm/sockios.h

1 
	~<asm-gíîic/sockios.h
>

	@/usr/include/bits/wchar-ldbl.h

20 #i‚de‡
_WCHAR_H


24 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


25 
__BEGIN_NAMESPACE_C99


26 
__LDBL_REDIR_DECL
 (
fw¥ötf
);

27 
__LDBL_REDIR_DECL
 (
w¥ötf
);

28 
__LDBL_REDIR_DECL
 (
sw¥ötf
);

29 
__LDBL_REDIR_DECL
 (
vfw¥ötf
);

30 
__LDBL_REDIR_DECL
 (
vw¥ötf
);

31 
__LDBL_REDIR_DECL
 (
vsw¥ötf
);

32 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

33 && !
deföed
 
	g__REDIRECT
 \

34 && (
deföed
 
	g__STRICT_ANSI__
 || deföed 
	g__USE_XOPEN2K
)

35 
	$__LDBL_REDIR1_DECL
 (
fwsˇnf
, 
__∆dbl___isoc99_fwsˇnf
)

36 
	$__LDBL_REDIR1_DECL
 (
wsˇnf
, 
__∆dbl___isoc99_wsˇnf
)

37 
	$__LDBL_REDIR1_DECL
 (
swsˇnf
, 
__∆dbl___isoc99_swsˇnf
)

39 
	`__LDBL_REDIR_DECL
 (
fwsˇnf
);

40 
	`__LDBL_REDIR_DECL
 (
wsˇnf
);

41 
	`__LDBL_REDIR_DECL
 (
swsˇnf
);

43 
__END_NAMESPACE_C99


46 #ifde‡
__USE_ISOC99


47 
__BEGIN_NAMESPACE_C99


48 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd
, 
wc°od
);

49 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

50 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

51 
	$__LDBL_REDIR1_DECL
 (
vfwsˇnf
, 
__∆dbl___isoc99_vfwsˇnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vwsˇnf
, 
__∆dbl___isoc99_vwsˇnf
)

53 
	$__LDBL_REDIR1_DECL
 (
vswsˇnf
, 
__∆dbl___isoc99_vswsˇnf
)

55 
	`__LDBL_REDIR_DECL
 (
vfwsˇnf
);

56 
	`__LDBL_REDIR_DECL
 (
vwsˇnf
);

57 
	`__LDBL_REDIR_DECL
 (
vswsˇnf
);

59 
__END_NAMESPACE_C99


62 #ifde‡
__USE_GNU


63 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd_l
, 
wc°od_l
);

66 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


67 
	$__LDBL_REDIR_DECL
 (
__sw¥ötf_chk
)

68 
	$__LDBL_REDIR_DECL
 (
__vsw¥ötf_chk
)

69 #i‡
__USE_FORTIFY_LEVEL
 > 1

70 
	$__LDBL_REDIR_DECL
 (
__fw¥ötf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__w¥ötf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vfw¥ötf_chk
)

73 
	$__LDBL_REDIR_DECL
 (
__vw¥ötf_chk
)

	@/usr/include/bits/wchar2.h

20 #i‚de‡
_WCHAR_H


25 
wch¨_t
 *
	$__wmem˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

26 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

27 
size_t
 
__ns1
Ë
__THROW
;

28 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_Æüs
,

29 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

30 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
),

31 
wmem˝y
);

32 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_chk_w¨n
,

33 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

34 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

35 
size_t
 
__ns1
), 
__wmem˝y_chk
)

36 
	`__w¨«âr
 ("wmemcpy called withÜength biggerÅhan size of destination "

39 
__exã∫_Æways_ölöe
 
wch¨_t
 *

40 
	`__NTH
 (
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__s2
,

41 
size_t
 
__n
))

43 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

45 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

46  
	`__wmem˝y_chk
 (
__s1
, 
__s2
, 
__n
,

47 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

49 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

50  
	`__wmem˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

51 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

53  
	`__wmem˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

54 
	}
}

57 
wch¨_t
 *
	$__wmemmove_chk
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
,

58 
size_t
 
__n
, size_à
__ns1
Ë
__THROW
;

59 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_Æüs
, (wch¨_à*
__s1
,

60 
__c⁄°
 
wch¨_t
 *
__s2
,

61 
size_t
 
__n
), 
wmemmove
);

62 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¨n
,

63 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

64 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

65 
size_t
 
__ns1
), 
__wmemmove_chk
)

66 
	`__w¨«âr
 ("wmemmove called withÜength biggerÅhan size of destination "

69 
__exã∫_Æways_ölöe
 
wch¨_t
 *

70 
	`__NTH
 (
	$wmemmove
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__s2
,

71 
size_t
 
__n
))

73 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

75 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

76  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

77 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

79 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

80  
	`__wmemmove_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

81 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

83  
	`__wmemmove_Æüs
 (
__s1
, 
__s2
, 
__n
);

84 
	}
}

87 #ifde‡
__USE_GNU


88 
wch¨_t
 *
	$__wmemp˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

89 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

90 
size_t
 
__ns1
Ë
__THROW
;

91 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_Æüs
,

92 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

93 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
,

94 
size_t
 
__n
), 
wmemp˝y
);

95 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_chk_w¨n
,

96 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

97 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

98 
size_t
 
__ns1
), 
__wmemp˝y_chk
)

99 
	`__w¨«âr
 ("wmempcpy called withÜength biggerÅhan size of destination "

102 
__exã∫_Æways_ölöe
 
wch¨_t
 *

103 
	`__NTH
 (
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__s2
,

104 
size_t
 
__n
))

106 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

108 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

109  
	`__wmemp˝y_chk
 (
__s1
, 
__s2
, 
__n
,

110 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

112 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

113  
	`__wmemp˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

114 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

116  
	`__wmemp˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

117 
	}
}

121 
wch¨_t
 *
	$__wmem£t_chk
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

122 
size_t
 
__ns
Ë
__THROW
;

123 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_Æüs
, (wch¨_à*
__s
, wch¨_à
__c
,

124 
size_t
 
__n
), 
wmem£t
);

125 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¨n
,

126 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

127 
size_t
 
__ns
), 
__wmem£t_chk
)

128 
	`__w¨«âr
 ("wmemset called withÜength biggerÅhan size of destination "

131 
__exã∫_Æways_ölöe
 
wch¨_t
 *

132 
	`__NTH
 (
	$wmem£t
 (
wch¨_t
 *
__ª°ri˘
 
__s
, wch¨_à
__c
, 
size_t
 
__n
))

134 i‡(
	`__bos0
 (
__s
Ë!(
size_t
) -1)

136 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

137  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sË/  (
wch¨_t
));

139 i‡(
__n
 > 
	`__bos0
 (
__s
Ë/  (
wch¨_t
))

140  
	`__wmem£t_chk_w¨n
 (
__s
, 
__c
, 
__n
,

141 
	`__bos0
 (
__s
Ë/  (
wch¨_t
));

143  
	`__wmem£t_Æüs
 (
__s
, 
__c
, 
__n
);

144 
	}
}

147 
wch¨_t
 *
	$__wcs˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

149 
size_t
 
__n
Ë
__THROW
;

150 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcs˝y_Æüs
,

151 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

152 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcs˝y
);

154 
__exã∫_Æways_ölöe
 
wch¨_t
 *

155 
	`__NTH
 (
	$wcs˝y
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
))

157 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

158  
	`__wcs˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

159  
	`__wcs˝y_Æüs
 (
__de°
, 
__§c
);

160 
	}
}

163 
wch¨_t
 *
	$__w˝˝y_chk
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
,

164 
size_t
 
__de°Àn
Ë
__THROW
;

165 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝˝y_Æüs
, (wch¨_à*
__de°
,

166 
__c⁄°
 
wch¨_t
 *
__§c
),

167 
w˝˝y
);

169 
__exã∫_Æways_ölöe
 
wch¨_t
 *

170 
	`__NTH
 (
	$w˝˝y
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
))

172 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

173  
	`__w˝˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

174  
	`__w˝˝y_Æüs
 (
__de°
, 
__§c
);

175 
	}
}

178 
wch¨_t
 *
	$__wc¢˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

179 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

180 
size_t
 
__de°Àn
Ë
__THROW
;

181 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_Æüs
,

182 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

183 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

184 
size_t
 
__n
), 
wc¢˝y
);

185 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_chk_w¨n
,

186 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

187 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

188 
size_t
 
__n
, size_à
__de°Àn
), 
__wc¢˝y_chk
)

189 
	`__w¨«âr
 ("wcsncpy called withÜength biggerÅhan size of destination "

192 
__exã∫_Æways_ölöe
 
wch¨_t
 *

193 
	`__NTH
 (
	$wc¢˝y
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
, 
size_t
 
__n
))

195 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

197 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

198  
	`__wc¢˝y_chk
 (
__de°
, 
__§c
, 
__n
,

199 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

200 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

201  
	`__wc¢˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

202 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

204  
	`__wc¢˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

205 
	}
}

208 
wch¨_t
 *
	$__w˝n˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

209 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

210 
size_t
 
__de°Àn
Ë
__THROW
;

211 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_Æüs
,

212 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

213 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

214 
size_t
 
__n
), 
w˝n˝y
);

215 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_chk_w¨n
,

216 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

217 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

218 
size_t
 
__n
, size_à
__de°Àn
), 
__w˝n˝y_chk
)

219 
	`__w¨«âr
 ("wcpncpy called withÜength biggerÅhan size of destination "

222 
__exã∫_Æways_ölöe
 
wch¨_t
 *

223 
	`__NTH
 (
	$w˝n˝y
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
, 
size_t
 
__n
))

225 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

227 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

228  
	`__w˝n˝y_chk
 (
__de°
, 
__§c
, 
__n
,

229 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

230 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

231  
	`__w˝n˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

232 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

234  
	`__w˝n˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

235 
	}
}

238 
wch¨_t
 *
	$__wcsˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

239 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

240 
size_t
 
__de°Àn
Ë
__THROW
;

241 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcsˇt_Æüs
,

242 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

243 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcsˇt
);

245 
__exã∫_Æways_ölöe
 
wch¨_t
 *

246 
	`__NTH
 (
	$wcsˇt
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
))

248 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

249  
	`__wcsˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

250  
	`__wcsˇt_Æüs
 (
__de°
, 
__§c
);

251 
	}
}

254 
wch¨_t
 *
	$__wc¢ˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

255 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

256 
size_t
 
__n
, size_à
__de°Àn
Ë
__THROW
;

257 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢ˇt_Æüs
,

258 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

259 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

260 
size_t
 
__n
), 
wc¢ˇt
);

262 
__exã∫_Æways_ölöe
 
wch¨_t
 *

263 
	`__NTH
 (
	$wc¢ˇt
 (
wch¨_t
 *
__de°
, 
__c⁄°
 wch¨_à*
__§c
, 
size_t
 
__n
))

265 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

266  
	`__wc¢ˇt_chk
 (
__de°
, 
__§c
, 
__n
,

267 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

268  
	`__wc¢ˇt_Æüs
 (
__de°
, 
__§c
, 
__n
);

269 
	}
}

272 
	$__sw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

273 
__Êag
, 
size_t
 
__s_Àn
,

274 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

275 
__THROW
 ;

277 
	`__REDIRECT_NTH_LDBL
 (
__sw¥ötf_Æüs
,

278 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

279 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...),

280 
sw¥ötf
);

282 #ifde‡
__va_¨g_∑ck


283 
__exã∫_Æways_ölöe
 

284 
	`__NTH
 (
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

285 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...))

287 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

288  
	`__sw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

289 
	`__bos
 (
__s
Ë/  (
wch¨_t
),

290 
__fmt
, 
	`__va_¨g_∑ck
 ());

291  
	`__sw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¨g_∑ck
 ());

292 
	}
}

293 #ñi‡!
deföed
 
__˝lu•lus


295 
	#sw¥ötf
(
s
, 
n
, ...) \

296 (
	`__bos
 (
s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

297 ? 
	`__sw¥ötf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

298 
	`__bos
 (
s
Ë/  (
wch¨_t
), 
__VA_ARGS__
) \

299 : 
	`sw¥ötf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

302 
	$__vsw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

303 
__Êag
, 
size_t
 
__s_Àn
,

304 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

305 
__gnuc_va_li°
 
__¨g
)

306 
__THROW
 ;

308 
	`__REDIRECT_NTH_LDBL
 (
__vsw¥ötf_Æüs
,

309 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

310 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
,

311 
__gnuc_va_li°
 
__≠
), 
vsw¥ötf
);

313 
__exã∫_Æways_ölöe
 

314 
	`__NTH
 (
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

315 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
))

317 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

318  
	`__vsw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

319 
	`__bos
 (
__s
Ë/  (
wch¨_t
), 
__fmt
, 
__≠
);

320  
	`__vsw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
__≠
);

321 
	}
}

324 #i‡
__USE_FORTIFY_LEVEL
 > 1

326 
__fw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

327 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

328 
__w¥ötf_chk
 (
__Êag
, 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

330 
__vfw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

331 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

332 
__gnuc_va_li°
 
__≠
);

333 
__vw¥ötf_chk
 (
__Êag
, 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

334 
__gnuc_va_li°
 
__≠
);

336 #ifde‡
__va_¨g_∑ck


337 
__exã∫_Æways_ölöe
 

338 
	$w¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...)

340  
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

341 
	}
}

343 
__exã∫_Æways_ölöe
 

344 
	$fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__c⁄°
 
wch¨_t
 *__ª°ri˘ 
__fmt
, ...)

346  
	`__fw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

347 
	`__va_¨g_∑ck
 ());

348 
	}
}

349 #ñi‡!
deföed
 
__˝lu•lus


350 
	#w¥ötf
(...) \

351 
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

352 
	#fw¥ötf
(
°ªam
, ...) \

353 
	`__fw¥ötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

356 
__exã∫_Æways_ölöe
 

357 
	$vw¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

359  
	`__vw¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

360 
	}
}

362 
__exã∫_Æways_ölöe
 

363 
	$vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

364 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

366  
	`__vfw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

367 
	}
}

371 
wch¨_t
 *
	$__fgëws_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

372 
__FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

373 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_Æüs
,

374 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

375 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws
Ë
__wur
;

376 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_chk_w¨n
,

377 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

378 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgëws_chk
)

379 
__wur
 
	`__w¨«âr
 ("fgetws called with bigger sizeÅhanÜength "

382 
__exã∫_Æways_ölöe
 
__wur
 
wch¨_t
 *

383 
	$fgëws
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

385 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

387 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

388  
	`__fgëws_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

389 
__n
, 
__°ªam
);

391 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

392  
	`__fgëws_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

393 
__n
, 
__°ªam
);

395  
	`__fgëws_Æüs
 (
__s
, 
__n
, 
__°ªam
);

396 
	}
}

398 #ifde‡
__USE_GNU


399 
wch¨_t
 *
	$__fgëws_u∆ocked_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
,

400 
__n
, 
__FILE
 *
__ª°ri˘
 
__°ªam
)

401 
__wur
;

402 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_Æüs
,

403 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

404 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws_u∆ocked
)

405 
__wur
;

406 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_chk_w¨n
,

407 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

408 
__FILE
 *
__ª°ri˘
 
__°ªam
),

409 
__fgëws_u∆ocked_chk
)

410 
__wur
 
	`__w¨«âr
 ("fgetws_unlocked called with bigger sizeÅhanÜength "

413 
__exã∫_Æways_ölöe
 
__wur
 
wch¨_t
 *

414 
	$fgëws_u∆ocked
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

416 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

418 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

419  
	`__fgëws_u∆ocked_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

420 
__n
, 
__°ªam
);

422 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

423  
	`__fgëws_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

424 
__n
, 
__°ªam
);

426  
	`__fgëws_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

427 
	}
}

431 
size_t
 
	$__w¸tomb_chk
 (*
__s
, 
wch¨_t
 
__wch¨
, 
mb°©e_t
 *
__p
,

432 
size_t
 
__buÊí
Ë
__THROW
 
__wur
;

433 
size_t
 
	`__REDIRECT_NTH
 (
__w¸tomb_Æüs
,

434 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

435 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
w¸tomb
Ë
__wur
;

437 
__exã∫_Æways_ölöe
 
__wur
 
size_t


438 
	`__NTH
 (
	$w¸tomb
 (*
__s
, 
wch¨_t
 
__wch¨
, 
mb°©e_t
 *
__ps
))

443 
	#__WCHAR_MB_LEN_MAX
 16

	)

444 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__WCHAR_MB_LEN_MAX


447 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

448  
	`__w¸tomb_chk
 (
__s
, 
__wch¨
, 
__ps
, 
	`__bos
 (__s));

449  
	`__w¸tomb_Æüs
 (
__s
, 
__wch¨
, 
__ps
);

450 
	}
}

453 
size_t
 
	$__mb§towcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

454 
__c⁄°
 **
__ª°ri˘
 
__§c
,

455 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

456 
size_t
 
__d°Àn
Ë
__THROW
;

457 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_Æüs
,

458 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

459 
__c⁄°
 **
__ª°ri˘
 
__§c
,

460 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

461 
mb§towcs
);

462 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_chk_w¨n
,

463 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

464 
__c⁄°
 **
__ª°ri˘
 
__§c
,

465 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

466 
size_t
 
__d°Àn
), 
__mb§towcs_chk
)

467 
	`__w¨«âr
 ("mbsrtowcs called with dst buffer smallerÅhanÜen "

470 
__exã∫_Æways_ölöe
 
size_t


471 
	`__NTH
 (
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, 
__c⁄°
 **__ª°ri˘ 
__§c
,

472 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

474 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

476 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

477  
	`__mb§towcs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

478 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

480 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

481  
	`__mb§towcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

482 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

484  
	`__mb§towcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

485 
	}
}

488 
size_t
 
	$__wc§tombs_chk
 (*
__ª°ri˘
 
__d°
,

489 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

490 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

491 
size_t
 
__d°Àn
Ë
__THROW
;

492 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_Æüs
,

493 (*
__ª°ri˘
 
__d°
,

494 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

495 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

496 
wc§tombs
);

497 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_chk_w¨n
,

498 (*
__ª°ri˘
 
__d°
,

499 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

500 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

501 
size_t
 
__d°Àn
), 
__wc§tombs_chk
)

502 
	`__w¨«âr
 ("wcsrtombs called with dst buffer smallerÅhanÜen");

504 
__exã∫_Æways_ölöe
 
size_t


505 
	`__NTH
 (
	$wc§tombs
 (*
__ª°ri˘
 
__d°
, 
__c⁄°
 
wch¨_t
 **__ª°ri˘ 
__§c
,

506 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

508 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

510 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

511  
	`__wc§tombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

513 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

514  
	`__wc§tombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

516  
	`__wc§tombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

517 
	}
}

520 #ifde‡
__USE_GNU


521 
size_t
 
	$__mb¢πowcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

522 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

523 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

524 
size_t
 
__d°Àn
Ë
__THROW
;

525 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_Æüs
,

526 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

527 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

528 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

529 
mb¢πowcs
);

530 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_chk_w¨n
,

531 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

532 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

533 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

534 
size_t
 
__d°Àn
), 
__mb¢πowcs_chk
)

535 
	`__w¨«âr
 ("mbsnrtowcs called with dst buffer smallerÅhanÜen "

538 
__exã∫_Æways_ölöe
 
size_t


539 
	`__NTH
 (
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, 
__c⁄°
 **__ª°ri˘ 
__§c
,

540 
size_t
 
__nmc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

542 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

544 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

545  
	`__mb¢πowcs_chk
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

546 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

548 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

549  
	`__mb¢πowcs_chk_w¨n
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

550 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

552  
	`__mb¢πowcs_Æüs
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
);

553 
	}
}

556 
size_t
 
	$__wc¢πombs_chk
 (*
__ª°ri˘
 
__d°
,

557 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

558 
size_t
 
__nwc
, size_à
__Àn
,

559 
mb°©e_t
 *
__ª°ri˘
 
__ps
, 
size_t
 
__d°Àn
)

560 
__THROW
;

561 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_Æüs
,

562 (*
__ª°ri˘
 
__d°
,

563 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

564 
size_t
 
__nwc
, size_à
__Àn
,

565 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
wc¢πombs
);

566 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_chk_w¨n
,

567 (*
__ª°ri˘
 
__d°
,

568 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

569 
size_t
 
__nwc
, size_à
__Àn
,

570 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

571 
size_t
 
__d°Àn
), 
__wc¢πombs_chk
)

572 
	`__w¨«âr
 ("wcsnrtombs called with dst buffer smallerÅhanÜen");

574 
__exã∫_Æways_ölöe
 
size_t


575 
	`__NTH
 (
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
, 
__c⁄°
 
wch¨_t
 **__ª°ri˘ 
__§c
,

576 
size_t
 
__nwc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

578 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

580 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

581  
	`__wc¢πombs_chk
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

582 
	`__bos
 (
__d°
));

584 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

585  
	`__wc¢πombs_chk_w¨n
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

586 
	`__bos
 (
__d°
));

588  
	`__wc¢πombs_Æüs
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
);

589 
	}
}

	@/usr/include/gnu/option-groups.h

10 #i‚de‡
__GNU_OPTION_GROUPS_H


11 
	#__GNU_OPTION_GROUPS_H


	)

13 
	#__OPTION_EGLIBC_ADVANCED_INET6
 1

	)

14 
	#__OPTION_EGLIBC_BACKTRACE
 1

	)

15 
	#__OPTION_EGLIBC_BIG_MACROS
 1

	)

16 
	#__OPTION_EGLIBC_BSD
 1

	)

17 
	#__OPTION_EGLIBC_CATGETS
 1

	)

18 
	#__OPTION_EGLIBC_CHARSETS
 1

	)

19 
	#__OPTION_EGLIBC_CXX_TESTS
 1

	)

20 
	#__OPTION_EGLIBC_DB_ALIASES
 1

	)

21 
	#__OPTION_EGLIBC_ENVZ
 1

	)

22 
	#__OPTION_EGLIBC_FCVT
 1

	)

23 
	#__OPTION_EGLIBC_FMTMSG
 1

	)

24 
	#__OPTION_EGLIBC_FSTAB
 1

	)

25 
	#__OPTION_EGLIBC_FTRAVERSE
 1

	)

26 
	#__OPTION_EGLIBC_GETLOGIN
 1

	)

27 
	#__OPTION_EGLIBC_INET
 1

	)

28 
	#__OPTION_EGLIBC_LIBM
 1

	)

29 
	#__OPTION_EGLIBC_LOCALES
 1

	)

30 
	#__OPTION_EGLIBC_LOCALE_CODE
 1

	)

31 
	#__OPTION_EGLIBC_MEMUSAGE
 1

	)

32 
	#__OPTION_EGLIBC_NIS
 1

	)

33 
	#__OPTION_EGLIBC_NSSWITCH
 1

	)

34 
	#__OPTION_EGLIBC_RCMD
 1

	)

35 
	#__OPTION_EGLIBC_SPAWN
 1

	)

36 
	#__OPTION_EGLIBC_STREAMS
 1

	)

37 
	#__OPTION_EGLIBC_SUNRPC
 1

	)

38 
	#__OPTION_EGLIBC_UTMP
 1

	)

39 
	#__OPTION_EGLIBC_UTMPX
 1

	)

40 
	#__OPTION_EGLIBC_WORDEXP
 1

	)

41 
	#__OPTION_POSIX_C_LANG_WIDE_CHAR
 1

	)

42 
	#__OPTION_POSIX_REGEXP
 1

	)

43 
	#__OPTION_POSIX_REGEXP_GLIBC
 1

	)

44 
	#__OPTION_POSIX_WIDE_CHAR_DEVICE_IO
 1

	)

	@/usr/include/linux/ioctl.h

1 #i‚de‡
_LINUX_IOCTL_H


2 
	#_LINUX_IOCTL_H


	)

4 
	~<asm/io˘l.h
>

	@/usr/include/wctype.h

24 #i‚de‡
_WCTYPE_H


26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 #i‚de‡
__√ed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__√ed_wöt_t


	)

34 
	~<°ddef.h
>

38 #i‚de‡
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #unde‡
__√ed_iswxxx


47 #i‚de‡
__iswxxx_deföed


48 
	#__iswxxx_deföed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	tw˘y≥_t
;

54 
	g__END_NAMESPACE_C99


56 #i‚de‡
_ISwbô


61 
	~<ídün.h
>

62 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


63 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

65 
	#_ISwbô
(
bô
) \

66 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

74 
	m__ISwuµî
 = 0,

75 
	m__ISwlowî
 = 1,

76 
	m__ISwÆpha
 = 2,

77 
	m__ISwdigô
 = 3,

78 
	m__ISwxdigô
 = 4,

79 
	m__ISw•a˚
 = 5,

80 
	m__ISw¥öt
 = 6,

81 
	m__ISwgøph
 = 7,

82 
	m__ISwbœnk
 = 8,

83 
	m__ISw˙ål
 = 9,

84 
	m__ISwpun˘
 = 10,

85 
	m__ISwÆnum
 = 11,

87 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

88 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

89 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

90 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

91 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

92 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

93 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

94 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

95 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

96 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

97 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

98 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

118 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

121 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

125 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

129 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

134 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

137 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

142 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

147 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

152 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

157 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

162 #ifde‡
__USE_ISOC99


163 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

172 
w˘y≥_t
 
	$w˘y≥
 (
__c⁄°
 *
__¥›îty
Ë
__THROW
;

176 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__c⁄°
 
	t__öt32_t
 *
	tw˘øns_t
;

188 
__END_NAMESPACE_C99


189 #ifde‡
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifde‡
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
w˘øns_t
 
	$w˘øns
 (
__c⁄°
 *
__¥›îty
Ë
__THROW
;

222 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

223 
__END_NAMESPACE_C99


225 #ifde‡
__USE_XOPEN2K8


227 
	~<xloˇÀ.h
>

231 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

237 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

240 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

244 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

248 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

253 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

256 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

261 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

266 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

271 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

276 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

281 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

285 
w˘y≥_t
 
	$w˘y≥_l
 (
__c⁄°
 *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

286 
__THROW
;

290 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

291 
__THROW
;

299 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

302 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

306 
w˘øns_t
 
	$w˘øns_l
 (
__c⁄°
 *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

307 
__THROW
;

310 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

311 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

315 
__END_DECLS


	@/usr/include/asm-generic/errno-base.h

1 #i‚de‡
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@/usr/include/asm-generic/sockios.h

1 #i‚de‡
__ASM_GENERIC_SOCKIOS_H


2 
	#__ASM_GENERIC_SOCKIOS_H


	)

5 
	#FIOSETOWN
 0x8901

	)

6 
	#SIOCSPGRP
 0x8902

	)

7 
	#FIOGETOWN
 0x8903

	)

8 
	#SIOCGPGRP
 0x8904

	)

9 
	#SIOCATMARK
 0x8905

	)

10 
	#SIOCGSTAMP
 0x8906

	)

11 
	#SIOCGSTAMPNS
 0x8907

	)

	@/usr/include/asm/ioctl.h

1 
	~<asm-gíîic/io˘l.h
>

	@/usr/include/asm-generic/ioctl.h

1 #i‚de‡
_ASM_GENERIC_IOCTL_H


2 
	#_ASM_GENERIC_IOCTL_H


	)

22 
	#_IOC_NRBITS
 8

	)

23 
	#_IOC_TYPEBITS
 8

	)

30 #i‚de‡
_IOC_SIZEBITS


31 
	#_IOC_SIZEBITS
 14

	)

34 #i‚de‡
_IOC_DIRBITS


35 
	#_IOC_DIRBITS
 2

	)

38 
	#_IOC_NRMASK
 ((1 << 
_IOC_NRBITS
)-1)

	)

39 
	#_IOC_TYPEMASK
 ((1 << 
_IOC_TYPEBITS
)-1)

	)

40 
	#_IOC_SIZEMASK
 ((1 << 
_IOC_SIZEBITS
)-1)

	)

41 
	#_IOC_DIRMASK
 ((1 << 
_IOC_DIRBITS
)-1)

	)

43 
	#_IOC_NRSHIFT
 0

	)

44 
	#_IOC_TYPESHIFT
 (
_IOC_NRSHIFT
+
_IOC_NRBITS
)

	)

45 
	#_IOC_SIZESHIFT
 (
_IOC_TYPESHIFT
+
_IOC_TYPEBITS
)

	)

46 
	#_IOC_DIRSHIFT
 (
_IOC_SIZESHIFT
+
_IOC_SIZEBITS
)

	)

53 #i‚de‡
_IOC_NONE


54 
	#_IOC_NONE
 0U

	)

57 #i‚de‡
_IOC_WRITE


58 
	#_IOC_WRITE
 1U

	)

61 #i‚de‡
_IOC_READ


62 
	#_IOC_READ
 2U

	)

65 
	#_IOC
(
dú
,
ty≥
,
ƒ
,
size
) \

66 (((
dú
Ë<< 
_IOC_DIRSHIFT
) | \

67 ((
ty≥
Ë<< 
_IOC_TYPESHIFT
) | \

68 ((
ƒ
Ë<< 
_IOC_NRSHIFT
) | \

69 ((
size
Ë<< 
_IOC_SIZESHIFT
))

	)

71 
	#_IOC_TYPECHECK
(
t
Ë(—))

	)

74 
	#_IO
(
ty≥
,
ƒ
Ë
	`_IOC
(
_IOC_NONE
,—y≥),“r),0)

	)

75 
	#_IOR
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

76 
	#_IOW
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_WRITE
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

77 
	#_IOWR
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

78 
	#_IOR_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
,—y≥),“r),(size))

	)

79 
	#_IOW_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_WRITE
,—y≥),“r),(size))

	)

80 
	#_IOWR_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,—y≥),“r),(size))

	)

83 
	#_IOC_DIR
(
ƒ
Ë((“rË>> 
_IOC_DIRSHIFT
Ë& 
_IOC_DIRMASK
)

	)

84 
	#_IOC_TYPE
(
ƒ
Ë((“rË>> 
_IOC_TYPESHIFT
Ë& 
_IOC_TYPEMASK
)

	)

85 
	#_IOC_NR
(
ƒ
Ë((“rË>> 
_IOC_NRSHIFT
Ë& 
_IOC_NRMASK
)

	)

86 
	#_IOC_SIZE
(
ƒ
Ë((“rË>> 
_IOC_SIZESHIFT
Ë& 
_IOC_SIZEMASK
)

	)

90 
	#IOC_IN
 (
_IOC_WRITE
 << 
_IOC_DIRSHIFT
)

	)

91 
	#IOC_OUT
 (
_IOC_READ
 << 
_IOC_DIRSHIFT
)

	)

92 
	#IOC_INOUT
 ((
_IOC_WRITE
|
_IOC_READ
Ë<< 
_IOC_DIRSHIFT
)

	)

93 
	#IOCSIZE_MASK
 (
_IOC_SIZEMASK
 << 
_IOC_SIZESHIFT
)

	)

94 
	#IOCSIZE_SHIFT
 (
_IOC_SIZESHIFT
)

	)

	@
1
.
1
/usr/include
201
5049
Xcode/config.h
android/config.h
config.h
examples/dpfp.c
examples/dpfp_threaded.c
examples/ezusb.c
examples/ezusb.h
examples/fxload.c
examples/getopt/getopt.c
examples/getopt/getopt.h
examples/getopt/getopt1.c
examples/hotplugtest.c
examples/listdevs.c
examples/sam3u_benchmark.c
examples/xusb.c
libusb/core.c
libusb/descriptor.c
libusb/hotplug.c
libusb/hotplug.h
libusb/io.c
libusb/libusb.h
libusb/libusbi.h
libusb/os/darwin_usb.c
libusb/os/darwin_usb.h
libusb/os/linux_netlink.c
libusb/os/linux_udev.c
libusb/os/linux_usbfs.c
libusb/os/linux_usbfs.h
libusb/os/netbsd_usb.c
libusb/os/openbsd_usb.c
libusb/os/poll_posix.c
libusb/os/poll_posix.h
libusb/os/poll_windows.c
libusb/os/poll_windows.h
libusb/os/threads_posix.c
libusb/os/threads_posix.h
libusb/os/threads_windows.c
libusb/os/threads_windows.h
libusb/os/wince_usb.c
libusb/os/wince_usb.h
libusb/os/windows_common.h
libusb/os/windows_usb.c
libusb/os/windows_usb.h
libusb/strerror.c
libusb/sync.c
libusb/version.h
libusb/version_nano.h
msvc/config.h
msvc/errno.h
msvc/inttypes.h
msvc/missing.c
msvc/missing.h
msvc/stdint.h
tests/libusb_testlib.h
tests/stress.c
tests/testlib.c
/usr/include/arpa/inet.h
/usr/include/asm/types.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/getopt.h
/usr/include/gnu-versions.h
/usr/include/inttypes.h
/usr/include/libintl.h
/usr/include/libudev.h
/usr/include/limits.h
/usr/include/linux/filter.h
/usr/include/linux/netlink.h
/usr/include/linux/types.h
/usr/include/locale.h
/usr/include/memory.h
/usr/include/poll.h
/usr/include/pthread.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/strings.h
/usr/include/sys/ioctl.h
/usr/include/sys/socket.h
/usr/include/sys/stat.h
/usr/include/sys/syscall.h
/usr/include/sys/time.h
/usr/include/sys/timerfd.h
/usr/include/sys/types.h
/usr/include/sys/utsname.h
/usr/include/syslog.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/asm-generic/types.h
/usr/include/asm/unistd.h
/usr/include/bits/confname.h
/usr/include/bits/dirent.h
/usr/include/bits/environments.h
/usr/include/bits/errno.h
/usr/include/bits/fcntl.h
/usr/include/bits/fcntl2.h
/usr/include/bits/ioctl-types.h
/usr/include/bits/ioctls.h
/usr/include/bits/locale.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/posix_opt.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/setjmp.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/socket.h
/usr/include/bits/socket2.h
/usr/include/bits/stat.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/syscall.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/unistd.h
/usr/include/bits/utsname.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wchar.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/libio.h
/usr/include/linux/posix_types.h
/usr/include/linux/socket.h
/usr/include/netinet/in.h
/usr/include/sched.h
/usr/include/sys/poll.h
/usr/include/sys/select.h
/usr/include/sys/syslog.h
/usr/include/sys/sysmacros.h
/usr/include/sys/ttydefaults.h
/usr/include/sys/ucontext.h
/usr/include/sys/uio.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/asm-generic/int-ll64.h
/usr/include/asm/ioctls.h
/usr/include/asm/posix_types.h
/usr/include/asm/socket.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/in.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/local_lim.h
/usr/include/bits/poll.h
/usr/include/bits/predefs.h
/usr/include/bits/sched.h
/usr/include/bits/select.h
/usr/include/bits/sockaddr.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/syslog-ldbl.h
/usr/include/bits/syslog-path.h
/usr/include/bits/syslog.h
/usr/include/bits/typesizes.h
/usr/include/bits/uio.h
/usr/include/gnu/stubs.h
/usr/include/linux/errno.h
/usr/include/linux/stddef.h
/usr/include/sys/cdefs.h
/usr/include/asm-generic/ioctls.h
/usr/include/asm-generic/socket.h
/usr/include/asm/bitsperlong.h
/usr/include/asm/errno.h
/usr/include/bits/libc-lock.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/linux/limits.h
/usr/include/wchar.h
/usr/include/asm-generic/bitsperlong.h
/usr/include/asm-generic/errno.h
/usr/include/asm/sockios.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/gnu/option-groups.h
/usr/include/linux/ioctl.h
/usr/include/wctype.h
/usr/include/asm-generic/errno-base.h
/usr/include/asm-generic/sockios.h
/usr/include/asm/ioctl.h
/usr/include/asm-generic/ioctl.h
